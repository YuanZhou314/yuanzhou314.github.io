<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>深圳的秋天</title>
    <link href="/post/d9ff6a1.html"/>
    <url>/post/d9ff6a1.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>12月一个普通的周末，跟对象前往头陂公园游玩。带上了许久没有开机的徕卡，很久没用竟有点手生，还是应该多用多拍。可惜没有带胶片出来，效果应该也蛮不错。</p><p>头陂公园在深圳市坪山区，从家开车前往需要20分钟，这里位于深圳市边界区域，这里开车前往惠州只需要5分钟不到。我们把车停在马路对面一个免费露天停车场，走路到公园门口也要10分钟左右。这不是公园的主入口，而是一个城中村大门，村口也有正在装修的门店，也许是公园人流量逐渐增大，老板嗅到了一丝商机。</p><p>再往里走，路两边都是小摊小贩，当然，烤红薯的香味是最浓的，令人怀疑是不是放了一些化学材料来增加香味。公园最近在翻修，河道附近有很多挖机在工作。外围区域的草坪比较稀疏，植被较少，加上河道翻修，没有什么好看的。经过卫生间再往后走视野逐渐宽阔了起来，沿河道附近种了一些落羽杉，这才是公园吸引大批量游客的原因，大部分人流都在这里拍照打卡。还有专门带着全套设备和道具的摄影师，一张照片15块钱（一张还是一套就不太清楚了）。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/RICH0966.JPG" alt="RICH0966"></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/RICH0967.JPG" alt="RICH0967"></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/RICH0969.JPG" alt="RICH0969"></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/RICH0971.JPG" alt="RICH0971"></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/RICH0972.JPG" alt="RICH0972"></p>]]></content>
    
    
    
    <tags>
      
      <tag>生活</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PostgreSQL笔记</title>
    <link href="/post/92053909.html"/>
    <url>/post/92053909.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><h2 id="数据库的三种连接算法"><a class="markdownIt-Anchor" href="#数据库的三种连接算法"></a> 数据库的三种连接算法</h2><p>1、Nested Loop Join</p><p>2层循环连接，外层循环逐行检索内层循环的每一行。最基础的连接方式，表比较小且被驱动表有索引的情况下，效率很高。无索引or表较大时性能急剧下降。</p><p>2、Hash Join</p><p>分2个阶段：</p><ul><li>构建：选取表较小者基于连接字段在内存中构建一个哈希表</li><li>探测：遍历较大表(探测表)，对其每行的连接字段应用同样的哈希函数，快速定位到哈希表中对应位置，找到匹配的行。</li></ul><p>特征：适合大表等值连接、无需索引，但需要额外内存来建构哈希表</p><p>3、Sort Megre Join</p><p>分2个阶段：</p><ul><li>排序：将2个表各自按照连接字段进行排序</li><li>合并：像合并2个有序链表一样，同时遍历2个已排序的结果集，一次性找到所有匹配行</li></ul><p>特点：当连接条件是非等值连接时，或已预先排序，可能比Hash Join更有效。排序本身可能需要消耗大量资源。</p><h2 id="数据类型"><a class="markdownIt-Anchor" href="#数据类型"></a> 数据类型</h2><ul><li><p>布尔类型：支持标准boolean类型.</p></li><li><ul><li>值可以是true/false、true/false、yes/no、t/f、0/1。</li><li>逻辑操作符：AND、OR、NOT</li></ul></li><li><p>数值类型</p></li><li><ul><li>smallint 2字节</li><li>int 4字节</li><li>bigint 8字节</li><li>real 4字节浮点，不精确、变精度</li><li>doulbe precision 8字节浮点数，不精确、变精度</li><li>money 8字节，货币类型，保证精度，不通国家精度不一致</li></ul></li><li><p>字符类型</p></li><li><ul><li>varchar （character varying）变长，最大1G，存储空间：4 + 实际字符串长度</li><li>char (character) 定长，不足则补空白，最大1G，存储空间也是4 + n</li><li>text 变长，无限制长度。</li></ul></li><li><p>二进制类型：bytea类型，适合存储原始字节数据，例如图片</p></li><li><p>日期与时间类型</p></li><li><ul><li>date：日期，4字节</li><li>time：时间，8字节，带时区12字节</li><li>timestamp：带不带时区都8字节。以2000年1月1日0点之前或之后的秒数存储。</li><li>interval ：12字节，时间间隔，用于日期时间加减计算等。</li><li>时区设置：select timestamp with time zone ‘2025-11-20 06:30:45 PST’</li></ul></li><li><p>其他类型：枚举、几何、网络地址、数组、符合类型、xml、range、伪类等</p></li></ul><p>(补充)JSON类型</p><ul><li>json：数据原封不动存放至数据库、使用时再解析。保留json串中key的顺序，重复key仅保留最后一个。</li><li>jsonb：存储时将json转换为二进制格式，使用时无需解析，且支持建索引，使用性能更高。不保留多余空格、不保留key顺序和重复key</li></ul><p>json类型操作</p><p>select ‘[1,2,3]’::json-&gt;2 out:3</p><p>select ‘{“a”:1,“b”:2}’::json -&gt;&gt;‘a’ out：1</p><p>select ‘{“a”:{“b”:{“c”:1}}}’::json #&gt;‘{a,b}’ out：{“c”:1}</p><p>-&gt;和-&gt;&gt;的区别：-&gt;返回原类型，-&gt;&gt;返回转换后的text类型</p><p>jsonb ‘[1,2]’ = jsonb ‘[1,2]’ 检测json对象内容一致性</p><p>@&gt; 左包含</p><p>@&lt; 右包含</p><p>? 检测key是否存在</p><p>?| 检测数组中是否有任意字符串存在于json的key中</p><p>?&amp; 检测数组中是否所有字符串存在于json的key中</p><p>jsonb索引</p><p>jsonb支持BTree和GIN索引，默认是GIN索引，因为BTree效率相对较低，不关心jsonb内部数据类型，仅简单按整个jsonb大小方式进行排序。</p><h2 id="数据类型转换"><a class="markdownIt-Anchor" href="#数据类型转换"></a> 数据类型转换</h2><figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-number">1</span>、CAST()函数<br><span class="hljs-keyword">select</span> cast(<span class="hljs-string">&#x27;5&#x27;</span> <span class="hljs-keyword">as</span> <span class="hljs-type">int</span>)<br><br><span class="hljs-number">2</span>、::双冒号转换<br><span class="hljs-keyword">select</span> <span class="hljs-string">&#x27;10&#x27;</span>::<span class="hljs-type">int</span><br></code></pre></td></tr></table></figure><h2 id="常用函数"><a class="markdownIt-Anchor" href="#常用函数"></a> 常用函数</h2><figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-built_in">current_date</span>、<span class="hljs-built_in">current_timestamp</span><br>当前日期、时间戳<br><br><br><br>now()<br>返回当前时间戳（带时区）<br><br><br>extract()、date_part() //二者等效<br>从日期/时间中抽取子域，返回double precision类型数据。可返回年份/季度/月份/第几个星期/第几天/时/分/秒等。<br>select extract(dom <span class="hljs-keyword">from</span> now()) //获取当前时间是星期几<br><br><br><br>复合类型添加、新增用法<br><span class="hljs-keyword">create</span> <span class="hljs-keyword">type</span> zyl <span class="hljs-keyword">as</span> ( // 创建复合类型<br>z <span class="hljs-type">int</span>,<br>y <span class="hljs-type">double</span> <span class="hljs-type">precision</span>,<br>l <span class="hljs-type">timestamp</span><br>)<br><br><br>//新增复合类型新增数据，可单独为某个字段赋值，未标注的默认为<span class="hljs-keyword">NULL</span><br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> zhouyinglin <span class="hljs-keyword">values</span>(<span class="hljs-keyword">row</span>(<span class="hljs-number">10</span>,<span class="hljs-number">10.00</span>,now()),<span class="hljs-string">&#x27;zyl&#x27;</span>,now())<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> zhouyinglin (zhou.z,ying,lin) <span class="hljs-keyword">values</span>(<span class="hljs-number">100</span>,<span class="hljs-string">&#x27;zyl3&#x27;</span>,now())<br><br><br>//查询复合类型，使用括号隔开列名<br><span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> zhouyinglin <span class="hljs-keyword">where</span> (zhou).z=<span class="hljs-number">10</span><br><span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> zhouyinglin <span class="hljs-keyword">where</span> (zhouyinglin.zhou).z=<span class="hljs-number">10</span><br><br><br>//修改复合类型<br><span class="hljs-keyword">update</span> zhouyinglin <span class="hljs-keyword">set</span> zhou=<span class="hljs-keyword">row</span>(<span class="hljs-number">10</span>,<span class="hljs-number">10.00</span>,now()) <span class="hljs-keyword">where</span> (zhou).z=<span class="hljs-number">10</span><br><span class="hljs-keyword">update</span> zhouyinglin <span class="hljs-keyword">set</span> zhou.z=<span class="hljs-number">50.00</span> <span class="hljs-keyword">where</span> (zhou).z=<span class="hljs-number">10</span><br></code></pre></td></tr></table></figure><h2 id="执行计划"><a class="markdownIt-Anchor" href="#执行计划"></a> 执行计划</h2><p>查看执行计划：explain analyze verbose select …</p><ul><li><p>explain：显示查询计划</p></li><li><ul><li>执行计划节点：计划由多个操作节点组成，例如Seq Scan、Index Scan、Hash Scan、Sort等。</li><li>树形结构：节点以树的形式组织，数据从叶子结点流向根节点。</li></ul></li><li><p>analyze：实际执行该查询，收集每个步骤详细的运行时间、返回的行数等</p></li><li><ul><li>Actual Time：该节点实际执行时间（毫秒）</li><li>Rows：该节点实际返回的行数</li><li>Loops：该节点被执行的次数（嵌套循环中可能会执行多次）</li></ul></li><li><p>verbose：输出修饰符，展示比explain、analyze更详细的信息</p></li><li><ul><li>输出列表：显示每个节点输出的列名</li><li>模式限定：表名以schema.table的形式显示</li><li>表达式计算：如果查询中有表达式，会显示详细求值信息</li></ul></li></ul><p>举例：</p><p>cost 后面包含2个数字，用…分开，309.00表示启动成本，即返回第一行需要的cost值，第二个数字表示返回所有数据的成本</p><p>rows=9102表示一共返回9120行数据</p><p>width=36表示每行平均宽度约36字节。这个数字乘以行数可以估算出总查询量的大小，即36x9102=327672字节≈327KB。</p><p>Seq Scan：全表扫描，将表中所有数据块从头到尾读一遍，再从其中找到符合条件的数据块</p><p>NestLoop Join：嵌套循环连接，最普通的连接方式。执行过程：确定一个驱动表和一个Inner Table，驱动表每行与Inner Table记录Join一个嵌套循环。注意，join顺序很重要，因此驱动表最好要比较小。（INNER JOIN下，驱动表由优化器判断谁是小表，LEFT JOIN时强制join左边的表为驱动表）</p><p>Bitmap Index Scan：扫描索引，将满足条件的行或块在内存中建一个位图，扫描完后根据位图的数据文件把相应的数据读出来，若走多个索引，则将多个位图做 AND或OR计算合并成一个，再找出数据。当执行计划的结果行数很多时可能会走这种扫描，例如in 、非等值查询等。</p><p>Hash Join：散列连接，在2表中较小表上建立散列表（前提是小表够放在内存中），然后扫描较大表并探测散列表，找出散列匹配的行。通过pg_relation_size()函数查看表大小</p><p>Filter：条件过滤，即where子句上加过滤条件，如果条件列有索引，可能会走索引而不走条件过滤。</p><p>Merge Join：合并连接，两表均有索引时(已排序)，合并连接效果可能优于散列连接。</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs routeros">explain select a.id,b.note <span class="hljs-keyword">from</span> testtab01 a,testtab02 b where a.<span class="hljs-attribute">id</span>=b.id;<br>                                 QUERY PLAN                                  <br>-----------------------------------------------------------------------------<br>  Hash Join  (<span class="hljs-attribute">cost</span>=309.00..701.57 <span class="hljs-attribute">rows</span>=9102 <span class="hljs-attribute">width</span>=36)<br>    Hash Cond: (b.id = a.id)<br>    -&gt;  Seq Scan on testtab02 b  (<span class="hljs-attribute">cost</span>=0.00..165.02 <span class="hljs-attribute">rows</span>=9102 <span class="hljs-attribute">width</span>=36)<br>    -&gt;  Hash  (<span class="hljs-attribute">cost</span>=184.00..184.00 <span class="hljs-attribute">rows</span>=10000 <span class="hljs-attribute">width</span>=4)<br>      -&gt;  Seq Scan on testtab01 a  (<span class="hljs-attribute">cost</span>=0.00..184.00 <span class="hljs-attribute">rows</span>=10000 <span class="hljs-attribute">width</span>=4)<br>(5 rows)<br></code></pre></td></tr></table></figure><h2 id="表逻辑结构"><a class="markdownIt-Anchor" href="#表逻辑结构"></a> 表逻辑结构</h2><p>数据库服务&gt;数据库&gt;表/索引&gt;行</p><p>模式：数据库的一个命名空间或目录，不同模式下可以有相同的表、函数等对象，而不会冲突。模式提出主要用于方便管理。在PG库中，不能同时访问不同数据库对象，但可以访问不同模式间的对象。类似Mysql中的不同的Database。类似Linkdo开发环境中，将linkdo和linkdoapi放在同一个库的不同模式下。</p><p>pg在新建一个新数据库时，会默认创建一个public模式登录数据库后，若没有指定，则默认访问public模式内的对象。</p><p>新建模式：create schema xxx</p><p>模式授权给用户：GRANT USAGE ON SCHEMA {schema_name} TO {username};</p><h3 id="pg表的toast技术"><a class="markdownIt-Anchor" href="#pg表的toast技术"></a> PG表的TOAST技术</h3><p>TOAST技术主要用于存储大字段的值，由于PG页面大小固定且不允许行跨越多个页面，所以不能直接存储较大的值，转而压缩或者拆分到系统表，即TOAST表。只有变长的数据类型才支持TOAST，变长数据类型中，前4字节（即32bit）成为长度字，长度字的高2bit是标志位，后30bit是长度值，对应1GB。2bit标志位分别对应【压缩标记位】和【是否行外存储】，不论是否压缩、是否行外存储，长度字内的30bit都表示数据的实际尺寸，而不是压缩后的数据长度。</p><ul><li>压缩标记位：设置后，使用前需要先解压缩</li><li>行外存储：设置后，30bit长度位后面只是一个指针</li></ul><p>修改字段设置</p><p>ALTER TABLE blog ALTER content SET STORAGE EXTERNAL;</p><p>如果表里有任意字段是支持TOAST的，那么就会自动为该表创建一个关联的TOAST表，行位内容就保存在这个表中。</p><h3 id="toast策略"><a class="markdownIt-Anchor" href="#toast策略"></a> TOAST策略</h3><ul><li>PLAIN：避免压缩、行外存储</li><li>EXTENDED：允许压缩和行外存储，优先压缩、后行外存储</li><li>EXTERNAL：允许行外存储、不允许压缩</li><li>MAIN：允许压缩、不允许行外存储</li></ul><p>PostgreSQL11之后，可通过参数toast_tuple_target 来控制TOAST触发时机，单行数据在INSERT或UPDATE时，如果超过指定数值，就会将该行数据改为TOAST存储。</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gams">alter <span class="hljs-keyword">table</span> test01 <span class="hljs-comment">set (toast_tuple_terget=128)</span>; //<span class="hljs-comment">128</span>单位为字节<br></code></pre></td></tr></table></figure><p>toast_tuple_terget属于单行优化存储。另外，还可以通过fillfactor、toast.filltactor来控制数据更新时数据块扩展时机。</p><p>fillfactor：当前表的填充因子</p><p>toast.fillfactor：当前表对应的toast表的填充因子</p><p>填充因子取值：10~100，表示数据块在当前页(page)INSERT多少之后就不再继续填充了，仅保留做UPDATE使用。例如设置60，则剩下40只当做UPDATE使用。</p><h3 id="补充postgresql的update流程"><a class="markdownIt-Anchor" href="#补充postgresql的update流程"></a> 补充：PostgreSQL的UPDATE流程</h3><p>PG在操作UPDATE时，原数据行并不会被覆盖，而是会插入一条新数据行，由于新数据行仍在当前页，因此可以通过Heap-Only Tuple在原行和新行之间建立一个链表，因此UPDATE后不需要重新建索引，索引仍会指向原行，并通过链表找到最新行。</p><p>问题：如果UPDATE插入到其他页，则无法使用HOT，这时需要更新表上全部索引，会产生较大的开销。因此，对于更新频繁的表，需要设置一个较小的fillfactor值。</p><p>而Linkdo最常更新的linkdo_task_instance表，通过查询系统目录信息并没有查到相关fillfactor配置，而是更加激进的配置：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">SELECT</span> reloptions <span class="hljs-keyword">AS</span> table_options <span class="hljs-keyword">FROM</span> pg_class <span class="hljs-keyword">WHERE</span> relname = <span class="hljs-string">&#x27;linkdo_task_instance&#x27;</span>;<br><br>[&quot;autovacuum_vacuum_scale_factor=0.02&quot;,&quot;autocvacuum_analyze_scale_factor=0.01&quot;]<br></code></pre></td></tr></table></figure><ul><li>autovacuum_vacuum_scale_factor=0.02：当表中有 2% 的行被更新或删除时触发 vacuum（默认是 20%，即0.2）</li><li>autovacuum_analyze_scale_factor=0.01：当表中有 1% 的行被更改时触发 analyze（默认是 10%。即0.1）</li></ul><h3 id="补充vacuum和analyze"><a class="markdownIt-Anchor" href="#补充vacuum和analyze"></a> 补充：vacuum和analyze</h3><p>vacuum是PG库中的空间清理工，用于：清理死元祖、更新可见性地图等，analyze负责查询优化，主要用于收集表的行数、页数，每个列的数值分布、最常见值、更新系统目录。如果没有这些信息，优化器可能会选择很差的查询计划。</p><p>[数据变更] → [产生死元组] → [VACUUM清理] → [空间重用]</p><p>↓</p><p>[统计信息过时] → [ANALYZE更新] → [优化器获得新信息]</p><p>临时表</p><p>PG库中临时表有2种，一种是单纯的临时表，另一种是半持久化表。</p><ul><li><p>临时表：</p></li><li><ul><li>会话级临时表：数据保存在整个会话中</li><li>事务级临时表：数据保存在整个事务中</li></ul></li><li><p>UNLOGGED表：不产生WAL日志、数据库异常则数据丢失，正常重启不会丢失数据。在使用上与其他表没有差异</p></li></ul><p>创建临时表如下4种写法效果一致</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">create TEMPORARY table tmp<span class="hljs-constructor">_t1(<span class="hljs-params">id</span> <span class="hljs-params">int</span> <span class="hljs-params">primary</span> <span class="hljs-params">key</span>, <span class="hljs-params">note</span> <span class="hljs-params">text</span>)</span>;<br>create TEMP table tmp<span class="hljs-constructor">_t1(<span class="hljs-params">id</span> <span class="hljs-params">int</span> <span class="hljs-params">primary</span> <span class="hljs-params">key</span>, <span class="hljs-params">notes</span> <span class="hljs-params">text</span>)</span><br>create GLOBAL TEMPORARY table tmp<span class="hljs-constructor">_t1(<span class="hljs-params">id</span> <span class="hljs-params">int</span> <span class="hljs-params">primary</span> <span class="hljs-params">key</span>, <span class="hljs-params">note</span> <span class="hljs-params">text</span>)</span>;<br>create LOCAL TEMPORARY table tmp<span class="hljs-constructor">_t1(<span class="hljs-params">id</span> <span class="hljs-params">int</span> <span class="hljs-params">primary</span> <span class="hljs-params">key</span>, <span class="hljs-params">note</span> <span class="hljs-params">text</span>)</span>;<br></code></pre></td></tr></table></figure><p>创建unlogged表</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">UNLOGGED</span> <span class="hljs-keyword">TABLE</span> unlogged01(id <span class="hljs-type">int</span> <span class="hljs-keyword">primary key</span>, t <span class="hljs-type">text</span>);<br></code></pre></td></tr></table></figure><h3 id="约束"><a class="markdownIt-Anchor" href="#约束"></a> 约束</h3><p>检查约束/非空约束/唯一约束/主键约束/外键约束</p><h3 id="修改表"><a class="markdownIt-Anchor" href="#修改表"></a> 修改表</h3><p>增删字段</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> <span class="hljs-built_in">table_name</span> <span class="hljs-keyword">add</span> <span class="hljs-keyword">column</span> <span class="hljs-built_in">column_name</span> <span class="hljs-keyword">type</span>;<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> <span class="hljs-built_in">table_name</span> <span class="hljs-keyword">drop</span> <span class="hljs-keyword">column</span> column_nmae;<br></code></pre></td></tr></table></figure><p>增删约束</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> <span class="hljs-built_in">table_name</span> <span class="hljs-keyword">add</span> <span class="hljs-keyword">check</span>(age &gt; <span class="hljs-number">16</span>)  //设置检查约束<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> <span class="hljs-built_in">table_name</span> <span class="hljs-keyword">alter</span> <span class="hljs-keyword">column</span> <span class="hljs-built_in">column_name</span>  <span class="hljs-keyword">set</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span> //设置非空约束<br><br>//删除约束前需要知道约束名称是什么<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> <span class="hljs-built_in">table_name</span> <span class="hljs-keyword">drop</span> <span class="hljs-keyword">constraint</span> <span class="hljs-built_in">constraint_name</span> <br><br>//非空约束没有名字，通过如下语法删除<br><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> student <span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">COLUMN</span> student_name <span class="hljs-keyword">DROP</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>;<br></code></pre></td></tr></table></figure><p>修改/删除默认值</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">// 修改只影响后续<span class="hljs-keyword">INSERT</span>的默认值<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> <span class="hljs-built_in">table_name</span> <span class="hljs-keyword">alter</span> <span class="hljs-keyword">column</span> <span class="hljs-built_in">column_name</span> <span class="hljs-keyword">set</span> <span class="hljs-keyword">default</span> <span class="hljs-number">15</span>;<br><br>// 删除默认值，即将默认值修改为<span class="hljs-keyword">NULL</span><br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> <span class="hljs-built_in">table_name</span> <span class="hljs-keyword">alter</span> <span class="hljs-keyword">column</span> <span class="hljs-built_in">column_name</span> <span class="hljs-keyword">drop</span> <span class="hljs-keyword">default</span>;<br></code></pre></td></tr></table></figure><p>修改字段数据类型</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">// 只有字段内所有项都可以隐式转换为新类型时，才能修改字段类型，无法隐式转换则会修改失败<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> <span class="hljs-built_in">table_name</span> <span class="hljs-keyword">alter</span> <span class="hljs-keyword">column</span> <span class="hljs-built_in">column_name</span> <span class="hljs-keyword">type</span> <span class="hljs-type">text</span>;<br></code></pre></td></tr></table></figure><p>字段/表重命名</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> <span class="hljs-built_in">table_name</span> <span class="hljs-keyword">rename</span> <span class="hljs-keyword">column</span> age <span class="hljs-keyword">to</span> age_num; //重命名字段<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> <span class="hljs-built_in">table_name</span> <span class="hljs-keyword">rename</span> <span class="hljs-keyword">to</span> table_name2; //改表明<br></code></pre></td></tr></table></figure><h3 id="继承表"><a class="markdownIt-Anchor" href="#继承表"></a> 继承表</h3><p>pg库的表是允许继承的，且允许多继承，继承表的特性如下：</p><ul><li>子表插入/更新数据后对父表可见，父表插入/更新数据后对子表不可见</li><li>如果只想查询父表可使用关键字【only】</li><li>父表所有检查约束、非空约束都会自动继承给子表，其他约束不会继承</li><li>子表继承父表后，子表拥有所有父表字段总和，类型相同的字段会被融合，融合字段同样继承约束。</li></ul><h3 id="基于继承表的分区表"><a class="markdownIt-Anchor" href="#基于继承表的分区表"></a> 基于继承表的分区表</h3><p>PG库在版本10之前均通过表继承实现分区表，而10之后提供了DDL语句创建声明式分区表，但原理仍然是表继承。表分区就是逻辑上把一个大表分割成物理上的几块，表继承的优势在于：</p><ul><li>查询、删除更新等操作性能提升，避免全表扫描</li><li>访问较少的历史数据可以使用表空间技术移动到便宜的慢速存储介质上</li></ul><p>创建分区表步骤</p><p>1、创建父表，配置好字段。父表不插入数据、不定义约束。</p><p>2、创建子表，继承父表字段且不新增字段，自定定义约束，通过关键字段来控制分区，并为关键字段创建索引。</p><p>3、定义一个触发器，将原本插入主表的数据重定向到合适的分区表</p><p>4、检查constraint_exclusion配置是打开的，打开后查询时如果条件与分区字段匹配，则只查匹配的分区。如果设置为off，则会扫描每张分区子表。</p><p>核心配置代码：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> orders_2023 (<br>    <span class="hljs-keyword">CHECK</span> (order_date &gt;= <span class="hljs-string">&#x27;2023-01-01&#x27;</span> <span class="hljs-keyword">AND</span> order_date &lt; <span class="hljs-string">&#x27;2024-01-01&#x27;</span>)<br>) <span class="hljs-keyword">INHERITS</span> (orders); //子表继承父表orders，并为order_date字段添加约束<br><br><br>// 为关键字段添加索引<br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_orders_2023_date <span class="hljs-keyword">ON</span> orders_2023 (order_date); <br><br><br>// 触发器代码，配置路由分配<br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR REPLACE</span> <span class="hljs-keyword">FUNCTION</span> orders_insert_trigger()<br><span class="hljs-keyword">RETURNS</span> <span class="hljs-type">TRIGGER</span> <span class="hljs-keyword">AS</span> $$<span class="language-pgsql"></span><br><span class="language-pgsql"><span class="hljs-keyword">BEGIN</span></span><br><span class="language-pgsql">    <span class="hljs-keyword">IF</span> <span class="hljs-built_in">NEW</span>.order_date &gt;= <span class="hljs-string">&#x27;2023-01-01&#x27;</span> <span class="hljs-keyword">AND</span> <span class="hljs-built_in">NEW</span>.order_date &lt; <span class="hljs-string">&#x27;2024-01-01&#x27;</span> <span class="hljs-keyword">THEN</span></span><br><span class="language-pgsql">        <span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> orders_2023 <span class="hljs-keyword">VALUES</span> (<span class="hljs-built_in">NEW</span>.*);  <span class="hljs-comment">-- 插入 2023 年分区</span></span><br><span class="language-pgsql">    <span class="hljs-keyword">ELSIF</span> <span class="hljs-built_in">NEW</span>.order_date &gt;= <span class="hljs-string">&#x27;2024-01-01&#x27;</span> <span class="hljs-keyword">AND</span> <span class="hljs-built_in">NEW</span>.order_date &lt; <span class="hljs-string">&#x27;2025-01-01&#x27;</span> <span class="hljs-keyword">THEN</span></span><br><span class="language-pgsql">        <span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> orders_2024 <span class="hljs-keyword">VALUES</span> (<span class="hljs-built_in">NEW</span>.*);  <span class="hljs-comment">-- 插入 2024 年分区</span></span><br><span class="language-pgsql">    <span class="hljs-keyword">ELSE</span></span><br><span class="language-pgsql">        <span class="hljs-comment">-- 无匹配分区时抛出异常（避免数据插入父表）</span></span><br><span class="language-pgsql">        <span class="hljs-keyword">RAISE</span> <span class="hljs-keyword">EXCEPTION</span> <span class="hljs-string">&#x27;订单日期 % 无对应的分区表&#x27;</span>, <span class="hljs-built_in">NEW</span>.order_date;</span><br><span class="language-pgsql">    <span class="hljs-keyword">END</span> <span class="hljs-keyword">IF</span>;</span><br><span class="language-pgsql">    <span class="hljs-keyword">RETURN</span> <span class="hljs-keyword">NULL</span>;  <span class="hljs-comment">-- 父表不存储数据，返回 NULL 即可</span></span><br><span class="language-pgsql"><span class="hljs-keyword">END</span>;</span><br><span class="language-pgsql">$$</span> <span class="hljs-keyword">LANGUAGE</span> plpgsql;<br><br><br>// 触发器关联关联<span class="hljs-keyword">order</span>表，并设置触发逻辑<br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TRIGGER</span> trigger_orders_insert<br><span class="hljs-keyword">BEFORE</span> <span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">ON</span> orders  <span class="hljs-comment">-- 插入前触发（拦截插入，重定向）</span><br><span class="hljs-keyword">FOR</span> <span class="hljs-keyword">EACH</span> <span class="hljs-keyword">ROW</span>  <span class="hljs-comment">-- 每行数据都触发一次（行级触发器）</span><br><span class="hljs-keyword">EXECUTE</span> <span class="hljs-keyword">FUNCTION</span> orders_insert_trigger();<br></code></pre></td></tr></table></figure><h3 id="触发器"><a class="markdownIt-Anchor" href="#触发器"></a> 触发器</h3><p>由事件自动触发执行的特殊存储过程，触发事件可以是对一个表进行DML操作，一般用于加强数据的完整性约束和业务规则上的约束。格式如下：</p><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs oxygene"><span class="hljs-keyword">CREATE</span> [ CONSTRAINT ] TRIGGER name <span class="hljs-comment">&#123; BEFORE | AFTER | INSTEAD OF &#125;</span> <span class="hljs-comment">&#123; event [ OR ... ] &#125;</span><br>  <span class="hljs-keyword">ON</span> table_name<br>  [ <span class="hljs-keyword">FROM</span> referenced_table_name ]<br>  <span class="hljs-comment">&#123; NOT DEFERRABLE | [ DEFERRABLE ] &#123; INITIALLY IMMEDIATE | INITIALLY DEFERRED &#125;</span> &#125;<br>  [ <span class="hljs-keyword">FOR</span> [ <span class="hljs-keyword">EACH</span> ] <span class="hljs-comment">&#123; ROW | STATEMENT &#125;</span> ]<br>  [ WHEN ( condition ) ]<br>  EXECUTE <span class="hljs-keyword">PROCEDURE</span> <span class="hljs-title function_">function_name</span> <span class="hljs-params">( arguments )</span><br></code></pre></td></tr></table></figure><p>例如，在删除student表数据之后，将score表相关联的数据也删除：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">// 触发器执行函数<br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR REPLACE</span> <span class="hljs-keyword">FUNCTION</span> student_delete_trigger()<br><span class="hljs-keyword">RETURNS</span> <span class="hljs-type">TRIGGER</span> <span class="hljs-keyword">AS</span> $$<span class="language-pgsql"></span><br><span class="language-pgsql"><span class="hljs-keyword">BEGIN</span></span><br><span class="language-pgsql">  <span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> score <span class="hljs-keyword">WHERE</span> student_no = <span class="hljs-built_in">OLD</span>.student_no;</span><br><span class="language-pgsql">  <span class="hljs-keyword">RETURN</span> <span class="hljs-built_in">OLD</span>;</span><br><span class="language-pgsql"><span class="hljs-keyword">END</span>;</span><br><span class="language-pgsql">$$</span><br><span class="hljs-keyword">LANGUAGE</span> plpgsql;<br><br>// 新建触发器<br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TRIGGER</span> delete_student_trigger<br>  <span class="hljs-keyword">AFTER</span> <span class="hljs-keyword">DELETE</span>  <span class="hljs-keyword">ON</span> student<br>  <span class="hljs-keyword">FOR</span> <span class="hljs-keyword">EACH</span> <span class="hljs-keyword">ROW</span> <span class="hljs-keyword">EXECUTE</span> <span class="hljs-keyword">PROCEDURE</span> student_delete_trigger ();<br></code></pre></td></tr></table></figure><ul><li>语句级触发器：执行每个SQL语句时，只执行一次，实际操作0行的语句仍有可能被触发。</li><li>行级触发器：执行每行SQL语句都会执行一次，实际操作0行的语句不会被触发</li></ul><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">FUNCTION</span> log_student_trigger ()<br><span class="hljs-keyword">RETURNS</span> <span class="hljs-type">trigger</span> <span class="hljs-keyword">AS</span><br>$$<span class="language-pgsql"></span><br><span class="language-pgsql"><span class="hljs-keyword">BEGIN</span></span><br><span class="language-pgsql">    // <span class="hljs-built_in">TG_OP</span>是触发器函数中的特殊变量，表示DML操作</span><br><span class="language-pgsql">  <span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> log_student <span class="hljs-keyword">values</span>(now(), <span class="hljs-keyword">user</span>, <span class="hljs-built_in">TG_OP</span>);</span><br><span class="language-pgsql">  <span class="hljs-keyword">RETURN</span> <span class="hljs-keyword">NULL</span>;</span><br><span class="language-pgsql"><span class="hljs-keyword">END</span>;</span><br><span class="language-pgsql">$$</span><br><span class="hljs-keyword">LANGUAGE</span> &quot;plpgsql&quot;;<br></code></pre></td></tr></table></figure><ul><li>BEFORE触发器：语句开始做任何事情之前被触发</li><li>AFTER触发器：：语句结束时触发</li></ul><p>before和after属于触发器的触发时机，可以用在行级，也可以用于语句级。如果既有行级、也有语句级，那么行级的after会早于语句级after执行。</p><p>删除触发器</p><p>删除一个触发器使用的语法是drop trigger xxx on table，当删除触发器时，触发器函数本身并不会被删除。完整语法如下：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">DROP</span> <span class="hljs-keyword">TRIGGER</span> [ <span class="hljs-keyword">IF</span> <span class="hljs-keyword">EXISTS</span> ] <span class="hljs-type">name</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">table</span> [ <span class="hljs-keyword">CASCADE</span> | <span class="hljs-keyword">RESTRICT</span> ];<br></code></pre></td></tr></table></figure><ul><li>IF EXESTS：如果要删除的触发器不存在，提出一个notice而不报错</li><li>CASCADE：级联删除依赖此触发器的对象</li><li>RESTRICT：默认值，有依赖对象就拒绝删除</li></ul><h3 id="表空间"><a class="markdownIt-Anchor" href="#表空间"></a> 表空间</h3><p>PostgreSQL中的表空间，实际上是为表指定一个存储目录，在创建数据库、创建表、索引、唯一约束、主键约束的时候均可以指定表空间。</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">// 通过<span class="hljs-keyword">create</span> <span class="hljs-keyword">tablespace</span> xxx <span class="hljs-keyword">location</span>关键字实现新建表空间<br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLESPACE</span> tbs_data <span class="hljs-keyword">location</span> <span class="hljs-string">&#x27;/data/pgdata&#x27;</span>; <br><br>//创建数据库时指定表空间，后续的表、索引等都会放这个目录下<br><span class="hljs-keyword">create</span> <span class="hljs-keyword">database</span> db01 <span class="hljs-keyword">tablespace</span> tbs_data;<br></code></pre></td></tr></table></figure><h2 id="视图"><a class="markdownIt-Anchor" href="#视图"></a> 视图</h2><p>新增视图</p><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs oxygene"><span class="hljs-keyword">CREATE</span> [ <span class="hljs-keyword">OR</span> REPLACE ] [ TEMP | TEMPORARY ] VIEW name [ ( column_name [, ...] ) ]<br>  <span class="hljs-keyword">AS</span> query <br><br><span class="hljs-comment">// 将原表中的字段名重命名</span><br><span class="hljs-keyword">CREATE</span> VIEW vw_users(no, name,email, mark)  <span class="hljs-keyword">AS</span> <span class="hljs-keyword">SELECT</span> id, user_name, user_email, user_mark <span class="hljs-keyword">FROM</span> users<span class="hljs-punctuation">;</span><br><br><span class="hljs-comment">// 通过设置触发器来实现视图更新，每次INSERT、UPDATE、DELETE,都会触发insert到视图</span><br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR</span> REPLACE <span class="hljs-keyword">FUNCTION</span> <span class="hljs-title function_">vw_users_insert_trigger</span><span class="hljs-params">()</span><br><span class="hljs-title function_">RETURNS</span> <span class="hljs-title function_">TRIGGER</span> <span class="hljs-title function_">AS</span> $$<br><span class="hljs-title function_">BEGIN</span><br>  <span class="hljs-title function_">INSERT</span> <span class="hljs-title function_">INTO</span> <span class="hljs-title function_">users</span> <span class="hljs-title function_">VALUES</span><span class="hljs-params">(<span class="hljs-keyword">NEW</span>.id, <span class="hljs-keyword">NEW</span>.user_name,<span class="hljs-string">&#x27;111111&#x27;</span>, <span class="hljs-keyword">NEW</span>.user_email, <span class="hljs-keyword">NEW</span>.user_mark)</span>;<br>  RETURN NULL<span class="hljs-punctuation">;</span><br><span class="hljs-keyword">END</span><span class="hljs-punctuation">;</span><br>$$<br>LANGUAGE plpgsql<span class="hljs-punctuation">;</span><br><br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR</span> REPLACE <span class="hljs-keyword">FUNCTION</span> <span class="hljs-title function_">vw_users_update_trigger</span><span class="hljs-params">()</span><br><span class="hljs-title function_">RETURNS</span> <span class="hljs-title function_">TRIGGER</span> <span class="hljs-title function_">AS</span> $$<br><span class="hljs-title function_">BEGIN</span><br>  <span class="hljs-title function_">UPDATE</span> <span class="hljs-title function_">users</span> <span class="hljs-title function_">SET</span> <span class="hljs-title function_">user_email</span> = <span class="hljs-title function_">NEW</span>.<span class="hljs-title function_">user_email</span> <span class="hljs-title function_">WHERE</span> <span class="hljs-title function_">id</span>= <span class="hljs-title function_">NEW</span>.<span class="hljs-title function_">id</span>;<br>  RETURN NULL<span class="hljs-punctuation">;</span><br><span class="hljs-keyword">END</span><span class="hljs-punctuation">;</span><br>$$<br>LANGUAGE plpgsql<span class="hljs-punctuation">;</span><br><br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR</span> REPLACE <span class="hljs-keyword">FUNCTION</span> <span class="hljs-title function_">vw_users_delete_trigger</span><span class="hljs-params">()</span><br><span class="hljs-title function_">RETURNS</span> <span class="hljs-title function_">TRIGGER</span> <span class="hljs-title function_">AS</span> $$<br><span class="hljs-title function_">BEGIN</span><br>  <span class="hljs-title function_">DELETE</span> <span class="hljs-title function_">FROM</span>  <span class="hljs-title function_">users</span> <span class="hljs-title function_">WHERE</span> <span class="hljs-title function_">id</span>= <span class="hljs-title function_">NEW</span>.<span class="hljs-title function_">id</span>;<br>  RETURN NULL<span class="hljs-punctuation">;</span><br><span class="hljs-keyword">END</span><span class="hljs-punctuation">;</span><br>$$<br>LANGUAGE plpgsql<span class="hljs-punctuation">;</span><br><br><span class="hljs-keyword">CREATE</span> TRIGGER insert_vw_users_trigger<br>  INSTEAD <span class="hljs-keyword">OF</span> INSERT <span class="hljs-keyword">ON</span> vw_users<br>  <span class="hljs-keyword">FOR</span> <span class="hljs-keyword">EACH</span> ROW EXECUTE <span class="hljs-keyword">PROCEDURE</span> <span class="hljs-title function_">vw_users_insert_trigger</span><span class="hljs-params">()</span>;<br><br><span class="hljs-keyword">CREATE</span> TRIGGER update_vw_users_trigger<br>  INSTEAD <span class="hljs-keyword">OF</span> UPDATE <span class="hljs-keyword">ON</span> vw_users<br>  <span class="hljs-keyword">FOR</span> <span class="hljs-keyword">EACH</span> ROW EXECUTE <span class="hljs-keyword">PROCEDURE</span> <span class="hljs-title function_">vw_users_update_trigger</span><span class="hljs-params">()</span>;<br><br><span class="hljs-keyword">CREATE</span> TRIGGER delete_vw_users_trigger<br>  INSTEAD <span class="hljs-keyword">OF</span> DELETE <span class="hljs-keyword">ON</span> vw_users<br>  <span class="hljs-keyword">FOR</span> <span class="hljs-keyword">EACH</span> ROW EXECUTE <span class="hljs-keyword">PROCEDURE</span> <span class="hljs-title function_">vw_users_delete_trigger</span><span class="hljs-params">()</span>;<br></code></pre></td></tr></table></figure><ul><li>TEMP/TEMPORARY：临时视图，session结束后该视图消失</li></ul><h2 id="索引"><a class="markdownIt-Anchor" href="#索引"></a> 索引</h2><p>索引用于快速查询数据，它记录了表中的一列或者多列值与其物理位置之间的对应关系。</p><ul><li>优点：加快对表中记录的查询和排序</li><li>缺点：额外增加数据库存储空间、插入修改数据时更新索引需要时间</li></ul><p>索引种类</p><ul><li>Btree：最常用索引，也是默认索引类型。B表示平衡balanced，表示树的各个分叉的数据量大致相等。主要适用于处理等值查询和范围查询</li><li>HASH：只能处理等值查询，当索引键是较长字符串时，索引占用空间较大，哈希索引占空间小。</li><li>GiST、SP-GiST：通用搜索树，非单独一种索引，是一种架构，基于该架构可以实现不同的索引策略</li><li>GIN：通用逆向索引，可以处理包含多个键的值，如数组，同样是一种架构。PG的全文检索用的就是GIN索引</li></ul><p>新建索引</p><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs oxygene"><span class="hljs-keyword">CREATE</span> [ UNIQUE ] <span class="hljs-keyword">INDEX</span> [ CONCURRENTLY ] [ name ] <span class="hljs-keyword">ON</span> table_name [ <span class="hljs-keyword">USING</span> <span class="hljs-keyword">method</span> ]<br>  <span class="hljs-params">( &#123; column_name | ( expression )</span> &#125; [ <span class="hljs-title function_">COLLATE</span> <span class="hljs-title function_">collation</span> ] [ <span class="hljs-title function_">opclass</span> ] [ <span class="hljs-title function_">ASC</span> | <span class="hljs-title function_">DESC</span> ] [ <span class="hljs-title function_">NULLS</span> <span class="hljs-comment">&#123; FIRST | LAST &#125;</span> ] [, ...] )<br>  [ <span class="hljs-title function_">WITH</span> <span class="hljs-params">( storage_parameter = value [, ... ] )</span> ]<br>  [ <span class="hljs-title function_">TABLESPACE</span> <span class="hljs-title function_">tablespace_name</span> ]<br>  [ <span class="hljs-title function_">WHERE</span> <span class="hljs-title function_">predicate</span> ]<br></code></pre></td></tr></table></figure><p>UBUQUE：唯一约束</p><p>CONCURRENTLY：并发创建，建索引时不锁表，使用在生产环境大表使用</p><p>USING method：可选索引算法，默认B树</p><p>column_name：索引键，可单列可多列</p><p>其他：用的频度较少</p><p>（补充）PG库的索引机制——BTree</p><p>BTree属于多叉平衡搜索树，每个节点可以拥有多个子节点，相比二叉树，这种结构减少了树的高度，从而减少I/O次数。</p><ul><li><p>平衡：所有叶节点都在同一层</p></li><li><p>有序：节点内有序、任意元素的左子树都小于它，右子树都大于它</p></li><li><p>多路：对于m阶B树的接电：</p></li><li><ul><li>最多有m个分支、m-1个元素</li><li>根节点最少有2个分支，1各元素、其他节点有m/2个分支，(m/2)-1个元素</li></ul></li></ul><p>在使用索引时，访问结点是在硬盘上进行的，而结点内的查找是在内存中进行的。</p><p>BTree的插入：</p><p>先找到插入的位置进行插入，如果没有上溢出（插入为止一定在叶节点），无需调整。否则中间元素(m/2)上移，两边分裂，直到没有上溢为止。</p><h2 id="存储过程"><a class="markdownIt-Anchor" href="#存储过程"></a> 存储过程</h2><h3 id="语法"><a class="markdownIt-Anchor" href="#语法"></a> 语法</h3><h4 id="变量定义"><a class="markdownIt-Anchor" href="#变量定义"></a> 变量定义</h4><ul><li>基础变量类型：declare v_num int := 0</li><li>列类型变量：v_username user_info.username%TYPE</li><li>行变量类型：v_user user_info%ROWTYPE</li><li>动态记录类型：v_rec RECODE</li></ul><h4 id="变量赋值"><a class="markdownIt-Anchor" href="#变量赋值"></a> 变量赋值</h4><ul><li>直接赋值：v_num:=v_num+1</li><li>从查询结果赋值(单值)：select username into v_username from user_info where id=1</li><li>从查询结果赋值(整行)：select * into v_user from user_info where id=1</li></ul><h3 id><a class="markdownIt-Anchor" href="#"></a> </h3><h4 id="流程判断"><a class="markdownIt-Anchor" href="#流程判断"></a> 流程判断</h4><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">//<span class="hljs-keyword">if</span>-<span class="hljs-keyword">else</span> 条件判断<br><span class="hljs-keyword">IF</span> v_age &lt; <span class="hljs-number">18</span> <span class="hljs-keyword">THEN</span><br>    p_result := <span class="hljs-string">&#x27;未成年&#x27;</span>;<br><span class="hljs-keyword">ELSIF</span> v_age <span class="hljs-keyword">BETWEEN</span> <span class="hljs-number">18</span> <span class="hljs-keyword">AND</span> <span class="hljs-number">60</span> <span class="hljs-keyword">THEN</span><br>    p_result := <span class="hljs-string">&#x27;成年&#x27;</span>;<br><span class="hljs-keyword">ELSE</span><br>    p_result := <span class="hljs-string">&#x27;老年&#x27;</span>;<br><span class="hljs-keyword">END</span> <span class="hljs-keyword">IF</span>;<br><br>// 多分支<br><span class="hljs-keyword">CASE</span><br>    <span class="hljs-keyword">WHEN</span> v_age &lt; <span class="hljs-number">18</span> <span class="hljs-keyword">THEN</span> p_result := <span class="hljs-string">&#x27;未成年&#x27;</span>;<br>    <span class="hljs-keyword">WHEN</span> v_age <span class="hljs-keyword">BETWEEN</span> <span class="hljs-number">18</span> <span class="hljs-keyword">AND</span> <span class="hljs-number">60</span> <span class="hljs-keyword">THEN</span> p_result := <span class="hljs-string">&#x27;成年&#x27;</span>;<br>    <span class="hljs-keyword">ELSE</span> p_result := <span class="hljs-string">&#x27;老年&#x27;</span>;<br><span class="hljs-keyword">END</span> <span class="hljs-keyword">CASE</span>;<br><br>// <span class="hljs-keyword">for</span> 循环<br><span class="hljs-keyword">FOR</span> v_user <span class="hljs-keyword">IN</span> <span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> user_info <span class="hljs-keyword">LOOP</span><br>    <span class="hljs-comment">-- 加工数据（示例：年龄+1）</span><br>    v_user.age := v_user.age + <span class="hljs-number">1</span>;<br>    <span class="hljs-comment">-- 返回单条结果</span><br>    <span class="hljs-keyword">RETURN NEXT</span> v_user;<br><span class="hljs-keyword">END</span> <span class="hljs-keyword">LOOP</span>;<br><br>//<span class="hljs-keyword">while</span> 循环<br><span class="hljs-keyword">WHILE</span> v_i &lt;= <span class="hljs-number">10</span> <span class="hljs-keyword">LOOP</span><br>    v_sum := v_sum + v_i;<br>    v_i := v_i + <span class="hljs-number">1</span>;<br><span class="hljs-keyword">END</span> <span class="hljs-keyword">LOOP</span>;<br></code></pre></td></tr></table></figure><h4 id="异常处理"><a class="markdownIt-Anchor" href="#异常处理"></a> 异常处理</h4><p>略。</p><h2 id="存储结构"><a class="markdownIt-Anchor" href="#存储结构"></a> 存储结构</h2><ul><li>逻辑结构：数据库簇&gt;数据库&gt;模式&gt;表=视图=索引=函数</li><li>物理结构：使用环境变量PGDATA指向数据库目录的根目录，根目录初始化后，会生成一系列配置文件。</li></ul><p><em><strong>*默认表空间下的存储：*</strong></em></p><p>在默认表空间的base目录下的很多子目录，子目录名称与数据库的oid一致。每个子目录下都存放着各自数据库的表、索引文件，每个表和索引都会分配一个文件号relfilennode，数据文件格式以relfilennode.顺序号命名，每个文件最大1GB，当表或索引内容大于1GB时，就会从1开始生成顺序号。</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">select</span> <span class="hljs-type">oid</span>,datname <span class="hljs-keyword">from</span> pg_database;<br></code></pre></td></tr></table></figure><p>自定义表空间下的存储：</p><p>当用户自己创建表空间并自定义目录时，会在表空间的根目录下生成带有“CatLog version”的子目录，完整格式为【PG_{pg库大版本号}_{Catalog version}】。在这个目录下，才有数据库oid那些子目录。</p><h2 id="调优"><a class="markdownIt-Anchor" href="#调优"></a> 调优</h2><p>逻辑结构优化</p><p>表优化</p><ul><li>根据具体情况挑选合适的TOAST策略</li><li>调整表的fillfactor参数</li><li>使用临时表</li><li>使用分区表</li><li>使用表空间将不同的表分散放在不同存储介质下</li></ul><p>索引优化</p><ul><li>超过300行的表应该需要索引</li><li>经常与其他表进行连接的表，在连接字段上应该建索引</li><li>经常出现在where子句/group by/order by中的字段，应该建索引</li><li>查询很少的列不应该建索引</li><li>大字段不建议建索引，或建哈希索引，而不是普通索引</li><li>复合索引建立前应考虑清楚，这几个字段是否经常一起使用，是的话可以建，否则建议走单字段索引</li><li>不要在符合索引已建立的基础上，再次单独建单个字段的索引</li><li>符合索引字段个数应小于等于3个</li><li>频繁进行数据操作的表不要建立太多索引</li><li>删除无用的索引</li><li>索引创建时可以将索引放置在SSD盘的表空间，常规的表数据则放在机械硬盘</li></ul><p>SQL优化</p><ul><li>避免全表扫描和排序，考虑在where子句条件字段和排序字段中建立索引</li><li>范围查询较多时，通过CLUSTER table_name USING index_name 将存储物理排序与索引顺序一致，减少IO以提高查询效率</li><li>避免在where子句中对字段进行函数或表达式操作，这会导致走不到索引</li><li>用exists替代in查询</li><li>数值信息的字段不要涉及成字符型，且优先使用int和bigint，如果这2个类型范围内不能表示，再用numeic</li><li>避免使用select * 返回所有列</li><li>尽量多使用表的别名，并将别名前缀于每个列上</li><li>适当使用存储过程，减少客户端和数据库的交互次数</li><li>COPY导出数据比INSERT和批量INSERT快得多</li><li>存储过程中减少使用循环</li><li></li></ul>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>数据库</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>现代计算机主内存的简单原理（DDR5为例）</title>
    <link href="/post/9feac443.html"/>
    <url>/post/9feac443.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>原视频（B站）：<a href="https://www.bilibili.com/video/BV1vP411c7pt?vd_source=2def051c1c2e4e1a3cd81c5ac9e028e4">https://www.bilibili.com/video/BV1vP411c7pt?vd_source=2def051c1c2e4e1a3cd81c5ac9e028e4</a></p><p>原视频（油管）：<a href="https://www.youtube.com/watch?v=7J7X7aZvMXQ">https://www.youtube.com/watch?v=7J7X7aZvMXQ</a></p><p>首先，计算机主板上有4个DIMM插槽，一个DIMM（内存条）上有8个DRAM芯片。DRAM通过双内存通道直接连接CPU，CPU中的内存控制器进行与内存的通信和管理。而M2/SATA等硬盘，则有单独一部分元件与其进行通信。CPU管理着SSD、缓存、DRAM之间的数据流。内存的供电是由主板提供的，DDR5上存在电源管理芯片。</p><p>在DDR5 中，分为2个通道。这2个通道使用32条数据导线一次独立传输32位。通过使用21根额外的导线，每个内存通道携带一个用于指定读取或者写入数据位置的地址，使用7跟控制信号线转发命令。地址和命令将被发送并共享到内存通道上的4个芯片（双通道，一边各四个）。32位数据传输到4个DRAM上，每个DRAM只能一次读写8位。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20240711204933832.png" alt></p><p>DDR5的外部包装中，是由底部的球栅阵列和芯片连接起来的互连矩阵。一块16GB的内存上，每个DRAM芯片大小为2GB，即2千兆字节。每个芯片可分成8个“库组-bank group“，每组由4个库组成，一共32个库。每个库内都有一个巨大的阵列，高65536个存储单元、列8192个单元。库的行列之间有数万条导线以及各组外围的支持电路来支撑工作。</p><p>计算可知，每块DRAM芯片上一共有<code>65536 * 8192 * 32 = 170</code>亿个存储单元。为了快速访问，需要一个31位的地址。例如：<code>0111001100011010111001001000011</code>。即：</p><p>3位选择库组+2位选择库+16位行地址[6.5万行中的某行]+10位列地址[8192列中的某列]</p><p>这31位地址被分成2部分，使用21条导线来分别发送。16 + （2+3=5）&amp; 10</p><h3 id="单个存储单元的物理结构"><a class="markdownIt-Anchor" href="#单个存储单元的物理结构"></a> 单个存储单元的物理结构</h3><p>这些芯片又称集成电路，是在直径300毫米的硅晶圆上制造的。每片硅晶圆上游2500个左右裸芯片。每个裸芯片上游数十亿纳米级的存储单元，通过几十种步骤和工具从半导体制造厂或Fab（圆晶厂）中制造出来。</p><p>DDR5中的存储单元，被称为1T1C单元（1T1C DRAM Memory Cell），大小为几十纳米，分为2个部分：</p><h4 id="1-电容器"><a class="markdownIt-Anchor" href="#1-电容器"></a> 1、电容器</h4><p>以电荷或电子的形式存储1bit的数据。电容器的形状像一个挖在硅上的深沟，由2个导电表面组成，中间有一个只有几原子厚的绝缘体，绝缘体可以阻止电子流动，但允许电场通过。如果这个电容器被电子充电到1v，那么它就是二进制的1 ；如果没有电荷，处于0v，则为二进制的0。因此一个单元只容纳1bit数据。（沟槽式电容器中，硅的深度用于增加更大的电容存储）</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20240711205058887.png" alt></p><h4 id="2-晶体管"><a class="markdownIt-Anchor" href="#2-晶体管"></a> 2、晶体管</h4><p>用于读取或存储数据，晶体管连接着2根导线：</p><ul><li>字节线(字线-wordline)连接晶体管的栅极</li><li>比特线(位线-bitline)连接晶体管的另一侧</li></ul><p>在字线上施加电压可使晶体管导通，字线开启时，电子流过通道，将电容器连接到位线。这样就可以进入该存储单元并给电容充电写下1；当字线关闭时，晶体管也随着关闭，电容放电写0。当电容器与位线隔离，从而保存了之前写入的数据或电荷。由于晶体管很小，电子会慢慢在通道上泄漏。因此随着时间的推移，电容器需要被刷新，以便为泄漏的电子充电。</p><p>（外部通过测量电荷量来读取电容器中的存储值）</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20240711205245958.png" alt></p><h3 id="库的解析"><a class="markdownIt-Anchor" href="#库的解析"></a> 库的解析</h3><p>假设有一个由数量较少存储单元组成的小型阵列。该阵列的每条字线都是按行连接，位线按列连接。字线与位线在不同的垂直层，因此位线跨越在字线上，并不相交。字线按行连接每个晶体管的控制栅，位线按列连接每个电容器对面的通道。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20240711205343124.png" alt></p><p>当1个字线被激活时，只有该行的所有电容器连接到相应的位线，从而激活了该行所有的存储单元。在任何时候都只有一条字线处于激活状态。如果一列中的多个电容器被连接到位线上，电容器的数据存储功能会相互干扰。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20240711205428823.png" alt></p><p>一个库内有65536行和8192列，31位地址是用来激活一组仅有的8个存储单元。前5位选择库组-库；中间16位发送到行解码器以激活指定行，找到该行后，会将该行开启并将8192个电容器连接到对应的位线上。当前行开启时，其他条字线全部处于关闭状态；末尾10位发送到列复用器，库的下方是一个多路复用器，接收顶部的8192条位线，并根据10位的地址，将一组特定的8位线连接到底部的8个输入和输出I/O线。例如10位地址1001010110，那么只有第4784到4791条位线会被连接到I/O线，其余8000多位线不会被连接到任何东西上。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20240711205526408.png" alt></p><p>通过这种方式，就可以访问这个大规模阵列中任何存储单元。在这个阵列中每个位线的底部，都有一个电流感应放大器、列复用外的读写驱动器。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20240711205600983.png" alt></p><h3 id="对存储单元的读-写-刷新"><a class="markdownIt-Anchor" href="#对存储单元的读-写-刷新"></a> 对存储单元的读、写、刷新</h3><h4 id="读取"><a class="markdownIt-Anchor" href="#读取"></a> 读取</h4><p>CPU发送读取命令和31位地址到DRAM，DRAM根据前5位选中某个库，然后关闭所有字线，隔离所有电容。并将所有8000左右的位线预充电到0.5V。<br>然后根据16位行地址打开某行，该行所有电容都会被连接到他们的位线上。如果一个单独的电容器持有1，并被充电到1V，那么一些电荷就会从电容流向0.5V的位线上，位线上的电压就会增加。感应放大器能检测到位线上电压这种细微变化，并放大这一变化，再讲位线上的电压一直推高到1V。<br>如果电容中存储了0，电荷就会从位线流向电容，0.5V的比特线的电压就会下降，放大器感应到并放大，再驱动位线电压下降到0V或接地。</p><p>感应放大器：由于电容器很小，位线很长，电容器需要一个额外的组件来感应和放大所存储的任何数值</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20240711205642347.png" alt></p><p>列选择复用器使用10位列地址连接相应的8个位线到读取驱动器。驱动器通过8条数据导线将这8个值和电压发送给CPU。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20240711205723110.png" alt></p><h4 id="写入"><a class="markdownIt-Anchor" href="#写入"></a> 写入</h4><p>首先，写入命令、地址和要写入的8位被发送到DRAM芯片，然后与读取一样，选中库、隔离电容、位线预充电、通过16位行地址激活单行，电容会干扰比特线的电压取值，感应器放大信号并驱动位线电压为1或0。然后列地址进入多路复用器，由于发送了写命令， 多路复用器将特定的8位连接到写入驱动器，驱动器包含了CPU沿着数据导线发送并要求写入的8个位。写入驱动器比感应放大器强很多，因此可以覆盖之前在位线上的任何电压值，并将8个位线中的每一个值写入，1V写1,0V写0，这样就将8位数据写入到31位地址相对应的存储单元中。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20240711205800907.png" alt></p><p>注意：</p><p>1、读写时，同一个通道内的所有4个芯片是同时进行的，4个芯片使用相同的31位地址和命令线，但每个芯片都有不用的数据导线。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20240711205838034.png" alt></p><p>2、DDR5中的二进制1电压实际上是1.1V，前几代内存的电压甚至更高，当位线预充电时，是实际电压的一半，例如DDR5是0.55V。在实际写入或刷新时，施加存储到电容器的电压大概是1.4V，因为电荷会随着时间推移而泄漏。但为了便于理解，仍然使用0和1描述。</p><p>3、库、库组、位线、字线的数量，不同世代和容量之间有很大不同，但他们总是2的n次幂。</p><h4 id="刷新"><a class="markdownIt-Anchor" href="#刷新"></a> 刷新</h4><p>由于隔离电容器的晶体管非常小，因此电荷会在通道上泄漏。刷新的操作很简单，先关闭所有行，将位线预充电到0.5V，然后打开一整行。跟之前一样，电容扰动位线，感应放大器驱动位线和电容的电压到开放的行上，取决于电容器的存储值，将其完全上升至1V或0V，达到重新填充泄漏的电荷的效果。这个【关闭行、预充电、打开行、感应放大】的过程，需要一行一行地做，每行花费50ns，65536行轮流刷新一次需要3ms左右，每个库的刷新频率是每64ms一次。因为64ms低于一个存储单元需要的由于泄漏过多的电荷使得存储的1变成0而导致数据丢失的最短时间。</p><p>DRAM存储单元处理的数据量相当庞大，每秒需处理48亿个读写数据的请求，同事要把每行的每个存储单元每秒逐行刷新16次，内存做的是一些简单的事情，例如对比、计算和移动数据，但它的速度是每秒数十亿次。这些功能让计算机得以实现运行例如大型游戏等应用。游戏中的道具和画面需要计算，还有各个独立的物体，他们的位置和形状被存储在DRAM中；还有环境的照明、颜色、纹理的改变等等，都需要做大量的计算。</p><h3 id="为什么要有32个库"><a class="markdownIt-Anchor" href="#为什么要有32个库"></a> 为什么要有32个库</h3><p>当某一个库的某一行被打开时，只需使用10位列地址和列选择复用器，就可以读取或写入8个存储单元的任何部分。CPU向某行发送读写命令被称为行命中，行命中会持续不断发生，行命中，时，会跳过所有打开行的步骤，并只用10位列地址来复用一组不同的8列或位线，将其连接到读取或写入驱动器上，从而节省了不少时间。（没懂为什么节省时间）</p><p>行错过是指下一个地址是针对不同行的情况，这需要DRAM关闭并隔离当前打开的行，再重新打开新的行。在DRAM包装上，一般有4个数字用于说明关于行命中、预充电和行错过的时间等相关参数。（如下时间以时钟周期为单位测量）</p><p>1、 40 CAS Latency ：延迟，指发送一个打开了的行的内存地址起（即行命中），到接收到存储在这些列中的数据的时间。</p><p>2、39 RAS to CAS Delay tRCD：是在所有行都被隔离并且位线被预充电的情况，打开一个行所需的时间。</p><p>3、39 Precharge tRP：打开一行之前对位线进行预充电所需的时间。</p><p>4、79 Activate Precherge Delay [tRAS] ：激活一行和接下来的预充电之间所需的时间。</p><p>行命中也是地址分两部分发送的原因，寿险是RAS(行地址选通)的库选择和行地址，然后是称为CAS的列地址选通，如果第一部分库地址和行地址与当前打开的行一样，就是行命中的情况，DRAM只需要列地址和新命令，多路复用器就会在开放行周围移动。由于访问开放行可以节省时间，CPU的内存控制器、程序和编译器，都是向增加后续行命中的数量这个思路去优化的。</p><p>与行命中相反的是抖动，当一个程序一次又一次从一行跳到另一行，在能源和时间方面是非常低效的。DDR5 有32个库，每个库的行、列、感应放大器和航解码器都是相互独立运行的，因此来自不同库的多个行可以同时被打开，以增加行命中的可能性，减少CPU访问数据的平均时间。通过多个库组，CPU可以一次刷新一个库组的一个库，同时还能使用其他 3 个库，从而减少刷新的影响。</p><p>一个库的高度为65536，宽度为9192。将所有的库一个个连在一起，可以任务这个芯片实际上有6.5万高，26.2万列宽，在列之间添加31个等距分割点，就分出来一个个库。从而在读写和刷新方面更高效灵活。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20240711210101337.png" alt></p><p>DRAM上的容量单位：GB</p><p>16GB：16吉字节</p><p>48000 Million Transfers per Second：每秒传输以百万为单位的数量</p><p>38400 Peak Megabytes per Second：以兆字节每秒为单位的峰值数据传输率</p><h3 id="突发缓冲器和突发长度"><a class="markdownIt-Anchor" href="#突发缓冲器和突发长度"></a> 突发缓冲器和突发长度</h3><p>突发缓冲器是一个128位的读写临时存储位置，多路复用器中接出来是8条导线，突发缓冲器有128条导线接到128位的缓冲区。10位的列地址会被分解为两部分：6比特用于多路复用器，4比特用于突发缓冲器。</p><p>例如一个读取命令，128个存储单元和位线将使用6个列的位连接到突发缓冲器上，从而临时加载或缓存128个值到突发缓冲区，通过使用缓冲区的4位，突发缓冲区中的8个快速访问的数据位置被连接到读取驱动器上，通过循环使用这4位，所有16组8位都能被读出。因此其突发长度为16。之后，一组新的128位线和数值被连接并加载到突发缓冲器中。写操作也是类似的。</p><p>突发缓冲器中每个微芯片中16组8位，总共1024位数据，只要这些数据是相邻的，就可以极快地被访问、读写。但是如果数据请求跳来跳去，也仍然有粒度和能力来访问任何一组8位数据。</p>]]></content>
    
    
    <categories>
      
      <category>Ops</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>阿里大数据架构导论</title>
    <link href="/post/8702d757.html"/>
    <url>/post/8702d757.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><h2 id="离线任务"><a class="markdownIt-Anchor" href="#离线任务"></a> 离线任务</h2><p>两大日志采集系统：</p><ul><li>Webim: Aplus.js</li><li>Appim: User Track</li></ul><p>不同场景下的埋点规范打通多种业务场景：通过TimeTunel实现高性能、高可靠性的数据传输体系等。</p><h3 id="日志采集"><a class="markdownIt-Anchor" href="#日志采集"></a> 日志采集</h3><h4 id="浏览器页面日志采集"><a class="markdownIt-Anchor" href="#浏览器页面日志采集"></a> 浏览器页面日志采集</h4><ol><li>页面展现日志</li></ol><ul><li>UV：页面访客数量</li><li>PV：页面浏览量</li></ul><p>收集流程：</p><ol><li><p>采集：采集脚本植入HTML的JS脚本中，浏览器解析后脚本执行，收集各类信息。</p></li><li><p>发送：脚本采集到信息后，将发送至日志服务品</p></li><li><p>收集：日志服务器接收后，写入日志缓冲区</p></li><li><p>解析：服务端日志解析</p></li><li><p>页面交互日志</p></li></ol><p>收集鼠标或輸入焦点移动变化或者对页面交互的反应等，采用黄金令箭解决方案。</p><p>收集流程：</p><ol><li>业务方注册需采集的交互日志/业务场景以及采集点</li><li>业务方将日志采集代码植入页面，将代码与交互行为绑定</li><li>用户产生行为时，正常业务与采集代码—起被触发执行</li><li>采集完成后将日志传回服务器</li></ol><p>3.日志的清洗与预处理</p><p>将识别流量攻击/网络爬虫/虚假流量的日志剔除、型数据库装载使用。</p><h4 id="app端日志采集"><a class="markdownIt-Anchor" href="#app端日志采集"></a> App端日志采集</h4><p>通过UserTrack的SDK来进行无线日志的收集。UT将不同的用户行为分成几个类型：</p><p><strong>页面事件</strong></p><p>记录信息：</p><ul><li>设备及用户基本信息</li><li>被访问页面信息（业务参数）</li><li>访问基本路径（页面来源等）</li></ul><p>基本方法：</p><p>• 页面展现调用接口</p><p>• 页面退出调用接口</p><p>• 添加页面扩展信息接口</p><p>控件点击事件</p><h4 id="日志统一"><a class="markdownIt-Anchor" href="#日志统一"></a> 日志统一</h4><p>統一的原因：纯本地App和H5 App互相跳转，导致用户路径、数据丢失严重。统一有利于数据统计、数据采集采用Native部署采集SDK，将H5日志归到Native日志中</p><ul><li>采集SDK可以采集到更多设备相关数据</li><li>采集SDK处理日志时会先在本地缓存，再借机上传</li></ul><p>无线客户端日志传输</p><p>概括：日志产生后，先存储在客户端本地，在伺机上传。（需考虑前台操作时间、日志大小及合理性等）</p><p>日志上传时向服务器发送POST请求，服务端收到后对日志进行校验、存储、甚至按时间分流。日志收集后，通过消息队列Timel将日志给到MaxCompute，提供给下游实时订阅、实时计算或者离线计算。</p><h3 id="数据同步"><a class="markdownIt-Anchor" href="#数据同步"></a> 数据同步</h3><p>数据同步即将数据源的数据同步到目标库的过程。</p><p>源数据的来源和分类如下：</p><ul><li>Mysgl, Oracle等结构化数据</li><li>HBase、MongoDb等非结构化数据</li><li>OSS、NAS等文件结构</li></ul><h3 id="同步方式"><a class="markdownIt-Anchor" href="#同步方式"></a> 同步方式</h3><p><strong>直连同步</strong>：通过规范接口（JDBC等）直接连接业务库。配置、实现简单，适合操作性业务系统的数据同步，但对源系统的性能影响较大，抽取方式本身性能也较差。不适合从业务系统到数据仓库系統的同步</p><p><strong>数据文件同步</strong>：通过约定好的文件编码、大小格式等，从源系统生成数据的文本文件，由专门的FTP服务器传输到目标系统后加载到目标库。适合数据源包含多个异构数据库系统；文件传输前对数据压缩加密、传输中时校验文件的数据量以及文件大小，保证文件传输的效率和安全性。</p><p><strong>数据库日志解折同步</strong>：通过使用日志文件进行系统恢复。如Oracle通过源系統进程，读取归档日志用于收集变化的数据信息。通过判断日志中的变更是否属于被收集对象，将其解析置目标数据文件中，通过网络传输至目标系统，加载导入至目标库。</p><p>此实现方式基于实时与准实时之间，延迟在毫秒级别。对业务系统性能影响较小。缺点：</p><ul><li>数据延迟：业务系統做批量补录时可能使数据更新量超过系統处理峰值，导致数据延迟</li><li>投入较大：需在源库与目标库之间部署一个系统实时抽取数据</li><li>数据漂移和遗漏：对增量表而言，指前长天和后一天之间凌晨附近的数据丢失。</li></ul><h3 id="阿里datax的数据仓库"><a class="markdownIt-Anchor" href="#阿里datax的数据仓库"></a> 阿里DataX的数据仓库</h3><p>集成性：集成了不同的数据来源、不同形式的数据将其整合到一起。除了数据库内的结构化数据，还有诸如日志、图片、视频等大量非结构化数据。</p><p>数据量：传統数据库的同步量大约在几百GB，阿里的MaxCompute在EB级别，每日同步量也是PB级。</p><p>DataX 将数据从数据源读出后，转换为中间态。并在目标数据库系统将中间态数据转为对应的数据格式写入。</p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20240522212748357.png" style="zoom:50%;"><p>TimeTunnel实时数据传输平台</p><p>基于生产者、消费者和Topic消息标识的消息中间件，将消息持久化到HBase的高可用、分布式数据交互系统。（类似Kafk）</p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20240522213255702.png" style="zoom:50%;"><h3 id="数据计算"><a class="markdownIt-Anchor" href="#数据计算"></a> 数据计算</h3><p>计算云平台：</p><ul><li>离线计算平台MaxCompute：自主研发的离线大数据平台，功能丰富、存储/计算能力强大</li><li>实时计算平台StreamCompute：自主研发的流式大数据平台，较好支持流式计算</li><li>数据鏊合及管理体系OneData：数据整合及管理的方法体系和工具</li></ul><h4 id="maxcompute"><a class="markdownIt-Anchor" href="#maxcompute"></a> MaxCompute</h4><p>主要用于海量数据的存储和计算，提供完善的数据导入方案、以及多种经典的分布式计算模型。采用抽象的作业处理框架，将不同场景的各种计算任务统一在同一平台上。为不同用户需求的各种数据处理任务提供统一的编程接口和界面。</p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20240522213416213.png" style="zoom:50%;"><h4 id="组成"><a class="markdownIt-Anchor" href="#组成"></a> 组成</h4><p>客户端：以Web、SDK、CLT、IDE等方式对外提供服务与实现。</p><p>接入层：提供HTTP服务、Cache、负载均衡，实现用户认证和服务层面的访问控制。</p><p>逻辑层：核心部分，实现用户空间和对象的管理，命令的解析与执行逻辑、数据对象的访问控制与授权等。有三个角色：</p><ul><li>Worker：处理所有RESTful请求，对于需要启动MapReduce的作业，生成MaxCompute Instance提交给Schedule进一步处理。</li><li>Schedule：负责MaxCompute Ingtance的调度和拆解，并向计算层的计算集群询问资源占用情况以进行流控。</li><li>Excutor：负责MaxCompute INstance的执行，向计算层的计算集群提交真正的计算任务</li></ul><p>计算层：飞天内核，运行在和控制层相互独立的计算集群上，包括Pangu、Fuxi. Nuwa/ZK、Shennong等MaxConpute中的元数据存储在阿里云计算的另一个开放OTS中，元教据內容主要包括用户空间元数据、Table/Partition Schema、ACL、Job元数据等。</p><h4 id="特点"><a class="markdownIt-Anchor" href="#特点"></a> 特点</h4><p>计算性能高且普患；集群规模大且稳定；功能组件强大；安全性高</p><h3 id="统一开发平台"><a class="markdownIt-Anchor" href="#统一开发平台"></a> 统一开发平台</h3><p>围绕MaxCompute计算平台，从任务开发、调试、测试、发布、监控、报警到运维管理，一整套工具和产品。</p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20240522213648239.png" style="zoom:50%;"><h4 id="在云端d2"><a class="markdownIt-Anchor" href="#在云端d2"></a> 在云端D2</h4><p>数据开发平台，集开发、调试、发布、调度以及运维、权限管理等功能。开发流程如下：</p><ol><li>使用IDE创建计算节点（SQL、MR或Shell任务），编写节点代码，设置节点属性，配置关联节点依赖，配置后可试运行。</li><li>任务提交节点进入开发环境，进入工作流内。工作流可被人为触发或系统自动调度与运行。节点满足条件后，下发到调度系统的执行引擎Alisa，完成资源分配和执行。</li><li>开发环境运行无误后，可提交到生产。</li></ol><h4 id="sqlscan"><a class="markdownIt-Anchor" href="#sqlscan"></a> SQLSCAN</h4><p>嵌入D2平台中，在开发提交代码时触发SQLSCAN检音。主要检育如下几项：</p><ul><li>代码规范美：如命名，生命周期、表注释*代码质量类：调度参数检查、分母为0提醒、NULL值参与计算影响结果提醒、插入字段顺字错误等。</li><li>代码性能类：扫描大表、重复计算检测等。</li></ul><p>规则有强弱之分，触发强规则时代码提交被阻断，必须修复后才能再次提交。触发若规则只会提示出来，但可以继续提交任务。</p><h4 id="dqc"><a class="markdownIt-Anchor" href="#dqc"></a> DQC</h4><p>数据质量中心，关注数据质量，通过配置数据质量校验规则，在数据处理时对数据质量进行监控和清洗。</p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20240522213931705.png" style="zoom:50%;"><h4 id="在彼岸"><a class="markdownIt-Anchor" href="#在彼岸"></a> 在彼岸</h4><p>大数据系统自动化测试平台，将通用的、重复性的操作沉淀在测试平台中，提高效率。</p><p>数据对比：支持不同集群、异构数据库的表做数据对比。</p><p>数据分布：提取表和字段的一些特征值并对比。</p><p>数据脱敏：将敏感数据模糊化，实现线上数据脱敏，便于业务联调、数据交换等。</p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20240522214910822.png" style="zoom:50%;"><h4 id="任务调度系統"><a class="markdownIt-Anchor" href="#任务调度系統"></a> 任务调度系統</h4><p>用户通过D2平台提交发布的任务节点，通过调度系统按任务的运行顺序调度运行</p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20240601221112887.png" style="zoom:50%;"><ul><li>调度引擎 (Phoenix Engine）：根据任务节点属性和依赖关系进行实例化，生成各类参数的实值和调度树。<ul><li>任务状态机模型：数据任务节点在整个运行生命周期的状态定义。</li><li>工作流状态机模型：数据任务节点在调度树中生成的工作流不同状态定义</li></ul></li></ul><p>基于2个模型原理，以事件驱动的方式运行，为数据任务节点生成实例，并在调度树中生成具体执行的工作流。</p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20240601221330254.png" style="zoom:50%;"><ul><li>执行引擎(Alisa）：根据生成的具体实例和配置信息分配资源，在对应的执行环境中运行节点代码</li></ul><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20240601221428243.png" alt="image-20240601221428243" style="zoom:50%;"><p>任务管理接口：提供给用户向Alisa中提交、查询和操作离线任务的入口，并获取异步通知。<br>系统管理接口：系统管理员进行后台管理，包括为集群新增机器、划分咨源组、查询集群咨源、负载、追踪任务状态等。<br>Driver： Alisa的调度器，实现了上面2个接口，负责任务的调度策略、集群容灾、伸缩、任务失效备缓、负载均衡。<br>Task Pool: Driver将已提交的任务都放到Task Pool中管理，包括不同状态下的任务，直到任务运行完成才会将其移出。Driver和Node通过TaskPool提供的事件机制进行可靠的通信。<br>ResourceManager：用于集群整体资源的管理。<br>Task container：类似Web Server，为任务运行提供容器，负麦处理任务的公共逻辑，例如文件下载，任务级Session、流程级Session的维护等。<br>Node：代表Alisa集群中的一个节点，节点负责提供任务运行所需的物理资源，Node是逻辑概念，一台物理机上可以布置一个或多个Node。</p><p>系统将任务提交到Alisa中后，无需关心任务应该在哪里执行以及如何被执行，降低了系统本身的复杂度。同时其任务可以共享同一个物理集群资源，提高了资源利用效率。如果任务是MaxCompute中的任务，计算实际会提交到MaxCompute集群中，Alisa只作为一个Client。对应的，流计算任务以及Shell、离线数据同步任务、实时同步任务等也会在对应的环境执行。</p><h2 id="实时计算"><a class="markdownIt-Anchor" href="#实时计算"></a> 实时计算</h2><p>与离线批处理相对的是流式实时处理，是针对时效性较高的场景提供服务的。按照数据延迟情况，数据时效性一股分为三种：<br>离线：在今天T处理N天之前的数据（N&gt;=1），延迟时间粒度为天，例如Linkdo上的日任务</p><p>准实时：在当前小时H处理 N小时之前的数据（N&gt;0，如0.5、1）延迟时间粒度为小时，例如Linkdo上的SEQ任务</p><p>实时：在当前时刻处理当前的数据，延迟时间粒度为秒<br>商线和准实时都可以在批处理系統中实现（如Hadoop、Waxcompute. Spark）等，只是调度周期不一样。实时数据要在流式处理系统中完成</p><p>流式处理：指业务系统每产生—条教据；就会立刻被采集并发送到流式任务中进行处理，不需要定时谓度任务来处理数据。流式处理有如下特点：</p><ul><li><p>时效性高：延迟粒度在秒级甚至窒秒级，业务方可以在第一时间拿到处理加工后的数据。</p></li><li><p>常驻任务：流式任务属于常驻进程任务工一旦启动后就会一直运行，直到人为停止，所以计算成本比较高。</p><ul><li>流式任务的数据源是无界的，离线任务的数据源是有界的。因此在数据处理上有一定局限性。</li></ul></li><li><p>性能要求高：如果处理吞吐量跟不上采集量，计算出来的数据失去了实时性，产出的数据的延迟也会越来越高，有可能影响业务方决策。</p><ul><li>在互联网行业中，需要在数据量快速膨胀的情况下同样保持高吞吐量和低延迟。</li></ul></li><li><p>应用局限性：对于业务逻辑复杂的场桌，例收如双流关联、有数据回滚需求的情况，流式处理无法支持，因此流式处理不能代替离线处理。</p></li></ul><h4 id="流式架构"><a class="markdownIt-Anchor" href="#流式架构"></a> 流式架构</h4><p>流式架构需要在不同的子系统之间相互依赖形成一条数据处理链路，才能产出结果最终对外提供实时数据服务。不同的子系统按功能分类可分为如下几</p><p>1、数据采集<br>实时计算也需要求目志实时采集，日志均来源于业务服务器，其中主要分为：数据库变更日志&amp;引擎访问日志，采集后落在文件中。只要监控文件内容发生变化，采集工具就可以把最新的数据采集下来。采集时，一般按如下规则：</p><ul><li><p>数据大小限制：例如到达512K时，把数据作为新的一批。</p></li><li><p>时间阈值限制：例如30秒写一批，避免在数据量少的情况一直不采集。</p></li></ul><p>这2个条件满足其一即可采集，具体参数根据业务需求设定。数据采集后，需要一个数据中间件分发给下游，例如Kalka、MetaQ、阿里的Time Tunnel。这里涉及2个概念：时效性和吞吐量，等用到了再具体举例。<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20240601223243395.png" style="zoom:50%;"></p><p>2、数据处理<br>一般对流式数据进行处理的系统有：推特开源的Storm、Spark Streaming、Flink， 阿里用的是自研的Stream Compute。实时应用的整个拓扑结构是一个有向无环图，如下图所示：</p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20240601223347991.png" style="zoom:50%;"><p>spout：拓扑的输入，从数据中间件读取数据，根据分发规则发送给下游，可以有多个输入源。<br>bolt：业务处理单元，可根据处理逻辑分为多个步骤，相互分发时也有自定义规则。<br>实时任务一股是多线程的，根据业务主键进行分桶处理，大部分计算过程需要的数据都会放在内存中，可大大提高应用的香吐量。以下是实时任务中的典型问题：</p><p><strong>去重指标</strong><br>去重是指删除重复的数据记录，保留唯一的数据记录的过程。为了追求处理性能，计算逻辑—股在内存中完成，中间结果数据也会缓存在内存，这样就会带来内存消耗过多的问题。去重可以遊免重复计算：减少存储空间占用和提高数据处理效率。计算去重时，需要将去重的明细数据保存下来，如果内存中放不下，就需要另想办法：<br>如果数据是必须要保留下来的，那就通过数据倾斜来处理，将一个节点的内存分到多个节点上，如果数据量非常大但精度要求不高，可以使用去重算法，提高内存使用率。（布隆过滤器、基数估计）</p><p><strong>数据倾斜</strong><br>例如计算一天中全网访容量或者成交额，最终计算的结果只有一个，而这一股是在一个节点上完成的计算任务。而在数据量非常大时，单节点的处理能力是有限的，所以需要对数据进行分桶处理</p><ul><li>去重指标分桶：通过对去重值进行分桶Hash，相同的值会放到同一个桶里，再把每个桶的值相加得到总值。利用了每个桶的CPU和内存</li><li>非去重指标分桶：数据随机分发到每个桶，最后把每个桶的值汇总。利用了每个桶的CPU。</li></ul><p><strong>事务处理</strong><br>实时计算是分布式处理的，基本上所有流计算系统都提供了数据自动ACK、失败重发以及事务等机制，以保证数据的幂等性。</p><ul><li><p>超时间：数据的处理是投批次来的，每当数据超时时，就会从spout端重发数据。每个批次处理的数据不宜过大，应限流。</p></li><li><p>事务信息： 每批数据都携带事务ID，在重发的情况下，需要开发者自行处理首次到达和重发时的逻辑处理。</p></li><li><p>备份机制：开发人员需要保证内存中的数据可以通过外部存储恢复，因此在计算中用到的中间数据结果都需要备份到外部存储中。</p></li></ul><p>3、数据存储<br>实时任务在运行过程中，会计算很多维度和指标，这些数据需要放在一个存储系统中作为恢复或关联使用。涉及三种类型的数据：</p><ul><li><p>中间计算结果：在数据处理了过程中，有一些状态的保存，用于在发生故障时，从数据库中取出恢复内存现场。</p></li><li><p>最终数据结果：通过ETL处理后的实时结果数据，这些数据是实时更新的，写的频率非常高，可以直接被下游使用。</p></li><li><p>维表数据：离线计算系统中，通过同步工具导入到在线存储系统中，供实时任务来关联流数据。</p></li></ul><p>不同的数据类型，需要选择的数据库也不一样。实时任务一股使用HBase、MangoDB等列式存储系统。这些系统在写数据时先写内存再落磁盘，不管是写或者读甚至并发读都可以达到毫秒级延时。但缺点也比较明显，例如HBase对表的涉及和命名需要一定的讲究。</p><p>4、数据服务</p><p>实时数据落地到存储系统后，使用方通过统一的数据服务获取到实时数据，调用方不直接连数据库，只使用服务层暴露的接口，无需关心底层取数逻辑的实现。</p><h4 id="流式数据模型"><a class="markdownIt-Anchor" href="#流式数据模型"></a> 流式数据模型</h4><p>流式数据模型跟离线模型类似，数据模型整体分为5层：<br>操作数据层ODS：直接从业务系统采集过来的最原始的数据，包含所有业务变更过程，ODS层的事实日志采集和离线日志采集是一致的，同一份数据加工出的指标，口径基本是统一的，可以更方便地对比实时和离线数据。例如原始订单变更记录数据、服务器引擎访问日志</p><ul><li><p>事实明细层DWD：在ODS基础上，根据业务过程建模出来，对于访问日志这种没有上下文关系、无需等待过程的记录，会回流到离线系统供下游使用，保证实时与高线数据在ODS和DWD层是一致的。例如：订单支付明细表、退款明细表等</p></li><li><p>汇总数据层DWS：订阅明细层数据后在实时任务中计算各维度的汇总指标，如果维度是各垂直业务线通用的，就会放在实时通用汇总层，作为通用的数据模型使用。例如电商几大维度汇总表：卖家、商品、买家</p></li><li><p>个性化维度汇总层ADS：对于不是特别通用的统计维度数据放在这一层，计算只有自身业务才会关注的维度和指标，常用于—些垂直新业务中，例如淘宝下某个爱逛街、微淘等垂直业务。</p></li><li><p>实时维表层DIM：基本都是从高线维表层导出来的，抽取到在线系統中供实时应用调用。</p></li></ul><p>以电商订单举例说明每一层存储的数据</p><p>ODS层：订单粒度的变更过程，一笔订单有多条记录<br>DWD层：订单粒度的支付记录，一笔订单只有一条记录<br>DWS层：卖家实时成交金额，一个卖家只有一条记录，并且指标在实时刷新<br>ADS层：外卖区块的实时成交金额，只有外卖业务使用<br>DIM层：订单商品类目和行业的对应关系维表</p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20240601230652622.png" style="zoom:50%;"><p>ODS层离线处理完成后，同步至实时计算所使用的的存储系統<br>ODS和OWD层放至数据中同件共下涉订阅使用<br>DWS和ADS层落地到在线存储系统中，供下游通过接口调用</p><h4 id="大促保障"><a class="markdownIt-Anchor" href="#大促保障"></a> 大促保障</h4><p>大促特征：大促是一场对数据计算的高吞吐量、低延时、高保证性、高准确性的挑战。<br>毫秒级延时：业务方和用户对实时数据非常关注，尤其是在跨零点或者全球直播大屏，这种要求吞吐量和延时兼得的情况，必须要做针对性优化才能满足需求。</p><p>洪峰明显：零点开售的峰值陡峰是非常明显的，一般是日常峰值的几十倍。因此对数据处理链路的每个系统都是巨大的桃战，需要在大促前多次对全链路压测和预案梳理，确保系统能够承载住洪峰冲击。</p><p>高保障性：只要出现数据延迟或者数据异常问题，业务方反弹较大，会第一时间感知到数据异常。因此在大促期间一股都要求高保障或强保障。对于保障的数据，需要做多链路冗余，从采集、处理到数据服务整个数据链路都需要做物理隔离，任意—条链路出现问题时，都能够无感切换至备链。<br>公关特性：大促期问数据及时对公众披露是非常重要的，要求实时计算的数据质量非常高，涉及主键过滤、去重的精准和口径统一等一系列问题.</p><h4 id="实时任务优化"><a class="markdownIt-Anchor" href="#实时任务优化"></a> 实时任务优化</h4><p>1、独占资源和共享资源的策略<br>如果某个任务在运行时80%以上的时间都需要抢咨源，就需要考虑给它分配更多的独占资源，避免抢不到CPU资源导致吞吐量急剧下降</p><p>2、合理选择缓存机制，尽量降低读写库次数<br>内存里读写性能是最好的，让最热和最可能使用的数据留在内存，读写库次数降低后，吞吐量自然上升了。</p><p>3、计算单元合并，降低拓扑层级<br>拓扑结构层级越深性能越差。数据在每个节点传输时，大部分是需要经过序列化和反序列化的，这个过程非常消耗CPU和时间</p><p>4、内存对象共享，避免字符串拷贝<br>海量数据处理时，大部分对象都是以字符串形式存在的，在不同线程间台理共享对象，可大幅降低字符拷贝带来的性能消耗，但要注意不合理使用带来的内存溢出问题.</p><p>5、高吞吐量和低延时之问取平衡<br>高吞吐量和低延时这两个特性是一对矛盾体，当多个读号库操作或者ACK操作合井成一个时，可以大幅降低因为网络请求带来的消耗，不过也会导致延时高一些，需在业务上衡量进行取舍。</p><h4 id="数据链路保障"><a class="markdownIt-Anchor" href="#数据链路保障"></a> 数据链路保障</h4><p>实时数据的处理链路非常长，一个环节出现问题，都会导致实时数据停止更新。实时计算属于分布式计算的一种，单个节点故障是常态。因此为了保证实时数据的可用性，需要对整条计算链路都进行多链路搭建，做到多机房容灾甚至异地容灾。</p><p>由于造成链路问题的情况较多，一般不能在秒级定位到原因，因此会通过工具对比多条链路的结果数据，当某条链路出现问题时可以立即发现，然后一键切换到备链，通过推送配置的形式让其秒级生效，整个流程对直播大屏完全透明，用户也感知不到故障发生。</p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20240602083541524.png" style="zoom:50%;">]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>北鲲云&amp;并行科技超算平台竞品分析</title>
    <link href="/post/351ff59c.html"/>
    <url>/post/351ff59c.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><h3 id="3-北鲲云产品分析"><a class="markdownIt-Anchor" href="#3-北鲲云产品分析"></a> <strong>3 北鲲云产品分析</strong></h3><h4 id="31-厂商简介北鲲云发展情况-公司简介-创始人信息-发展历程-组织信息"><a class="markdownIt-Anchor" href="#31-厂商简介北鲲云发展情况-公司简介-创始人信息-发展历程-组织信息"></a> <strong>3.1 厂商简介（北鲲云发展情况）</strong> 公司简介、创始人信息、发展历程、组织信息</h4><h5 id="311公司简介"><a class="markdownIt-Anchor" href="#311公司简介"></a> <strong>3.1.1公司简介</strong></h5><p>深圳北鲲云计算有限公司（简称 “北鲲云”，原深圳云端软件有限公司） 2018年4月诞生于欧洲硅谷—斯德哥尔摩Kista，专注于为高性能计算行业提供一站式Cloud-HPC产品和服务，于2019年3月进入中国大陆市场。自主研发的北鲲云超算平台，主要应用于生命科学、人工智能、芯片设计、高科技制造、CAE/CFD、大气海洋环境、天文地球物理、影视与动漫制作、高性能计算超级计算机等领域，已成功服务中国数千家企业、研究所及高校。</p><p>北鲲云是Cloud-HPC的先行者，拥有全球领先的Cloud-HPC SaaS平台，并已申请多项专利。北鲲云拥有一支年轻的国际化团队，核心成员来自于Oracle、Ericsson、IBM、华为等国际知名企业，拥有15年以上世界500强的研发和企业服务管理经验。</p><h5 id="312发展历程"><a class="markdownIt-Anchor" href="#312发展历程"></a> <strong>3.1.2发展历程</strong></h5><p>2021.05——正式更名为“深圳北鲲云计算有限公司”</p><p>2021.02——完成数千万Pre-A轮融资</p><p>2020.02——单个集群服务器数量超过25000台</p><p>2019.10——完成1000万天使轮融资</p><p>2019.04——中国-深圳云端软件成立 北鲲云 1.0正式发布</p><p>2018.10——ONE Cloud 1.0 正式发布</p><p>2018.07——瑞典-成立Edgec Solution AB完成天使轮融资</p><p>2018.04——诞生于欧洲硅谷Kista启动ONE Cloud开发</p><h5 id="313公司团队"><a class="markdownIt-Anchor" href="#313公司团队"></a> <strong>3.1.3公司团队</strong></h5><p><strong>冯建新 创始人&amp;CEO</strong></p><p>科技行业连续创业者，多年全球500强跨国工作经验，多个Github云相关开源项目的核心贡献者。拥有多次国内外创业经历，2018年在瑞典创立EdgeC Solution AB公司，专注于为企业提供一站式云超算（Cloud-HPC）服务。</p><p><strong>李青松 联合创始人&amp;CTO</strong></p><p>曾任爱立信总部云基础设施及环境部门自动化产品负责人，领导多个开发团队负责云自动化及虚拟化，拥有多项国际发明专利，2018年与创始人&amp;CEO冯建新共同创立EdgeC Solution AB</p><p><strong>魏澍 欧洲市场负责人</strong></p><p>清华大学热物理学硕士，对先进科学技术充满热情，曾在瑞典创立最受关注和喜爱的FoodTech初创公司。在业务开发，产品管理，品牌和数字营销方面拥有独特的专业知识和丰富经验，海外市场专家</p><p><strong>林海 战略顾问</strong></p><p>中国优秀创新企业家、中国经济新领军人物、飞豹投资董事长、IBG资本联合创始人、全球无人机品牌十强FLYPRO飞豹无人机创始人及CEO，担任多家企业品牌战略与区块链投资顾问</p><p><strong>周宇 技术顾问</strong></p><p>前爱立信（瑞典）高级技术专家，技术极客（云计算，区块链），10年以上的大规模计算、服务端架构经验，精通各种算法，多项相关发明专利，曾担任多个国际化项目的技术负责人，带领跨国团队成功完成美国Verizon多个大规模计算项目</p><h4 id="32-产品一览北鲲云科研算力或平台产品-解决方案有哪些产品全家福"><a class="markdownIt-Anchor" href="#32-产品一览北鲲云科研算力或平台产品-解决方案有哪些产品全家福"></a> <strong>3.2 产品一览（北鲲云科研算力或平台产品、解决方案有哪些，产品全家福）</strong></h4><p><strong>产品</strong></p><p>北鲲云自主研发的北鲲云超算平台是其主要产品。主要应用于人工智能、芯片设计、高科技制造、CAE/CFD、生命科学、大气海洋环境、天文地球物理、影视与动漫制作、高性能计算超级计算机等领域。</p><p><strong>解决方案</strong></p><p>​            1.     生命科学</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051548593.png" alt></p><p>​            2.     人工智能</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051548379.png" alt></p><p>​            3.     高校/科研</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051548796.png" alt></p><p>​            4.     CAE/CFD</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051548720.png" alt></p><p>​            5.     EDA芯片设计</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051548443.png" alt></p><h4 id="33-产品功能和售卖模式北鲲云卖什么-产品功能是什么样的-怎么卖-价格多少可以用表格等形式"><a class="markdownIt-Anchor" href="#33-产品功能和售卖模式北鲲云卖什么-产品功能是什么样的-怎么卖-价格多少可以用表格等形式"></a> <strong>3.3 产品功能和售卖模式（北鲲云卖什么、产品功能是什么样的、怎么卖、价格多少，可以用表格等形式）</strong></h4><p>北鲲云自助研发的北鲲云超算平台是主要产品。主要应用于人工智能、芯片设计、高科技制造、CAE/CFD、生命科学、大气海洋环境、天文地球物理、影视与动漫制作、高性能计算超级计算机等领域。</p><p>北鲲云超算平台通过公有云借鉴传统超算中心大规模并行和数据处理的技术架构，并以图形芯片为计算算力底座，为运行数万不同类型软件的任务提供新型算力基础设施。同时，细化不同类型的计算软件应用，为用户提供高效算力的同时，提供弹性的算力。</p><p><strong>版本对比</strong></p><table><thead><tr><th><strong>版本</strong></th><th><strong>适用<strong><strong>客户</strong></strong>对象</strong></th><th><strong>功能/优势</strong></th></tr></thead><tbody><tr><td>标准版</td><td>适合使用基础功能的个人用户</td><td>● 开箱即用的软件                ● 丰富的算力资源                ● 文件管理                ● 命令行和图形桌面支持                ● 自定义镜像                ● API对接</td></tr><tr><td>企业版</td><td>适合有团队管理和高级安全 功能需求的企业用户</td><td>● 标准版所有功能                ● 支持多团队多用户                ● 支持数据共享                ● 支持计算区个性化配置                ● 高级安全功能                ● 预算控制</td></tr><tr><td>专享版</td><td>适合要求环境独立、数据完全隔离的数据敏感型用户</td><td>● 企业版所有功能                ● 独立部署                ● 支持专线                ● 专属技术专家支持</td></tr><tr><td>私有化版</td><td>适合需要本地部署、独立运维的私有化用户</td><td>● 专享版所有功能                ● 专属管理后台                ● 管理本地集群                ● 使用自持云账号                ● 支持独立运营</td></tr></tbody></table><p><strong>功能对比</strong></p><table><thead><tr><th>模块</th><th>功能</th><th>标准版</th><th>企业版</th><th>专享版</th><th>私有化版</th></tr></thead><tbody><tr><td>平台使用</td><td>多计算区</td><td>是</td><td>是</td><td>是</td><td>是</td></tr><tr><td>仪表盘</td><td>是</td><td>是</td><td>是</td><td>是</td><td></td></tr><tr><td>应用中心</td><td>是</td><td>是</td><td>是</td><td>是</td><td></td></tr><tr><td>模板提交作业</td><td>是</td><td>是</td><td>是</td><td>是</td><td></td></tr><tr><td>命令行提交作业</td><td>是</td><td>是</td><td>是</td><td>是</td><td></td></tr><tr><td>图形界面提交作业</td><td>是</td><td>是</td><td>是</td><td>是</td><td></td></tr><tr><td>文件存储</td><td>是</td><td>是</td><td>是</td><td>是</td><td></td></tr><tr><td>镜像中心</td><td>是</td><td>是</td><td>是</td><td>是</td><td></td></tr><tr><td>通知中心</td><td>是</td><td>是</td><td>是</td><td>是</td><td></td></tr><tr><td>API</td><td>是</td><td>是</td><td>是</td><td>是</td><td></td></tr><tr><td>独立计算区</td><td></td><td>是</td><td>是</td><td>是</td><td></td></tr><tr><td>账户管理</td><td>账户资源和作业总览</td><td></td><td>是</td><td>是</td><td>是</td></tr><tr><td>账单和费用明细</td><td>是</td><td>是</td><td>是</td><td>是</td><td></td></tr><tr><td>预算控制</td><td></td><td>是</td><td>是</td><td>是</td><td></td></tr><tr><td>团队管理</td><td>多团队</td><td></td><td>是</td><td>是</td><td>是</td></tr><tr><td>多用户</td><td></td><td>是</td><td>是</td><td>是</td><td></td></tr><tr><td>权限管理</td><td></td><td>是</td><td>是</td><td>是</td><td></td></tr><tr><td>系统管理</td><td>计算区管理</td><td></td><td>是</td><td>是</td><td>是</td></tr><tr><td>软硬件管理</td><td></td><td>是</td><td>是</td><td>是</td><td></td></tr><tr><td>数据生命周期管理</td><td></td><td>是</td><td>是</td><td>是</td><td></td></tr><tr><td>配额管理</td><td></td><td>是</td><td>是</td><td>是</td><td></td></tr><tr><td>安全管理</td><td>SSH登录策略和秘钥对管理</td><td>是</td><td>是</td><td>是</td><td>是</td></tr><tr><td>传输加密控制</td><td>是</td><td>是</td><td>是</td><td>是</td><td></td></tr><tr><td>数据共享和访问控制</td><td></td><td>是</td><td>是</td><td>是</td><td></td></tr><tr><td>网络策略</td><td></td><td>是</td><td>是</td><td>是</td><td></td></tr><tr><td>操作审计</td><td></td><td>是</td><td>是</td><td>是</td><td></td></tr><tr><td>单点登录(SSO)</td><td></td><td>是</td><td>是</td><td>是</td><td></td></tr><tr><td>多因素验证(MFA)</td><td></td><td>是</td><td>是</td><td>是</td><td></td></tr><tr><td>开发授权(OAuth2)</td><td></td><td>是</td><td>是</td><td>是</td><td></td></tr><tr><td>专线</td><td></td><td></td><td>是</td><td>是</td><td></td></tr><tr><td>运维部署</td><td>独立部署</td><td></td><td></td><td>是</td><td>是</td></tr><tr><td>使用自持云账号</td><td></td><td></td><td></td><td>是</td><td></td></tr><tr><td>本地集群管理</td><td></td><td></td><td></td><td>是</td><td></td></tr><tr><td>支持独立运营</td><td></td><td></td><td></td><td>是</td><td></td></tr></tbody></table><p><strong>计费模式</strong><a href="https://www.bkunyun.com/helpce/docs/2020/about3#%E4%BA%8C-%E8%AE%A1%E8%B4%B9%E6%A8%A1%E5%BC%8F"> </a></p><table><thead><tr><th>计费模式</th><th>说明</th><th>优势</th><th>劣势</th><th>计费规则</th></tr></thead><tbody><tr><td>标准型</td><td>启动运行中开始计费，释放结束计费，期间不监控是否有提交任务或者闲置，部分机器支持停机只收取系统盘保存数据费用</td><td>弹性计费，释放就结束计费</td><td>价格相比包年包月稍贵，停机后资源不会预留，如果下次开机时正好该队列资源不足则需要等待或使用其他方式解决（如保存模板）</td><td>费用=节点单价 * 启动节点时长。计费周期精确到分钟，按小时出账。</td></tr><tr><td>经济型</td><td>启动运行中开始计费，释放结束计费，期间不监控是否有提交任务或者闲置，不支持停机</td><td>1.     弹性计费，释放就结束计费。            2.     价格比同等配置的标准型便宜，适合跑周期短的任务</td><td>1.     不支持停机            2.     有被系统释放的风险，不适合跑周期比较长或者不支持续跑的任务</td><td>费用=节点单价 * 启动节点时长。计费周期精确到分钟，按小时出账。</td></tr><tr><td>长效型</td><td>长效型为预付费，租用时一次性付清，支持按月、按年等时长，包年包月到期后支持续费，续费周期支持按月、按年</td><td>停机或者更换系统镜像等不用担心资源被其他用户占用，价格相对便宜，长期使用更划算</td><td>1.     目前只支持图形工作站，无法退款和转按量计费模式            2.     弹性上不如按量计费</td><td>费用=节点单价 * 购买时长。</td></tr><tr><td>数据盘计费</td><td>如果节点是按量计费且数据盘大小选择超过500G，每小时结算一次，无论节点是否开机，均会计费。如果节点是包年包月，付费数据盘会计算在总费用中 ，租用时付清，无论节点是否开机</td><td></td><td></td><td></td></tr></tbody></table><p><strong>计费标准</strong></p><p>官网收费页面：<a href="https://www.bkunyun.com/v2/personal/charges">北鲲云 - 一站式云超算平台</a></p><table><thead><tr><th><strong>计费项</strong></th><th><strong>价格</strong></th></tr></thead><tbody><tr><td>硬件资源</td><td>根据所选用配置不同，价格也不同。例如：CPU：通用计算区中的海星（配置Intel Xeon Gold 6149 2.5 GHz 4核 1G/核 40G），标准型单价0.08/核时，每小时费用￥0.32GPU：通用计算区中的抹香鲸（配置NVIDIA GeForce 3090 32核 94GB节点），经济型单价为5卡时，每小时费用￥5</td></tr><tr><td>Windows工作站停机后的系统盘</td><td>1G每小时0.001元</td></tr><tr><td>镜像中心安装软件和自定义镜像</td><td>不同的计算区收费价格不一样。</td></tr><tr><td>硬盘存储</td><td>节点储存0~80G免费，80G+ ￥1.8/小时/TB；集中储存0~200GB免费，200G+ ￥10/天/TB；活跃快照免费，静默快照 ￥0.2/小时/TB；弹性并行文件系统根据具体配置收费不同。</td></tr><tr><td>管理节点</td><td>0.2元/小时</td></tr></tbody></table><h2 id><a class="markdownIt-Anchor" href="#"></a> </h2><h2 id="三-查看硬件资源价格"><a class="markdownIt-Anchor" href="#三-查看硬件资源价格"></a> 三. 查看硬件资源价格</h2><p>在北鲲云 - 一站式云超算平台,选择对应计算区查看相关资源的单价。</p><p>​                ● 内存配比：设置计算节点内存大小为单节点核心数×内存配比。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051549325.png" alt></p><p><strong>功能介绍：</strong></p><p>一. 仪表盘</p><p>仪表盘是日志服务提供的实时数据分析大盘，方便及时掌握账户、消息、作业和资源使用情况。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051549488.png" alt></p><p>二. 应用中心</p><p>可以在此搜索所需要的软件，待申请通过后点击提交作业，选择习惯的作业提交方式。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051549684.png" alt></p><p>三. 作业管理</p><p>使用模板提交作业的管理界面，可查看作业状态、连接运行中的计算节点、查看历史作业等信息。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051549689.png" alt></p><p>四. SSH连接</p><p>该功能适用于对 slurm命令 有一定了解的用户使用，全程通过命令行提交作业，支持单/多节点并行计算。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051549465.png" alt></p><p>五. 图形界面</p><p>带有图形化桌面操作的工作站，支持Windows与Linux两种操作系统，只能单节点并行计算。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051549531.png" alt></p><p>六. 文件传输</p><p>提供输入文件和结果文件的上传下载，支持在线查看。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051549092.png" alt></p><p>七. 数据集</p><p>数据集可以理解为机器学习场景下的标注数据，这里分为公共数据集和私有数据集，公共数据集将对所有企业用户可申请，私有数据集只对企业账号下的用户可见。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051549317.png" alt></p><p>八. 镜像中心</p><p>镜像中心分为虚拟机镜像和容器镜像，虚拟机镜像方便自行安装软件并制作自定义镜像，以在计算时调用；在容器镜像中可以新建仓库、推送镜像，以在作业中运行容器化应用。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051549193.png" alt></p><h4 id="34-北鲲云市场表现和占有情况北鲲云目前的市场占有规模数据-重点行业-主要客户-客户特征等说明-1-市场占有荣誉区域性-全国性的-表彰-奖励-营收-利润-排名-2-服务的重点行业-3-主要大客户-4-案例"><a class="markdownIt-Anchor" href="#34-北鲲云市场表现和占有情况北鲲云目前的市场占有规模数据-重点行业-主要客户-客户特征等说明-1-市场占有荣誉区域性-全国性的-表彰-奖励-营收-利润-排名-2-服务的重点行业-3-主要大客户-4-案例"></a> <strong>3.4 北鲲云市场表现和占有情况（北鲲云目前的市场占有规模数据、重点行业、主要客户、客户特征等说明）</strong> 1、市场占有：荣誉（区域性、全国性的）、表彰、奖励、营收、利润、排名 2、服务的重点行业 3、主要大客户 4、案例</h4><p><strong>表彰荣誉</strong></p><p>北鲲云超算平台目前在国内的市场占有率不高，但它在高性能计算云服务领域也取得了一定的成绩和口碑。2021年，北鲲云作为中国信通院HPC Cloud联盟创始成员参与编写《高性能计算云(HPC Cloud)白皮书》，还获得“中国云计算厂商‘30强榜’” 、“科创榜单-深港澳科创新锐企业TOP100” 、“大湾区高成长性企业TOP50”。</p><p><strong>企业资质</strong></p><p>​                ● 国家高新企业认证</p><p>​                ● 信息技术服务管理体系认证</p><p>​                ● ISO9001质量管理体系认证</p><p>​                ● 多项国家自主知识产权、软件著作权近百项、专利10+项</p><p><strong>客户与合作伙伴</strong></p><p>北鲲云客户集中在生命科学、人工智能、高校科研、汽车CAE/CDF、EDA芯片仿真设计等。</p><table><thead><tr><th><strong>主要客户分类</strong></th><th><strong>客户特征/画像</strong></th><th><strong>客户需求/痛点</strong></th><th><strong>北鲲云提供的解决方案/产品</strong></th></tr></thead><tbody><tr><td>医药</td><td>业务增长迅速，本地资源不足，算力需求量大</td><td>提高计算效率，缩短项目周期，加速产品上市速度</td><td>北鲲云超算平台接入，通过浏览器直接可视化操作，调用海量资源高速完成计算。</td></tr><tr><td>AI</td><td>规模扩张迅速，急需大规模计算资源满足模型训练</td><td>配置需求高、需平台继承多AI框架</td><td>北鲲云超算平台接入，可视化触发、自动化触发训练任务。</td></tr><tr><td>高校/科研</td><td>课题组大规模进行数据分析，产生结果数据量大</td><td>存储需求大、计算需求大、预算有限</td><td>北鲲云超算平台接入，并通过北鲲云跨地域Gbps级别专线极速传输。</td></tr><tr><td>汽车CAE仿真</td><td>基于阿里云的高性能计算平台，要求接入简单且支持大量数据高速传输</td><td>需接入自主平台、大规模数据传输</td><td>北鲲云超算平台API接入，通过专属计算区进行高速计算，并嵌入北鲲云告诉文件传输SDK，享受高速文件传输服务。</td></tr><tr><td>EDA芯片设计</td><td>本地资源不足，且环境单一、耗时较长</td><td>需将芯片设计服务全部上云，并以SaaS产品形式提供芯片设计云服务</td><td>北鲲云提供高度差异化计算、存储方式组合，以适应不同类型的EDA任务，保证完全可在云端运行。</td></tr></tbody></table><p><strong>典型案例</strong></p><p>​            1.     <strong>生物医药</strong></p><p>某上市药企CADD部门增长迅速，每年需对数千化合物进行分子对接及结合自由能计算。由于企业内部大部分GPU卡为Nvidia P100及更早的加速卡，计算规模扩张速度远远跟不上项目增长速度，急需解决计算资源问题。接入北鲲云超算平台后，用户可以并行调动200-400 Nvidia v100卡，将计算时间从数周降至2小时，计算效率提高数百倍，项目运算周期缩短，加速新品上市速度。</p><p>​            2.     <strong>高校科研</strong></p><p>某大学需对约2000个物种进行基因组分析，中间需产生约2PB的临时数据及100T以上的最终结果数据。该项目需使用600万核时计算资源，并发约2000核。该大学原来直接使用AWS云资源，但预估完成此项目成本将超过预算几倍。接入北鲲云超算平台后，耗时约550万核时完成了基因组分析任务，中间项目储存及最终的结果下载完全免费，成本降低了80%。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051549325.png" alt></p><h4 id="35-北鲲云产品分析小结优势-劣势-对腾讯的价值重点"><a class="markdownIt-Anchor" href="#35-北鲲云产品分析小结优势-劣势-对腾讯的价值重点"></a> <strong>3.5 北鲲云产品分析小结（优势、劣势、对腾讯的价值）–重点</strong></h4><p>北鲲云目前定位是中小企业赋能者，客户群体是以中小企业为主的B端客户。而腾讯云定位是产业间的连接器，重点布局SaaS领域。客户群体是以C端G端客户为主。</p><p>北鲲云的优势：</p><p>​                ● 高性能：北鲲云采用集群负载均衡技术，能够快速响应用户请求，保证系统的高可用性。</p><p>​                ● 安全可靠：北鲲云提供了多种安全防护机制，包括DDoS攻击、SQL注入、XSS等攻击防护，保证用户数据的安全可靠。</p><p>​                ● 易于管理：北鲲云提供了Web控制台和API接口，方便用户进行管理和监控，支持灵活的配置和扩展。</p><p>​                ● 成本低廉：北鲲云采用按需付费的模式，用户只需支付实际使用的资源费用，无需预付款，降低了企业的IT成本。</p><p>北鲲云的不足：</p><p>​                ● 生态系统不完善：北鲲云相对其他云服务提供商来说还比较年轻，配套产品不如其他大厂商完善。</p><p>​                ● 地域覆盖有限：北鲲云目前的数据中心主要集中在中国部分地区，全国范围或海外地域覆盖还有待提升。</p><p>​                ● 技术支持不足：北鲲云的技术支持相对其他大厂商来说还有待提升，需要加强技术支持团队建设。</p><p>​                ● 管理和运营挑战：北鲲云的管理和运营方面相对与其他云厂商来说相对缺乏，在面对大项目或复杂市场变换时可能有风险。</p><p>北鲲云作为一家云计算服务提供商，具有高性能、安全可靠、易于管理和成本低廉等优点，但生态系统不完善、地域覆盖有限和技术支持不足等不足。这些也是腾讯云能够补充的点，腾讯云在2010年就开始对外提供云服务，推出了一系列云产品，随着业务不断发展壮大，腾讯云已成为国内云计算领域的佼佼者，拥有强大的品牌知名度与资源实力。</p><h3 id="4-并行科技产品分析"><a class="markdownIt-Anchor" href="#4-并行科技产品分析"></a> <strong>4 并行科技产品分析</strong></h3><h4 id="41-厂商简介并行科技发展情况"><a class="markdownIt-Anchor" href="#41-厂商简介并行科技发展情况"></a> <strong>4.1 厂商简介（并行科技发展情况）</strong></h4><h5 id="411-介绍"><a class="markdownIt-Anchor" href="#411-介绍"></a> <strong>4.1.1 介绍</strong></h5><p>并行科技成立于2007年，是国内领先的<strong>超算云服务</strong>和<strong>运营服务提供商</strong>，提供超算云、行业云、智算云、设计仿真云和计算资源建设及运营服务。经过15年的发展，拥有了4个研发中心、110项软件著作权、18项国家专利、63个注册商标。2014年2月获得ISO9000-2008质量管理体系认证，2015年获得6000万元A轮融资。并行科技面向<strong>能源、制造、气象、科研、教育、电信、金融、动漫</strong>等20+行业的企事业单位及科研院所提供超算云服务及场景应用方案，服务能力覆盖全国。在北京、天津、广州、长沙、宁夏等5地设有子公司，在上海、南京、厦门、西安、武汉等城市设立20余个办事处和服务站、为超过20个行业的用户提供超算云服务与场景应用方案。 同时为300多个集群提供运维服务。200多款应用软件SaaS化，软件装机量达30万台，科研用户50000+，建立点对点微信专属服务超过5000个。</p><p>从2013年起，先后参与<strong>中国探月工程</strong>和<strong>火星探测计划</strong>，助力完成勘测任务。2018年，并行科技成为“华为云CSSP伙伴”。</p><h5 id="412-组织信息"><a class="markdownIt-Anchor" href="#412-组织信息"></a> <strong>4.1.2 组织信息</strong></h5><p><strong>公司名称</strong>：北京并行科技股份有限公司</p><p><strong>成立时间</strong>：2007-02-15</p><p><strong>公司地址</strong>：北京市海淀区</p><p><strong>注册资金</strong>：4673万元人民币</p><p><strong>创始人</strong>：陈健，1977年1月出生。1997年9月至2002年7月就读于<strong>清华大学工程力学系</strong>(研究生)。2002年7月至2005年6月就职于<strong>联想集团高性能服务器事业部</strong>任方案处经理、副主任工程师。2005年7月至2010年9月就职于<strong>英特尔(中国)有限公司</strong>任性能优化工程师、高性能计算架构师。2010年9月至2011年8月就职于<strong>北京并行科技有限公司</strong>任技术总监。2013年7月至2016年1月就职于并行科技任总经理。2016年1月至今,任并行科技董事长兼总经理。</p><p><strong>股权结构</strong>（截止至2021年）：</p><p>陈健、贺玲夫妇为发行人共同实际控制人。截至本招股说明书签署日，陈健直接持有公司 16.33%的股权，贺玲直接持有公司 5.11%的股权，两人通过间接持股的方式控制公司 16.51%的股权，合计通过直接或间接的方式控制公司 37.96%的股权，对公司股东大会决议可产生重大影响。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051550570.png" alt></p><p><strong>管理情况</strong></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051550482.png" alt></p><p><strong>组织架构</strong></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051550120.png" alt></p><p><strong>公司费用情况</strong></p><p>费用金额呈增长趋势，期间费用率保持在较高水平，主要由于处于高速发展阶段，在市场推广、研发活动方面均存在较高投入。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051550065.png" alt></p><p><strong>经营现金流</strong></p><p>经营活动产生的现金流量较为充裕，主要原因系核心业务超算云服务快速增长以及超算云客户与公司签订业务合同后，以预付费的形式支付公司货款后进行消耗使用，对公司经营活动现金流入的贡献较大。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051550098.png" alt></p><h4 id="42-产品一览并行科技科研算力或平台产品-解决方案有哪些产品全家福"><a class="markdownIt-Anchor" href="#42-产品一览并行科技科研算力或平台产品-解决方案有哪些产品全家福"></a> <strong>4.2 产品一览（并行科技科研算力或平台产品、解决方案有哪些，产品全家福）</strong></h4><p>并行科技业务架构图：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051550835.png" alt></p><h5 id="421-平台产品"><a class="markdownIt-Anchor" href="#421-平台产品"></a> <strong>4.2.1 平台产品</strong></h5><p>​            1.     <strong>并行超算云</strong></p><p>基于中国国家网格与云计算技术， 结合自身在高性能计算领域多年研发经验推出的一站式超算服务平台。</p><p>​            2.     <strong>并行智算云</strong></p><p>面向高校、科研院所、企事业单位在人工智能和高性能计算等方向的GPU算力需求，提供专业的GPU算力云。</p><p>​            3.     <strong>超算行业云</strong></p><p>并行超算行业云面向行业客户，按照业务专属需求，提供云上+云下混合架构定制化超算云资源、软件和服务。</p><p>​            4.     <strong>设计仿真云</strong></p><p>Paratera CAX Cloud设计仿真云是面向CAD/CAE设计仿真领域的云平台，集成图形图像加速、资源共享、数据安全管控的软硬件一体化云平台解决方案。</p><h5 id="422-解决方案"><a class="markdownIt-Anchor" href="#422-解决方案"></a> <strong>4.2.2 解决方案</strong></h5><p>​            1.     <strong>气象海洋超算云</strong></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051550155.png" alt></p><p>​            2.     <strong>人工智能超算云</strong></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051550065.png" alt></p><p>​            3.     <strong>生命科学行业云</strong></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051550145.png" alt></p><p>​            4.     <strong>企业级混合云</strong></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051550230.png" alt></p><p>​            5.     <strong>院校级混合云</strong></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051550243.png" alt></p><h4 id="43-产品功能和售卖模式并行科技卖什么-产品功能是什么样的-怎么卖-价格多少可以用表格等形式"><a class="markdownIt-Anchor" href="#43-产品功能和售卖模式并行科技卖什么-产品功能是什么样的-怎么卖-价格多少可以用表格等形式"></a> <strong>4.3 产品功能和售卖模式（并行科技卖什么、产品功能是什么样的、怎么卖、价格多少，可以用表格等形式）</strong></h4><h5 id="431-主要产品"><a class="markdownIt-Anchor" href="#431-主要产品"></a> <strong>4.3.1 主要产品</strong></h5><p>以超算云服务为核心业务，持续深化与包括多家国家级超算中心在内的各类超算中心的合作关系，并通过共建集群等方式扩大自有算力资源池，为科研和企业用户提供超算云服务。</p><p>​            1.     <strong>并行超算云服务</strong></p><p>面向各应用领域、各行业的科研计算用户。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051551524.png" alt></p><p>并行超算云服务业务模式</p><p>​            （1）     <strong>并行通用超算云</strong>：基于连接各大超算集群的中国超算算力网络和自主研发的服务平台，面向各行业领域用户，通过自身算力资源智能调度技术向用户提供CPU算计资源，并行科技为用户提供PaaS层服务。<strong>并行通用超算云服务主要面向高校、科研院所用户</strong>。</p><p>​            （2）     <strong>并行行业云</strong>：在并行通用云的基础上增加了业务系统对接、提供专线链路等专业化服务，满足整体解决方案。满足企业多形态部署、自主可控、安全稳定的需求，实现业务系统和软件SaaS化。<strong>并行行业云服务主要面向企业用户和院校科研机构</strong>。行业云可针对不同行业客户痛点指定专门解决方案，如如气象海洋超算云解决方案、生命科学行业云解决方案、高端制造行业云解决方案、企业级 HPC超算云解决方案、院校级 HPC 超算云解决方案等。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051551095.png" alt></p><p>并行行业云平台架构</p><p>​            （3）     <strong>并行AI云</strong>：<strong>面向高校、科研院所、行业用户</strong>等在 AI深度学习和科学计算等方向的 GPU 算力资源需求，提供高性能 GPU 算力资源及相关 PaaS 服务。通过云主机和并行 AI超算云裸金属集群两大形态供给资源，满足人工智能场景和高性能计算场景中对灵活性和规模化等多样化需求，提供包括多种型号的算力资源:预置大量深度学习框架、丰富的数据集、有效的开发工具，可快速搭建开发环境，帮助科研人员专注于算法模型的开发训练。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051551307.png" alt></p><p>​            2.     <strong>超算云系统集成</strong></p><p>受益于在行业的长期积淀以及较好的上游硬件厂商资源，为存在自建数据中心等需求的客户，提供基于高性能计算、人工智能计算的“设计、建设、管理、运维、运营”全生命周期的软硬件产品和服务。</p><p>​            3.     <strong>超算软件及技术服务</strong></p><p>​            （1）     超算软件销售服务</p><p>并行科技超算软件开发主要涉及产品包括自研软件、定制软件及代理软件。拥有多款自主知识产权的软件产品，包括 Paramon、Paratune、ParaCloud 等功能涵盖应用特征收集、应用特征分析、应用特征优化、应用特征数据库应用集群管理、资源调度等环节。</p><p>Paramon：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051551219.png" alt></p><p>Paratune：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051551829.png" alt></p><p>ParaCloud：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051551302.png" alt></p><p>​            （2）     技术服务</p><p>为客户提供高性能计算全栈式运维服务，针对不同用户不同层次的运维服务需求，为用户提供开发运维、在线运维、巡检运维和驻场运维服务。方案集合了线上和线下模式，可为用户提供切合高性能计算行业的 7x24 小时全时段的运维服务。</p><p>其他技术服务主要包括系统环境搭建的技术咨询服务、系统设计、系统搭建实施、系统优化测试、技能培训服务等内容。</p><p>​            \4.     <strong>超算会议及其他服务</strong></p><p>连续协办多届<strong>全国高性能计算学术年会</strong> (HPC China) 并承办<strong>全国并行应用挑战赛</strong> (PAC) 及各类国内超算领域竞赛、培训等。</p><h5 id="432-主要经营模式"><a class="markdownIt-Anchor" href="#432-主要经营模式"></a> <strong>4.3.2 主要经营模式</strong></h5><p>超算云服务<strong>销售主要节点</strong>：</p><table><thead><tr><th><strong>序号</strong></th><th><strong>节点</strong></th><th><strong>内容</strong></th></tr></thead><tbody><tr><td>1</td><td>注册</td><td>用户完成账号注册</td></tr><tr><td>2</td><td>试算</td><td>用户免费体验试算</td></tr><tr><td>3</td><td>合同签订</td><td>用户根据其计算需求，与销售人员协商相应配置并签订合同</td></tr><tr><td>4</td><td>付款</td><td>用户完成付款</td></tr><tr><td>5</td><td>分配资源</td><td>用户付款后，为其分配相应算力资源使用权限并生成订单</td></tr><tr><td>6</td><td>使用资源</td><td>用户通过分配的算力资源提交计算作业并使用，计费系统将及时完成作业使用量信息采集、计费和余额管理等消费信息流的统计</td></tr><tr><td>7</td><td>确认收入</td><td>根据计费系统统计的用户消费情况确认收入</td></tr></tbody></table><p>并行科技通过<strong>直销</strong>和<strong>经销</strong>两种模式销售产品和提供服务。以直销模式为主少量业务通过经销模式展开。2019年到2021年，通过直销模式形成的收入占比分别为 99.76%、99.14%及 98.73%。</p><p>**直销模式：**指按区域及行业划分销售范围，由销售人员通过推广活动、线上营销、电话营销、行业年会等方式培养市场、寻找客户、挖掘客户需求进行营销推广。使用超算云服务的中小客户具有主动注册和自助服务的特点，针对重要客户，销售团队通过多方渠道了解客户需求，并进行客户拜访，为客户提供与自身业务情况相近的典型合作案例并针对客户情况提供个性化分析和专业化解决方案，从而获取客户订单。</p><p><strong>并行科技销售主要业务流程：</strong></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051551472.png" alt></p><h4 id="44-并行市场表现和占有情况并行科技目前的市场占有数据-重点行业-主要客户-客户特征等说明"><a class="markdownIt-Anchor" href="#44-并行市场表现和占有情况并行科技目前的市场占有数据-重点行业-主要客户-客户特征等说明"></a> <strong>4.4 并行市场表现和占有情况（并行科技目前的市场占有数据、重点行业、主要客户、客户特征等说明）</strong></h4><h5 id="441-市场情况"><a class="markdownIt-Anchor" href="#441-市场情况"></a> <strong>4.4.1 市场情况</strong></h5><p>近年来中国超算云服务市场规模占超算服务市场规模的比例逐年攀升，2021年中国超算云服务市场规模占超算服务市场规模的10.53%，较2016年的2.30%增长了8.22%，预计2025年中国超算云服务市场规模占超算服务市场规模的比例将达到24.01%。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051551061.png" alt></p><p>目前中国超算云服务市场重点企业主要包括并行科技、阿里云、华为云、腾讯云等。从收入规模角度看，2021 年并行科技超算云服务收入达到 1.80 亿元，其中通用超算云收入为 1.33 亿元，对应<strong>市场份额为 20.3%</strong>，<strong>行业排名第一</strong>。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051551228.png" alt></p><p>对比友商：</p><p>阿里云通用超算云业务营业收入完成0.7亿元，占中国超算云服务市场份额的10.6%</p><p>华为云通用超算云业务营业收入完成0.5亿元，占中国超算云服务市场份额的8.1%</p><p>腾讯云通用超算云业务营业收入完成0.5亿元，占中国超算云服务市场份额的7.6%</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051551683.png" alt></p><p>从业务增速角度看，2019 至 2021 年，并行计算超算云服务收入增速为 68.14%，其中来自并行行业云的业务超算云收入增速为 219.11%，在超算云头部企业中<strong>增速最快</strong>；</p><h5 id="442-重点行业"><a class="markdownIt-Anchor" href="#442-重点行业"></a> <strong>4.4.2 重点行业</strong></h5><p>涉及的重点行业包括能源、航空航天、制造、气象、科研教育、电信、金融、动漫等。</p><h5 id="443-主要客户"><a class="markdownIt-Anchor" href="#443-主要客户"></a> <strong>4.4.3 主要客户</strong></h5><p>截止至2021年12月31日，并行科技前五大客户销售情况如下：</p><table><thead><tr><th><strong>年度</strong></th><th><strong>序号</strong></th><th><strong>客户名称</strong></th><th>营业收入     （万元）</th><th>占营业收入     比重</th><th><strong>主要销售内容</strong></th></tr></thead><tbody><tr><td>2021年</td><td>1</td><td>凌空天行</td><td>1311.92</td><td>5.96%</td><td>超算云服务、超算云系统集成</td></tr><tr><td>2</td><td>清华大学</td><td>1148.55</td><td>5.22%</td><td>超算云服务、超算软件及技术服务</td><td></td></tr><tr><td>3</td><td>国防科技大学</td><td>981.04</td><td>4.46%</td><td>超算云服务、超算软件及技术服务</td><td></td></tr><tr><td>4</td><td>中国科学院力学研究所</td><td>552.42</td><td>2.51%</td><td>超算云服务、超算软件及技术服务</td><td></td></tr><tr><td>5</td><td>北京理工大学</td><td>528.76</td><td>2.40%</td><td>超算云服务、超算云系统集成</td><td></td></tr><tr><td><strong>合计</strong></td><td><strong>4522.69</strong></td><td><strong>20.55%</strong></td><td></td><td></td><td></td></tr><tr><td>2020年</td><td>1</td><td>清华大学</td><td>829.72</td><td>6.77%</td><td>超算云服务、超算软件及技术服务</td></tr><tr><td>2</td><td>自然资源部第一海洋研究所</td><td>687.1</td><td>5.60%</td><td>超算云服务</td><td></td></tr><tr><td>3</td><td>中国科学院力学研究所</td><td>415.58</td><td>3.39%</td><td>超算云服务、超算软件及技术服务</td><td></td></tr><tr><td>4</td><td>国防科技大学</td><td>328.32</td><td>2.68%</td><td>超算云服务、超算软件及技术服务</td><td></td></tr><tr><td>5</td><td>北京大学</td><td>276.11</td><td>2.25%</td><td>超算云服务、超算软件及技术服务</td><td></td></tr><tr><td><strong>合计</strong></td><td><strong>2536.82</strong></td><td><strong>20.69%</strong></td><td></td><td></td><td></td></tr><tr><td>2019年</td><td>1</td><td>清华大学</td><td>603.55</td><td>5.18%</td><td>超算云服务、超算软件及技术服务</td></tr><tr><td>2</td><td>京东尚科</td><td>579.45</td><td>4.97%</td><td>超算云系统集成</td><td></td></tr><tr><td>3</td><td>自然资源部第一海洋研究所</td><td>475.84</td><td>4.08%</td><td>超算云服务</td><td></td></tr><tr><td>4</td><td>客户 A、客户 B、客户 C</td><td>434.45</td><td>3.73%</td><td>超算软件及技术服务、超算云系统集成</td><td></td></tr><tr><td>5</td><td>中国科学院力学研究所</td><td>333.02</td><td>2.86%</td><td>超算云服务</td><td></td></tr><tr><td><strong>合计</strong></td><td><strong>2426.3</strong></td><td><strong>20.81%</strong></td><td></td><td></td><td></td></tr></tbody></table><p>截止至2021年12月31日，并行科技已签署的重大销售合同情况如下：</p><table><thead><tr><th>序号</th><th><strong>客户名称</strong></th><th><strong>销售内容</strong></th><th>金额      （万元）</th><th><strong>合同履行期限</strong></th><th><strong>履行情况</strong></th></tr></thead><tbody><tr><td>1</td><td>蚌埠凌空科技有     限公司</td><td>超算云系统集成</td><td>1,135.31</td><td>2021/01/01-     2021/12/31</td><td>履行完毕</td></tr><tr><td>2</td><td>清华大学</td><td>超算云服务</td><td>1,124.70</td><td>2021/01/01-     2021/12/31</td><td>履行完毕</td></tr><tr><td>3</td><td>清华大学</td><td>超算云服务</td><td>798.82</td><td>2020/01/01-     2020/12/31</td><td>履行完毕</td></tr><tr><td>4</td><td>自然资源部第一海洋研究所</td><td>超算云服务</td><td>687.10</td><td>2020/01/01-     2020/12/31</td><td>履行完毕</td></tr><tr><td>5</td><td>京东尚科</td><td>超算云系统集成</td><td>579.45</td><td>2019/01/01-     2019/12/31</td><td>履行完毕</td></tr><tr><td>6</td><td>清华大学</td><td>超算云服务</td><td>570.65</td><td>2019/01/01-     2019/12/31</td><td>履行完毕</td></tr><tr><td>7</td><td>中国科学院力学研究所</td><td>超算云服务</td><td>551.85</td><td>2021/01/01-     2021/12/31</td><td>履行完毕</td></tr><tr><td>8</td><td>北京理工大学</td><td>超算云服务</td><td>524.23</td><td>2021/01/01-     2021/12/31</td><td>履行完毕</td></tr><tr><td>9</td><td>国防科技大学</td><td>超算云服务</td><td>521.61</td><td>2021/01/01-     2021/12/31</td><td>履行完毕</td></tr></tbody></table><h5 id="444-客户特征"><a class="markdownIt-Anchor" href="#444-客户特征"></a> <strong>4.4.4 客户特征</strong></h5><p>​                ● 客户群体来源广泛，均为各领域科研、生产研发客户。</p><p>​                ● 客户需求集中在超算云计算服务方面。</p><h4 id="45-并行科技产品分析小结优势-劣势-腾讯同类型产品竞争策略说明"><a class="markdownIt-Anchor" href="#45-并行科技产品分析小结优势-劣势-腾讯同类型产品竞争策略说明"></a> <strong>4.5 并行科技产品分析小结（优势、劣势、腾讯同类型产品竞争策略说明）</strong></h4><h5 id="451-产品定位"><a class="markdownIt-Anchor" href="#451-产品定位"></a> <strong>4.5.1 产品定位</strong></h5><p>并行科技在中国第三方超算服务商里，属于<strong>独立超算服务商</strong>。追求性能优先，能够最大化满足尖端超算、通用超算等计算能力门槛较高的超算任务。与其同属类型的是<strong>其他超算云服务商</strong>以及<strong>国家级超算中心</strong>（广州超算中心、济南超算中心等）。</p><p>而腾讯云属于<strong>互联网超算服务商</strong>。依托原有的互联网商业服务矩阵，进行对超算领域的业务拓展，以业务超算下的企业用户为核心服务对象，以云服务资源为载体提供高性能计算机集群服务。与其同属性的有：<strong>阿里云、华为云、速石、北鲲云</strong>等。</p><p>腾讯云超算服务中心的下游客户主要为<strong>媒体文娱类企业</strong>，也包括高等院校、汽车制造、化工电子等。作为首批获得信通院高性能计算云平台先进级服务能力认证的云服务厂商，腾讯云高性能计算平台 THPC 对腾讯云上的计算、存储、网络等产品资源进行聚集和池化，并整合 HPC 专用作业管理调度、集群管理等软件，向用户提供弹性灵活、性能卓越自助化的 HPC 算力平台以及应用服务。</p><h5 id="452-并行科技优势"><a class="markdownIt-Anchor" href="#452-并行科技优势"></a> <strong>4.5.2 并行科技优势</strong></h5><p>​            1.     **技术优势：**截止至2021年，并行科技拥有18 项发明专利、2 项外观设计专利及 117 项已登记的计算机软件著作权。</p><p>​            2.     **算力资源整合与调度优势：**将国家超算广州中心、无锡中心、济南中心等多家超算集群接入并行超算网格云平台，并通过智能调度将传统的用户计算搬至云环境中，实现多超算应用级统一智能调度。</p><p>​            3.     **品牌与客户资源优势：**通过多年运维服务和运维软件方面的扩展，积累了大量超算中心合作伙伴、应用软件开发商和超算用户资源。累计超过来自2万来自各领域的终端用户，包括清华大学、、北京大学、中国科学院力学研究所、三汽车制造有限公司、长城汽车股份有限公司等，具有较强的客户资源优势。</p><p>​            4.     **市场定位及先发优势：**较早专注于超算云领域，业内其他公司多数处于起步阶段。</p><h5 id="453-并行科技劣势"><a class="markdownIt-Anchor" href="#453-并行科技劣势"></a> <strong>4.5.3 并行科技劣势</strong></h5><p>​            1.     **销售渠道扩展劣势：**华为云、阿里云、腾讯云等互联网云服务商竞争对手依托自身资源优势，一方面可以为集团内其他业务主体提供超算云服务，另一方面集团公司也可以为上述竞争对手提供其他渠道导流。且上述竞争对手大都采用直销、非直销并用的销售模式，其分销渠道包括与分销商、托管服务提供商、虚拟云商等建立合作关系。相比之下，并行科技在拓展客户资源、拓宽获客渠道方面相对处于劣势。</p><p>​            2.     **资本实力欠缺：**超算云行业资金壁垒较高，需在资产设备、人才团队技术研发等方面持续投入，而目前的资金实力相对国际和国内上市公司仍较为薄弱，特别是行业头部竞争对手大都背靠集团资源，资本实力强大。</p><p>​            3.     **高端人才储备有限：**超算云行业是知识和人才密集型产业，高端人才储备是未来提升产品及服务市场竞争力的重要保证。华为云、阿里云、腾讯云等云计算巨头背靠集团资源，未来或以高于同行业的人员薪酬，争夺超算云行业的高端人才。</p>]]></content>
    
    
    <categories>
      
      <category>work</category>
      
    </categories>
    
    
    <tags>
      
      <tag>竞品分析</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>上市公司财报三张表的简单分析</title>
    <link href="/post/32cd3835.html"/>
    <url>/post/32cd3835.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>财报的三张表：资产负债表、利润表、现金流量表。</p><p>现在的同花顺网站会将主要查看的指标放在前列，方便查看。如下图，房地产公司雅居乐集团，同花顺资料页面为：<a href="http://basic.10jqka.com.cn/176/HK3383/finance.html">http://basic.10jqka.com.cn/176/HK3383/finance.html</a></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202307281815252.png" alt></p><h3 id="资产负债表"><a class="markdownIt-Anchor" href="#资产负债表"></a> 资产负债表</h3><figure class="highlight fix"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs fix"><span class="hljs-attr">资产 </span>=<span class="hljs-string"> 负债 + 权益</span><br></code></pre></td></tr></table></figure><p>主要反映<strong>企业手中的资产和负债的情况</strong>，也就是“钱从哪儿来、钱到哪儿去”的问题。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202307281635681.png" alt></p><p>资产的定义：公司帐上的现金、短期投资的债权、理财产品、已经交付客户应该付你的钱、库房里的存货、长期投资、拥有的办公楼、车、厂房、生产线、知识产权等等。</p><p>而在上述表中，可以看到资产分为流动资产和非流动资产。</p><p><strong>流动资产</strong>：一年内可以变现的东西，包括票据、应收账款、存货、现金等，主要关注如下几点</p><ul><li>货币资金：</li><li>应收账款及票据：没有收到的钱，即外部的赊账</li><li>存货：未售出的商品，包括商品的部件</li></ul><p><strong>非流动资产</strong>：一年之内无法变现的东西，主要关注如下几点</p><ul><li>固定资产/不动产：无法短期变现的东西</li><li>在建工程：生产线扩建</li><li>无形资产：发明、专利、知识产权等，无形但可以产生收益的东西</li><li>商誉：收购其他公司产生出来的，双刃剑</li></ul><p>流动资产+非流动资产的总和，就是资产合计。</p><p>负债的定义：向银行借的钱、欠供应商的应付帐款、客户给你的预付款、公司发行的长期债权。在上述表中，负债分为流动负债和非流动负债。</p><p><strong>流动负债</strong>：一年之内要还的钱，主要关注如下几点：</p><ul><li>短期借款（重要）：向银行借的钱，往往数额较大，但一年内要还</li><li>应付账款及票据：欠别人的钱</li></ul><p><strong>非流动负债</strong>：一年内不用还的钱，借的周期较长。</p><ul><li>长期借款</li><li>应付债券</li></ul><p>流动负债+非流动负债的总和，就是负债合计。</p><p>最后是所有者权益，即总资产 - 总负债。对于股票购买者而言，所有者权益就是股东的权益，主要看：</p><ul><li>未分配利润：除去分红、还没有给股东的钱。只要该项正常递增，说明企业发展健康。</li></ul><h3 id="利润表"><a class="markdownIt-Anchor" href="#利润表"></a> 利润表</h3><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs abnf">净利润 <span class="hljs-operator">=</span> 收入 - 成本 - 费用<br>毛利润 <span class="hljs-operator">=</span> 收入 - 成本<br></code></pre></td></tr></table></figure><p>毛利润再扣取费用就是净利润，主要反应一个<strong>企业的总收入和成本的情况</strong>。例如公司的主要收入来源；投资收益或营业外的收入；成本结构、直接销售费用、管理费用、财务费用；净利润等等。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202307281721329.png" alt></p><p>营业收入：没有扣除成本的总入，总收入是否正常递增，决定企业发展健康度。</p><p>费用：包括销售费用、管理费用、财务费用，或其他费用的情况。</p><h3 id="现金流量表"><a class="markdownIt-Anchor" href="#现金流量表"></a> 现金流量表</h3><p>现金流量表说明的是企业现金的来去。例如：账面现金、多少现金的流入来自经营、投资、融资；现金的流出流入；目前账号的现金情况等。</p><figure class="highlight fix"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs fix"><span class="hljs-attr">经营现金流净额 + 投资现金流净额 + 筹资现金流净额 </span>=<span class="hljs-string"> 现金净额（现金变化）</span><br></code></pre></td></tr></table></figure><p>现金流量表反映一个企业当前的经营状况是否良好。它从三个维度来查看现金变化情况：经营、投资、筹资。</p><ul><li><p>经营现金流净额 = 经营活动现金流入（卖出商品的钱） - 经营活动现金流出（支付商品成本或工资），一般来说这个值跟净利润的值相差不大，一般都是正的，为负则有问题。</p></li><li><p>投资现金流净额 =  投资活动现金流入（购买固定资产、投入新产品） - 投资活动现金流出。</p></li><li><p>筹资现金流净额 =  筹资活动现金流入（借得的钱、别人投资的钱、发行债券的钱） - 筹资活动现金流出（还钱、还债、分配股利，发股息等等）。</p></li></ul><p>以上三方面的现金净额增加，就可以得到现金及现金等价物净增值，反映出来的是现金变化，即到公司账上的钱，可以看出一个公司的现金情况、是否缺钱。例如表格中的核心指标一栏：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202307281745480.png" alt></p><h3 id="三张表的关系"><a class="markdownIt-Anchor" href="#三张表的关系"></a> 三张表的关系</h3><p>首先，资产负债表是三张报表的基础。</p><p>如果将人体比作公司，<strong>资产负债表就是人体的骨骼</strong>。谷歌并非越大越好，重要的是强健。企业也是一样，不能一味追求规模的扩充，应努力提高资产质量，不能华而不实，大而无用，最后骨质疏松，一触即溃。</p><p>与骨骼相比，<strong>利润表就是人体的肌肉</strong>。肌肉需要的是强健有力，有冲击力和爆发力，更需要持久力和耐力。就算骨骼再强健，如果肌肉软趴趴，那始终是病殃殃的。利润表最怕的就是虚胖，看上去不错，但内部全是脂肪，油乎乎的亚健康状态。例如一些大型企业，销售收入巨大，利润却微乎其微。一旦发生经济形势变化，企业就处于入不敷出的边缘。</p><p>有了强健的骨骼、有力的肌肉，还需要<strong>拥有健康的血液，即流动的现金流量</strong>。人体得以维持生命的关键是流动的血液，现金流量表则好比是流动的血液，健康的血液重要的标志是不停地流动，不流动的血液对人体是有害的，甚至会造成生命危险。</p><h3 id="财报的阅读方式"><a class="markdownIt-Anchor" href="#财报的阅读方式"></a> 财报的阅读方式</h3><h4 id="资金断裂问题"><a class="markdownIt-Anchor" href="#资金断裂问题"></a> 资金断裂问题</h4><p>流动负债就是短期内欠的钱，越多就越危险。就算账上有钱，但取不出来没钱还债，就会导致资金断裂。一般来说，如果流动利率低于1，就很有可能出现债务危机。</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs abnf">资产负债率 <span class="hljs-operator">=</span> 总负债 / 总资产<br>流动比率 <span class="hljs-operator">=</span> 流动资产 / 流动负债<br></code></pre></td></tr></table></figure><h4 id="公司盈利能力"><a class="markdownIt-Anchor" href="#公司盈利能力"></a> 公司盈利能力</h4><p>企业存在的目的和价值就是盈利。但即使有了利润，也不代表赚到了钱，最终应该看利润是否能兑现。一般来说，如果经营活动现金流净额高于净利润，说明真的赚到钱了。否则说明企业只是纸上富贵，再多利润也是过往云烟。</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs abnf">经营活动现金流量净额 <span class="hljs-operator">=</span> 经营活动的现金流入小计 - 经营活动的现金流出小计<br>净利润 <span class="hljs-operator">=</span> 利润总额 - 所得税费用<br></code></pre></td></tr></table></figure><h4 id="重要的财务指标净资产收益率"><a class="markdownIt-Anchor" href="#重要的财务指标净资产收益率"></a> 重要的财务指标：净资产收益率</h4><p>可以用来比较不同企业、不同行业的盈利能力。利润固然重要，但利润背后所耗费资本投入更重要。同样赚10块钱，投入100块和投入1w块的价值显然不一样。将利润除以净资产，可以得到收益率指标，也就是单位资产的利润，简称ROE。</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">净资产收益率 <span class="hljs-operator">=</span> 利润 / 净资产<br></code></pre></td></tr></table></figure><p><strong>净资产收益率反应的是盈利能力</strong>，假设一家企业净资产收益率为5%，就表示公司每100元股东投资，一年可以赚回5元利润。一般来说，一家上市公司的净资产收益率达到10%就算非常优秀的了，如果达到20%那就是属于行业的中高端企业。</p><h4 id="判断企业是重资产-轻资产"><a class="markdownIt-Anchor" href="#判断企业是重资产-轻资产"></a> 判断企业是重资产 / 轻资产</h4><p>判断重资产 / 轻资产的依据是有型资产在总资产中所占比例的高低。</p><ul><li>重资产型公司：资产折旧费较高，导致公司固定成本高，遇到行业低谷期也是无法避免的成本</li><li>轻资产型公司：没有什么固定成本，如果经济变差，应对更灵活。</li></ul><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">有形资产 / 总资产 <br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>财务</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>NodeJS 方式搭建腾讯云 STS 临时密钥服务端</title>
    <link href="/post/f1f207d2.html"/>
    <url>/post/f1f207d2.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><h3 id="搭建服务端"><a class="markdownIt-Anchor" href="#搭建服务端"></a> 搭建服务端</h3><p>场景：需要在移动端平台通过 API 上传、查看 COS 上的内容，调用API时需要密钥验证，因此先在本地搭建测试一下功能是否完好。</p><p>理由：如果将固定密钥配置到代码内，有泄漏风险。使用临时密钥+子用户可以更好的处理权限控制问题，因为COS有着丰富的权限控制功能。</p><p>流程图：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202307121709030.png" alt></p><p>官网的仓库：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/tencentyun/</span>qcloud-cos-sts-sdk<br></code></pre></td></tr></table></figure><p>拉取代码到本地（我的是CVM）后，可以查看NodeJS目录中的demo使用的是Express框架，因此这里全局安装一下Express及其所需的包，先更新下npm</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript">cd qcloud-cos-sts-sdk<span class="hljs-regexp">/nodejs/demo/</span><br><span class="hljs-built_in">npm</span> install -g <span class="hljs-built_in">npm</span>@latest  <br><span class="hljs-built_in">npm</span> install express-generator -g  <span class="hljs-comment"># 全局安装express</span><br><span class="hljs-built_in">npm</span> install body-parser request express  <span class="hljs-comment"># 安装所需要的包模块</span><br></code></pre></td></tr></table></figure><p>修改<code>sts-server.js</code>的参数，主要是下面几点。建议开一个子用户专门给COS使用，不要用主账号的ID 和Key</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs awk"> secretId: <span class="hljs-string">&#x27;xxxxxxxxxxx&#x27;</span>, <span class="hljs-regexp">//</span> 固定密钥<br> secretKey: <span class="hljs-string">&#x27;xxxxxxxxxxxxxx&#x27;</span>, <span class="hljs-regexp">//</span> 固定密钥<br> bucket: <span class="hljs-string">&#x27;xxx=100000000000&#x27;</span>,  <span class="hljs-regexp">//</span> 桶名称<br> region: <span class="hljs-string">&#x27;ap-xxxxxxx&#x27;</span>,  <span class="hljs-regexp">//</span>所属地域<br> allowPrefix : <span class="hljs-string">&#x27;xxx/xx&#x27;</span>  <span class="hljs-regexp">//</span> 设置路径前缀，生产建议避免直接用*<br><span class="hljs-regexp">//</span> 将文件下方的这几行注释掉，否则控制台会报错（因为<span class="hljs-number">2</span>个send）<br><span class="hljs-regexp">//</span>app.all(<span class="hljs-string">&#x27;*&#x27;</span>, <span class="hljs-keyword">function</span> (req, res, <span class="hljs-keyword">next</span>) &#123;<br><span class="hljs-regexp">//</span>    res.writeHead(<span class="hljs-number">404</span>);<br><span class="hljs-regexp">//</span>    res.send(&#123;code: <span class="hljs-number">404</span>, codeDesc: <span class="hljs-string">&#x27;PageNotFound&#x27;</span>, message: <span class="hljs-string">&#x27;404 page not found&#x27;</span>&#125;);<br><span class="hljs-regexp">//</span>&#125;);<br>  app.listen(xxxx);  <span class="hljs-regexp">//</span> 端口，建议自定义<br></code></pre></td></tr></table></figure><p>调整完了就OK 了，<code>sts-server-scope.js</code>不用管它，启动服务，如果是云服务器记得在安全组策略开对应的端口。</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">node sts-server.js  <span class="hljs-regexp">//</span>控制台输出 app is listening at http:<span class="hljs-regexp">//</span><span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:xxxx<br></code></pre></td></tr></table></figure><p>然后 IP + PORT访问。</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-symbol">http:</span>//xx.xx.xx.xx:xxxx/<span class="hljs-keyword">sts</span><br></code></pre></td></tr></table></figure><p>接着就会在页面返回一个对象，内容大概是这样的格式。若需的部分就是<code>sessionToken</code>、<code>tmpSecretId</code>、<code>tmpSecretKey</code>这三个。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><span class="hljs-attr">&quot;expiredTime&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">1689154298</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;expiration&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;2023-07-12T09:31:38Z&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;credentials&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">&#123;</span><span class="hljs-attr">&quot;sessionToken&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;xxxxxxxxxxxxxxxxx&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;tmpSecretId&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;xxx&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;tmpSecretKey&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;xxx&quot;</span><br><span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;requestId&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;963895d4-dd71-4f6b-94e9-4ea4df50c6df&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;startTime&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">1689152498</span><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h3 id="从cos签名工具获取签名串"><a class="markdownIt-Anchor" href="#从cos签名工具获取签名串"></a> 从COS签名工具获取签名串</h3><p>在测试期间，在COS签名工具-计算签名处 来获取签名串。工具链接：<a href="https://cos5.cloud.tencent.com/static/cos-sign/">https://cos5.cloud.tencent.com/static/cos-sign/</a></p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs avrasm">签名类型：默认<br>签名有效时间：每次生成前点击【获取】更新即可<br>SecretId：将临时签名返回的 tmpSecretId 填入<br>SecretKey：将临时签名返回的 tmpSecretKey 填入<br>HttpMethod：默认PUT<br>HttpURI：路径需要带上<span class="hljs-keyword">sts</span>-server.js中allowPrefix字段设置的目录（如果设置了的话）<br></code></pre></td></tr></table></figure><p>点击【生成签名】，右侧结果反馈里会生成一串内容</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">q</span>-sign-algorithm……<br></code></pre></td></tr></table></figure><h3 id="验证临时密钥有效性"><a class="markdownIt-Anchor" href="#验证临时密钥有效性"></a> 验证临时密钥有效性</h3><p>将COS签名工具生成的签名串传入HTTP请求头中的<code>Authorization</code>字段，将临时密钥返回的<code>sessionToken</code>传入请求头的<code>x-cos-security-token</code>字段，即可发起请求验证。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202307121748555.png" alt></p><p>可以看到200的返回码，验证通过。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202307121751623.png" alt></p><p>路径问题：</p><p>如果<code>sts-server.js</code>中<code>allowPrefix</code>字段设置的是<code>clouds/Daily/*</code>，</p><p>那么在测试时，COS签名工具里HttpURI字段需要带上这些，例如：<code>/clouds/Daily/2.jpg</code>，</p><p>然后在发起put请求时，也需要在末尾带上该部分</p><p>验证失败：<br>可根据错误提示，查看官方文档：<a href="https://cloud.tencent.com/document/product/436/54303#message-.E4.B8.BA-.E2.80.9Caccess-denied..E2.80.9D">https://cloud.tencent.com/document/product/436/54303#message-.E4.B8.BA-.E2.80.9Caccess-denied..E2.80.9D</a></p><p>本文参考官方文档搭建：<a href="https://cloud.tencent.com/developer/article/1675803">https://cloud.tencent.com/developer/article/1675803</a></p><p>临时密钥生成及使用官方文档：<a href="https://cloud.tencent.com/document/product/436/14048">https://cloud.tencent.com/document/product/436/14048</a></p>]]></content>
    
    
    <categories>
      
      <category>Ops</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JS</tag>
      
      <tag>linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>国内实训平台竞品分析</title>
    <link href="/post/5f796ede.html"/>
    <url>/post/5f796ede.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><h1 id="1-市场分析"><a class="markdownIt-Anchor" href="#1-市场分析"></a> <strong>1. 市场分析</strong></h1><h2 id="11-行业背景"><a class="markdownIt-Anchor" href="#11-行业背景"></a> <strong>1.1 行业背景</strong></h2><p>21世纪前，人类认识和改造世界的方式以理论推理和实验验证为主，而今已全然依赖于高质量的机理模型模拟择优和以海量数据为基础的大数据分析。尤其是新一轮科技和产业革命突飞猛进，数字经济和人工智能蓬勃发展，互联网、大数据、云计算、VR虚拟现实、网络社区、5G、区块链等现代信息技术迅猛崛起，科技的进步使社会正由工业化时代向数字化时代迈进。与此同时，在高等教育领域信息技术正全方位、加速度地推进高等教育变革，慕课、隔空教学、翻转课堂、云课堂等逐渐兴起，高等教育的数字化转型势在必行,成为新时代高等教育发展的必然要求。</p><h2 id="12-市场规模及趋势"><a class="markdownIt-Anchor" href="#12-市场规模及趋势"></a> <strong>1.2 市场规模及趋势</strong></h2><p>据艾瑞咨询统计，2013-2018年我国教育数字化整体市场规模从2692.8亿元增至4072.4亿元，年复合增长率约为8.62%，预计2021年我国教育数字化整体市场规模突破5000亿元。国务院《“十四五”数字经济发展规划》明确提出深入推进智慧教育的要求，《教育部2022年工作要点》也提出，实施教育数字化战略行动，积极发展“互联网+教育”，加快推进教育数字化转型和智能升级。在信息时代的“时”与“势”下，智慧教育成为了蓬勃发展的新绿洲，吸引众多互联网科技企业加码这一赛道。</p><h2 id="13-pest分析"><a class="markdownIt-Anchor" href="#13-pest分析"></a> <strong>1.3 PEST分析</strong></h2><table><thead><tr><th>PEST分析</th><th></th></tr></thead><tbody><tr><td>Political</td><td>2018年，教育部发布《教育信息化2.0行动计划》,将教育信息化作为教育系统性变革的内生变量，构建一体化的“互联网+教育”大平台，引入“平台+教育”服务模式，“智能化”将成为教育信息化体系建设五大方向之一，号召教育应从数字化、网络化的信息化1.0时代升级为大数据、智能化领跑的信息化2.0时代。2019年在《关于加强网络学习空间建设与应用的指导意见》中全面强调，以空间为纽带，重构学校教学样态，鼓励高等学校教师探索利用空间创新教学、科研模式，共建共享优质教学资源。</td></tr><tr><td>Economic</td><td>2011—2019年，国家对高等教育的财政投入增加了76.13%,高等教育经费投入总量不断增加，为其快速发展提供了重要保障。同时在数字化发展上投入的财力支持也逐年上升，2011年教育部明确指出：“各级政府在教育经费中按不低于8%的比例列支教育信息化经费，保障教育信息化拥有持续、稳定的政府财政收入。”按照此比例估算，2019年政府对教育信息化的经费投入规模可达千亿元，高等教育信息化的经费投入也在逐年增加。</td></tr><tr><td>Social</td><td>伴随着信息技术2.0时代的到来，5G技术、人工智能、虚拟现实、云计算、云服务、大数据、物联网、线上教育等信息技术不断推动数字化教育的发展。</td></tr><tr><td>Technological</td><td>进入二十一世纪，新科技革命与产业变革持续展开，以互联网与人工智能为代表的新兴技术正驶入前所未有的发展“快车道”,互联网、虚拟现实、人工智能、大数据分析等正以“加速发展”方式改变着全球所有行业的发展格局。在这种技术赋能的数字化转型与变革浪潮中，互联网领域不仅利用其自身的技术优势加速自身发展，也带动着社会生态系统中的其他行业(如教育行业)进行变革与转型。在教育领域，数字时代带来了新技术，互联网前沿技术(例如AI技术、虚拟现实、Big Data、5G等)正驱动教育形态与结构发生变革及创新，高等教育概莫能外，需要始终为适应不断变化的外部社会环境做好准备，运用技术的力量进行创变</td></tr></tbody></table><h1 id="2-竞品分析"><a class="markdownIt-Anchor" href="#2-竞品分析"></a> <strong>2. 竞品分析</strong></h1><h2 id="21-竞品选择"><a class="markdownIt-Anchor" href="#21-竞品选择"></a> <strong>2.1 竞品选择</strong></h2><table><thead><tr><th>产品定位</th><th>根据国内top高校合作平台、平台自身的能力覆盖以及搜索引擎和平台使用情况对比中，筛选出如下平台：希冀、头歌、和鲸、蓝桥云课、超星学习通。</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><h2 id="22-确定竞品"><a class="markdownIt-Anchor" href="#22-确定竞品"></a> <strong>2.2 确定竞品</strong></h2><table><thead><tr><th><strong>平台名称</strong></th><th><strong>希冀</strong></th><th><strong>头歌</strong></th><th><strong>和鲸</strong></th><th><strong>蓝桥云课</strong></th><th><strong>超星学习通</strong></th></tr></thead><tbody><tr><td>上线时间</td><td>2015年</td><td>2019年</td><td>2015年</td><td>2005年</td><td>2016年</td></tr><tr><td>定位</td><td>信息类专业教学与科研一体化平台</td><td>信息技术类实践教学平台</td><td>数据科学协同云平台</td><td>IT在线编程及在线实训学习平台</td><td>移动终端的移动学习专业平台</td></tr><tr><td>选择原因</td><td>● 希冀平台是集教学管理、在线实验、比赛、科研等一站式全过程教学支持，是定位于全面支撑信息类专业建设的大型综合教学与实验平台。                ● 头歌主要为高校和企业提供项目与开发环境，支持全链条的教学工具、全系列的教学资源、全周期的教学服务。                ● 和鲸基于旗下的和鲸社区聚集众多数据科学爱好者，涵盖众多行业领域，与众多高校、企业合作。                ● 蓝桥云课承办工业和信息化部人才交流中心主办的蓝桥杯大赛，累计参赛人数超30万，支持众多免费公开课和实验                ● 超星学习通集移动教学、移动学习、移动阅读、移动社交为一体的移动端平台，是与国内高校较早期接触的资源供应商之一，在疫情时期作为教育部第一批推荐的学习平台之一，使用人数多达上亿。</td><td></td><td></td><td></td><td></td></tr><tr><td>体验时间：2023年3月20日；操作系统：Windows 10; 浏览器型号：Chrome；</td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><h2 id="23-产品定位对比"><a class="markdownIt-Anchor" href="#23-产品定位对比"></a> <strong>2.3 产品定位对比</strong></h2><table><thead><tr><th>希冀</th><th>信息类课程体系完备+独立竞赛系统+工程教育认证</th></tr></thead><tbody><tr><td>头歌</td><td>产教融合集成环境+科研项目托管</td></tr><tr><td>和鲸</td><td>个人数据分析工具+组织数据科学平台</td></tr><tr><td>蓝桥云课</td><td>与竞赛强关联的IT技术在线实训平台</td></tr><tr><td>超星学习通</td><td>面向智能手机、平板电脑等移动终端的移动学习专业平台</td></tr></tbody></table><h2 id><a class="markdownIt-Anchor" href="#"></a> </h2><h2 id="24-产品首页结构对比"><a class="markdownIt-Anchor" href="#24-产品首页结构对比"></a> <strong>2.4 产品首页结构对比</strong></h2><p>希冀首页结构图</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202307071638551.png" alt></p><p>头歌首页结构图</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202307071638421.png" alt></p><p>和鲸首页结构图</p><p><img src="https://wdoc-76491.picgzc.qpic.cn/MTY4ODg1NDU3OTMyMjU3Ng_841214_Wn-dS-Vpk_nrdFY0_1679301276?w=1197&amp;h=1104" alt="img"></p><p>蓝桥云课首页结构图</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202307071638500.png" alt></p><p>腾学汇首页结构图</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202307071638310.png" alt></p><p>超星学习通首页结构图</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202307071638605.jpeg" alt></p><p>从首页就能看出各自的侧重点不太相同。</p><p>​                ● 希冀首页轮播图表现的是其平台覆盖专业广、方向全、产品功能完备。</p><p>​                ● 头歌着重展现的是实训集成环境、平台以及所支持的几个专业方向介绍，轮播图多是课程售卖广告。</p><p>​                ● 和鲸基于社区用户活跃行为，展示推荐的数据集，引导用户进行实训。蓝桥云课是传统IT在线实训平台，与蓝桥杯竞赛关联密切。</p><p>​                ● 腾学汇类似头歌、蓝桥云课首页展示所有课程，但页面整体较为简陋，框架比较简单，缺乏赛事、社区等功能。</p><p>​                ● 超星学习通在发现页面展示学生常用工具、学生上课、考试、作业以及课外活动均包含在内。</p><h2 id="25-平台功能对比"><a class="markdownIt-Anchor" href="#25-平台功能对比"></a> <strong>2.5 平台功能对比</strong></h2><h3 id="251-希冀"><a class="markdownIt-Anchor" href="#251-希冀"></a> <strong>2.5.1 希冀</strong></h3><p>优势：全面支撑信息类专业，实验体系完备，学习数据可追踪，</p><p>课程方面，涵盖人工智能课程体系所有课程的课程、实验。支持各类在线/离线考试、在线（作业、实验、答疑、考试、公开课）等功能，支持代码文档查重。支持扩招多门课程，允许接入其他服务器资源。支持各项业内主流比赛、校内课程竞赛，支持训练、并行竞赛、性能竞赛等。</p><p>实训方面，支持3种实验环境，并且允许根据课程自行调整资源，支持自定义测评功能。</p><h3 id="252-头歌"><a class="markdownIt-Anchor" href="#252-头歌"></a> <strong>2.5.2 头歌</strong></h3><p>优势：实训环境全，主流通用课程、项目数量众多，平台功能齐全。</p><p>在课程方面，覆盖基础编程、云计算、机器学习、人工智能、大数据等主流课程，支持教师自定义课程。支持在线（课堂、作业、考试、资源分享、讨论、签到、问卷调查、直播等）。支持行业主流竞赛、校内竞赛、课程竞赛等。另外还支持题库刷题、代码托管、科研项目管理等。</p><p>在实训方面，大多数课程支持编程模式（编译器模式），部分课程支持Jupter、命令行、虚拟仿真模式。</p><h3 id="253-和鲸"><a class="markdownIt-Anchor" href="#253-和鲸"></a> <strong>2.5.3 和鲸</strong></h3><p>优势：优秀数据集、项目众多，是以数据科学方向为中心提供的平台</p><p>在课程方面，和鲸以数据集、项目为课程中心，支持创建课程、自定义题库、课程共享等功能，内置多个研究方向课程模板。</p><p>在实训方面，支持创建IDE、jupter、canvas等实训环境，可从多个来源导入数据集、支持来自社区的海量镜像、数据集和项目。</p><h3 id="254-蓝桥云课"><a class="markdownIt-Anchor" href="#254-蓝桥云课"></a> <strong>2.5.4 蓝桥云课</strong></h3><p>优势：对蓝桥杯竞赛的强联系，围绕竞赛、证书展开辅导授课。</p><p>在课程方面，包含主流编程语言课程、云计算、大数据、人工智能等。针对不同方向设置课程体系学习，支持可售卖课程和私有课程。从覆盖程度看，免费课程基本都是基础课，进阶课大部分收费。蓝桥云课主要围绕蓝桥杯、1+X证书等比赛，有专门的备考、刷题、竞赛通知等综合性站点。</p><p>在实训方面，支持命令行、桌面、编译器、jupter环境，且支持环境切换、实训延时、实训答疑，会员用户支持保存实验环境。</p><h3 id="255学习通"><a class="markdownIt-Anchor" href="#255学习通"></a> <strong>2.5.5学习通</strong></h3><p>优势：与学校课程同步，拥有全面的教学、图书资源。</p><p>教师端：学习通课程与校内课表保持一致，教师可根据内置课程师范教学包创建课程，也可根据学校编码导入。支持混合式教材（可听、可视、可练、可互动）</p><p>学生端：学生可查看教师、本人课表，支持课堂签到，直播、考试，课程支持投屏观看。学习通内置的学习资源是一大特点，超星学习通拥有国内众多电子图书、主流期刊、报纸的版权，拥有海量学习资源。</p><h2 id="26-产品实训流程对比"><a class="markdownIt-Anchor" href="#26-产品实训流程对比"></a> <strong>2.6 产品实训流程对比</strong></h2><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202307071639099.png" alt></p><p>从上面可以看出，头歌和蓝桥云课是以展示课程、实验为主，每个课程均有详细的章节，并可在线完成章节搭配的实验，实验需要申请虚拟环境。</p><p>希冀平台有配套的学生管理。和鲸是以用户或官网发布的数据集、项目为核心，以社区内容为主吸引用户留驻，吸引用户使用其modelWhale平台进行实验。</p><p>从用户方面考虑，希冀的用户主要是与其合作学校里的学生，平台与学校课程匹配度高，管理侧方便统计。平台功能贴合学校、教师需求。各种公开课和竞赛也可以丰富学生课余时间。</p><p>和鲸、头歌和蓝桥云课的基本流程都是选择数据集/课程/实训即可开始实验。其中，和鲸支持多个付费版本（专业版、团队版、部署版），支持多人协调和教学实训。头歌的教学管理功能稍弱，蓝桥云课则没有教学管理的功能。</p><p>腾学汇+tione，在选择实验章节后，进入实验页面，但实验并非在本平台进行，而是跳转至腾讯云平台进行登录操作才能进行实验，实训功能于课程平台是分离的。</p><p>超星学习通与希冀类似，平台和学校的教务系统紧密关联，非校内用户无法正常使用。</p><h2 id="27-平台课程对比"><a class="markdownIt-Anchor" href="#27-平台课程对比"></a> <strong>2.7 平台课程对比</strong></h2><p>希冀课程</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202307071639691.png" alt></p><p>头歌课程概览</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202307071639134.png" alt></p><p>和鲸课程概览</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202307071639233.png" alt></p><p>蓝桥云课课程概览</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202307071639694.png" alt></p><p>腾学汇课程概览</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202307071639775.png" alt></p><p>​                ○ 从课程角度来看，希冀平台是相对完备的。同时达到覆盖广、有深度，并且课程之间是成体系的，平台功能与学校的教学管理方式紧密关联。</p><p>​                ○ 头歌与蓝桥云课均属于在线课程网站，对各信息类专业的通识课程支持较多。</p><p>​                ○ 和鲸走的路线是数据集导向的，并不支持主流信息专业的通识课，而是聚焦于各个行业具体的项目和数据集来进行数据分析。总的来说和鲸的定位是分析工具，而不是课程学习平台，只有团队版本才支持教学管理等功能，而教学管理功能相对较弱。</p><p>​                ○ 腾学汇相较于上述平台，课程覆盖率不高，课程联系较为松散，专业分类模糊，课程平台与实训平台分离。</p><h2 id="28-实训功能对比"><a class="markdownIt-Anchor" href="#28-实训功能对比"></a> <strong>2.8 实训功能对比</strong></h2><p>希冀实训图</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202307071642632.png" alt></p><p>头歌实训图</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202307071639835.png" alt></p><p>和鲸实训图</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202307071640587.png" alt></p><p>蓝桥云课实训图</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202307071640929.png" alt></p><p>腾学汇实训图</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202307071640308.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202307071640289.png" alt></p><p>​                ● 希冀平台的实训功能环境比较完整，支持远程桌面、Jupyter笔记环境、通用测评框架以及web集成测评框架。</p><p>​                ● 头歌的实训功能相对简单，并没有复杂的环境，实验界面类似代码编译器，头歌在平台内置了金币等奖励机制，督促学生学习。头歌也支持Jupter环境，但支持该功能的课程较少，且功能较为简陋。</p><p>​                ● 和鲸将ModelWhale作为与社区关联的实训平台，提供免费基础版，实训使用的是Jupter笔记环境，支持变量监控、查看镜像日志，支持导出当前项目版本。和鲸同样内置金币奖励机制，与社区有互动循环。</p><p>​                ● 蓝桥云课的实训同样支持命令行、桌面、Jupter笔记环境，与和鲸对比，蓝桥云课的jupter需跟随课程步骤填入代码、运行成功即可，重点在于完成课程，而和鲸的侧重点在于对项目数据的处理。</p><p>​                ● 腾学汇+tione作为AI学习平台，功能较为全面，但平台限制在腾讯云平台内，界面不友好，学习成本高。还有诸如目前支持的AI建模场景较少、对自定义数据集支持较差、文件上传缓慢等问题。</p><h1 id="3-平台产品优化建议"><a class="markdownIt-Anchor" href="#3-平台产品优化建议"></a> <strong>3. 平台产品优化建议</strong></h1><ol><li>增加对常见的信息类竞赛的支持。以上平台（除学习通以外）均支持相关的竞赛。竞赛与课程、实训相结合可以使学生更有动力学习。</li><li>增加课程、实训数量。课程需组合成体系，腾学汇有类似的功能（课程路径），但页面并没有看出来这个功能。</li><li>借鉴以和鲸数据集等类似的资源为中心、加强社区建设。</li><li>桌面环境申请资源时间大概在2~4分钟，相比竞品平台时间过长。还需修复诸多bug，增加用户体验。</li><li>腾学汇的实训功能调用腾讯云平台功能，且需要手动填写主账号、自用户名、登录密码。另外Tione的界面、功能，都需要较高学习成本。</li></ol>]]></content>
    
    
    <categories>
      
      <category>work</category>
      
    </categories>
    
    
    <tags>
      
      <tag>竞品分析</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>购房指南（二）选房&amp;注意事项</title>
    <link href="/post/a506be5b.html"/>
    <url>/post/a506be5b.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><h2 id="沟通篇"><a class="markdownIt-Anchor" href="#沟通篇"></a> 沟通篇</h2><p>1、在附近的店里找工作经验丰富、对周边熟悉的中介。了解一下周边的环境、房价。如果这个中介经验丰富，可以跟他说一下自己的需求。</p><p>2、提前确认要去看哪个楼盘，不要中介带你去就去，提前看一下，不适合就不去（有的楼盘首次去有优惠）</p><p>3、不要被中介带节奏，头脑一热就交定金，尤其不要当天签合同</p><p>4、如果价格确实谈到了最低，那可以再谈一下物业费，例如免2年物业费</p><p>5、有机会可以找个有买房经验的一起去</p><h2 id="房产周边"><a class="markdownIt-Anchor" href="#房产周边"></a> 房产周边</h2><h3 id="地段"><a class="markdownIt-Anchor" href="#地段"></a> 地段</h3><ul><li>具体位置</li><li>地铁或地铁开通规划，或未来区域内是否有重大政府规划</li><li>5分钟步程是否有公交站</li><li>10分钟步程内是否有较大的超市、便利店、饭店、银行、商场</li><li>半径1~2公里内是否有学校、打车20分钟内能到医院</li><li>开车是否方便进入环路</li></ul><h3 id="周边"><a class="markdownIt-Anchor" href="#周边"></a> 周边</h3><ul><li>楼周围没有高压电塔、加油站等高危公共设施</li><li>没有垃圾站、货运站，夜间卸货扰民</li><li>临路、邻城铁注意噪音问题</li><li>小区停车位问题</li><li>安保、门禁情况</li><li>周边交通状况，必经之路是否较拥堵</li><li>楼数量不宜多</li></ul><h2 id="房产质量"><a class="markdownIt-Anchor" href="#房产质量"></a> 房产质量</h2><p><strong>产权情况（二手房）</strong></p><p>问清楚出售原因；了解产权时间，是70、50还是40年；是商品房、经适房、商住两用；</p><p>是否满五唯一，即：取得房产证或契税完税证明满5年、在省内登记在册的只有这一套。满五唯一的房子有税费优惠。</p><p><strong>小区建设</strong></p><p>垃圾处理放、车库出入口、配电间位置、楼宇部署、是否会再建、楼间距影响</p><p><strong>房屋质量</strong></p><p>墙体裂缝、厨卫/顶层渗透、墙皮脱落、隔音/保温/隔热、水电气设计合理</p><p>楼梯间位置、电梯运行质量、公用照明、消防设施等</p><p><strong>其他</strong></p><ol><li>避免统建房，统建房小区素质没有普通小区高，物业相对差</li><li>尽量选茶水盘，业主素质相对好</li><li>不是临街、临高架铁路就一定有噪音，需要具体实地查看</li><li>南北通透不连廊，小高层</li><li>尽量选边户，如果是中间楼栋，尽量选中高层。选择合适的时间点去看房</li><li>尽量三室，如果三室一定要两卫</li><li>小区人车分离好、车位比高</li></ol><h2 id="户型"><a class="markdownIt-Anchor" href="#户型"></a> 户型</h2><p><strong>动静分离</strong></p><ul><li><p>动区：客厅、餐厅、厨房、次厅</p></li><li><p>静区：卧室、书房、主卫</p></li></ul><p><strong>干湿分离</strong></p><ul><li>湿：厨房、卫生间</li><li>干：房间、卧室</li></ul><p><strong>公私分离</strong></p><p>内部客厅、餐厅等公共空间与较为私密的空间需要有遮挡</p><p><strong>通透良好</strong></p><ul><li><p>户型方正</p></li><li><p>相对两面通风采光（南北、东西）最佳；相邻两面次之（东南、南西、西北）；只有一面采光通风最差</p></li><li><p>厨卫尽量独立采光通风，避免暗厨暗卫</p></li></ul><p><strong>动线合理</strong></p><p>人在户内活动的路线良好。好的动线一般指从入户到进客厅、卧室、厨房的三条线不会交叉。</p><p><strong>尺寸合理</strong></p><p>客厅开间不宜小于3.6m</p><p>书房面积6~10</p><p>厨房净长不小于2.1，净宽不小于1.5</p><p>卫生间一般4平，2x2或者1.8x2.2</p><p>卧室不小于3.0x3.3，主卧一般3.3x3.6、3.6x3.9</p><p><strong>进深与开间</strong></p><p>房间的主采光面为开间，与其垂直的是进深。或者根据房门朝向，房门进入的方向的距离为进深，左右两边距离为开间。进深与开间比例为1:1.5之间较好，可以做到采光通风与保温二者平衡。</p><ul><li>进深过大开间小：影响采光</li><li>进深偏小开间大：不利于保暖</li></ul><h3 id="其他建议"><a class="markdownIt-Anchor" href="#其他建议"></a> 其他建议</h3><ol><li>在能力范围内尽量买大</li><li>如果是小户型，不要买小复式和开间</li><li>买新不买旧</li><li>尽量高层（观景、安全、隐私、排水）</li><li>尽量品牌</li></ol><h3 id="二手房购房步骤"><a class="markdownIt-Anchor" href="#二手房购房步骤"></a> 二手房购房步骤</h3><p>**大致流程：**看房→产权核实→签订买卖合同→交首付→买方申请贷款→交税费和中介费→过户→交接水电煤气费和物业费→领取新房不动产证→贷款下来后交付房屋</p><p><strong>具体流程（参考）</strong></p><ol><li>确定购房资格，中介帮忙核实，并确定征信信息，防止无法批贷款</li><li>看房，选房。反复实地对比查看。谈房价、中介费</li><li>签三方合同。中介费给一半，过户前再付另一半。定金给卖家，交首付前转回。</li><li>合同签完后，中介做资格审查、合同备案。</li><li>商业贷款面签。提前打印好银行流水、征信报告，收入证明等材料，以证明有能力【付首付、还月供】，银行人员问清楚情况后就签字按手印，等待银行批贷通知。批贷时银行根据房屋价值确定贷款金额，中介处理。</li><li>批贷后，与中介去房管局刷首付，之后等待银行放贷（有可能排队）</li><li>过户。首付款和带宽均发送到资金监管账户，过户完成后卖家才收到钱。过户之后缴税、签字按手印，付完剩下的中介费。最后等房本。</li><li>取公积金、落户、办物业更名等（需要房本）</li></ol><h2 id="下单注意事项"><a class="markdownIt-Anchor" href="#下单注意事项"></a> 下单注意事项</h2><ul><li>注意是否有购房资质</li><li>查看房产证、契税票，看清楚产权性质、面积、建筑年代、交税时间、抵押状态等</li><li>确认中介复印了房主的房产证及身份证</li><li>确认付款方式，如果是贷款需要明确首付支付方式</li><li>确认贷款方式、贷款资质和额度，银行通过征信记录、收入证明、工资流水、学历等确定贷款数额和利率</li><li>合同上明确写出首付的支付方式、用途，交钱时，收据上每笔金额的用途都要写明。（二手房费用较多：增值税、契税、个人所得税、印花税、土地增值税、登记费）</li><li>与房主商定最后过户日期，过户后什么时候做物业交割给钥匙、多少天之内迁走户口、房子里留下什么东西等</li><li>所有重要的问题都需要明确卸载合同上，如果中介给的合同部分问题没有写清，一定要求中介在补充协议里加上，避免日后扯皮。</li></ul>]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>导购</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>AWS、Google、Azure-HPC方案调研报告</title>
    <link href="/post/2864384b.html"/>
    <url>/post/2864384b.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><h3 id="1aws的hpc方案"><a class="markdownIt-Anchor" href="#1aws的hpc方案"></a> <strong>1.AWS的HPC方案</strong></h3><h4 id="11-方案是什么"><a class="markdownIt-Anchor" href="#11-方案是什么"></a> <strong>1.1 方案是什么</strong></h4><p>AWS有用一整套HPC产品和服务，以供在云中运行大型复杂的模拟和深度学习工作。AWS的HPC服务包括以下产品：</p><table><thead><tr><th><strong>产品</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>Amazon Elastic Compute Cloud(EC2)</td><td>提供广泛、深入的计算平台，拥有超过 500 个实例，安全可调整大小的计算容量，以满足任意工作负载的需求。</td></tr><tr><td>Elastic Fabric Adapter（EFA）</td><td>Amazon EC2 实例的网络接口，用于大规模运行 HPC 应用程序。可以在任何支持的 EC2 实例上免费启用此功能，EFA 可与用于节点间通信的最常用接口、API 和库配合使用，因此只需稍作修改或无需修改，即可将 HPC 应用程序迁移到 AWS。</td></tr><tr><td>AWS ParallelCluster</td><td>开源集群管理工具，可用于在 AWS 上快速构建、部署和管理高性能计算（HPC）计算环境。</td></tr><tr><td>AWS Batch</td><td>云原生批处理调度器，可跨所有 AWS 计算服务和功能扩展数十万个计算任务。同时优化计算资源，令使用者能够专注于分析结果和解决问题。</td></tr><tr><td>Amazon FSx for Lustre</td><td>提供完全托管式共享存储，兼具常用 Lustre 文件系统的可扩展性和性能。</td></tr><tr><td>Amazon FSx for OpenZFS</td><td>提供基于 OpenZFS 文件系统构建的完全托管式共享文件存储。</td></tr><tr><td>NICE DCV</td><td>高性能远程显示协议，为客户提供安全的方式，以在不同的网络件下从任何云或数据中心向任何设备交付远程桌面和应用程序流。</td></tr><tr><td>NICE EnginFrame</td><td>NICE引擎集成框架，集成本地和AWS高性能计算环境，通过一个统一的界面为本地和云工作流提交作业</td></tr></tbody></table><p>主要产品Amazon Elastic Compute Cloud(Amazon EC2) 经过多种优化，存在不同案例的实例提供选择，由不同配置组合而成。</p><table><thead><tr><th><strong>产品</strong></th><th><strong>描述</strong></th><th><strong>特点</strong></th></tr></thead><tbody><tr><td>Amazon EC2 通用型</td><td>计算、内存和联网资源三方面的平衡，可用于各种不同的工作负载。适合于以相同比例使用资源的应用程序</td><td>高性能、适用性广、支持各类框架，适合中小企业和个人用户</td></tr><tr><td>Amazon EC2 计算优化型</td><td>适用于批处理工作负载、媒体转码、高性能 Web 服务器、高性能计算 (HPC)、科学建模、专用游戏服务器和广告服务器引擎、机器学习推理和其他计算密集型应用程序</td><td>更高的性能、支持集群部署，功能扩展多，适用于大规模数据处理场景</td></tr><tr><td>Amazon EC2 内存优化型</td><td>提高可处理内存中大型数据集的工作负载的性能</td><td>支持大容量内存数据结构和数据库，适用于处理大量数据的场景</td></tr><tr><td>Amazon EC2 加速计算</td><td>使用硬件加速器或协同处理器来执行浮点数计算、图形处理或数据模式匹配等功能，比使用在 CPU 上运行的软件更高效</td><td>高性能计算、大规模并行，适用于高性能、大量数据和计算的任务</td></tr><tr><td>Amazon EC2 存储优化</td><td>用于需要对本地存储上的大型数据集进行高速连续读写访问的工作负载每秒可以向应用程序交付数以万计的低延迟、随机 I/O 操作 (IOPS)</td><td>高I/O性能，适用于大规模数据分析、媒体处理和大规模缓存</td></tr><tr><td>Amazon EC2 HPC优化</td><td>专为在 AWS 上大规模运行 HPC 工作负载提供最佳性价比而构建</td><td>高性能、大规模并行，适用于大型复杂模拟和深度学习场景</td></tr></tbody></table><h4 id="12-方案特性特征特色分析-主打优势亮点是什么"><a class="markdownIt-Anchor" href="#12-方案特性特征特色分析-主打优势亮点是什么"></a> <strong>1.2 方案特性/特征/特色分析-主打优势/亮点是什么</strong></h4><p><strong>高性能计算</strong>：通过EC2实例、Elastic Fabric Adapter（EFA）和AWS Batch等服务，可以满足各种规模的高性能计算需求。</p><p><strong>高度可扩展性</strong>：AWS的HPC方案可以根据应用场景的需求进行快速扩容和缩容，可以满足不同规模的计算任务需求。</p><p><strong>灵活部署</strong>：AWS的HPC方案支持多种部署方式，包括公共云、专用云和混合云等，可以根据客户需求进行灵活的部署选择。</p><p><strong>网络性能</strong>：AWS的HPC方案具有高度优化的网络性能，可以支持大规模的并行计算和数据处理。此外，AWS还提供了Elastic Fabric Adapter(EFA)，它可以实现高性能的计算和数据传输，适用于大规模的HPC应用程序。</p><p><strong>易于管理和监控</strong>：AWS的HPC方案提供了丰富的管理和监控工具，包括AWS CloudFormation、AWS Systems Manager和AWS CloudWatch等，可以方便地管理和监控HPC应用。</p><p>**易用性：**这是AWS HPC优势最大的优势，AWS提供易于理解的定价、功能和配置选择，相当全面的操作文档、视频说明，以帮助用户更快上手。</p><p>**灵活性：**支持用户熟悉的操作系统、编程语言和Web程序，所有环境均在云上面无缝运行所有服务，并支持迁移，简化上云流程。</p><p><strong>高性能</strong>：拥有一整套完备的HPC产品服务，可直接在云上运行大型、复杂的模拟仿真和深度学习工作服在，获得近乎无限的计算容量、高性能文件系统和高吞吐网络。</p><p>**可靠性：**AWS为全球200多国家和地区的超过100万活跃客户提供服务，支持机器故障后自动回复，保证用户数据。</p><p>**可扩展和弹性：**允许自动增加、缩减资源容量。即可在几分钟内即可增加新的服务器，或自动缩减资源，以满足用户需要。</p><h4 id="13-方案怎么卖的报价是多少市场主要客户有哪些市场规模怎么样-有哪些典型的客户案例"><a class="markdownIt-Anchor" href="#13-方案怎么卖的报价是多少市场主要客户有哪些市场规模怎么样-有哪些典型的客户案例"></a> <strong>1.3 方案怎么卖的，报价是多少，（市场）主要客户有哪些，市场规模怎么样、有哪些典型的客户案例</strong></h4><p><strong>售卖方式</strong></p><p>AWS的HPC方案是通过<strong>AWS云平台</strong>进行售卖。用户可以在AWS云平台上创建账户，并选择所需的HPC服务。根据服务的不同，用户需要支付相应的费用。AWS的HPC服务包括<strong>计算、存储、网络</strong>等。通常情况下，AWS的HPC服务采用按需付费的模式，即用户只需要支付自己使用的服务费用，不需要支付任何额外的费用。用户可以通过AWS的云服务平台进行购买、管理和监控自己的HPC服务。</p><p>部分产品有用免费试用计划：</p><table><thead><tr><th><strong>产品</strong></th><th><strong>类别</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>Amazon EC2</td><td>计算</td><td>每月750个小时实例使用时间，免费试用12个月</td></tr><tr><td>Amazon RDS</td><td>数据库</td><td>20GB数据库存储/20GB备份+快照存储，免费试用12个月</td></tr><tr><td>Amazon S3</td><td>存储</td><td>5GB/20000 个 Get 请求，免费试用12个月</td></tr><tr><td>Amazon API Gateway</td><td>应用程序</td><td>每月接收API调用100万次</td></tr><tr><td>Amazon SageMaker</td><td>机器学习</td><td>每月250小时，免费试用2个月</td></tr></tbody></table><p><strong>主要产品Amazon EC2 计费模式</strong></p><table><thead><tr><th><strong>计费方式</strong></th><th><strong>计费说明</strong></th><th><strong>使用情况</strong></th></tr></thead><tbody><tr><td>按需计费</td><td>按小时或秒数支付计算容量，无需长期购买</td><td>● 要求低成本，不想预付款或签订长期合同                ● 工作负载具有短期、无法预测且不能中断的性质</td></tr><tr><td>Savings Plans</td><td>在1~3年内稳定使用</td><td>● 使用情况长期、稳定                ● 享用最新实例</td></tr><tr><td>Amazon EC2竞价型实例</td><td>利用AWS云中未使用的EC2容量，与按需计费相比，折扣高达90%</td><td>● 容错或允许中断的工作                ● 应用程序开始和结束时间灵活</td></tr><tr><td>专用主机</td><td>专供用户使用的物理EC2服务器。专用主机允许按需购买，也可在部分Savings Plans 中购买</td><td>● 希望节省许可费用的用户                ● 内部HPC迁移用户</td></tr><tr><td>按需容量预留</td><td>在任意时间段内的特定可用区为实例预留计算容量，缓解容量有限从而无法按需获得容量的风险</td><td>● 需要容量保证的业务关键型工作负载                ● 满足高可用性监管要求的工作负载                ● 灾难恢复</td></tr><tr><td>按秒计费</td><td>EC2使用量按每秒增量计费，最少为60秒</td><td>● 不规则时间段内运行的实例</td></tr></tbody></table><p><strong>报价</strong></p><p>AWS 的 HPC 方案有多种不同的配置和选项（预付费或按需），甚至根据使用率和地区不同，报价情况也会有所不同。官网定价页面：<a href="https://calculator.aws/#/addService?refid=ft_card">https://calculator.aws/#/addService?refid=ft_card</a></p><p>主要计算产品Amazon EC2的配置与价格如下（单位 USD）：</p><table><thead><tr><th><strong>产品</strong></th><th><strong>配置</strong></th><th><strong>地区</strong></th><th><strong>类型</strong></th><th><strong>操作系统</strong></th><th><strong>按需每小时成本</strong></th><th><strong>计算存储计划</strong></th><th><strong>实例存储计划</strong></th><th><strong>按需使用</strong></th><th><strong>竞价型实例</strong></th><th><strong>预留实例</strong></th></tr></thead><tbody><tr><td>Amazon EC2</td><td>t3.medium/2vCPU/4 GiB</td><td>香港</td><td>共享实例</td><td>Linux</td><td>0.0584</td><td>● 1年：预付345.14或每月30.81                ● 3年：预付678.02或每月20.81</td><td>● 1年：预付300.47或每月26.79                ● 3年：565.02或每月18.03</td><td>在100%的实例使用量下，每月42.63</td><td>假设折扣在43%时，每月24.3</td><td>● 1年：预付300或每月26.79                ● 3年：预付566或每月18.03</td></tr></tbody></table><p>存储产品Amazon EBS的配置与价格如下（单位USD）：</p><table><thead><tr><th><strong>产品</strong></th><th><strong>地区</strong></th><th><strong>卷数</strong></th><th><strong>平均持续运行时间</strong></th><th><strong>存储类型</strong></th><th><strong>存储量</strong></th><th><strong>快照频率</strong></th><th><strong>每个快照更改量</strong></th><th><strong>月度成本</strong></th></tr></thead><tbody><tr><td>Amazon EBS</td><td>香港</td><td>1</td><td>730h/每月</td><td>通用型SSD(gp2)</td><td>30GB/卷</td><td>每小时</td><td>3GB</td><td>65.75</td></tr></tbody></table><p>托管服务Amazon API Gateway 的配置与价格如下（单位USD）：</p><table><thead><tr><th><strong>产品</strong></th><th><strong>地区</strong></th><th><strong>请求类型</strong></th><th><strong>请求量</strong></th><th><strong>请求平均大小</strong></th><th><strong>连接时间、速率</strong></th><th><strong>缓存</strong></th><th><strong>月度成本</strong></th></tr></thead><tbody><tr><td>Amazon API Gateway</td><td>香港</td><td>HTTP API</td><td>1亿/每月</td><td>512KB（大于512 kb算2个请求）</td><td>x</td><td>x</td><td>138</td></tr><tr><td>REST API</td><td>1亿/每月</td><td>x</td><td>x</td><td>0.5GB</td><td>489.98</td><td></td><td></td></tr><tr><td>WebSocketAPI</td><td>1亿/每月</td><td>32（大于32 kb算2个请求）</td><td>1s/s</td><td>x</td><td>126.52</td><td></td><td></td></tr></tbody></table><p><strong>AWS的HPC方案的市场占有是什么样的</strong></p><p><strong>市场规模</strong></p><p>略。</p><p><strong>市场评价</strong></p><p>如下网站均为全球知名的企业级软件评论平台，这些平台汇聚企业软件和服务决策者的同行评审评级，为其他潜在客户在选择合适供应商时提供参考和指导。</p><table><thead><tr><th><strong>评论网站</strong></th><th><strong>评分</strong></th></tr></thead><tbody><tr><td>Gartner Peer Insights</td><td>4.7 out of 5</td></tr><tr><td>TrustRadius</td><td>9.0 out of 10</td></tr><tr><td>G2</td><td>4.6 out of 5</td></tr><tr><td>Capterra</td><td>4.6 out of 5</td></tr><tr><td>PeerSpot</td><td>4.4 out of 5</td></tr></tbody></table><p><strong>主要客户</strong></p><p>合作伙伴页面：<a href="https://aws.amazon.com/cn/hpc/partner-solutions/">亚马逊云科技高性能计算能力合作伙伴</a></p><p>主要服务于各种科学和工程领域的客户，例如生物医学研究、能源、金融、仿真、气候、环境、政府及科研项目等。</p><p>以下是一些AWS的HPC方案的主要客户：</p><table><thead><tr><th><strong>领域</strong></th><th><strong>公司/机构</strong></th></tr></thead><tbody><tr><td>科学研究机构</td><td>美国国家航空航天局（NASA）、美国国家气象局（NOAA）、美国国家环境保护局（EPA）等</td></tr><tr><td>学术机构</td><td>哈佛大学、麻省理工学院、斯坦福大学等</td></tr><tr><td>金融机构</td><td>花旗银行、汇丰银行、摩根士丹利等</td></tr><tr><td>制造业企业</td><td>美国铝业公司、日本神户钢铁、宝马、通用电气、三星等</td></tr><tr><td>媒体和娱乐公司</td><td>华纳兄弟、迪士尼、Netflix等</td></tr><tr><td>航空航天领域</td><td>飞机制造商和航空航天公司，如Airbus、Boeing、SpaceX等</td></tr><tr><td>政府机构</td><td>美国国防部、英国国防部、澳大利亚国防部等</td></tr></tbody></table><p><strong>典型案例</strong></p><p><strong>FCD仿真设计：<strong>法国公司 FLYING WHALES为了设计一种高载重的货运飞艇需要运行复杂的CFD流体运动学计算。但由于物理测试成本过高，且内部HPC资源较弱，因此需要将其HPC迁移到AWS云上。购买了Amazon EC2 C5n.18xlarge 实例和 EFA ，使用竞价型实例来预置C5n实例，将H</strong>PC集群成本降低了64%</strong>。在工作性能上，将<strong>CFD工作流作业的运行速度提升了15倍</strong>，使得公司可以如期交付产品。AWS HPC的快速扩展性能接近于国家超级计算机的水平，工程师不必在作业队列中等待运行模拟，<strong>每周节省几十个小时时间</strong>。</p><p><strong>科学研究：<strong>美国加州理工学院一间生物实验室需要研究新型基因。由于预算有限，无法搭建本地集群，且计算需求不断变化，需要一个具有弹性且灵活的HPC集群。接入AWS后，使用了Amazon Virtual Private Cloud (Amazon VPC) 。借助于AWS，实验室</strong>无需花费时间定期计算资源使用量</strong>，也<strong>无需定期更新硬件</strong>。扩展资源时直接在云上操作，<strong>无需走流程采购实体</strong>。在性能方面，<strong>基因组测序分析所需时间从数周缩短为数天</strong>。对于非Linux用户，实验室使用Amazon WorkSpaces 托管桌面计算服务，使Windows用户直接从实验室PC连接AWS，拥有与Linux用户同等的的访问权限。</p><p><strong>生物医疗：<strong>美国公司Illumina长期使用AWS来分析管理基因组数据，每个月在AWS服务商花费100万USD，只是计算方面每个月就要花费40万USD。在成本优化项目中，Illumina使用了Amazon EC2 Spot 实例运行分析软件，这些实例与按需使用相比价格更低，每个月</strong>计算成本从40万降低到10多万</strong>。通过将部分不频繁访问的数据分层到其他标准，<strong>每个月又能节省9万USD的存储成本</strong>。使得Illumina能够降低客户使用门槛，提高产品使用率，<strong>为客户提供成本更低、性能更好的基因分析平台</strong>，这对临床市场客户尤为重要。</p><p><strong>金融</strong>：美国金融公司Aon Securities Inc. (ASI) 通过金融建模工具PathWise 帮助保险公司为其投资产品分析风险，需要高扩展性的计算资源。接入AWS后使用Amazon EC2和Amazon Elastic Block Store (Amazon EBS) 进行自动运行和持久存储，可以<strong>实现在几分钟之内而不是8个小时运行500万个策略</strong>，使得<strong>原本10天的流程缩短到了10分钟</strong>，提高了管理效率，精算师可以将时间放在对数据的处理上，而不是建设基础设施。</p><h3 id="2-google的hpc方案"><a class="markdownIt-Anchor" href="#2-google的hpc方案"></a> <strong>2. google的HPC方案</strong></h3><h4 id="11-方案是什么-2"><a class="markdownIt-Anchor" href="#11-方案是什么-2"></a> <strong>1.1 方案是什么</strong></h4><table><thead><tr><th>行业</th><th>解决方案</th></tr></thead><tbody><tr><td>医疗保健和生命科学</td><td>将数据分析用于药品开发利用 Google Cloud 高性能计算来分析和处理海量数据，发现更多具有前景的药物靶点，并推动科学研究的发展。</td></tr><tr><td>金融服务</td><td>1、使用高性能计算进行风险模拟获取实时或按需大规模计算和模拟风险所需的所有计算资源，而无需构建用户自己的服务器场。2、使用高性能计算执行定量分析Google Cloud 的规模和速度支持使用高效且可扩缩的计算资源进行定量研究，并将用户的想法转化为盈利策略。</td></tr><tr><td>制造</td><td>借力 HPC 加速研发推出支持 AI 的产品和服务，发掘新的洞见用于创新，并通过高性能计算加速用户的工程和设计流程。</td></tr><tr><td>教育</td><td>高性能计算Google Cloud 灵活且可扩展的产品有助于加快完成时间，因此可以将想法转化为发现，将灵感转化为产品。</td></tr></tbody></table><h4 id="12-方案特性特征特色分析"><a class="markdownIt-Anchor" href="#12-方案特性特征特色分析"></a> <strong>1.2 方案特性/特征/特色分析</strong></h4><h5 id="121hpc主要特性"><a class="markdownIt-Anchor" href="#121hpc主要特性"></a> <strong>1.2.1HPC主要特性</strong></h5><p>利用云的灵活性、功能和规模加快 HPC 工作负载速度</p><p>利用 HPC 工具、服务和合作伙伴解决方案，充分发挥拥有最新强大基础架构的高级 HPC 虚拟机的功能。</p><p>1、强大的基础架构</p><p>Compute Engine 的虚拟机采用了最新的 CPU 和 GPU，支持实时迁移，可以使用高性能对象、数据块和文件存储空间，并且基于吞吐量高、延迟时间短的虚拟机到虚拟机网络。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051535029.png" alt></p><p>2、PC 工具和服务</p><p>从使用 Batch 轻松扩缩工作负载，到使用 GKE 灵活运行容器化的 HPC 工作负载，再到使用 Google Cloud HPC Toolkit 部署全自动扩缩 HPC 集群环境，Google 的 HPC 工具和服务可让用户轻松运行较棘手的工作负载。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051536054.png" alt></p><p>3、广泛的合作伙伴生态系统</p><p>Google 与众多应用开发者、工作负载管理员、存储提供商和系统集成商合作，确保用户的应用在 Google Cloud 上以较佳方式开箱即用地运行。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051536304.png" alt></p><h5 id="122优势"><a class="markdownIt-Anchor" href="#122优势"></a> <strong>1.2.2优势</strong></h5><p>灵活强大的 HPC 平台，为创新开辟道路</p><p>1、更快获得结果</p><p>根据成熟的最佳实践，利用 Cloud HPC Toolkit 在几分钟内创建 HPC 集群。借助预配置的 HPC 蓝图快速启动作业，获得可预测的性能。</p><p>2、推动并维持创新</p><p>利用按需使用的高性能资源为团队助力。在最新的 Intel 和 AMD CPU、NVIDIA GPU 和高吞吐量、低延迟的对象和文件存储上构建和运行密集型工作负载。</p><p>3、只为需要的服务付费</p><p>借助预算和承诺使用折扣，控制和管理费用。 为用户最灵活的工作负载使用 Spot 虚拟机，节省高达 90% 的费用。</p><h5 id="123为-google-compute-engine-引入计算和内存优化的虚拟机"><a class="markdownIt-Anchor" href="#123为-google-compute-engine-引入计算和内存优化的虚拟机"></a> <strong>1.2.3为 Google Compute Engine 引入计算和内存优化的虚拟机</strong></h5><p><strong>计算优化的虚拟机</strong></p><p>计算优化 VM (C2) 是 GCP 上的一个新计算系列，具有高每线程性能和内存速度，有利于大多数计算密集型工作负载。计算优化的 VM 非常适合 HPC、电子设计自动化 (EDA)、游戏、单线程应用程序等。与当前的 GCP VM 相比，新的 Compute-Optimized VM 的性能提高了 40% 以上。它们还利用第二代英特尔至强可扩展处理器，可以以 3.8 GHz 的持续时钟速度运行。此外，C2 VM 提供对底层服务器平台架构的完全透明性，从而实现高级性能调整。可以选择具有多达 60 个 vCPU、240 GB 内存和多达 3TB 本地存储的计算优化 VM。Compute-Optimized VM 目前处于 alpha 阶段。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051536021.png" alt></p><p><strong>内存优化虚拟机</strong></p><p>内存优化虚拟机 (M2) 为 Compute Engine 虚拟机提供最高的内存配置。它们非常适合内存密集型工作负载，例如大型内存数据库（例如 SAP HANA）以及内存数据分析工作负载。18年7 月，发布了具有高达 4 TB 内存的内存优化 VM。现在 M2 系列提供高达 12 TB 的内存和 416 个 vCPU，使用户能够在 GCP 上运行扩展工作负载。这些 VM 也基于第二代 Intel Xeon 可扩展处理器，这些最新的内存优化 VM 将提供以下尺寸：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051536590.png" alt></p><h4 id="13-方案怎么卖的报价是多少市场主要客户有哪些市场规模怎么样-有哪些典型的客户案例-2"><a class="markdownIt-Anchor" href="#13-方案怎么卖的报价是多少市场主要客户有哪些市场规模怎么样-有哪些典型的客户案例-2"></a> <strong>1.3 方案怎么卖的，报价是多少，（市场）主要客户有哪些，市场规模怎么样、有哪些典型的客户案例</strong></h4><h5 id="131报价"><a class="markdownIt-Anchor" href="#131报价"></a> <strong>1.3.1报价</strong></h5><p>采用随用随付的价格模式，只需为实际使用的服务付费。没有预付费用，也没有终止费用。价格因产品和使用情况而异。</p><p>价格表：</p><p><a href="https://cloud.google.com/pricing/list?hl=zh-cn">https://cloud.google.com/pricing/list?hl=zh-cn</a></p><h5 id="132客户案例"><a class="markdownIt-Anchor" href="#132客户案例"></a> <strong>1.3.2客户&amp;案例</strong></h5><p>客户&amp;案例：</p><table><thead><tr><th>行业</th><th>客户</th><th>案例</th></tr></thead><tbody><tr><td>医疗保健</td><td>Broad</td><td>云平台分析人类基因组的速度提高 400%<a href="https://cloud.google.com/customers/broad-institute">https://cloud.google.com/customers/broad-institute</a></td></tr><tr><td>生命科学</td><td>Schrödinger</td><td>加速药品研发<a href="https://cloud.google.com/customers/schrodinger?hl=zh-cn">https://cloud.google.com/customers/schrodinger?hl=zh-cn</a></td></tr><tr><td>科技</td><td>1、AirBus2、Banggood3、琥珀移动4、美图</td><td>1、Airbus Defence and Space 的 Intelligence 业务线利用 Google Cloud Platform 构建了一个可扩缩的在线平台，让客户能够实时访问 PB 级的卫星图像。<a href="https://cloud.google.com/customers/airbus/?hl=zh-cn">https://cloud.google.com/customers/airbus/?hl=zh-cn</a>2、Banggood通过在Google Cloud上使用翻译API自动翻译大量的产品信息和网站内容，降低了本地化成本和周转时间。<a href="https://cloud.google.com/customers/banggood/?hl=zh-cn">https://cloud.google.com/customers/banggood/?hl=zh-cn</a>3、琥珀移动利用Firebase和BigQuery提供的数据，开发以用户体验为中心的应用，满足顾客的需求。<a href="https://cloud.google.com/customers/ambermobile/?hl=zh-cn">https://cloud.google.com/customers/ambermobile/?hl=zh-cn</a>4、美图使用Google Cloud来收集并分析数据，以更深入了解其用户。基于分析结果，美图得以开发出一个便于使用的人工智能平台，让人们可以用数字方式让自己变得更美。<a href="https://cloud.google.com/customers/meitu/?hl=zh-cn">https://cloud.google.com/customers/meitu/?hl=zh-cn</a></td></tr><tr><td>零售与消费品</td><td>1、Carrefour2、Lush</td><td>Carrefour 运行 SAP on Google Cloud，通过全面的数据集中化为线上和线下的客户提供最佳服务。<a href="https://cloud.google.com/customers/carrefour/?hl=zh-cn">https://cloud.google.com/customers/carrefour/?hl=zh-cn</a>2、在 22 天内，Lush 将其全球电子商务网站迁移到 Google Cloud Platform，显著提高了网站的可靠性和稳定性<a href="https://cloud.google.com/customers/lush/?hl=zh-cn">https://cloud.google.com/customers/lush/?hl=zh-cn</a></td></tr><tr><td>游戏</td><td>1、King2、LINE GAMES</td><td>King 使用 BigQuery 构建云端数据仓储平台，通过 Google Cloud 机器学习技术降低成本并提升分析能力。<a href="https://cloud.google.com/customers/king/?hl=zh-cn">https://cloud.google.com/customers/king/?hl=zh-cn</a>2、借力于 BigQuery 和 Holistics，LINE GAMES 通过识别可提升游戏体验的机会，降低了用户的流失率；同时通过从互联网数据中心迁移到云端解决方案，成本降低可达 50%。<a href="https://cloud.google.com/customers/line-games/?hl=zh-cn">https://cloud.google.com/customers/line-games/?hl=zh-cn</a></td></tr><tr><td>金融服务与保险</td><td>Loopring</td><td>Loopring 选择用 Google Cloud 的弹性和速度来缩短交易时间，打造更优质的 zkRollup 客户体验。<a href="https://cloud.google.com/customers/loopring/?hl=zh-cn">https://cloud.google.com/customers/loopring/?hl=zh-cn</a></td></tr><tr><td>制造</td><td>Mitsubishi Motors</td><td>将服务收入提升 20%<a href="https://cloud.google.com/customers/mitsubishi-motors/?hl=zh-cn">https://cloud.google.com/customers/mitsubishi-motors/?hl=zh-cn</a></td></tr><tr><td>媒体与娱乐</td><td>华曦达</td><td>为了提供易于部署且高性能表现的 OTT 解决方案，华曦达运用 Google Cloud 的计算、视频处理和数据分析能力来缩短部署时间，并提升电视观看体验。<a href="https://cloud.google.com/customers/sdmc/?hl=zh-cn">https://cloud.google.com/customers/sdmc/?hl=zh-cn</a></td></tr></tbody></table><p>国内市场主要客户行业：游戏国外市场主要客户行业：科技</p><h5 id="133市场规模"><a class="markdownIt-Anchor" href="#133市场规模"></a> <strong>1.3.3市场规模</strong></h5><p>云市场占有规模（数据为2021年的数据）：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202306051536481.png" alt></p><p>谷歌云凭借8%的市场份额稳居全球第三。只是，相比亚马逊与微软，谷歌在云服务市场份额相对较低。</p><h3 id="3-azure的hpc方案"><a class="markdownIt-Anchor" href="#3-azure的hpc方案"></a> <strong>3. azure的HPC方案</strong></h3><h4 id="11-方案是什么-3"><a class="markdownIt-Anchor" href="#11-方案是什么-3"></a> <strong>1.1 方案是什么</strong></h4><p>azure的HPC方案主要根据当前已存在的解决方案进行构建，首先在Azure 中按要求选择相应的<strong>体系结构</strong>（即解决方案），再根据具体的负载情况选择配置，最后管理、优化集群。</p><p>体系结构页面：<a href="https://learn.microsoft.com/zh-cn/azure/architecture/browse/?terms=HPC">浏览 Azure 体系结构 - Azure Architecture Center | Microsoft Learn</a></p><p>当前主要的体系结构有：</p><p>​                ● Azure 上的计算机辅助工程服务</p><p>​                ● Azure 上的计算流体动力学 (CFD) 模拟</p><p>​                ● Azure 上的 3D 视频渲染</p><p>单独的HPC服务有：</p><p>​            \1.     Azure Batch AI 服务和 Azure Data Science VM：这是一种用于人工智能 (AI) 和数据科学工作负载的云服务，支持高吞吐量的计算和数据存储。</p><p>​            \2.     Azure HPC集群：这是一种使用户能够创建和管理高性能计算 (HPC) 集群的解决方案。</p><p>​            \3.     Azure Data Box：这是一种用于数据传输和存储的解决方案，支持各种数据类型和大小。它可以通过标准集装箱运输，方便地在云端和本地之间传输数据。</p><p>​            \4.     Azure File Share：这是一种用于数据存储的云文件系统，可以支持大规模批处理和 HPC 工作负荷</p><p>​            \5.     Azure Redis Cache：这是一种用于高速缓存和数据存储的解决方案，支持高性能、低延迟和高可用性的数据存储</p><p>​            \6.     Azure Cosmos DB：这是一种支持文档、表格、图形和键值存储的 NoSQL 数据库服务，可以支持大规模批处理和 HPC 工作负荷。</p><h4 id="12-方案特性特征特色分析-2"><a class="markdownIt-Anchor" href="#12-方案特性特征特色分析-2"></a> <strong>1.2 方案特性/特征/特色分析</strong></h4><p><strong>硬件支持广泛</strong>：Azure支持广泛的硬件设备，包括CPU、GPU、FPGA等，这使得Azure能够适应各种类型的计算密集型工作负载。</p><p><strong>云端资源管理灵活</strong>：Azure允许用户通过自助服务方式使用资源，可以根据需要选择不同的虚拟机大小、网络配置和存储方案。此外，用户还可以通过Azure的监控和诊断功能来了解其HPC集群的使用情况。</p><p><strong>高性能存储</strong>：Azure提供了一系列高性能存储解决方案，包括Azure Blob存储、Azure Data Lake存储、Azure NetApp EF等，这些存储方案可以满足大规模批处理和HPC工作负载的需求。</p><p>**高速网络：**Azure提供了一系列高速网络解决方案，包括RDMA网络、高性能计算网络等，这些网络可以提高紧密耦合的并行应用程序的性能。</p><h4 id="13-方案怎么卖的报价是多少主要客户有哪些典型案例"><a class="markdownIt-Anchor" href="#13-方案怎么卖的报价是多少主要客户有哪些典型案例"></a> <strong>1.3 方案怎么卖的，报价是多少，主要客户有哪些，典型案例</strong></h4><p><strong>价格</strong></p><p>收费类型如下：</p><p>​            \1.     即用即付：以秒为单位为计算容量付款，无需长期承诺或提前付款。</p><p>​            \2.     长期订阅：承诺在 1 年或 3 年内按小时预付款</p><p>​            \3.     预留实例：在1~3年内按每月预付款</p><p>​            \4.     现成VM：高价买断机器</p><p>如下是标准版Av2虚拟机的价格：</p><table><thead><tr><th><strong>实例</strong></th><th><strong>内核</strong></th><th><strong>RAM</strong></th><th><strong>临时****存储</strong></th><th><strong>即用即付(现成优先级)</strong></th><th><strong>即用即付(低优先级)</strong></th><th><strong>即用即付(普通优先级)</strong></th><th><strong>1 年节省计划</strong></th><th><strong>3 年节省计划</strong></th></tr></thead><tbody><tr><td>A1 v2</td><td>1</td><td>2 GiB</td><td>10 GiB</td><td><strong>$9.3447</strong>/月~70% savings</td><td><strong>$6.5700</strong>/月</td><td><strong>$31.3900</strong>/月</td><td><strong>$21.2211</strong>/月~32% savings</td><td><strong>$14.1474</strong>/月~54% savings</td></tr></tbody></table><p><strong>主要客户</strong></p><p>汽车、能源、健康和生命科学、硅、金融和制造业等行业通常使用 Azure HPC 工作负载来运行复杂的模拟。以下公司使用了Azure的HPC方案：</p><p>​                ● 鸿海研究院使用Azure HPC GPU加速其AI研究</p><p>​                ● AMD公司使用Azure HPC GPU加速其工作流程</p><p>​                ● 微软自身使用Azure HPC GPU加速其AI模型训练</p><p>​                ● 中国气象局使用Azure的HPC方案进行气象预报</p>]]></content>
    
    
    <categories>
      
      <category>word</category>
      
    </categories>
    
    
    <tags>
      
      <tag>竞品分析</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>扫盲:通往哲学的后楼梯</title>
    <link href="/post/17fc1407.html"/>
    <url>/post/17fc1407.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p><strong>泰勒斯</strong>：第一位哲学家（有争议）——观察世界的本质</p><p>泰勒斯关心的不是事物的表面，而是事物的本质。他要搞清楚的是：高山、动物、植物、风云、星体、人、人的行动与思想等等这些以各种不同形体存在于世界上的东西究竟是怎么回事？**所有这一切的本质到底是什么？**进一步说：它们从何而来？怎么而来？什么是这些东西的起源？那个包罗万象使这一切能够产生、存在、发展的东西到底是什么？这些就是泰勒斯所关心的基本问题，尽管他的原话不是这么说的。他第一个提出了这些问题，因此他就当之无愧地成了哲学的创始人。从他之后，直到今天，探索事物的本质与起源仍然是哲学的中心任务。</p><p><strong>巴门尼德</strong>：存在说的代言人——忘乎一切地沉溺于对绝对的窥视之中</p><p>因此，巴门尼德在哲学上的真心表白是：“<strong>存在存在着。</strong>”听起来，这确实有点玩弄词藻，但其含义却很丰富。存在这个概念说的是具体的事物消亡在虚无之中以后依然存在着的东西，指的是普通人所认为的存在消失以后还存在着的本来存在，指的是唯一的、单独的、真正的存在……开辟了哲学中形而上学的先河，对后来的整个哲学的发展产生了重大影响。因为巴门尼德非常明确地指出了：谁要寻找真正的存在，就不能单纯停留在包围着我们的现实之中，不能死守暂时性的事物，而<strong>必须看到永恒的、位于所有现实存在之上的这个唯一的真实的存在</strong>。巴门尼德坚决地、毫无置疑地表达了这一思想，这正是这位早期思想家的真正独特之处。</p><p><strong>赫拉克利特</strong>：运动说的祖师爷——从绝对出发解释谜一般的现实</p><p>赫拉克利特坚信：世界充满了矛盾与对立，但又不能简单地被抛弃，因为我们就生活在这个现实之中。哲学家也不能把这个现实看成是暂时的。他必须着眼于最终统治着现实的那个东西对这种对立性做出更深的解释……着眼于现实的对立与分裂，赫拉克利特说道：“看不见的和谐比易见的和谐更强大。”或者：“相互分离的事物结合在一起，最美妙的和谐产生于差异。”最后，他用简单的一句话概括了这一思想：“<strong>万物归一。</strong>”</p><p><strong>苏格拉底</strong>：以生命为代价提醒世人哲学思辨</p><p>我们的国家已经不是按照祖先的道德风尚和建制来统治的了……法律正处于一种无法医治的病态之中” 。正因为苏格拉底看到了这一点，所以他才急切地提醒人们，现在是老老实实重新严肃认真思考问题、提出问题的时候了。因为提出问题便意味着不再沉溺于幻想，意味着有勇气面对真理，尽管真理是令人痛苦的。正是这种走向极端的提问热情，这种对时代危机感的洞悉，这种对人生的理解与认识，使苏格拉底获得了弟子们的深厚爱戴。</p><p><strong>柏拉图</strong>：哲学之爱</p><aside> 💡 柏拉图的研究不仅包含所谓的精神之爱，还有对美的研究、思考人、社会……但需要注意的是，理想国这一概念并不是他所构建的人出生前，灵魂所观察到的理念，而是所有他思考研究结果的总和。</aside><p>柏拉图式的爱……并不简单地排斥性爱，而是赋予性爱有限的权力与余地，重要的是超越性爱，追求一种更高形式的爱。通过身体美、灵魂美、道德美和认识美，最终进入美的本身。柏拉图所说的爱情追求是对美的原本、美的理念的追求，所有的美都占有原本的一部分。因此，“柏拉图式的爱”是和柏拉图的理念学说紧密连在一起的</p><p><strong>亚里士多德</strong>：百科全书式科学家——认识世界</p><p>不能把有生命的机体单纯地看成是各个部件的简单堆积或者一个机器。生命存在是一个有机的整体，只有这个整体才能赋予各个部件各自不同的意义……人应该以正确的方式实现其特有的本质即“逻各斯”。</p><p><strong>伊壁鸠鲁</strong>：享乐主义创始人</p><aside> 💡 现代在当前这个社会，大部分人提起哲学也许会一无所知，也许偶尔能想起马克思唯物、黑格尔唯心等理论，但放在几千年前那些思想家们所在的环境中，所有结论都是通过独立地逻辑推导、思考出来的，在思想层面上做了非常细化的分层，才会出现如此众多的学派，这是非常惊奇的。 （当然，唯物跟唯心的命题太大了，根本不能用狭义概念去理解这个事情）</aside><p>随着死亡，组成肉体与灵魂的原子结合便随之解散，个人也就存在了。认识到了这一点，对彼岸的恐惧也就消失了，不必担心死后会受到众神们随心所欲的惩罚或奖励。未来的命运不存在了，没有什么可以阻挡我们在尘世尽情享受这有限的生活了。</p><p><strong>芝诺</strong>（斯多葛学派）：禁欲主义</p><p>人的义务存在于人的自身之中，因而不可能在世界和政治事务中得到准确的解释。一个人义不容辞的义务，并不是为实现某个众所公认的道德目标而努力，而是实现自己所特有的意念，即自我实现。</p><p><strong>奥古斯丁</strong>：思维与信仰，从观察人到追寻上帝</p><p>在奥古斯汀接触到的所有问题上，他的思想总是围绕着人的世界与上帝的王国展开的。他总是竭力地从人出发去认识、去理解那些神圣的东西。在此之前，还没有人能够像他那样窥见过上帝的秘密。其原因正在于：在此之前，还没有一个思想家能够像他那样深入地发现了人的秘密。然而，只有具有人性的人，甚至也许只有像奥古斯汀这样一个具有人的所有优点与缺点的人，才能猜出人的秘密。</p><p><strong>托马斯 冯 阿奎那</strong>：经过宗教洗礼的理性</p><aside> 💡 托马斯提倡信仰应服从理性，信仰的真理比自然理性得到的真理更为完美。在宗教哲学与亚氏哲学即将冲突之际，他明确地将信仰与理性区分开，相当于给了希腊哲学（对于基督教来说是异教）一种合法地位。</aside><p>他立志要调和这两种互相对立的世界观，并且要保证每个都不会失去自身中合理正确的成份。也就是说，他要赋予亚里士多德哲学一个合理相应的地位，同时还要保存通过信仰得到的真理。</p><p><strong>埃柯哈特</strong>：上帝即非上帝</p><aside> 💡 在正统基督教的基础上发展处的分支，很奇特、也很精彩的角度。</aside><p>上帝是“万物的起源”。在基督教思想看来，这一点是自然而然的，但埃柯哈特走得更远。他的意思是：上帝不但是所有存在物的创造者，而且也是所有存在物中的存在。后半句要说明的是：被创造的事物本身并没有什么，它们只是上帝存在的恩赐所致。只有上帝才是“所有自然中的自然，所有光明中的光明，所有生命中的生命，所有本质中的本质”。埃柯哈特甚至说，“万物皆上帝”。</p><p><strong>笛卡尔</strong>：我思故我在</p><p>在所有认识变得不可靠时，笛卡尔不是通过回避寻找自己的出路，他顽强地直面怀疑，敢于怀疑，并且迫使自己从怀疑之中得到某种本来的、不容怀疑的可靠的认识。“我所想象的一切也许是错误的，我以为能够认识的每一个客观对象也许都是不可靠的，但是，我对它们的想象却存在着。因此，创造了这些想象的我也存在着。怀疑，恰恰是怀疑向我证明了我的存在。因为只要我怀疑，那作为怀疑者的我必然存在。上帝可能是个大骗子，但这个看法也不能动摇我对自己的信仰。上帝也许欺骗我，但我这个受骗者却存在着。”这样，笛卡尔便得出了他那个著名论断：“我思，故我在”，“我怀疑，故我在”，“我受骗，故我在”</p><p><strong>帕斯卡</strong>：钉在十字架上的理性</p><aside> 💡 这里其实有点像武侠小说那种天下第一的宗师，潜心研究武学，最后发现终极奥义居然是褪去一生功力，重新变成普通人。这个方向大概跟传闻研究哲学的人想不开最后去死是一样的：人是宇宙的光辉，也是宇宙的残渣！</aside><p>唯一符合理性的，就是不承认理性，没有比此更合适的了。”“只有彻底地征服理性，我们才能真正地认识自己。”“全面崩溃之时，思维所能做的，只有放弃思维。”“你们所有的认识最终只能达到这一点：你们在自己身上既不能找到真理也不能找到拯救。哲学家许了这个愿，但他们是无法还愿的。”因此，放弃哲学才是所有哲学思辨的合理结果。“嘲笑讽刺哲学的无能，这就是真正的哲学思考。</p><p><strong>斯宾诺莎</strong>：教会的反叛者</p><p>我对上帝及自然界的看法和近代基督徒们习惯捍卫的看法大相径庭。我认为上帝是一切事物的内部起因，——但不是超越了这些事物的起因。我说万物存在于上帝之中，在上帝之中运行。</p><p><strong>伏尔泰</strong>：陷入困境的理性</p><aside> 💡 伏尔泰所处的启蒙时代，主旨是反封建、反宗教，这里的“上帝”已经不是耶和华，而是成为了一个概念，表示人、世界都由“上帝”创造，但这个上帝并不是基督教里的上帝。</aside><p>伏尔泰的自信基于下列一种信仰：总有一天，眼前的一切丑恶与不平将被铲除。“基督教会变得更明智一些，因此也会更少一点迫害他人的嗜性。”他坚信，这种对未来的憧憬并不是遥不可及的乌托邦，因为一代憎恶狂热主义的新人正在成长。“总有一天’哲学家将占据首要位置，理性的王国已经处于孕育之中。</p><p><strong>卢梭</strong>：启蒙运动的反叛者——要天性，不要理性</p><aside> 💡 宗教没落的时代，重新定义了“自由”</aside><p>和我们的思想一样，我们的道德也被庸俗的、骗人的、千篇一律的公式统治着。所有的头脑如同是一个模子铸出来的。所谓的礼节不停地左右着我们的行动，所谓的尊严命令我们做这做那。我们总是服从于习惯，而不是服从于我们的心灵。人已经没有胆量真实地表现自我了。他们组成了一个群体，还将这个群体称为社会。在不断的强迫下，所有的人生活在同样的环境中，做着同样的事情……因此，卢梭的伟大贡献并不在于他指出了人的本来的自然存在，虽然这也是他的一大哲学上的发现。卢梭的真正伟大之处是，他发现了真正的自由：“服从自己制定的法律便是自由。“</p><p><strong>康德</strong>：严谨老学究</p><p>他坚信形而上学的“新生”就在眼前，而这一新生只能从理性的自我反思中才能产生。人的理性必须看清自己的本来领域和极限在什么地方……他指出，如果我们认为现实直接地再现于人的精神之中，那么认识就根本无法得到正确的描述。在相当大的程度上，倒是人把某些决定性的东西，即对时间、空间的想像和其他基本的抽象概念带入了认识过程之中。我们将这些想像与概念应用在通过感官所得到的感觉上，这样才产生了认识对客体的图像。康德由此而得出的重大结论是：人所看到的现实，并不是现实本身，而只是一个表象，依存于人所具有的特殊的认识能力。我们所掌握的，并不是自在物本身，而只是作为表象的事物</p><p><strong>黑格尔</strong>：辩证法</p><p>自我意识发展的途径是辩证性的，通过三个阶段完成的，就像我们观察爱情及生命这些现象时所看到的那样：“精神的发展是：超出自我，分裂自我，异化自我，同时又复回到自我之中”。</p><p>首先，上帝必须开始寻找自己，必须经历第二个阶段，即自我异化阶段，必须将自身外在化。它观察自己，将自己分成观察者和被观察者，将被观察者看成是陌生的、外在的东西。黑格尔提出了一个非常大胆的观点：这种外在化了的上帝不是别的，就是我们眼前所看到的世界。神明的自我异化就是神明的世界化。</p><aside> 💡 关于分裂自我的部分……</aside><p><strong>叔本华</strong>：世界是我的想象</p><p>观察捕捉这些“意念”首先是艺术的事情。“艺术所关心的，是世界存在的最本质、最原始的东西，是世界表象的真正内涵。这种内涵是不会变化的，因而任何时候都是可以被认识的。这种对“意念”的认识，首先始于建筑，它将重力与稳定的意念在其对立中直观地表现出来。雕塑则更进一步，它表现纯粹的人体的意念。进而是绘画，它再现现实存在中意念的多样性。然后是文学艺术，它通过表现欲望和行动的有机联系再现人的意念，进而再现所有的世界意念。最高级的艺术形式是音乐，它表现意志本身，从而表现了纯粹的世界的本质。</p><p><strong>马克思</strong>：无神论、现实的反抗</p><aside> 💡 本章节并未介绍太多马哲相关的东西，而是简单带过</aside><p>人的“自我异化”的根源在于劳动者和劳动产品的分离。劳动产品不再属于劳动者本人，而是属于资本家，成了一种“商品”，也就是说，成了某种劳动者感到陌生的东西。为了能够生存，劳动者必须购买这种商品，由此，劳动者本人陷入了对劳动产品的依赖之中。“劳动所创造的成果，即劳动产品，变成了一种外在的、与劳动者毫无关系的独立的力量。”与此相应，劳动也成了“异化了的劳动”。它不再是劳动者劳动欲望的表现，而是生存强加给他的一种自卫手段。在其本质上，劳动成了“强迫劳动”。在资本主义社会，这一发展达到了巅峰，资本获得了独立的、脱离了人的功能。</p>]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>哲学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>浪漫主义小说——自我的迷局和内在的困境</title>
    <link href="/post/20dfad48.html"/>
    <url>/post/20dfad48.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>浪漫主义诗歌通过对感性自我的抒发，来表现对于自我的认知。而浪漫主义小说的形式以叙事为主，主要以想象力和戏剧性来表达浪漫主义色彩。浪漫主义小说最大的特点就是不追求写实，而强调情节的想象力和人物形象的独特性。例如卡西莫多的夸张怪诞。浪漫主义小说的<strong>剧情追求神秘和传奇</strong>，例如雪莱的妻子玛丽雪莱的《弗兰肯斯坦因》，描述的是一个关于人造人的非常超前的故事（剧情略）。同样还有《三个火枪手》、《白鲸》等。对于人的精神世界的表现，通常落脚于在悲剧之中，人的精神和心灵的内在矛盾和冲突的揭示，例如《红字》。</p><p>雨果29岁创作的《巴黎圣母院》堪称浪漫主义小说的范本。《巴黎圣母院》的剧情详见原著、电影或戏剧等，此处只放一个大致的剧情图：</p><p><img src="https://raw.githubusercontent.com/YuanZhou314/PigRepo/main/imgs/image-20230527163643105.png" alt></p><p>问题分析：</p><ol><li>这一出关于艾丝美拉达的悲剧到底是谁造成的？</li></ol><p>很多人会觉得，弗罗洛才是整个事件的背后推手。但实际上雨果并没有将其写成一个罪人，反而是整本书中写的最好的一个人物。根据原著，弗罗洛很有学问、求学若渴、自律力超强、内心柔软。早年父母双亡后，十九岁就开始抚养自己的弟弟，甚至还收养了小时候就已经很丑的卡西莫多。跟菲比斯相比较，佛罗洛对女主的爱情是相当纯情的、具有诗意的。</p><p>然而这就是理解佛罗洛人物形象的难度。正因为佛罗洛有着这样充满阳光和诗意的一面，才会被女主吸引，女主身上的特质是佛罗洛所向往的。佛罗洛很小的时候就做了教士，剥夺了七情六欲。对于佛罗洛而言，女主不仅仅是情欲，还是他生命的一道光，是能将他从枯寂的声明中就出来的力量。当女主质问佛罗洛，是什么样的爱能让他去害一个自己爱的人，佛罗洛回答：<strong>一个打入地狱的人的爱</strong>。佛罗洛认为他的人生就像在地狱的生活一样，而女主就是他生命中的最后一根稻草。因此，佛罗洛爱艾丝美拉达的原因是：<strong>佛罗洛身上有着对生命热情的向往，有对美好爱情的向往</strong>。</p><p>那为什么弗罗洛还会一次又一次地害艾丝美拉达呢？这就是理解弗罗洛人物形象的关键点，因为<strong>佛罗洛的人格是不统一的</strong>。在弗罗洛的内心，还有一个作为副主教的自我。弗罗洛从小在修道院长大，从小被抛弃七情六欲。但弗罗洛的问题在于，他<strong>一方面要求自己做一个标准的教士</strong>，<strong>一方面他又没办法放弃自己对于生命的热爱</strong>，这就产生了矛盾。作为副主教的弗罗洛很强大，作为一个普通青年的弗罗洛也很强大。作为副主教的弗罗洛让佛罗洛对自己的爱充满了负罪感，每当他爱艾丝美拉达时，作为青年的自我会身不由己地投入到这份热情当中，但是作为副主教的自我就会对弗罗洛说：你是肮脏的、堕落的，这份热情是不应该的。所以在弗罗洛身上，他的两个人格一直在斗争。问题就在于，一方面弗罗洛战胜不了那个要求青春权利、要求青春补偿和热情生活的自我；同样也战胜不了那个要求他断绝情欲的副主教自我。因此，这两个自我在斗争当中，当青春的自我居于上风时，这个时候的弗罗洛就会热情地爱着艾丝美拉达，将其看成是天使。当时当副主教的自我占据上风时，他就会翻脸无情、怨恨艾丝美拉达，称其为“邪恶的女巫“，认为艾丝美拉达诱惑了他，并将其视为自己痛苦的根源，堕落的根源。</p><p>这样就能够理解弗罗洛这个人物形象的复杂性了，也能够理解弗罗洛行为的不理解的地方。弗罗洛忽而爱，忽而恨，他的爱与恨都是真实的，因为他的自我不统一，两个自我的格斗就让弗罗洛对艾丝美拉达的态度形成强烈反差。这样不统一的人格是相当痛苦的。所以弗罗洛才会说”我是一个待在地狱的人“。青年的”我“占上风时，拥有者强烈的占有欲；副主教的”我“占上风时，拥有者强烈的毁灭欲。这两种欲望形成了一个在复杂浑浊的激情中颤抖的悲剧人物。作者是这样描述弗罗洛的：</p><p><em>岁数至多35岁，只见两遍太阳穴边上才有几缕稀稀拉拉的头发，而且已经花白了。高高的宽大额头上开始刻画着一道道皱纹</em></p><p>这是一个非常可悲的形象，一个被宗教禁锢着、摧残着的未老先衰的形象。但作者笔锋一转又写到：</p><p><em>在他那深凹的眼睛里，闪烁着不寻常的青春的火花、火热的活力、深沉的欲情。</em></p><p>这又是一个人性没有被完全剔除掉的形象，这种自我的矛盾，当然来自宗教禁欲的折磨。这种割裂的自我不但让弗罗洛陷入激烈的自我战争，也间接的把艾丝美拉达推向了死亡。因此，在整个复杂曲折的故事当中，弗罗洛才是一个相当重要的人物，他的形象刻画得相当深刻，是痛苦最深沉的一个人物，也是让人憎恨且同情。</p><p>艾丝美拉达悲剧命运身边还有其他人物，这些人物也都集中了雨果对于人性的广泛地思考，例如菲比斯和格兰古瓦。这两个人物也都是人性复杂性的不同体现。首先，菲比斯是一个浪子，为什么他对艾丝美拉达有着如此强烈的吸引力？艾丝美拉达最后的死亡，跟菲比斯是有很大关系的。因为菲比斯身上体现出放荡不羁、蔑视一切的勇气，这在中世纪是一个非常耀眼的人格魅力。放荡不羁很容易被理解为一种自由的力量，艾丝美拉达看到的就是这样的错觉她通过菲比斯看到了她所欣赏的自由。但她不懂的是，放荡并不是一种力量，放荡与自由之间的界限虽然模糊，但是相当的明确。自由是一种选择，放荡则是一种放纵。但为什么经常说放荡的男人会表现出魅力？这是因为人们往往会把放荡和自由的界限搞混，以为放荡本身就是一种力量。雨果的《巴黎圣母院》通过菲比斯这个形象告诉我们，放荡不是力量，而是对自我的无力。在所有的人物当中，菲比斯恰好是最无能的一个人。他对自己的命运、放荡、爱情无能为力，他没有能力拯救别人，也没有能力控制自己。</p><p>至于格兰古瓦，雨果也给了一个复杂的设定。他的设定是一位诗人，但格兰古瓦是所有人物中最没有诗意的。他做的最罪恶的一件事情，就是把艾丝美拉达从卡西莫多的庇护下骗了出来，带到了广场上。虽然他主观上没有恶意，但当艾丝美拉达祈求他把她带走时，格兰古瓦只救走了小山羊，因为小山羊会卖艺可以赚钱。而艾丝美拉达只是一个女囚，带着她只是一个麻烦，他忘记了艾丝美拉达曾经救过了他的命。因此格兰古瓦虽然名义上是个诗人，但实际上是最庸俗的人，他还没有解决生存问题，在整个巴黎圣母院当中，他是唯一一个吃了上顿没下顿的人。所以面对自己的贫困他做不到洒脱。格兰古瓦不是没有感情，但他的感情打不过他对物质的需求，他从来都不做坏事，但是他总是把好事做坏。他不是一个坏人，但常常做坏人的帮凶。他想做诗人，但它才资非常平庸。想做救美的英雄，又没有牺牲和担当的气魄。这就是格兰古瓦的矛盾，表面的诗意和背后的平庸，他的庸俗和猥琐，是具有普遍性的苦涩的一个喜剧色彩。</p><p><strong>如果说弗罗洛代表着大恶，那么菲比斯、格兰古瓦就代表着小恶。他们都有着自身的缺陷，但他们都给艾丝美拉达造成了客观的伤害。这三个男人从不同的侧面呈现了雨果对于人性复杂性的探索，也形成了一种恶的形式和力量构成了一系列的恶的链条，将善良的艾丝美拉达推向了命运的深渊。在《巴黎圣母院》中，把这三个男人放在一起看，就能够看到雨果对于人性恶的复杂的探索，这些恶的形式表现不一样。但无论他们的形式多么多样，程度深浅如何，都是人性当中恶的表现。</strong></p><p>当然《巴黎圣母院》当中不仅仅有恶，还有更加耀眼的善。一个是卡西莫多，一个是艾丝美拉达的母亲香特弗勒丽。这两个人相当有光芒，展示着不同形式的善。雨果笔下的善都有一个共同的特点：<strong>都产生在特别卑微的地方</strong>。艾丝美拉达是一个卑微的吉普赛女郎，但她是美善的象征。她的母亲香特弗勒丽是世界上最好的母亲，但却是妓女出生。艾丝美拉达从小被母亲香特弗勒丽弄丢了，母亲就去做了苦修女，用一世去赎罪。当她的女儿出现在她面前时，她用生命想去拯救去庇护自己的女儿，最终死在自己女儿的脚下。这样一个伟大的母亲，雨果给了她一个最卑微的出生。</p><p>如果说艾丝美拉达的母亲是雨果所写的最完美的母亲，那么卡西莫多就是雨果笔下最完美的请人。但这个情人雨果给了他设计了最大的障碍——他是世界上最丑的人，智商看上去很低、甚至是一个没有语言表达能力的人，卑贱、被人们视为异类，却拥有一颗最美好的心灵。格兰古瓦他们没有的一些能力，比如拯救、庇护、忠诚、风险这些品质，都在卡西莫多身上集中地体现出来。卡西莫多是一个有力量、也有勇气去守护爱的形象，是巴黎圣母院当中最珍贵的形象。从卡西莫多身上可以看到，雨果对于爱情最美好的向往。在巴黎圣母院当中，所有其他男人都爱艾丝美拉达，但他们的爱都是浑浊的。有人想利用，有人想占有，有人想摧残。但只有卡西莫多，当他拯救艾丝美拉达时，他<em>小心翼翼地托着她，好像生怕把她打碎，或是把她像花一样弄枯萎了。他似乎觉得，这是意见精致、优美、珍贵的宝贝，是为别人的手而不是他的手而做成的</em>。这是一种完全没有占有欲的爱，而只有庇护欲的爱。卡西莫多的爱不是为了得到艾丝美拉达，而是实现了自我的成长。因为爱，他突然知晓了法律，懂得将其救到巴黎圣母院来躲避法律的惩罚；因为爱，他突然变成一个英雄，将刽子手打倒，解救了艾丝美拉达。卡西莫多一生只流过两次眼泪，一次是艾丝美拉达喂他喝水，另一次是他看着艾丝美拉达吊在绞刑架死去时。所以卡西莫多是一个被爱情唤醒的力量和情感的一个形象。这寄托了雨果对爱情的理解：</p><p><strong>爱情对我们的意义是什么？你可以向这个弗罗洛那样去理解，爱情是对我自己的一种补偿；你也可以像菲比斯那样去理解，爱情就是满足我的欲望；也可以像菲比斯那样去理解，爱情是我的一个不着边际的幻想；但只有卡西莫多，他对爱情的理解，寄托着符合雨果的理想，爱情给我们力量给我们情感，让我们变得更坚强，也让我们变得感情更丰富。</strong></p><p>因此，卡西莫多面对艾丝美拉达时，并非无私的，而是他对爱情的理解跟其他几个男性人物是不一样的。因此是艾丝美拉达的爱情塑造了卡西莫多，这样的爱情才是最美好的爱情。如此，我们才能够读懂《巴黎圣母院》最哀伤也最美好的结尾：<strong>艾丝美拉达尸体所在的山洞中，卡西莫多的骷髅和艾丝美拉达的骷髅是抱在一起的。当人们试图将两具骷髅分开时，卡西莫多那具骷髅瞬间变成了尘土，他就算变成尘土，也不愿跟艾丝美拉达分开，这就是不是爱情的最伟大的爱情。</strong></p><p>在《巴黎圣母院》复杂的人物形象和故事情节中，我们能够看到雨果对于善与恶的思索，对于人性复杂的探索，以及对于不同爱情的探索。每个人的嘴里都说着爱，但是大家对爱的理解是如此的不同。</p><p>除了善相对于恶的弱小，艾丝美拉达这个人物形象也是值得思考的，她的悲剧是无法分辨幻象与本质，她的激情付错了对象。她代表了很多少女的误区，以为自己爱上了一位骑士，就不愿意再看到真相，哪怕他是世界上最渣的男人。因此对于她的悲剧来说，她自己也是有一定责任的。总之，通过《巴黎圣母院》，雨果表达了善恶美丑的相对性的关系。</p><p>**最高贵的教士是个癫狂的恶魔；最俊美的骑士是个浪荡子；最斯文的诗人是个最不堪的懦夫和俗物。最低贱的吉普赛女郎是最高贵的圣女；最像魔鬼的卡西莫多是天使，最被人唾弃的妓女是最伟大的母亲……**雨果的这些设计会给我们很大的启发，告诉我们善恶美丑都不是绝对的，他们都是相对的，需要我们用一双慧眼去识别。同样，善恶美丑也是互相转换的：卡西莫多的丑变成了美，弗罗洛的爱变成了恨、善变成了恶，菲比斯的自由变成了放纵……这一系列善恶美丑的转换也是雨果想要表达的，因为这种转变要分辨是很难的，这就构成了人们内心世界的光怪陆离，无限的风光。这是雨果对于人心的最深沉地体察，也是对于人心最复杂的解释。因此雨果在《克伦威尔 序》中写道：丑就在美的旁边，畸形靠近着优美，粗俗藏在崇高的背后，恶与善并存，黑暗与光明与共。很多时候，我们都要通过丑、恶、粗俗去寻找那些珍贵的美善和高尚，这些转换形成了人精彩又激烈的内心世界，这也是浪漫主义文学表现得重点，这种表现和复杂本身，就是浪漫主义要呈现的文学之美。</p>]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>文学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>产品理论</title>
    <link href="/post/979df087.html"/>
    <url>/post/979df087.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><h2 id="基本内容"><a class="markdownIt-Anchor" href="#基本内容"></a> 基本内容</h2><p>产品：为了解决某些问题而存在的东西</p><p>产品经理： 想清楚产品是怎么设计的人</p><p>合格的产品经理：</p><p>把用户面临的问题想清楚：</p><ul><li><p>用户</p></li><li><p>场景</p></li><li><p>需求</p></li></ul><p>怎样<strong>设计</strong>才能<strong>更好</strong>地解决问题</p><ul><li><p>功能</p></li><li><p>体验/优势</p></li><li><p>价值</p></li></ul><p>##产品经理职责</p><h3 id="开发流程"><a class="markdownIt-Anchor" href="#开发流程"></a> 开发流程</h3><ol><li>分析定义：问题定义、可行性研究、需求分析</li><li>软件设计：概要设计、详细设计</li><li>编码测试：编码、测试</li><li>运行维护：运行维护</li></ol><h3 id="产品经理职责"><a class="markdownIt-Anchor" href="#产品经理职责"></a> 产品经理职责</h3><p>评估产品机会：需求收集、可行性研究=&gt;产出MRD或立项报告</p><p>定义产品：需求分析、原型设计=&gt;产出PRD(产品需求文档)</p><p>职责误区</p><p>产品不是画原型的：单独画原型容易与需求脱节，没有定义产品和分析需求的过程，容易导致没有成就感</p><p>产品不是管理项目的：产品不是项目经理，只需关注产品定义和价值本身，无需关注项目工作安排和分解交互。</p><p>产品需求混淆：老板、用户、自己的需求不等于产品需求，应分析需求本质，以及对可行性和价值的评估</p><p>产品经理不是经理：产品经理对产品的生命周期负责，与开发、运维测试属同级，没有项目管理权。</p><h4 id="产品经理的能力要求"><a class="markdownIt-Anchor" href="#产品经理的能力要求"></a> 产品经理的能力要求</h4><p><strong>专业技能</strong></p><ul><li><p>调研分析</p><ul><li>商业、行业、市场、<strong>用户、竞品、需求</strong></li></ul></li><li><p>决策判断</p><ul><li>可行性、<strong>优先级</strong>、机会、成本、技术、风险</li></ul></li><li><p>规划定义</p><ul><li>业务、架构、<strong>流程、结构、功能、逻辑</strong></li></ul></li><li><p>体验设计</p><ul><li><strong>用户体验、产品体验、原型设计</strong>、交互设计</li></ul></li><li><p>文档工具</p><ul><li>BRD、MRD、<strong>PRD</strong>、立项说明书、产品说明书、<strong>协作工具、设计工具</strong></li></ul></li></ul><p><img src="https://raw.githubusercontent.com/YuanZhou314/PigRepo/main/imgs/image-20230527102231691.png" alt></p><h3 id="综合能力素质"><a class="markdownIt-Anchor" href="#综合能力素质"></a> 综合能力素质</h3><p>责任心、沟通表达、同理心、终身学习、创新精神、情商/逆商、协作组织、逻辑思辨……</p><h2 id="问题思考维度"><a class="markdownIt-Anchor" href="#问题思考维度"></a> 问题思考维度</h2><h3 id="核心用户"><a class="markdownIt-Anchor" href="#核心用户"></a> 核心用户</h3><p>用户的定义：所有与产品有关系的群体，是一群既有共性又有差异的群体组合。</p><h4 id="用户的分类"><a class="markdownIt-Anchor" href="#用户的分类"></a> 用户的分类</h4><p>按是否使用：已经在使用产品的<strong>目标用户</strong>和未曾使用但有使用需求的<strong>潜在用户</strong></p><p><strong>种子用户</strong>：目标用户中用于尝试新版本、新功能，可以积极反馈的用户</p><p><strong>核心用户</strong>：能够给公司创造最大利润来源的用户</p><h4 id="抓住核心用户的原因"><a class="markdownIt-Anchor" href="#抓住核心用户的原因"></a> 抓住核心用户的原因</h4><ol><li>用户群体越来越细分</li><li>从市场角度看：增量时代已过，市场产品同质化严重，<strong>抓住核心用户可以保持市场竞争力</strong>。</li><li>从产品角度看：产品<strong>功能无法面面俱到</strong>，产品、开发、推广<strong>资源有限</strong>，必须要优先解决核心用户的核心需求。</li></ol><h4 id="描述核心用户特征"><a class="markdownIt-Anchor" href="#描述核心用户特征"></a> 描述核心用户特征</h4><ol><li><p>从供需关系角度看，根据产品的服务端和消费端来确定核心用户</p></li><li><p>按人口统计学（年龄、性别、地域、职业、学历、消费水平等）区分和描述核心用户。在产品长期使用过程中，会产生行为数据和消费数据，根据产出的数据找出人口特征，找到用户典型信息。</p></li><li><p>从熟悉程度看，分为老用户、新用户、专家用户。</p><ul><li><p>类似婚礼App一般只针对新用户；</p></li><li><p>类似美团等App的主要需要维护老用户长期使用；</p></li><li><p>类似知乎等App需要专业人士发表高质量产物。</p></li></ul></li><li><p>从业务场景划分</p><ul><li><p>业务定位：产品细化分类不同</p></li><li><p>用户身份（如普通用户、白银用户、黄金用户等）</p></li><li><p>公司行业、不同规模等</p></li></ul></li></ol><p>因此，描述一个公司的核心用户特征，应从以上4点中找到对应的用户群体。</p><h4 id="抓住核心用户重点"><a class="markdownIt-Anchor" href="#抓住核心用户重点"></a> 抓住核心用户（重点）</h4><p>从成为核心用户的原因看，分为被动和主动。</p><p>被动：被其他人推荐，或贪便宜选择的。</p><p>主动：经过对比、深思熟虑后选择</p><ol><li><strong>捆绑式核心用户</strong>：基于人性的贪小便宜，怕损失，爱面子，被动的俘获捆绑核心用户。</li></ol><p>典型的捆绑式核心用户例如：健身房、理发店会员。</p><p>常用方法：<strong>办会员、买套餐</strong>。</p><ol start="2"><li><strong>诱导式核心用户</strong>：商家不断提升运营效率、压低成本、甚至补贴用户以诱导用户流量。</li></ol><p>典型的诱导式核心用户例如：沃尔玛（选择偏远地区开店，瞄准驱车购物，对价格敏感的工薪阶层）、好市多（瞄准中产，商品品质高）</p><p>常用方法：<strong>低价或补贴诱导</strong>。</p><ol start="3"><li><strong>享受型核心用户</strong>：提供服务类的公司，侧重心理影响的用户服务，让用户享受服务，以此提高用户黏性俘获核心用户。</li></ol><p>典型的享受型核心用户例如：亚马逊会员（购物免邮费、书影剧畅享）、奈飞（超预期服务，将剧集一次性放出）</p><p>常用方法：<strong>提高优越感、超预期服务</strong>。</p><ol start="4"><li><strong>网络型核心用户</strong>：注重更大用户量的公司，注重网络价值，同时建立社交网络，以老用户吸纳新用户</li></ol><p>常见的网络型核心用户：微信、抖音、小红书等网络社交App</p><p>常用方法：<strong>建立社交关系，通过社群、粉丝实现口碑传播</strong>。</p><ol start="5"><li><strong>股东型核心用户</strong>：将核心用户作为红似的命运共同体，用户陪伴企业共同成长，享受企业发展的红利，使核心用户以股东的心态主动思考公司和产品的发展</li></ol><p>常见的股东型核心用户：汉堡王（品牌死忠粉）、小米手环（基于核心用户反过来优化公司产品）</p><p>常用方法：<strong>筛选优质用户、打造利益命运共同体</strong>。</p><p>**案例：**传智播客作为IT技能培训公司，根据以上5种不同形式的核心用户实施如下策略：</p><ul><li>对于捆绑式核心用户：趁热度利用优惠办VIP。如限时优惠、线上课程会员制。</li><li>对于诱导式核心用户：利用低价长期对用户进行诱导。如持续推出低价的基础班、体验课，向就业班转化</li><li>对于享受型核心用户：提高优越感和超预期服务。如提高学生毕业优势，推出超预期的课程内容、提高教学服务品质</li><li>对于网络型核心用户：建立社交关系，口碑推荐。如建立维护用户社群，利用社交关系依靠口碑好课吸引老学员推荐新学员。</li><li>对于股东型核心用户：应先筛选出优质用户，打造利益命运共同体。如倾听核心用户的声音，跟进用户职业发展需求，持续更新课程服务。</li></ul><h3 id="场景化分析"><a class="markdownIt-Anchor" href="#场景化分析"></a> 场景化分析</h3><p><strong>场景化分析</strong>：实质上就是一种思维方式，需要思考人、时间、地点、行动和目的五个要素。</p><p>场：时间+空间</p><p>景：情境和故事情节</p><p>互联网行业中场景的定义：<strong>用户</strong>停留在某个特定的<strong>空间</strong>的<strong>时间</strong>里，对应的情境下产生的<strong>故事情节</strong>，就是场景。</p><h4 id="场景五要素"><a class="markdownIt-Anchor" href="#场景五要素"></a> 场景五要素</h4><p>根据上面的定义，产生出场景的五个要素：<strong>Who、Where、When、How、What</strong></p><ol><li>用户(Who)：根据供需关系、人口特征、熟悉程度、业务场景等维度划分不同类型用户</li><li>地点(Where)：国家、城市、具体的空间位置、产品不同的软硬件设备(PC 、手机、平板等)</li><li>时间(When)：固定的时间点、周期性时间段、某一具象时刻(吃饭前、睡前、起床后等)</li><li>行为(Who)：用户的使用流程和操作动作</li><li>目的(What)：用户想要什么，目的和意图是什么</li></ol><p>**例如：**老王睡觉前躺在床上想刷抖音</p><p>场景分析：老王，在床上，使用手机，睡觉前，刷抖音视频，想消遣时间</p><h4 id="场景化分析方法"><a class="markdownIt-Anchor" href="#场景化分析方法"></a> 场景化分析方法</h4><p>例如刷抖音行为的场景化分析：</p><p>第一步：<strong>列举场景要素</strong></p><p><img src="https://raw.githubusercontent.com/YuanZhou314/PigRepo/main/imgs/image-20230527140318873.png" alt></p><p>第二步：<strong>组合构建场景</strong>。根据所列举的信息，进行组合构建场景信息。</p><p>根据如下格式进行构建：</p><p>用户(Who)在<code>____</code>(什么情况下When/Where)，他想要<code>____</code>(通过什么行为 How)，以便于他可以达成<code>____</code>(什么目标 What need)。</p><p>例如：</p><ol><li>上班族在通勤时间在地铁上刷视频来获取最新的新闻资讯；</li><li>家庭主妇在家中哄孩子睡着后查找做饭视频，以便于给孩子做一顿营养的午餐。</li></ol><p>第三步：结合构建好的场景信息，<strong>预判用户的行为与目标，挖掘当前场景下的新需求</strong>。</p><p>以上面2条场景为例子，挖掘其中需求：</p><ul><li>上班族地铁刷视频——需要戴耳机刷、随机刷、查看热点新闻/娱乐八卦、点赞收藏分享评论信息、地铁信号不好（需要提前缓存）</li><li>宝妈在家看做饭视频——小声查看视频、点赞优质内容、关注优质博主、提出疑问留言、分享给宝爸等</li></ul><p>通过如下三种方式预判用户的行为和目标：</p><ul><li><p><strong>组成动作</strong></p><ul><li>评论+回复</li><li>复制+粘贴</li><li>分享+转发</li></ul></li><li><p><strong>用户认知流程</strong></p><ul><li>下拉刷新</li><li>上拉加载</li><li>左滑下一页</li><li>右滑返回</li><li>双击点赞</li></ul></li><li><p><strong>产品使用流程</strong></p><ul><li>加购+支付+查看订单</li><li>搜索+筛选+查看详情</li><li>输入手机号+获取验证码+注册/登录</li></ul></li></ul><h4 id="场景化分析的应用"><a class="markdownIt-Anchor" href="#场景化分析的应用"></a> 场景化分析的应用</h4><ol><li><strong>洞察问题</strong></li></ol><p>初期问题比较抽象，通过场景化将问题场景具象化，方便梳理出核心问题所在。</p><ol start="2"><li><strong>理解用户</strong></li></ol><p>将用户置身于真实场景中，更容易与用户共情，站在用户立场考虑产品问题，既考虑功能逻辑，也注意用户体验。</p><ol start="3"><li><strong>提高预期</strong></li></ol><p>预测用户下一行为目标，突出或提示用户下一行为操作，或直接实现用户目标，带来超预期体验，提升情感。</p><p>例如：</p><ul><li><p>个性化推送喜爱的内容、商品。</p></li><li><p>拍摄照片后微信提示可能要发送的照片，提前提示。</p></li><li><p>某些App在生日当天展示定制化封面，超预期、感情化。</p></li><li><p>…………</p></li></ul><h3 id="需求的收集与分辨"><a class="markdownIt-Anchor" href="#需求的收集与分辨"></a> 需求的收集与分辨</h3><h4 id="需求的定义和层次"><a class="markdownIt-Anchor" href="#需求的定义和层次"></a> 需求的定义和层次</h4><p>需求的定义：<strong>用户预期和现状之间存在了差异，就产生了需求</strong>。</p><p>人类的需求有这些（马斯洛需求理论）：生理需求、安全需求、爱与归属、尊重需求、自我实现。</p><p>每个产品都围绕这些不同的需求层次解决不同的问题。</p><p><img src="https://raw.githubusercontent.com/YuanZhou314/PigRepo/main/imgs/image-20230527150100742.png" alt></p><h4 id="需求收集方法"><a class="markdownIt-Anchor" href="#需求收集方法"></a> 需求收集方法</h4><ol><li>从<strong>用户</strong>身上找需求：<ul><li>望：观察用户使用行为、举止</li><li>闻：听取用户反馈</li><li>问：当面一对一、一对多访谈，定量设计问卷调查</li><li>切：切身感受用户</li></ul></li><li>需求差异来源于<strong>问题</strong>本身，从事件上找需求：<ul><li>原因：造成问题的本质原因<ul><li>通过业务分析收集业务需求</li><li>通过市场数据、文献分析找寻需求</li><li>通过头脑风暴一起思考，寻找需求</li></ul></li><li>结果：<ul><li>竞品分析，查看友商方案实现</li><li>数据分析，根据产品上线后产生的用户数据，寻找用户需求</li></ul></li></ul></li></ol><p><strong>需求收集注意事项</strong></p><ul><li><p>一手需求：需求的提出者是用户自己，需求是原始的。一手需求更加准确，但收集效率较低。</p></li><li><p>二手需求：需求是他人转述的，需求是加工过的。二手需求效率更高，但需求容易被曲解。</p></li></ul><p>因此在实际过程中，需求可由全员收集，但产品经理统计处理，做出决策。</p><h4 id="需求辨别维度"><a class="markdownIt-Anchor" href="#需求辨别维度"></a> 需求辨别维度</h4><p>需求收集后辨别哪些重要哪些不重要，应结合当下实际情况做出正确的决定。 首先考虑如下几点：</p><ul><li><strong>需求是真实的</strong>：伪需求是无价值的，需要判断是否真实。</li><li><strong>需求强烈</strong>：根据价值大小、风险高低、人群规模来评判</li><li><strong>高频需求</strong>：根据使用频次判断</li></ul><p>上述维度程度越高，就越是用户的刚性需求，解决方案才越有价值。</p><p><strong>需求辨别结论：</strong></p><ul><li>在需求真实的基础上，高频且强烈的需求立即去做</li><li>强烈但不高频的需求可以有计划地做</li><li>高频但不强烈的需求可以放权转移出去</li><li>低频且不强烈的需求尽量不做</li></ul><p><img src="https://raw.githubusercontent.com/YuanZhou314/PigRepo/main/imgs/image-20230527153052662.png" alt></p><h3 id="用户故事"><a class="markdownIt-Anchor" href="#用户故事"></a> 用户故事</h3><p>概念：将<strong>典型的用户</strong>在<strong>应用场景</strong>下<strong>将需求进行描述</strong>的一种方式。</p><p>优点：将用户和需求放在典型场景下进行<strong>模拟呈现</strong>，便于<strong>更准确的分析需求</strong></p><p>作用：客户或业务部门与产品经理<strong>共同梳理需求使用</strong>的，也会被带入开发部门做出功能。</p><h4 id="具体呈现"><a class="markdownIt-Anchor" href="#具体呈现"></a> 具体呈现</h4><p><img src="https://raw.githubusercontent.com/YuanZhou314/PigRepo/main/imgs/image-20230527154225107.png" alt></p><p>最终需要确定，用户故事与开发实现是否解决了用户相应的需求。</p><p>例1：美团</p><p>骑手：作为配送员，我想要订单集中地区配送、单个订单配送费高，这样就可以提高配送效率、收益高。</p><p>商家：作为商家，我想要店铺提高曝光度、商品出货后立即有骑手取货，这样就能增加订单、避免订单累积。</p><p>用户：作为用户，我想要每次下单都能拿到优惠券，下单后商家快速、骑手快速配送</p><p>例2：喜马拉雅</p><p>内容创作者：作为内容创作者，我想要简单好用的创作平台、持续的创作奖励机制，平台多多推广创作内容，这样就能够使我有持续创作的动力。</p><p>听众：作为听众，我想要平台推送我感兴趣的内容，对于收费作品有购买优惠，这样使我更愿意使用该App</p><h2 id="产品解决方案"><a class="markdownIt-Anchor" href="#产品解决方案"></a> 产品解决方案</h2><h3 id="需求分析"><a class="markdownIt-Anchor" href="#需求分析"></a> 需求分析</h3><h4 id="需求分析的目的"><a class="markdownIt-Anchor" href="#需求分析的目的"></a> 需求分析的目的</h4><p><strong>用户的需求</strong>（用户预期/目的/想法/问题）经过<strong>需求分析</strong>，就可以得出一个<strong>产品方案</strong>（功能/服务/活动/内容），每个产品方案包含具体的的功能。</p><h4 id="如何进行需求分析"><a class="markdownIt-Anchor" href="#如何进行需求分析"></a> 如何进行需求分析</h4><p><strong>Y模型理论</strong></p><p>①：代表用户场景，即需求的第一层深度：<strong>观点和行为</strong>。</p><p>②：需求背后的目标和动机，即需求的第二层深度：<strong>目的和背景</strong>。思考时需考虑公司业务、产品目标。</p><p>③：需求分析转换后的产品功能，是需求方和技术确认后即可落地的解决方案</p><p>④：需求背后的隐形需求，包括马斯洛需求层次、人性七宗罪等。是需求的第三层深度：<strong>价值观与本质</strong>。</p><p><strong>从①到②的思考</strong>：了解需求的背景目的，结合 4W 思考需求真伪，结合产品定位和公司业务。</p><p><strong>从②代③的思考</strong>：由需求转为解决方案，思考如何解决、由多少种方案、优先级和性价比等。</p><p><strong>从②到④的思考</strong>：挖掘某个需求的本质。表象无常，而人性更持久。在用户无感情况下结合用户目标满足人类某种人性需求。</p><p><img src="https://raw.githubusercontent.com/YuanZhou314/PigRepo/main/imgs/image-20230528094323200.png" alt></p><p><strong>大部分需求分析经过①②③即可，少部分是①②④②③，即经过深度价值观的提炼后再思考解决方案。</strong></p><p>从Y模型图中看，一个需求进入后有2个步骤：</p><p>一是①②④，深入调研需求，尽量思考透彻。</p><p>二是④②③，将思考后的结果输出。</p><p>这两个步骤尽量达到<strong>深入浅出</strong>，即<strong>深入思考问题，但给出尽可能简单的方案</strong>。因为产品经理要做的是：把简单留给用户，把复杂留给自己。</p><p>使用Y模型进行需求分析，好处就是无法从①直接跳到③，，一定需要对用户需求由更深层次的分析，才<strong>不至于被伪需求欺骗，解决需求冲突，发现更多用户目标……</strong></p><p>例如，福特创始人说：当年如果我去问顾客想要什么，他们肯定会告诉我想要一匹更快的马。</p><p>——&gt;用户需求：更快的马</p><p>——&gt;思考真伪：是想更快地到达目的地</p><p>——&gt;深层需求：爱与归属，社交尊重，豪华高端</p><p>——&gt;实现：更快的交工工具，可实现社交尊重：汽车</p><h4 id="需求分析的应用"><a class="markdownIt-Anchor" href="#需求分析的应用"></a> 需求分析的应用</h4><p>一、从人性出发，需求驱动，推导产品解决方案。如下是关于人性七宗罪的需求分析具体应用：</p><p><strong>傲慢</strong>：自大、目无一切、自己拥有的比别人多</p><ul><li><p>设计思路：追求优越感、希望受到别人的尊重和敬仰、爱慕虚荣</p></li><li><p>产品方案：炫耀优越感、荣誉展示、会员制、成就、粉丝数、点赞数</p></li></ul><p><strong>妒忌</strong>：有心理落差、别人拥有的比自己多</p><ul><li><p>设计思路：制造焦虑感、诱饵效应、追赶他人、不满情绪</p></li><li><p>产品方案：排名、拉票、置顶、等级、段位</p></li></ul><p><strong>愤怒</strong>：妒忌的极点，负面、反感的上限，需要发泄出来</p><ul><li>设计思路：情绪排解出口、情绪循环、自主离开</li><li>产品方案：举报、反馈、删除、关闭、拉黑、禁用、注销、不再推荐</li></ul><p><strong>懒惰</strong>：心理厌倦，只想做简单的事，或者不想做事，想休息、享受，衍生—无聊</p><ul><li>设计思路：更少地思考、减少动作，减少不必要的决策，满足使用习惯，减少理解成本</li><li>产品方案：一键xx，猜你喜欢、清空、推荐、筛选、默认填写、全选等</li></ul><p><strong>贪婪</strong>：觉得拥有的不够多，不够满足，想要更多</p><ul><li>设计思路：培养贪婪心理，资源逐层分发，利用侥幸心理</li><li>产品方案：免费体验，新人福利，分布完成发放积分，随机抽取，抽奖等。</li></ul><p><strong>饕餮</strong>：美食诱惑、食物的格调、氛围、视觉效果（当代资源丰富，对美食不再贪婪）</p><ul><li>设计思路：赋予食物属性，占据感性思维，场景氛围营造</li><li>产品方案：直播同步传递美食感受、KOL、精美图片/视频宣传</li></ul><p><strong>色欲</strong>：保暖思淫欲，当代社会发展，越来越开放。</p><ul><li>设计思路：心理需求和生理需求的满足、虚荣心、成就感、炫耀、魅力、互撩</li><li>产品方案：社交社区、直播、美颜修图、滤镜、同城、匹配、推荐，打招呼、挑选、隐私设置等。</li></ul><p>除了以上7宗罪和马斯洛需求理论外，还有诸如好奇、倾诉、吐槽、孤独、寂寞、围观等人性，需结合具体产品实际分析。</p><p>二、多体验已有的成熟产品</p><p>在平时可以多多<strong>体验市面上相对成熟的产品</strong>，积累相对成熟的产品元素：登录注册、个人中购物车等。</p><p>也可以<strong>对设计较好的产品进行跨界分析</strong>。例如借鉴游戏中的成长体系等。</p><h3 id="功能优先级划分"><a class="markdownIt-Anchor" href="#功能优先级划分"></a> 功能优先级划分</h3><h4 id="kano模型"><a class="markdownIt-Anchor" href="#kano模型"></a> KANO模型</h4><p>当收到来自四面八方的需求时，应该通过一些科学有效的方法来处理这些需求，例如KANO模型。</p><p>KANO模型由某日本学者受到<strong>双因素理论</strong>的启发提出的。他在论文中首次提出“满意度的二维模式”，从而构建出KANO模型。举一个例子说明双因素理论：</p><p>公司给员工发工资，员工不会觉得满意，但只要不发工资，员工就会马上觉得不满意。但公司给员工发奖金，员工满意，而不发奖金，员工也不会觉得不满意。因此，员工的满意度分为2种，<strong>一种是激励因素，一种是保健因素</strong>，这就是双因素理论的来源。而KANO模型就是基于双因素理论对用户需求进行<strong>分类</strong>和<strong>优先排序</strong>的工具。</p><p>KANO模型在采样人数上大约是40~70人。它描述的是<strong>具备程度</strong>和<strong>用户满意度</strong>之间的关系，它将需求划分为：<strong>M必备型、O期望型、A魅力型、I无差异型、R反向型需求</strong>。</p><p><img src="https://raw.githubusercontent.com/YuanZhou314/PigRepo/main/imgs/image-20230528112321757.png" alt></p><h4 id="如何得出kano模型"><a class="markdownIt-Anchor" href="#如何得出kano模型"></a> 如何得出KANO模型</h4><ol><li><strong>设计调查问卷</strong>。通过问卷得到一些准确数据（满意程度）</li></ol><p>将需求池的需求导出，罗列出清单，每个功能点对应清单中的一项，而每一项需要设计2道问题，2道问题为正反提问。例如：针对浏览器意外关闭后是否可以恢复上次浏览的需求，设计问题(这就是一个标准的KANO问卷)：</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs mathematica">问题<span class="hljs-number">1</span><span class="hljs-operator">-</span><span class="hljs-number">1</span>、若浏览器崩溃后重启可以恢复上次浏览，你的感受是？<br>  <span class="hljs-variable">A</span>、喜欢 <span class="hljs-variable">B</span>、理应如此 <span class="hljs-built_in">C</span>、无所谓 <span class="hljs-built_in">D</span>、能忍受 <span class="hljs-built_in">E</span>、不喜欢<br>问题<span class="hljs-number">1</span><span class="hljs-operator">-</span><span class="hljs-number">2</span>、若浏览器崩溃后重启不可以恢复上次浏览，你的感受是？<br>  <span class="hljs-variable">A</span>、喜欢 <span class="hljs-variable">B</span>、理应如此 <span class="hljs-built_in">C</span>、无所谓 <span class="hljs-built_in">D</span>、能忍受 <span class="hljs-built_in">E</span>、不喜欢<br></code></pre></td></tr></table></figure><p>注意：上述ABCDE选项方式可以用数字标识其意义，例如1代表不喜欢，3代表无所谓，5代表喜欢……</p><ol start="2"><li><p><strong>功能属性评定</strong>。根据功能以及对应程度划分需求属性。</p><p>问卷中，一对正负问题的答案下表的行、列。例如正向问题中，选择【能忍受】，负向问题选择【理应如此】。对应下表中2行4列，其交叉点为 I ，那么该受访者对于这个问题的满意度就是【I 无差异属性】</p></li></ol><p><img src="https://raw.githubusercontent.com/YuanZhou314/PigRepo/main/imgs/image-20230528114311019.png" alt></p><ol start="3"><li><strong>根据属性象限区分优先级</strong></li></ol><p>必备属性：优先级最高，必做，留足资源。</p><p>期望属性：优先级高，先做性价比高的</p><p>魅力属性：优先级其次，先实现低成本的亮点功能</p><p>反向属性：权衡各方利益后再决定，无利益可不做</p><p>无差异属性：不着急做或可忽略</p><p>例如下图：在一份调查问卷里调查了10个需求后，调查结果通过【离散统计】整理成类似下方的样式，可以简单明确地看出每个需求的属性和排行：</p><p><img src="https://raw.githubusercontent.com/YuanZhou314/PigRepo/main/imgs/image-20230528134735919.png" alt></p><p>离散统计的缺点是由于选项排序存在非黑即白的方式，一些信息会丢失。也可以使用别的方式进行统计，例如赋值表、矩阵等。</p><h3 id="功能价值"><a class="markdownIt-Anchor" href="#功能价值"></a> 功能价值</h3><p>功能价值的定义：功能带来的实际价值与实现功能需要的成本之比。即：功能价值=功能实际价值 / 功能实现成本</p><h4 id="实际价值判断难"><a class="markdownIt-Anchor" href="#实际价值判断难"></a> 实际价值判断（难）</h4><p>通过以下三个维度来判断功能的实际价值：</p><ul><li>范围价值=潜在用户数 x 单用户价值</li><li>频次价值=需求频次 x 单次价值</li><li>时间价值=持续时间 x 单位价值</li></ul><p>例如，墨迹天气App原为一个天气工具，后期加入了“时图”功能作为社区扩展，分享天气、美景、穿搭等内容。</p><p>价值范围：从单一工具扩展为社区，内容丰富后带来更多新用户——潜在用户数(提升) x 单用户价值(提升)</p><p>频次价值：从看完天气就走到看穿搭+风景+其他内容，打开次数变多——需求频次(提升) x 单次价值(提升)</p><p>时间价值：从看天气的十几秒到查看其他内容，用户停留时间明显提高——持续时间(提升) x 单位价值(提升)</p><p>以上的数据可从历史预测或上线后小范围试点，从<strong>数据分析统计平台</strong>中获取。</p><h4 id="成本评估"><a class="markdownIt-Anchor" href="#成本评估"></a> 成本评估</h4><p>考虑人力、时间、金钱、风险等。</p><p>成本=消耗人天 x 平均每人天价格</p><p>假设：开发6人，设计1人，产品1人，测试1人，运维1人，周期7个工作日，平均人力成本2w/月，在考虑延期风险1天，成平评估：(平均人力成本 / 工时) * 总天数 * 总人数。计算出：<code>20000/21.75 * （7+1）* 10 = 73563.21元</code></p><p>最后，结合前面的实际价值的计算，就可以用<code>功能实际价值 / 功能实现成本</code>算出功能价值。</p><h3 id="用户体验"><a class="markdownIt-Anchor" href="#用户体验"></a> 用户体验</h3><h4 id="定义"><a class="markdownIt-Anchor" href="#定义"></a> 定义</h4><p>是用户在使用产品过程中建立起来的一种纯主观感受。包括用户的印象和感觉，是否成功，是否享受，是否还想再次使用。用户能够忍受的问题、疑惑和Bug的程度等。</p><h4 id="影响因素"><a class="markdownIt-Anchor" href="#影响因素"></a> 影响因素</h4><ol><li>使用者状态：精神状态以及性格特征（动机、期望、情绪、认知）</li><li>系统性能：产品提供的功能、服务</li><li>环境：故事场景、状况。</li></ol><p><img src="https://raw.githubusercontent.com/YuanZhou314/PigRepo/main/imgs/image-20230528151229469.png" alt></p><h4 id="用户体验的类别层次"><a class="markdownIt-Anchor" href="#用户体验的类别层次"></a> 用户体验的类别层次</h4><p>三个层次：</p><ul><li>感官<ul><li>侧重：试听体验。色彩、声音、图像、文字、布局等</li><li>要点：UI、IA等</li></ul></li><li>交互<ul><li>侧重：使用、交互过程体验</li><li>要点：浏览、点击、输入、输出等</li></ul></li><li>情感<ul><li>侧重：心理的认可度</li><li>要点：认同、抒发情感、口碑传播</li></ul></li></ul><h4 id="用户体验五要素"><a class="markdownIt-Anchor" href="#用户体验五要素"></a> 用户体验五要素</h4><p><strong>表现层</strong>：用户所能看到的一切，文字、图片、图标、颜色、整体感觉。表现层满足了其它层面的所有目标。</p><p><strong>框架层</strong>：按钮、表格、文本、导航区域位置的具体位置，将结构层中的需求提炼出来，确定具体的设计。</p><p><strong>结构层</strong>：确定产品功能和特性最适合的组合方式，应符合用户理解和思考方式</p><p><strong>范围层</strong>：功能和内容是否纳入产品，用户需求和网站目标转变为网站应该提供什么内容时，战略就变成了范围。</p><p><strong>战略层</strong>：用户和经营者分别想从产品中获取什么，即：用户需求和团队需求。</p><p><img src="https://raw.githubusercontent.com/YuanZhou314/PigRepo/main/imgs/image-20230528152259705.png" alt></p><h4 id="用户体验的设计目标"><a class="markdownIt-Anchor" href="#用户体验的设计目标"></a> 用户体验的设计目标</h4><ol><li><strong>有用</strong>：没用的产品就没有市场</li><li><strong>易用</strong>：简洁易懂，且无需看说明书<ul><li>贴近现实场景，例如阅读翻页功能</li><li>提供便捷入口，例如再次购买</li><li>减少多余操作，例如默认选项</li></ul></li><li><strong>友好</strong>：与用户之间的关系亲切、友好<ul><li>不显示空白符，例如加载占位图</li><li>信息提示</li><li>状态可见，例如状态标记</li><li>协助记忆，例如显示历史、预想词</li></ul></li><li><strong>容错</strong>：好的产品降低用户犯错概率，提高解决错误的效率<ul><li>撤销功能，保留内容，禁用状态</li><li>撤回，最近删除相册</li></ul></li><li><strong>吸引力</strong>：界面信息、内容有吸引力，感官良好<ul><li>审美和简约设计</li></ul></li><li><strong>品牌</strong>：提到产品就代表品质保障<ul><li>口碑效应</li></ul></li></ol><h3 id="项目方案"><a class="markdownIt-Anchor" href="#项目方案"></a> 项目方案</h3><p>主要阶段：立项——设计——开发——测试——上线——运营——总结</p><p>立项：</p><ol><li>项目提出：由运营人员、市场部门或老板提出项目，输出内容：基本方案</li></ol><p>思考维度：做什么项目、做的原因、项目的价值和作用有哪些</p><ul><li>公司业务、主干业务</li><li>公司核心业务的核心流程</li><li>在线化-前台（外部）后台（内部）</li><li>好处有哪些</li></ul><ol start="2"><li>需求讨论。输出内容：会议纪要</li><li>可行性分析。输出内容：MRD、可行性报告</li><li>立项启动。输出内容：立项申请表</li></ol><h3 id="可行性分析"><a class="markdownIt-Anchor" href="#可行性分析"></a> 可行性分析</h3><p>特点：应该有预见性、公正性、可靠性、科学性等特点</p><p>主要内容：市场需求、资源供应、功能规模、开发技术、设备选型、环境影响、资金筹措、盈利能力</p><p>从产品视角分析，以下几点需要注意：</p><ul><li>市场需求：机会与风险、类似产品</li><li>环境影响：政策、发展趋势、投资环境</li><li>盈利能力</li></ul><h4 id="市场"><a class="markdownIt-Anchor" href="#市场"></a> 市场</h4><p>目标市场现状、规模、趋势、市场的产品格局、主要问题和机会壁垒</p><ul><li>市场调研</li><li>市场分析：在市场调研基础上的产物，可以直观地呈现市场现状、市场趋势及市场问题和机会<ul><li>目标市场现状——现有体量、市场格局、目前市场情况</li><li>市场趋势——预测发展规模趋势变化、市场增速、市场前景</li><li>问题机会和壁垒<ul><li>问题：行业痛点、用户吐槽点、未满足的需求</li><li>机会：结合问题，想要如何解决，结合趋势还有哪些需求未被满足</li><li>壁垒：进入该市场的难题，以及如何建立市场壁垒</li></ul></li></ul></li><li>市场环境总结</li></ul><p>附：互联网市场信息查询参考平台</p><p>行业报告：199IT、易观、艾媒、艾瑞、月狐等</p><p>咨询媒体：36Kr、虎嗅、IT桔子、猎云网、创业邦、中国互联网信息中心</p><p>用户</p><ol><li>目标用户群体、用户特征</li></ol><p>划分为各个维度：年龄段、性别、收入、婚育、学历、地域、性格特点</p><ol start="2"><li>用户画像与用户使用场景</li></ol><p>虚拟用户画像：包括用户基础特征、用户名称、兴趣爱好、生活状态、网络使用习惯、产品使用习惯（频率、时间、时长）</p><p>用户场景：将角色放入场景：使用目的、出发场景（时间地点）、个人偏好、使用习惯、使用体验、关闭/退出场景</p><ol start="3"><li>用户需求总结</li></ol><p>读懂用户使用场景中行为的根本原因：用户需求（问题、目的、方案）</p><h4 id="竞品"><a class="markdownIt-Anchor" href="#竞品"></a> 竞品</h4><ol><li><p>竞品战略：产品基本信息、公司背景、商业模式、盈利模式等</p></li><li><p>竞品用户定位：竞品的目标用户特征、定位原因</p></li><li><p>竞品主要功能：竞品的基本功能差异化对比、特色功能对比</p></li><li><p>优缺点：竞品之间的优点缺点</p></li><li><p>竞品分析结论：结合战略、用户、功能及优缺点分析之后的总结</p></li></ol><h3 id="产品规划"><a class="markdownIt-Anchor" href="#产品规划"></a> 产品规划</h3><p><img src="https://raw.githubusercontent.com/YuanZhou314/PigRepo/main/imgs/image-20230604100958074.png" alt></p><h3 id="立项评审"><a class="markdownIt-Anchor" href="#立项评审"></a> 立项评审</h3><p>立项说明书的主要内容</p><ol><li>产品概述<ul><li>产品定位</li><li>目标用户</li><li>主要功能</li></ul></li><li>可行性分析（市场、用户、竞品）</li><li>产品规划<ul><li>产品架构图</li><li>业务流程图</li><li>产品结构图</li><li>功能清单</li><li>迭代计划</li></ul></li></ol><h4 id="立项评审流程"><a class="markdownIt-Anchor" href="#立项评审流程"></a> 立项评审流程</h4><p><strong>评审会议</strong></p><ol><li>预约会议<ol><li>确认参会人及参会时间</li><li>提前与参与人做好沟通</li><li>邮件发出会议邀请，附上会议材料</li></ol></li><li>会前准备<ol><li>调试好电脑和投影</li><li>协调会议记录人员</li><li>开会前再次确认开会时间地点</li><li>确认是否有核心人员无法参会</li></ol></li><li>会议过程<ol><li>强调会议主题、会议目的、会议时间及注意事项</li><li>把握需求范围、控制问题探讨时间</li><li>记录关键确定需求，待确定需求</li></ol></li><li>会后跟踪<ol><li>会后及时同步会议结论给相关人员及领导</li><li>确定待确定需求跟进时间、待讨论的细节</li></ol></li></ol><p><strong>填写立项申请表</strong></p>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>产品</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>浪漫主义诗歌——感性、直觉和内心图景</title>
    <link href="/post/2a606884.html"/>
    <url>/post/2a606884.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>文艺复兴时期，人们强调人的主体理性。启蒙运动时期，人们开始反思，高度崇尚理性是否会压抑对人的全面认知。例如思想家卢梭对高度太推崇理性感到不安，他认为在人的思维中还存在自然感性的一面。**人应该是全面的，有理性我也有感性我。**从文学史的角度看，恰好是启蒙运动对于人的主体理性的高度张扬，引来了十九世纪对于人的感性的探索，即十九世纪浪漫主义文学的兴起。</p><h2 id="湖畔派"><a class="markdownIt-Anchor" href="#湖畔派"></a> 湖畔派</h2><p>十九世纪对于自然、对于人的感性探索开始逐渐强烈，浪漫主义文学也就应运而生。浪漫主义文学形式多样，其中以诗歌成就相对较大。对于感性自我的表现方式，在诗人眼中是不一样的。英国最早出现的湖畔派就是典型的浪漫主义代表，代表人物有：</p><ul><li>华兹华斯</li><li>柯勒律治</li><li>骚赛</li></ul><p>他们最大的特色就是远离城市文明，在幽静的自然乡村中。湖畔派对感性自我地呈现，是在与大自然的连接当中展开的。</p><p><em>注意：从这里也可以看出，历史上人类对于自然界的态度也是几经扭转。启蒙运动中强调人的主体理性力量，自然和人几乎是一组对立的关系，自然界是作为人类征服对象的存在。例如《鲁宾逊漂流记》，为了彰显人类智慧和力量，人类可以征服和改造自然。到了十九世纪，人们开始重新思考人与自然的关系。自然在浪漫主义诗歌当中又重新获得了尊严感。</em></p><p>湖畔派重新再诗歌当中塑造自然的现象，把自然界当成人类灵魂的栖息地。这样，人与自然的关系，相比于启蒙文学时期发生了一个很大的改变。</p><ul><li>启蒙文学通过把人的烙印打入自然，把自然视为人的力量的延展，印证人类的理性力量。</li><li>浪漫主义湖畔派通过人和自然关系的一个连接寻找人和自然的同频共振，来确认人类自我感性的区域的存在。</li></ul><p>在湖畔派诗歌当中，他们重新梳理人与自然的关系，同时也开始反思，现代物质文明给我们带来的不按和焦虑。这是一个非常重要的起点。从十九世纪开始，在西方一些诗歌当中，已经开始警惕物质文明的副作用。启蒙运动时期，把征服自然作为人类的价值，一个重要的社会功能就是工业革命，西方科学技术得到了很大的发展。但是这样一个对自然的态度在某种程度上也损害了人类对于自然的敬畏。直到今天，当我们反思这段历程时，从启蒙运动的对自然毫无敬畏、过度开发和改造，也为我们埋下了很多隐患。反观浪漫主义文学的崛起，就能看出人类的思考是非常敏锐，**浪漫主义诗歌很早就意识到物质文明对于大自然的侵袭及改造所存在的隐患。**因此，人类在启蒙运动之后，一边在改造自然，一边也在进行着反思。这样一种通过开发改造自然来塑造自我的道路给精神上带来的压力，开始在文学中得到展现。所以在浪漫派是个当中，<strong>反思城市文明、反思物质文明、工业文明，到大自然当中去寻找出路，在大自然中寻找精神的归宿</strong>成为了新的创作命题。因此在理解湖畔派诗歌时，要知道它书写的不是纯粹的大自然的美，不是真正以田园为主体的诗歌。它思考的是人与自然的双向关系，落脚点是对于人类自我的重新整理与理解。</p><p>因此，华兹华斯在《抒情歌谣集》中的序言写到：诗是强烈情感的自然流露。这就奠定了浪漫主义文学的核心原则。他们对自然的描写<strong>不是客观的写景，而是通过自然来反观人类的行为、情感和感性自我</strong>。人类的感性自我才是湖畔派诗歌的真正主角。</p><h2 id="拜伦"><a class="markdownIt-Anchor" href="#拜伦"></a> 拜伦</h2><p>在湖畔派之后，英国又出现了一些著名的浪漫主义诗人。例如拜伦、雪莱、济慈。拜伦是湖畔派诗歌之后，称为英国浪漫主义诗歌的高峰。拜伦将感性自我的描写直接建立在自我精力和体验之上。跟湖畔派不一样的是，他不需要站在大自然面前寻找心灵的体验，他要站在自己的面前去直视心灵的体验。因此排轮诗歌当中的主角都是他的自我，这个自我十分鲜明。在阅读拜伦诗歌时，要了解一个词汇，即拜伦式英雄。</p><p>拜伦的代表作：《恰尔德.哈洛尔德游记》、《普罗米修斯》、《该隐》、《曼弗雷德》。拜伦在诗歌选角塑造人物的时候有一个共同特点，<strong>他往往选择在人类社会当中不合群、甚至是被认定为罪人和异类的个体，这些主角形成了拜伦式英雄系列</strong>。曼弗雷德是乱伦罪人、该隐杀死了自己的弟弟（人类历史上第一个杀人犯）、普罗米修斯是宙斯惩罚的对象、恰尔德哈洛尔德是反社会青年。在诗歌故事当中，能够表现孤独的力量和孤独的痛感以及孤独的力量和痛感所呈现的美感的诗人，也许没有谁可以超越拜伦。他在诗歌当中就是塑造了一个与众不同的感性自我的形象，拜伦式英雄的共同特点就是孤独。在拜伦的诗歌中，孤独是一个英雄的标志。他笔下的拜伦式英雄行走在人群之外，跟人群的隔绝不会让他们感到恐慌，也不会焦虑。他们正好是通过和人群的疏离来印证自身的价值和力量，这就是一种傲世独立的姿态。**一个个体的人只有跟人群拉开距离，才能保持个人的独立和自由，才不会被同化和浸染。**这对孤独的定义与世俗对的定义是不一样的。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202305231038709.png" alt></p><p>在拜伦看来，一个人要保持自己的个性，就要有勇气跟群体、主流拉开一定的距离。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202305231039001.png" alt></p><p>在拜伦式英雄当中，他认同的罪人、异类同样被赋予非常骄傲的孤独的色彩。拜伦认为孤独感会让人保持思想的锐气，拒绝被同化被驯服。因此拜伦式英雄都是反对盲从的，他们不怕权威、反对权威崇拜，保持着一种怀疑的精神和思想的自由。例如《曼弗雷德》中的主角曼弗雷德，不相信知识（跟歌德的浮士德一样）、不相信精灵（神灵）、不相信魔鬼（他认为魔鬼的力量在于堕落，而堕落不是力量），他保持着一种拜伦特别倡导的：人的怀疑精神、质疑精神。这里可以引用诗人北岛的诗：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202305231045525.png" alt></p><p>拜伦笔下的该隐，重新赋予了新的形象，即拥有质疑精神、追问精神的形象。甚至追问了上帝一些教徒们从来没有想到的问题。怀疑上帝的全能、上帝的至善、智慧树的传说、原罪说……这些都是拜伦对宗教结论发出的疑问。通过这些疑问，能看到拜伦所倡导的那种旺盛的思考热情、充满个性精神、追问精神和质疑精神的思考能力，这是很令人震撼的。在《失乐园》中，弥尔顿虽然认可了魔鬼撒旦的反抗精神，但还是以遭受惩罚为结局。但在《该隐》中，拜伦比弥尔顿革命得多。在拜伦笔下，魔鬼路西法已经变成了完全的思想的英雄，不是引导人的恶，而是引导激发该隐的自由精神、自由意识。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202305231054368.png" alt></p><p>拜伦笔下的《该隐》，不是一个罪人的悲剧，而是一个追求思想自由的赞歌。</p><p>拜伦式英雄的另一个特点就是不合群，被群体排除在外，被群体判决为罪人和异类。因此拜伦式英雄对群体、人性没有信心，所以他们一遍奉献着，一遍怀疑自己这些奉献的意义。</p><p>拜伦式英雄的特点与拜伦的个人成长经历关系密切，他在童年时期就经历了起伏跌宕的变化，这让拜伦对周围的人们产生了巨大的怀疑，他认为人性是邪恶的。童年经历巨大的反差让拜伦对人性失去了信心，他对于人群是蔑视的。在后来曾一度被认为和姐姐有染，人群的风言风语几乎让拜伦无法生存下去。因此拜伦认为群体是邪恶的，对于有思想的人来说是致命的。他笔下的英雄总是高傲地存在于集体之外。因此，拜伦式英雄对人性、集体都没有信心，但要实现自我的价值，又必须投入到社会当中去，这就形成了一组矛盾。拜伦式英雄都是如此，一边为这个世界牺牲，一边又怀疑自己牺牲的价值，感到了价值的虚无。所以对世界的未来是悲观的，他们为世界的罪孽很深重难逃毁灭，但又放不下对于世界的这份牵挂，并怀有拯救世界的英雄主义。根据这一点，我们才能够读懂《普罗米修斯》这些诗句：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202305231111182.png" alt></p><p>拜伦以普罗米修斯的角度来讲，想普罗米修斯这样为人类牺牲的英雄，他并没有得到相匹配的回赠。从这里也能再次看到，拜伦对于集体的不信任。这就是他所说的那句话：这是一种骄傲的人才感到的痛苦，还有他不愿意透露的心酸。这就形成了拜伦式英雄的一个特色：孤独着、绝望着、虚无着。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202305231115314.png" alt></p><p>拜伦式英雄：孤独的力量、孤独的美感、孤独的深度、孤独的痛苦。</p><h2 id="雪莱"><a class="markdownIt-Anchor" href="#雪莱"></a> 雪莱</h2><p>在拜伦的浪漫主义诗歌中，总是洋溢着灰色的哀伤。而拜伦的好友雪莱跟他一样，倡导自由、个性解放，但雪莱的诗歌特色是透亮的，**带着光亮的理想主义色彩和必胜的乐观信心。**因为雪莱对人性是有信心的，雪莱对于人性和集体抱有很大的信心，所以雪莱笔下的英雄并不孤独，有战友、有忠诚的爱人，坚定地同路者，他的诗歌是乐观、进取的。雪莱也写了普罗米修斯，但全名是《解放了的普罗米修斯》。对于同一个故事，拜伦和雪莱做了完全不同的演绎。在拜伦笔下，普罗米修斯为人类牺牲又被人类遗忘，承担着孤独寂寞和痛苦。而雪莱的普罗米修斯故事中，人们没有遗忘他，他的亲人陪着他，人们不停地探望他，最后大英雄赫拉克勒斯来拯救了他，最后有一个光明的结尾。</p><p>所以可以看出，<strong>雪莱坚持着善一定会战胜恶的信念，表现出了对于理想大同社会必将实现的充足信心，也表现出了个人和集体之间不可分割得地联系的鉴定的信任</strong>。我们才能理解雪莱是可以写出《西风颂》这样的充满激情的诗歌的：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202305231124182.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202305231126909.png" alt></p><p>雪莱的诗歌是明亮的、充满理想，也充满了信心。反过来说拜伦虽然是灰色的，虚无的，但也多了几分雪莱的诗歌说没有的深度。所以他们的诗歌既相同又不同。我们可以通过雪莱看到光明，通过拜伦看到人的复杂。对读者而言，两位诗人都是同样珍贵的。</p>]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>历史</tag>
      
      <tag>文学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>启蒙文学——在碎裂的沉舟中永不沮丧</title>
    <link href="/post/f7877b9e.html"/>
    <url>/post/f7877b9e.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><h2 id="作品概括"><a class="markdownIt-Anchor" href="#作品概括"></a> 作品概括</h2><p>歌德的《浮士德》是一部诗剧，内容也比较晦涩，因此阅读时可能会受到一些障碍。歌德花了60年时间来完成这部巨作，将其一生人生的思考、艺术的思想、社会的观点、宗教的思想熔铸在其间。《浮士德》取材于中世纪流行的“浮士德博士的故事”的传说，《浮士德》的核心点是对人生的反思，书中角色浮士德的经历与歌德的经历是高度吻合的。如果贴着歌德的人生去读《浮士德》，就不会那么难懂了。</p><h2 id="作品内容"><a class="markdownIt-Anchor" href="#作品内容"></a> 作品内容</h2><p>在《浮士德》中，主角浮士德有两世人生。第一世的浮士德出场时年纪相当大，这时候的浮士德是一个成功的学者，在学术上颇有成就，也有很多学生追随。但他却对自己的人生感到十分不满意，他说自己将神学、法学、医学全都研究透了，发现自己仍不过是一个蠢货。甚至想自杀，不愿苟活在世。在浮士德悔恨之际，天上的魔鬼和上帝在争议，上帝认为自己创造的人类是很好的，魔鬼则认为是失败的。他们争论不休，最后决定找浮士德实验一下，观察这个人一生的状态。于是魔鬼来到了人间，找到浮士德要与它定一个契约，约定可以让浮士德再活一世，重新返回二十岁，但你再活一次，也不会感到成功。因为人类注定就是这样的失败命运。如果第二世人生还是贪图享乐、好逸恶劳，那么你就输了，灵魂归魔鬼所有。**契约规定：不论你在生活的哪个阶段，只要你对自己的生活状态很满意，说：“时光你真美好，你停一下吧”，那么你就输了，就会当场死掉。**浮士德决定打这个赌，他认为如果再活一次，一定会永远进取下去，永不停息。于是魔鬼带浮士德来到女巫这里，喝下灵药，重新回到20岁。</p><p>歌德在写浮士德第二世人生时，并没有写他有多么辉煌、成功。相反，当浮士德的第二世主要由失败构成。谈过一次刻骨铭心的恋爱，最后失败了；走仕途但半途而废了。研究文学艺术也落空了，最后想创建自己的理想国，也没有完成就去世了。因为晚年看到理想国建设的实行，浮士德认为自己在做有意义的事情，说出了那句契约中的话，于是倒地而亡。但这时候上帝派出了天使，从魔鬼手里抢走了浮士德的灵魂。上帝认为浮士德没有失败，他是有价值的。这就是该作最大的疑点，浮士德的二世人生经历了一次又一次失败，为什么他和上帝都对二世人生如此满意？</p><h3 id="关于智慧"><a class="markdownIt-Anchor" href="#关于智慧"></a> 关于智慧</h3><p>大部分人阅读浮士德，可能会觉得他的第一世更成功。因为第一世是大学者、博士。而尽管第二世充满失败，但他还会说出那句：时光啊你真美好。这就是阅读《浮士德》的一个重要的切入点，**那就是要思考他的第一世和第二世有什么不一样的。**浮士德的第一世是一个精通多个领域的大学者，但起便如此他也认为自己一无所成，是个蠢货。理解浮士德的这种判断标准，就要先理解歌德的一个重要认知：到底什么是智慧？歌德提了一个问题：<strong>一个人有知识就等于有智慧吗？<strong>显然，歌德认为拥有知识并不意味着拥有了智慧，只有智慧才有价值。什么是智慧、知识与智慧的区别是什么？这是一个典型的启蒙思想的特点。他们认为</strong>我们学习各种各样的知识，最终应该是为了应用于社会和自己的人生，为了解决社会、人生问题</strong>。假如所学的知识只换来一个硕士、博士、地位和身份，但是对社会和自己的人生没有任何影响，这样的知识是毫无作用的。这就是歌德传达的第一个概念，即知识和智慧的区别。他认为，对自己的人生、社会没有用处的知识，只不过是学者们自娱自乐的理论游戏，不过是“黏黏贴贴、拼拼凑凑，用别人的残羹剩汁去烩一碗佳肴”，这就是对学术的警示。在今天学术非常功利的时代，再次阅读这一段仍然会觉得惊心。这就是浮士德的第一世，正式这种空洞的、毫无社会价值和人生价值的所谓的学术，让浮士德感到绝望。浮士德许了一个愿望，如果再活一世，要做一个真正对社会有用的人，一个真正能够有能力解决自己人生问题的人。<strong>按照自己独立的意志和社会设想，去改造自然，建设全新社会的能力，是歌德认为的真正的智慧</strong>，这种智慧的追求就贯穿了浮士德的第二世。因此有一句话：<strong>这样度过一生，我的浮生的痕迹才不致在永劫中消退。</strong></p><h3 id="关于人生"><a class="markdownIt-Anchor" href="#关于人生"></a> 关于人生</h3><p>浮士德的第一世一直在安静的书斋里做学问，宁静地带着学生搞学问，没有经历风雨，也顺利拿到地位和学位。他认为这样的人生没有意义。他对第二次人生做了一个设想，他认为一帆风顺的人生没有价值，他做了这样的祈祷：到世界上去闯一趟，去承担人间的祸福，去跟暴风雨奋战，在沉舟的碎裂声中永不沮丧。他希望新的人生里有风雨的考验，可以亲身经历挫败和打击。如何理解浮士德对于人生这样的期盼？这就是歌德表达的关于人生他的一个重要的领悟，那就是：<strong>什么样的人生才是真正的人生？<strong>在这个领悟当中希腊文化对歌德的影响是相当重的。希腊文学中有“<strong>向死而生</strong>”的思想，歌德的笔下的浮士德之所以期盼二世人生里有失败，他认为</strong>有失败有挫折有风雨的人生才是有价值的</strong>。因为经历了失败才能强大，经历了痛苦才能成长，失败和痛苦就是成长的机会。这就是八十二岁的歌德对人生的领悟，不要害怕失败，每一次失败都在成就你。也不要害怕痛苦，人是在痛苦当中才会变得有思想有头脑的。每次失败都能够站起来，这就是成功。</p><h3 id="关于爱情"><a class="markdownIt-Anchor" href="#关于爱情"></a> 关于爱情</h3><p>除了对于人生和智慧的观点，对爱情、仕途、艺术追求，他也进行了重新的演绎。浮士德在讲爱情的时候一直带着一种很高的理性。浮士德和格雷琴这段悲剧是一个激情式的爱情故事。即：两个人相爱并不知道为什么会相互吸引，浮士德爱上刚满14岁的格雷琴是非常盲目的，盲目到连魔鬼都觉得不可思议，甚至还有点轻浮。这说明歌德本身要讲的就是这种激情式的爱情，是爱情中最有魅力也是最危险的。于是便造成了如下的悲剧：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202305171111735.png" alt></p><p>这是一个悲伤的爱情故事。在这段爱情中格雷琴失去了所有的东西。人们年轻时普遍都会遇到的爱情障碍，当我们遇到激情式的爱情时，爱情往往是一场自我的战争。激情式的战争是美好的，它会激发人们斗争的勇气，不惜与世界作对，为了爱情与母亲、哥哥、宗教作对，然后付出自己所有。浮士德在陷入爱情时，也不得不与自己的理智作对。理智告诉他与格雷琴相爱是不对的，这样会害了她。因此，激情式的爱情很多时候都是一种困境，很多时候跟社会和家庭的要求并不完全吻合，所以格雷琴要一路背叛现实，从家庭约束、宗教限制甚至到法律，浮士德与自己的理智为敌。这就是浮士德的爱情的困境：<strong>爱情的热度来自情欲和情绪的双重放纵，这让彼此的吸引力特别强大，但这种强大本身就是一种危险，月为它人然地排斥理性，而要维持理性，爱情又会失去热度</strong>。最终，浮士德的爱情失败了。就像很多人一样，越是纯粹式的、激情的爱情越是难以成功。问题就在于我们该如何对待这样的悲剧。浮士德从对此受到了很大打击，但他从失败当中成长出一个理智的自我，他征服了人生第一个需要征服的敌人，不是外界的社会，而是自身的情绪化、自身的情欲。通过这场激情式的爱情，他终于能够用自己的理智去驾驭自己的感情，换来了理智的成长。从痛苦中站起来，走向更大的世界。</p><h3 id="关于仕途"><a class="markdownIt-Anchor" href="#关于仕途"></a> 关于仕途</h3><p>通过这一段激情式的爱情，浮士德转向仕途。他来到一个王权国家，发现了一个悖论。<strong>要想通过仕途发挥社会作用，得先取得皇帝和官僚们的认可和信任。要取得他们的信任，就要满足国王的利益，因此因此很多时候就要损害民众的利益</strong>。因为国王的利益和民众的利益是对立的。体验到这一点后，浮士德就终止了自己的仕途。这段剧情即对应了歌德曾在魏玛公国中的一段官员经历，最终也确实是半途而废了。</p><h3 id="关于艺术"><a class="markdownIt-Anchor" href="#关于艺术"></a> 关于艺术</h3><p>离开仕途后，浮士德决定寻找新的自我价值的可能性，即追求古典艺术美。投射的是现实中歌德与席勒一起搞古典艺术美运动，通过古典艺术美来拯救社会的精神。这段奇幻剧情是：浮士德偶然间穿越到古希腊斯巴达城堡里与美女海伦相爱，并诞下一子欧福里翁。欧福里翁好高骛远，每天向往飞翔，最后从高处掉落摔死，海伦也化为一堆衣服消失不见。歌德通过这样一段荒诞的故事，表达用象牙塔古典艺术、文学艺术来拯救社会是不见效的。他认为<strong>对于脱离社会现实的古典艺术美，用这种方式来追求社会价值和人生价值这个失败率也是很高的</strong>。</p><h3 id="关于理想"><a class="markdownIt-Anchor" href="#关于理想"></a> 关于理想</h3><p>最后，浮士德将从皇帝那里得到的土地进行开荒、建设一个属于他自己的理想的自由国。这个自由国象征着启蒙运动的知识分子们改造社会改造自然的一个梦想，这被歌德视为最令人满意的终身事业（自由国这种以自由为核心的社会摄像，是启蒙运动社会理念的一个体现）。在这份经历中，也会犯错、付出一些代价，在忧伤女神弄瞎他的眼睛后，他也没有气馁。直到他年老时，人们都开始为他掘墓，他依然认为这是对的，所以才说出了契约中的那句话，虽然这也是悲剧结尾，但洋溢着令人震撼的理想主义精神，也让浮士德的精神达到了高峰。</p><hr><p>浮士德的人生：真正的人生是在挫败当中不断前进，永不停息。</p><p>魔鬼梅菲斯特：在二世人生中，魔鬼梅菲斯特时刻在身边陪伴，让浮士德不断地犯错，在人生的一系列经历中，魔鬼手段不停地出现，浮士德也不停地跟魔鬼争论。这也反映出歌德对人生的理解：人生是一个战胜自我的过程魔鬼梅菲斯特并不是一个异在的象征，它是我们身上的另外一个部分，是我们身上的懒惰贪婪，混乱和放纵，暴力和一些无法掌握的情绪，这些就是我们身上的梅菲斯特。所谓的人生就是要不断地跟我们自己身上的魔鬼作战，在这个过程中取得人生的前行和进取。所以人生是一个战胜自己弱点和内心晦暗的过程。这样才能理解《浮士德》中的天使说：凡人不断努力，我们才能济度。（在佛教中也同样有类似的：佛度有缘人）天使无法拯救一个不能战胜自己的人，浮士德最终的获救也正是他不断战胜自己的一个成果。</p><p>所以，浮士德的医生与其说是他在不断追求社会成果，倒不如说他在<strong>不断地战胜自我</strong>，这也是它能够被上帝认为他是成果的一个重要依据。</p>]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>历史</tag>
      
      <tag>文学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>启蒙运动——崇拜人自身</title>
    <link href="/post/85c2f1b3.html"/>
    <url>/post/85c2f1b3.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>从文艺复兴到启蒙运动是一个连贯的过程，这些努力都是对于漫长中世纪的纠正。在中世纪中，对于自然、社会、人类的理解都是从神学的角度去开展的，人的思考能力相当弱小。《圣经》教导人们不要去独立思考，因为人的认知有限，只有听从上帝才行。这样对人引导和教化，就造成了人的主体理性的丧失。教会长期的愚民政策造成了人们对于社会自然和人类自身的认知空白。</p><table><thead><tr><th style="text-align:center">中世纪终结</th><th style="text-align:center">文艺复兴</th><th style="text-align:center">17世纪古典文学</th><th style="text-align:center">清教徒文学</th></tr></thead><tbody><tr><td style="text-align:center">但丁</td><td style="text-align:center">莎士比亚</td><td style="text-align:center">莫里哀</td><td style="text-align:center">清教徒</td></tr><tr><td style="text-align:center">塑造人类的主体理性的信心</td><td style="text-align:center">《哈姆雷特》用自己的方式思考人生</td><td style="text-align:center">用人来管理人的王权时代</td><td style="text-align:center">用人的主体理性重新解释圣经和宗教</td></tr></tbody></table><p>通过这些努力，对于人的主体理性的探索构建和推进有极大的帮助，让人类重新找回自中世纪以来已经丢失的属于人类自身的自信和骄傲。这样的努力和发展到了十八世纪，就出现了启蒙运动。启蒙运动是从中世纪以后，人们不断地想恢复和探索人类主体能力的一个过程的呈现。</p><p>在启蒙运动中，人类需要完成的三个核心命题：重新解释自然、重新设想和反思社会、重新认识人类自身，</p><h3 id="重新解释自然"><a class="markdownIt-Anchor" href="#重新解释自然"></a> 重新解释自然</h3><p>《圣经》中描述人间万物和世界万物均由上帝创造，上帝使用六天时间创造世界，这就是世界的起源。这阻碍了自然科学的发展。在实际行动中，法国出现了百科全书派，这是一个持续了二十年的知识分子运动。狄德罗、伏尔泰、卢梭等人均参加了编写百科全书，百科全书就是非常典型的站在唯物主义立场，解释人类社会和人类自身的努力。文学作品里，典型的有《鲁滨逊漂流记》。</p><p>《鲁宾逊漂流记》不仅是青少年读物，更是启蒙运动的经典作品。在鲁滨逊最开始流落荒岛时，面对未知世界，也曾收到神学影响，认为荒岛中发现的大麦、稻子是上帝施舍的奇迹。这个反应就是中世纪人们思维惯性的表现，遇到无法解释的现象时很自然地说这是上帝的奇迹。但最后发现这些物资就是遇还难时无意间带下来的，于是对上帝的感谢便化为乌有了。这在中世纪的人们是不可想象的，因为他们的思维惯性是上帝的一切都是奇迹。因此，《鲁宾逊漂流记》标志着人类的思维方式悄悄发生了变化。人们开始能从新的角度去分析和思考，并不再盲目地认为这是上帝的奇迹。</p><h3 id="重新设想和反思社会"><a class="markdownIt-Anchor" href="#重新设想和反思社会"></a> 重新设想和反思社会</h3><p>从但丁到法国古典主义文学，王权地位不断提升。但随着时间的推移，人们发现国王和教皇一样靠不住。在十八世纪之后，人们也开始反思王权，将反神权和反王权绑在一起，变成新的奋斗目标。这也就能够理解法国孟德斯鸠的作品《波斯人的信札》，里面出现了非常尖锐的对神权和王权的批评。</p><p>《波斯人的信札》中作者借男主口说：法国有两个大魔法师，一个是国王，一个是教皇。孟德斯鸠认为，当时的欧洲出现了严重的问题，即：教皇控制了国王的思想，国王控制了人民的思想。因此王权和教权都要推翻，而把希望寄托于人民身上（理解法国大革命出现的原由）。孟德斯鸠在《波斯人的信札》中提到的，王权社会对人的伤害是深重的，推翻一个王座上的国王是容易的，但还有一个隐形的暴君需要警惕。</p><p>《波斯人信札》故事概要：王权国家波斯中的一个贵族郁思贝克前往思想先进的欧洲游历，并在游历过程中给朋友、家中的妻子和仆人写信。郁思贝克攻击王权、教权，并提倡以民众幸福为重。他在写给朋友的信中表现的是非常激进、民主的思想，大谈宗教愚昧、王权的暴政。而在写给家里仆人、妻子的信时，风格就完全变了，强调仆人应对其唯命是从，强调女性应该尊崇与男性。</p><p>这就是《波斯人信札》故事的高度。<strong>漫长的王权时代给人们最大的伤害就是王权意识深入人心，它让每个人都人格分裂。当人们受到国王压迫时，我们都想推翻国王。但当我们面对弱者时，我们又都想做别人的国王</strong>。在中国小说《阿Q正传》中，也有类似的思想。所以孟德斯鸠提醒人们，民主的道路是很艰难的，并不是推翻一个国王那么简单，还需要对民众进行教育，驱除每个人心中的暴君梦。这本身就是启蒙运动的一项任务，启蒙就是启民众的蒙。</p><h3 id="重新认识人类自身"><a class="markdownIt-Anchor" href="#重新认识人类自身"></a> 重新认识人类自身</h3><p>民众培养的主题（一）：设想一个以平民为主体的社会秩序<br>法国戏剧家博马舍的《塞维利亚的理发师》。故事的主角是理发师费加罗，这是一个有兴趣、有头脑、有文化的形象。一对贵族男女相爱但不能在一起，费加罗最后帮助他们解决了问题。在这部作品里就能看出，启蒙文学想塑造平民阶层自我信心的努力。在后续剧情作品《费加罗的婚礼》中，费加罗与贵族阶层斗争，突出了平民的尊严、权利、智慧与才华，这就是启蒙运动中关于平民主题的努力。要让平民阶层承担社会主体的重任，必须要让他们意识到自己的能力和权利。</p><p>民众培养的主题（二）：让整个平民阶层知道自己有能力成为社会主体<br>《鲁宾逊漂流记》能够体现这一点。鲁滨逊在荒岛生存28年，只靠这几样东西生存下来：</p><ol><li>遇难时船上运下来的武器、工具和生活用品，这是人类积累的生存和生产的经验</li><li>来到海岛后自己积累的生存经验，这是他创造的人生生存生产经验</li><li>人类自身的精神和品格，勤劳勤奋、没有休息日。</li></ol><p>民众培养的主题（三）：构想新的社会秩序<br>例如英国小说《格列佛游记》可以提现出作家这方面的思想动向，《格列佛游记》和《鲁宾逊漂流记》一样，虽是儿童读物，但也是启蒙运动的重要作品。里面四个空间（小人国、大人国、飞人国、慧骃国）都是虚构的，小人国、飞岛国即是对当时英国的讽刺，大人国、慧骃国则是美好社会的构想。《格列佛斯游记》很鲜明指出来，哪些社会是罪恶的，什么样的社会是美好的。</p><p>民众培养的主题（四）：对人类的道德理性有很高的期望<br>例如卢梭的书信体小说《新埃罗伊斯》，大致内容是男主将妻子的情人接回家中，给自己儿子辅导音乐的故事。其中这三方有着超高的道德理性，卢梭相信人类一定能做到这样。这在以前几乎只有圣徒才能做到这样的品格，但是在启蒙运动中，普通老百姓也会有这样的道德理性。</p><h3 id="启蒙运动的作用"><a class="markdownIt-Anchor" href="#启蒙运动的作用"></a> 启蒙运动的作用</h3><ul><li>重新构想社会的结构</li><li>反思王权社会的罪恶</li><li>界定了未来的新的社会以平民为主体</li><li>培养平民群体、塑造平民信心、告知平民权利</li><li>对自己的生产生存的能力及道德理性拥有很大的信心</li></ul>]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>历史</tag>
      
      <tag>文学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>遍地开花——文艺复兴后的欧洲文学</title>
    <link href="/post/66dc4f24.html"/>
    <url>/post/66dc4f24.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>三百年文艺复兴结束后，欧洲进入了十七世纪。这个时期发展的文学流派与文艺复兴有着密切的关系，他们都是文艺复兴思想解放的成果。这些基本的文学流派有：</p><ul><li>巴洛克文学：起源于西班牙，代表人物贡戈拉</li><li>古典主义文学：起源于法国，代表人物皮埃尔.高乃依让拉辛</li><li>清教徒文学：起源于英国，代表人物弥尔顿、约翰.班扬</li></ul><h2 id="巴洛克文学"><a class="markdownIt-Anchor" href="#巴洛克文学"></a> 巴洛克文学</h2><p>由于文艺复兴思想解放的力度过于猛烈，在西班牙引起来教会力量的反扑。在文艺复兴之后，反而出现了<strong>教会力量重新强制性压迫自由思想</strong>的阶段。“巴洛克”意为不规则的珍珠，它追求形式的怪诞和美感。巴洛克文学、巴洛克建筑、巴洛克服饰等等都是<strong>唯美的</strong>。当一个时代没有办法自由地表达思想的时候，它一定会追求形式的花样。它的思想内容相对于古典主义文学、清教徒文学是比较苍白的。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202302171330649.png" alt></p><p>巴洛克作品惯用主题是<strong>宗教的狂热</strong>、<strong>灵与肉的冲突</strong>以及<strong>人在上帝面前的无能为力</strong>。艺术上刻意雕琢，追求怪异，用支离破碎的方式、夸张的语言表达悲观颓废的思想，并具有巴洛克艺术华丽浮夸、动感强烈、侧重表现幻想的统一特色。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202302211558551.jpeg" alt></p><h2 id="古典主义文学"><a class="markdownIt-Anchor" href="#古典主义文学"></a> 古典主义文学</h2><p>除了要吃要喝要爱，但丁《神曲》中留下了另一个重要的命题：王权</p><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gcode">造福世界的罗马，向来有两个太阳阳，分别照明两条路径，尘世的路径和上帝的路径。<span class="hljs-comment">(但现在)</span>一个太阳把另一个熄火，宝剑和十字架都拿在一个人的手里————《神曲》但丁<br></code></pre></td></tr></table></figure><p>但丁最初提出了分权学说。认为教会只管宗教的事务，世俗社会的事应该让国王去管。<strong>让神的事情归神，人的事情归人</strong> 。在文艺复兴时期，莎士比亚的历史剧中写了很多国王的故事，因为王权在当时是一个很重要的命题。能够跟教权相抗衡的只有王权，主张王权、呼吁王权与对付教权就是一个进步的思想。</p><p>而在法国古典主义文学当中，这种讨论有了成果，那就是王权时代的到来。法国的路易十四国王印证了王权的优越性。国王管理社会比教皇管理更加人性化，能够听到民间的声音，照顾到众生生存的需求。从社会政治层面而言，十七世纪的法国实现了但丁的社会理想，即王权制衡神权。路易十四本人对文学非常支持，再加上这层个人的关系，作家们也比较信任王权，原意为王权服务。<strong>古典主义文学在政治层面上对国王是非常信任的</strong>。因此在很多古典主义文学当中，国王都是很英明、宽容的，善良而充满了智慧，甚至都走向了极端。</p><p>如莫里哀的喜剧《伪君子》。讲述一个伪装圣洁的教会骗子达尔杜弗混进富商奥尔恭家中，企图勾引其妻子，夺取其家财，最后被英明的国王识破了，将这个骗子抓了起来。反映出当时的法国，尤其是文学家对于英明的王是相当崇拜的，认为王可以解决一切问题。因此在法国古典主义中，要重新来讲人的故事，<strong>人不只是上帝的人，还是国家和王权系统当中的人</strong>。</p><h3 id="国家意识"><a class="markdownIt-Anchor" href="#国家意识"></a> 国家意识</h3><p>崇拜王权是古典主义文学在政治思想内容上的鲜明特点。王权崇拜一个很重要改变就是<strong>推动了国家意识的出现</strong>。宗教社会中并不鼓励国家意识的出现，随着王权的加强，国家、集体意识出现了。崇拜王权激发了人的国家意识，但<strong>并没有因为国家意识的出现而抑制人的个人欲望</strong>。所以在古典主义文学当中，有两个感情特别强烈。</p><ul><li>对国家的感情</li><li>对个人的感情（爱情）</li></ul><p>所以<strong>古典主义的爱情都是触及灵魂的、激情的、热烈的、带着痛感的</strong>。这种激情直接影响到了后世启蒙运动、十九世纪浪漫主义的激情。对于两种激情的取舍，古典主义文学认为<strong>国家意识比个人感情需求强烈得多</strong>。在古典主义文学中，个人感情总是跟国家的感情发生严重冲突，然后让人物在中间做一个取舍。</p><h3 id="熙德"><a class="markdownIt-Anchor" href="#熙德"></a> 《熙德》</h3><p>例如皮埃尔高乃依的悲剧《熙德》：剧中个人感情与国家感情的转换得非常精彩，家族利益大于个人利益，国家利益又大于家族利益。这就是古典主义的社会秩序感</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202302211558972.png" alt></p><h3 id="安德洛玛克"><a class="markdownIt-Anchor" href="#安德洛玛克"></a> 《安德洛玛克》</h3><p>大致剧情：<a href="https://www.baike.com/wikiid/2629229189495269767">https://www.baike.com/wikiid/2629229189495269767</a></p><p>让拉辛的悲剧《安德洛玛克》，需要先理解古典主义文学的价值理念，才能读懂这个故事。它引用了《荷马史诗》的典故，安德洛玛克是特洛伊大王子赫克托尔的遗孀，故事就在特洛伊城被攻克后开始的。（这是一系列复杂的、精彩的、神奇的感情冲突故事）</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202302211558583.jpeg" alt></p><p>虽然剧情非常曲折，但这个故事表达的观点是非常统一的：<strong>越是自私地选择个人利益只会离幸福越来越远；反之，把国家的城邦利益放在最高的地方，越容易得到幸福</strong>。在这本书中：</p><ul><li><p>安德洛玛克——用理性控制感情——最终得到了幸福</p></li><li><p>皮吕斯等三人——对自己的狂热无能为力——最终毁灭了</p></li></ul><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202302211558787.png" alt></p><h3 id="三一律"><a class="markdownIt-Anchor" href="#三一律"></a> 三一律</h3><p>国家意识是围绕王权形成的政治系统的概念，它与围绕上帝形成的宗教共同体不同。从发展的角度看，国家意识的出现确实是进步的。而从社会政治层面去分析古典主义文学，它体现出了王权国家<strong>对于秩序的高度要求</strong>，并且在它的艺术形式上都有着王权的要求的一个投影，即三一律。</p><p>三一律是西方戏剧结构理论之一，也称三整一律，是关于戏剧结构的规则。要求戏剧创作在时间、地点和情节三者之间保持一致性。要求一出戏所叙述的故事发生<strong>在一天（一昼夜）之内</strong>，<strong>地点在同一个场景</strong>，<strong>情节服从于一个主题</strong>。以此来形成一个高度的秩序的美感，古典主义文学从美感到思想意蕴都体现出王权的色彩。</p><h2 id="清教徒文学"><a class="markdownIt-Anchor" href="#清教徒文学"></a> 清教徒文学</h2><p>英国清教徒文学——《失乐园》</p><h3 id="背景"><a class="markdownIt-Anchor" href="#背景"></a> 背景</h3><p>产生于17世纪英国清教徒革命后，是清教徒文学的代表作之一。作者弥尔顿也正是清教革命的参与者，因此在阅读书籍前，应该了解一下清教革命的历史。</p><p>如下是清教自基督教以来的发展历程，虽然安立甘宗奉为英国国教，但由于宗教分歧又发生了宗教革命。清教革命主要是反抗国教、反抗国王，层一度推翻了国王政权、建立共和制，但最终还是被君主制复辟，清教革命失败。</p><p>（传说正是由于清教革命失败，部分清教徒乘坐“五月花”号帆船从英国前往新大陆美国，成为美国第一批移民）</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202304261728351.png" alt></p><p>回到本书内容。作者弥尔顿在革命失败后隐居，由于双目失明，靠口述写了三部诗歌巨著：《失乐园》、《失乐园》、《斗士参孙》。在阅读《失乐园》时，必须要了解清教的理念。清教徒认为《圣经》的解释权长时间被教会垄断。《圣经》是叙事故事，但故事本身表达的意思均由教会传达，清教徒认为这是教会的权力滥用，因此提出了“圣经即是上帝的话语，每个人都有权利去解读圣经，而不是由教会来解读圣经”。这是清教徒的核心理念。</p><p>从这个理念出发来理解《失乐园》，就会发现《失乐园》的故事是《圣经》中创世纪的故事，上帝创造了人类，人类在伊甸园中生活，但被上帝禁止吃“知善恶树”的果实，但人类还是被魔鬼诱惑，吃了“知善恶树”的果实，从而被上帝赶出了伊甸园。但上帝为何设置禁令，人类为何吃禁果，是没有交代的。在《失乐园》中，作者弥尔顿就是要解释这个问题。这个解释表达了作者很多宗教观念，包括人性的看法和人生认知。</p><h3 id="内容"><a class="markdownIt-Anchor" href="#内容"></a> 内容</h3><p>弥尔顿对于圣经故事的展开和想象，对圣经的重新演绎。</p><ol><li>引诱夏娃的蛇在《圣经》的来历</li></ol><p>《失乐园》中对蛇的解释就是魔鬼撒旦的化身。而撒旦的身份是以前的天使长，因为嫉妒上帝而叛变，代领其他天使们反叛上帝，最后被打入地狱。天堂没有了天使，上帝就开辟了一个新世界，并在七天内创造万物。撒旦知道之后，决定前往新世界诱惑夏娃，让他们也背叛上帝，达到复仇的目的。</p><ol start="2"><li>撒旦的形象问题<br>《失乐园》中的撒旦形象并没有那么令人反感，更多是一个清教革命者形象。他追求平等自由，才会跟上帝作战。被打入地狱后还要说出“我宁愿在地狱做王，也不愿在天堂做奴隶”的话，并且对失去斗志的天使们一番激烈演讲，这是一个反抗者、勇敢不屈的形象。不仅如此，在进入新世界后，撒旦对上帝的禁令表示怀疑，有着敢于质疑上帝的权威的能力与智慧。对于新世界天使的嘲笑，撒旦不卑不亢，从容应对。但从这为止，撒旦仍然是一个正面的形象。</li></ol><p>撒旦的在新世界所做的事情，才让他变成一个真正的魔鬼。撒旦看到亚当夏娃后觉得他们纯真无邪，不忍下手，但由于他在犹豫之后仍然决定继续复仇。这里的逻辑就是，撒旦认为自己受到了伤害，是一个受害者，就可以伤害别人。（<strong>即：撒旦逻辑。如果遭受不正义，我就不在相信正义，也不再坚持正义。如果我遭受了黑暗，我就不再相信光明。如果被别人伤害，我就有权利去滥伤无辜。</strong>）<br>正是这样的逻辑，才让撒旦毫无愧疚地引诱亚当夏娃。但跟哈姆雷特剧情一样，<strong>拥有一个正义的起点，并不意味着一定就能走向正义，还需要一个正义的手段</strong>。撒旦可悲之处是，拥有一个正义的起点，但却没有正义的手段，因此他的复仇行动就变成了一个恶魔的行动。这也是撒旦的悲剧。</p><p>因此，《失乐园》看起来是在说宗教故事，但落脚点仍是人类社会，通过撒旦行为对人类行为进行警戒。</p><ol start="3"><li>亚当夏娃的故事<br>亚当夏娃在吃智慧果之前就一度怀疑上帝诸如法律、智慧果等安排，撒旦只是刚好命中了他们的怀疑点。</li></ol><p>因此在此之前，他们对上帝的信仰是非常脆弱的。弥尔顿在此提出了疑问：到底什么才是信仰？如果不理解信仰去盲从，就一定会发生被诱惑的悲剧。通过这段故事，弥尔顿引导人们思考：什么才是自由？撒旦觉得没有禁令才是自由。弥尔顿通过天使告诉亚当夏娃，有约束才有自由，自由是一种选择的能力。</p><p>自由和约束不是对立的关系，是互相统一的关系。没有约束、禁令，根本就谈不上“自由”。只有在面对“该做”与“不该做”的冲突时，才能体现自由的意义，有禁止才有选择，有选择才能实现自由。这是弥尔顿对自由的理解。如果没有选择的能力，就算逃避了一个禁令，也会陷入另一个禁令中。这就是安排禁令的意义。当人类知道自己该做什么、不该做什么的时候，自由才真正在人类身上产生意义。</p><p>天使告诉亚当：自由总是和正当理性李生，并不能离理性而独立存在。人身上的理性晦暗了，或没有遵守，没有节制的欲望和一时冲动的激情，马上就抢走理性的统治权力，并把到那时还自由的人降为奴隶</p><p>而亚当夏娃明白这一点之后，就没有像撒旦一样充满仇恨，而是领会上帝的指引，选择继续信仰上帝。到此，弥尔顿认为真正的信仰才开始，真正的信仰应该是人类自己理性选择的结果。只有在经历了恶、经历了错误之后，做出了自由的选择，才能真正体会到信仰的意义。</p><p>这也是弥尔顿在映射当时的英国教会，国教只会让人盲从，但并不给予人独立思考的能力。人的信仰，应该是属于自己的，是自己选择的一部分。</p><ol start="4"><li><p>上帝对于撒旦<br>撒旦进入新世界后上帝就知道了，但他没有阻扰撒旦接近人类。这样的安排就是为了让人类体会选择的难度。这是上帝给予人类的自由意志。设下禁令、让撒旦接近人类，都是为了让人类学习选择。</p></li><li><p>对于人类命运的解释<br>撒旦的后代“罪”和“死”在地狱架了一座桥，隐喻“罪”和“死”将会进入人间。上帝派遣天使向人类指示未来的命运，将来会遭受更多苦难，但天使告诉人类不要失去信心，未来还有希望。人类会拥有自己的救世主。人类的未来，就是在恶中求善，在罪恶中探索良善，历难中前行，这才是真实的人类历程，真实的人生。这也是《失乐园》想表达的什么才是真正的命运：<strong>有恶才有善，有苦难但希望一定会在</strong>。</p></li></ol><p>弥尔顿持有清教特别是独立派的看法，提出要用独立的态度、白由的选择、主体的理想来面对《圣经》，做出自己的阐释，整部《失乐园》本身就是弥尔顿对于《圣经》的独立阐释。这是作为教徒，所提出的思想解放的要求。《失乐园》本身也是文艺复兴解放人的头脑的一个成果，在《失乐园》中这种解放的思想表现得淋漓尽致，以至于就连他们信仰的上帝、《圣经》都可以重新解释，这是了不起的思想解放的成果。</p><p>所以，《失乐园》是一部非常珍贵的、对人类命运、对人类自由信仰，包括光明与黑暗关系都进行了一系列思考的经典名著。</p>]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>历史</tag>
      
      <tag>文学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>安卓机自制任天堂Amibo</title>
    <link href="/post/644e7d8d.html"/>
    <url>/post/644e7d8d.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>安卓手机自制Amibo</p><ul><li>支持NFC的安卓手机</li><li>NTAG215的空白卡</li><li>Amiibo数据包（文末获取，另含动森、奥德赛、喷射战士等各游戏的Amiibo数据，持续更新）</li><li>TagMo软件、2个Key文件</li></ul><p>软件、密钥如下。链接：<a href="https://pan.baidu.com/s/10BuycFEilRv-NjQot1athw?pwd=8v63">https://pan.baidu.com/s/10BuycFEilRv-NjQot1athw?pwd=8v63</a><br>提取码：8v63</p><h3 id="第一步打开手机nfc功能"><a class="markdownIt-Anchor" href="#第一步打开手机nfc功能"></a> 第一步：打开手机NFC功能</h3><p>手机设置中，打开<strong>NFC</strong>功能（以小米手机为例）。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202305111116583.png" alt></p><h3 id="第二步安装tagmo并完成配置"><a class="markdownIt-Anchor" href="#第二步安装tagmo并完成配置"></a> 第二步：安装TagMo并完成配置</h3><p>通过apk安装包，安装TagMo软件。</p><p>打开<strong>TagMo</strong>软件，点击「<strong>Load key(s) file…</strong>」，<strong>分两次</strong>读取两个<strong>Key</strong>文件，直至两项均显示「<strong>true</strong>」。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202305111116144.png" alt></p><p><strong>第三步：通过NFC读取Amiibo数据包并写入数据</strong></p><p>在TagMo软件中（中英文基本一致），点击「<strong>Load tag file</strong>」读取想要制作的Amiibo对应的<strong>bin</strong>文件，直至显示「<strong>Loaded tag file.</strong>」（以BotW为例）。</p><p>点击「<strong>Write to tag (Auto)</strong>」，准备写入数据。</p><p>将<strong>NTAG215</strong>空白卡贴在手机NFC感应区（一般是摄像头附近），注意保持不动。空白卡读取成功后，软件开始<strong>写入数据</strong>，直到出现「<strong>Done</strong>」字样，表明<strong>写入成功</strong>。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202305111116232.png" alt></p><h3 id="这样一个amiibo道具就制作完成啦"><a class="markdownIt-Anchor" href="#这样一个amiibo道具就制作完成啦"></a> 这样，一个Amiibo道具就制作完成啦！</h3><p><strong>最后，提醒大家：适度娱乐益脑，过度沉迷伤身，合理安排精力，享受健康生活！</strong></p><h3 id="amiibo数据包"><a class="markdownIt-Anchor" href="#amiibo数据包"></a> Amiibo数据包</h3><p>Amiibo数据包，是一系列“.bin”格式的文件，每个文件540字节。《塞尔达传说：旷野之息》适用的Amiibo，共24款。</p><ul><li>01_大乱斗林克_SSB Link_2014-12-06.bin</li><li>02_大乱斗塞尔达_SSB Zelda_2014-12-06.bin</li><li>03_大乱斗希克_SSB Sheik_2015-01-22.bin</li><li>04_大乱斗卡通林克_SSB Toon Link_2015-01-22.bin</li><li>05_大乱斗盖侬多夫_SSB Ganondorf_2015-06-11.bin</li><li>06_大乱斗幼年林克_SSB Young Link_2019-04-12.bin</li><li>07_野狼林克_Wolf Link_2016-03-10.bin</li><li>08_30周年像素林克_TLoZ 30th Anniv TLoZ Link_2016-12-01.bin</li><li>09_30周年时之笛林克_TLoZ 30th Anniv OoT Link_2016-12-01.bin</li><li>10_30周年风之杖卡通林克_TLoZ 30th Anniv TWW Toon Link_2016-12-01.bin</li><li>11_30周年风之杖塞尔达_TLoZ 30th Anniv TWW Zelda_2016-12-01.bin</li><li>12_旷野之息波克布林_BotW Bokoblin_2017-03-03.bin</li><li>13_旷野之息守护者_BotW Guardian_2017-03-03.bin</li><li>14_旷野之息弓箭手林克_BotW Link - Archer_2017-03-03.bin</li><li>15_旷野之息骑士林克_BotW Link - Rider_2017-03-03.bin</li><li>16_旷野之息塞尔达_BotW Zelda_2017-03-03.bin</li><li>17_旷野之息米法_BotW Mipha_2017-11-10.bin</li><li>18_旷野之息达尔克尔_BotW Daruk_2017-11-10.bin</li><li>19_旷野之息力巴尔_BotW Revali_2017-11-10.bin</li><li>20_旷野之息乌尔波扎_BotW Urbosa_2017-11-10.bin</li><li>21_姆吉拉的假面林克_TLoZ MM Link_2017-06-22.bin</li><li>22_黄昏公主林克_TLoZ TP Link_2017-06-22.bin</li><li>23_天空之剑林克_TLoZ SS Link_2017-06-22.bin</li><li>24_织梦岛林克_LA Link_2019-09-20.bin</li></ul>]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>游戏</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>OpenCV-形态学转换</title>
    <link href="/post/af40d2f8.html"/>
    <url>/post/af40d2f8.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><h2 id="侵蚀与膨胀"><a class="markdownIt-Anchor" href="#侵蚀与膨胀"></a> 侵蚀与膨胀</h2><h3 id="膨胀"><a class="markdownIt-Anchor" href="#膨胀"></a> 膨胀</h3><p>膨胀和侵蚀从数学的角度说，都是将图像或图像的一部分与核进行卷积。核可以是任意大小和形状，有一个单独定义出来的点，称之为锚点。膨胀是针对白色部分而言的。膨胀就是对高亮部分进行扩张，侵蚀就是对高亮部分进行收缩。</p><p>而膨胀就是求局部最大值的操作。将核与图形进行卷积，<strong>计算该核覆盖区域的像素点的最大值，并将这个最大值赋值给参考点指定的像素</strong>。这样就使得图像中高亮区域逐渐增长。一般来说，设置一个3*3的核，锚点位于核的中心，使用核遍历所有待处理像素，遍历时，锚点对齐待处理像素，且遍历的是原图，而不是膨胀某个像素后的图像。核的大小和形状（通过cv2创建的核）可以自定义，但是锚点必须在核内。</p><p>膨胀原理视图<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202304251700944.png" alt></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">qs=cv2.imread(<span class="hljs-string">&quot;D:\\z-bank\\bank\\PY\\corrode.png&quot;</span>)<br>kernel=np.ones((<span class="hljs-number">3</span>,<span class="hljs-number">3</span>),dtype=np.uint8)  <span class="hljs-comment"># 创建一个3*3的矩形核</span><br>dilate=cv2.dilate(qs,kernel,<span class="hljs-number">1</span>)  <span class="hljs-comment"># 膨胀，迭代次数为1</span><br>cv_show(<span class="hljs-string">&quot;dilate&quot;</span>,dilate)<br></code></pre></td></tr></table></figure><p>补充：上方创建<code>kernel</code>时，是通过numpy创建的，也可以通过<code>cv2.getStructuringElement()</code>函数创建，如：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">kernel=np.ones((<span class="hljs-number">3</span>,<span class="hljs-number">3</span>),np.uint8)<br>kernel2=cv2.getStructuringElement(cv2.MORPH_RECT,(<span class="hljs-number">3</span>,<span class="hljs-number">3</span>)) <br></code></pre></td></tr></table></figure><p>两种方式创建的核是一样的，都是3*3的矩阵，值都是1，只是类型不一样，kernel是np.uint8，kernel2是np.int32。<br>但是<code>getStructuringElement()</code>函数可以创建更复杂的核，如椭圆形，十字形等。</p><p>膨胀效果如下，膨胀之后毛刺部分变粗，字体中间的间隙也变小了。如果增加核的大小，相当于ps中的画笔直径变大，膨胀的效果也会更明显。<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202304251734416.png" alt></p><p><strong>膨胀的实际运用</strong><br>将一段英文文本转换为黑白图像，然后对图像进行膨胀操作，英文字符之间的间隔被填充了，这样就可以将文本分割成单个字符，遍历进行OCR识别。</p><h3 id="侵蚀"><a class="markdownIt-Anchor" href="#侵蚀"></a> 侵蚀</h3><p>侵蚀是膨胀的反向操作，同样是将图像与核做卷积，但是计算的是局部最小值，然后将这个最小值赋值给参考点指定的像素。这样就使得图像中高亮区域逐渐减少。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">erosion=cv2.erode(qs,kernel,<span class="hljs-number">1</span>)  <span class="hljs-comment"># 侵蚀，迭代次数为1</span><br></code></pre></td></tr></table></figure><h2 id="开运算与闭运算"><a class="markdownIt-Anchor" href="#开运算与闭运算"></a> 开运算与闭运算</h2><p>使用<code>cv2.morphologyEx()</code>函数进行开闭运算，第一个参数是原图，第二个参数是运算类型，第三个参数是核，第四个参数是迭代次数。</p><p>运算类型有如下几种：</p><ul><li>cv2.MORPH_OPEN 开运算</li><li>cv2.MORPH_CLOSE 闭运算</li><li>cv2.MORPH_GRADIENT 形态学梯度</li><li>cv2.MORPH_TOPHAT 顶帽</li><li>cv2.MORPH_BLACKHAT 黑帽</li></ul><p>开运算指的是先将图像先进行侵蚀，再进行膨胀，这样就可以去除图像外部的细节（噪声）。一般用于获取图像中的主要对象。如下，5次开运算后，图片周围的白点被去除了。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">qs2=cv2.morphologyEx(qs,cv2.MORPH_OPEN,kernel,iterations=<span class="hljs-number">5</span>) <span class="hljs-comment"># 开运算</span><br><br></code></pre></td></tr></table></figure><p>效果图：<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202304261443168.png" alt></p><p>闭运算时，先膨胀后侵蚀，用于填充/连接被误分为许多小块的对象，或关闭前景对象内部的小孔。如下，7次闭运算后，图片中的字体被填充了。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">qs2=cv2.morphologyEx(qs,cv2.MORPH_CLOSE,kernel,iterations=<span class="hljs-number">7</span>) <span class="hljs-comment"># 闭运算</span><br></code></pre></td></tr></table></figure><p>效果图：<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202304261452641.png" alt></p><h2 id="形态学梯度"><a class="markdownIt-Anchor" href="#形态学梯度"></a> 形态学梯度</h2><p>梯度计算主要显示的是图像的边缘，也就是膨胀与侵蚀的差值。看起来像是图像的轮廓。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">grd=cv2.morphologyEx(qs,cv2.MORPH_GRADIENT,kernel) <span class="hljs-comment"># 形态学梯度运算</span><br></code></pre></td></tr></table></figure><p>效果图：<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202304261509383.png" alt></p><h2 id="顶帽与黑帽"><a class="markdownIt-Anchor" href="#顶帽与黑帽"></a> 顶帽与黑帽</h2><ul><li>顶帽计算：原图像-开运算之后的图像</li><li>黑帽计算：闭运算后的图像-原图像</li></ul><p>例如上面开运算的例子，开运算后字体周围的毛刺和上面的曲线被去掉了，顶帽计算就是将开运算去掉的这些毛刺和曲线提取出来。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">top_hat=cv2.morphologyEx(qs,cv2.MORPH_TOPHAT,kernel) <span class="hljs-comment"># 顶帽运算</span><br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202304261533780.png" alt></p><p>闭运算后，字体中间的空隙被填充了，黑帽计算就是将这些空隙提取出来。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">black_hat=cv2.morphologyEx(qs,cv2.MORPH_BLACKHAT,kernel) <span class="hljs-comment"># 黑帽运算</span><br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202304261536402.png" alt></p><h2 id="已被骂醒暂时结束课程"><a class="markdownIt-Anchor" href="#已被骂醒暂时结束课程"></a> 已被骂醒，暂时结束课程</h2><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202304261555948.png" alt></p>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>OpenCV-图片与视频的基本操作</title>
    <link href="/post/7ffca621.html"/>
    <url>/post/7ffca621.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>注意：opencv_python版本选择3.4.1.15，过高可能会有专利问题无法使用。目前通用的教程中版本基本都是opencv2、3.</p><h3 id="图片入门"><a class="markdownIt-Anchor" href="#图片入门"></a> 图片入门</h3><p>一张图片由海量的像素点构成，而一个像素点由BGR三个颜色通道组成的，也就是三原色光。BGR的数值表示亮度，使用整数表示，从 0 ~ 255 ，一共256级，0 为黑色，255 为白色，因此数值越大图片越亮。一张彩色照片通常就是BGR图片。</p><p>对于一张图片来说，它的数值就是一个矩阵，行列就是像素点的数量。程序读取图片时，就是在读取这个图片像素点所映射的矩阵。</p><h4 id="图片读取"><a class="markdownIt-Anchor" href="#图片读取"></a> 图片读取</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">jz=cv2.imread(<span class="hljs-string">&quot;D:\\z-bank\\bank\\PY\\book.png&quot;</span>)<br><span class="hljs-built_in">print</span>(jz)<br><br>out:<br>[[[<span class="hljs-number">230</span> <span class="hljs-number">226</span> <span class="hljs-number">232</span>]<br>  [<span class="hljs-number">227</span> <span class="hljs-number">223</span> <span class="hljs-number">229</span>]<br>  [<span class="hljs-number">227</span> <span class="hljs-number">222</span> <span class="hljs-number">231</span>]<br>  ...<br></code></pre></td></tr></table></figure><p>这里的中括号有三层，表示三个维度，用[h,w,c]表示。补充：hwc维度表示一个图像，H表示图像高度，w表示宽度，c表示通道数。<br>如果使用<code>jz=cv2.imread(&quot;book.png&quot;,cv2.IMREAD_GRAYSCALE)</code>读取灰度图片，那么将没有<code>c</code>，只有h、w。</p><p><code>imread()</code>函数的第二个参数是读取图片的方式，有以下几种：</p><ul><li>cv2.IMREAD_COLOR：读取彩色图片，透明度忽略，这是默认方式，用1表示</li><li>cv2.IMREAD_GRAYSCALE：读取灰度图片。 用0表示</li><li>cv2.IMREAD_UNCHANGED：读取图片的alpha通道。用-1表示</li></ul><h4 id="图片显示"><a class="markdownIt-Anchor" href="#图片显示"></a> 图片显示</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">jz=cv2.imread(<span class="hljs-string">&quot;D:\\z-bank\\bank\\PY\\book.png&quot;</span>)<br>cv2.imshow(<span class="hljs-string">&quot;jz&quot;</span>,jz)<br>cv2.waitKey(<span class="hljs-number">0</span>)<br>cv2.destroyAllWindows()<br></code></pre></td></tr></table></figure><p>使用<code>imshow()</code>函数来显示图像,窗口自适应图像尺寸。</p><p><code>waitKey()</code>用于设置窗口开启时间，单位毫秒。设为 0 代表按下任意键即可关闭图片窗口。一般来说就是填 0</p><p><code>destroyAllWindows()</code>用于关闭所有窗口，如果想关闭指定窗口，可以使用<code>destroyWindow()</code>函数。</p><h4 id="图片裁剪"><a class="markdownIt-Anchor" href="#图片裁剪"></a> 图片裁剪</h4><p><code>jz</code>是一个数组，左边参数为y轴裁剪范围，右边为x轴。单位是像素。具体数值可以在ps-&gt;信息窗口中查看。<br>图像裁剪截取图像的特定区域，在识别图像中的特定目标时，可以使用图像裁剪来提高识别的准确率。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">jz=cv2.imread(<span class="hljs-string">&quot;D:\\z-bank\\bank\\PY\\book.png&quot;</span>)<br>jz=jz[<span class="hljs-number">80</span>:<span class="hljs-number">183</span>,<span class="hljs-number">134</span>:<span class="hljs-number">236</span>] <br>cv_show(<span class="hljs-string">&#x27;jz&#x27;</span>,jz)<br></code></pre></td></tr></table></figure><h4 id="图片保存"><a class="markdownIt-Anchor" href="#图片保存"></a> 图片保存</h4><p><code>cv2.imwrite('book.png',jz)</code>即可保存图片</p><h4 id="图片通道分离与合并"><a class="markdownIt-Anchor" href="#图片通道分离与合并"></a> 图片通道分离与合并</h4><p>图片shape值的最后一位表示通道数，分别是BGR，用0、1、2表示</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># b:0:蓝色通道，g:1:绿色通道，r:2:红色通道</span><br>b,g,r=cv2.split(jz)  <span class="hljs-comment"># split()操作耗时，尽量使用numpy的索引操作</span><br>cv_show(<span class="hljs-string">&#x27;b&#x27;</span>,b)<br></code></pre></td></tr></table></figure><p>图像允许将任意通道置为0，并合并其他通道，从而达到去除某个通道的效果。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">cpimg=cv2.merge([b,g,r])<br>cpimg[:,:,<span class="hljs-number">0</span>]=<span class="hljs-number">0</span> <span class="hljs-comment"># 将绿色通道置为0</span><br>cpimg[:,:,<span class="hljs-number">2</span>]=<span class="hljs-number">0</span> <span class="hljs-comment"># 将红色通道置为0</span><br>cv_show(<span class="hljs-string">&#x27;cpimg&#x27;</span>,cpimg)<br></code></pre></td></tr></table></figure><h4 id="matplotlib显示图片"><a class="markdownIt-Anchor" href="#matplotlib显示图片"></a> matplotlib显示图片</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">jz=cv2.imread(<span class="hljs-string">&quot;D:\\z-bank\\bank\\PY\\book.png&quot;</span>)<br><br>plt.imshow(jz,cmap=<span class="hljs-string">&#x27;gray&#x27;</span>,interpolation=<span class="hljs-string">&#x27;bicubic&#x27;</span>)<br>plt.xticks([]),plt.yticks([]) <span class="hljs-comment"># 隐藏x,y轴</span><br>plt.show()<br><br></code></pre></td></tr></table></figure><h4 id="其他图像信息"><a class="markdownIt-Anchor" href="#其他图像信息"></a> 其他图像信息</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(jz))  <span class="hljs-comment"># 图片的底层是numpy.ndarray格式</span><br><span class="hljs-built_in">print</span>(jz.size)   <span class="hljs-comment"># 图片大小</span><br><span class="hljs-built_in">print</span>(jz.dtype)  <span class="hljs-comment"># 图片类型</span><br></code></pre></td></tr></table></figure><h3 id="图像基本操作"><a class="markdownIt-Anchor" href="#图像基本操作"></a> 图像基本操作</h3><h4 id="图片填充"><a class="markdownIt-Anchor" href="#图片填充"></a> 图片填充</h4><p>图像填充可以在周边创建边框，例如相框。都使用<code>copyMakeBorder()</code>函数，用法及参数如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python">img=cv2.imread(<span class="hljs-string">&quot;D:\\z-bank\\bank\\PY\\book.png&quot;</span>)<br>replicate=cv2.copyMakeBorder(img,<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,cv2.BORDER_CONSTANT) <span class="hljs-comment"># 常量法，常数值填充</span><br>reflect =cv2.copyMakeBorder(img,<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,cv2.BORDER_REFLECT)  <span class="hljs-comment"># 反射法，以边界为轴对称填充，如fedcba|abcdefgh|hgfedcb</span><br>reflect101 = cv2.copyMakeBorder(img,<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,cv2.BORDER_REFLECT_101)  <span class="hljs-comment"># 反射法，以边缘像素为轴对称填充，如gfedcb|abcdefgh|bagfedc</span><br>wrap = cv2.copyMakeBorder(img,<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,cv2.BORDER_WRAP)  <span class="hljs-comment"># 外包装法，如cdefgh|abcdefgh|abcdefg</span><br>constant= cv2.copyMakeBorder(img,<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,cv2.BORDER_CONSTANT,value=[<span class="hljs-number">255</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>])<br><br>plt.subplot(<span class="hljs-number">231</span>),plt.imshow(img,<span class="hljs-string">&#x27;gray&#x27;</span>),plt.title(<span class="hljs-string">&#x27;ORIGINAL&#x27;</span>)<br>plt.subplot(<span class="hljs-number">232</span>),plt.imshow(replicate,<span class="hljs-string">&#x27;gray&#x27;</span>),plt.title(<span class="hljs-string">&#x27;REPLICATE&#x27;</span>)<br>plt.subplot(<span class="hljs-number">233</span>),plt.imshow(reflect,<span class="hljs-string">&#x27;gray&#x27;</span>),plt.title(<span class="hljs-string">&#x27;REFLECT&#x27;</span>)<br>plt.subplot(<span class="hljs-number">234</span>),plt.imshow(reflect101,<span class="hljs-string">&#x27;gray&#x27;</span>),plt.title(<span class="hljs-string">&#x27;REFLECT_101&#x27;</span>)<br>plt.subplot(<span class="hljs-number">235</span>),plt.imshow(wrap,<span class="hljs-string">&#x27;gray&#x27;</span>),plt.title(<span class="hljs-string">&#x27;WRAP&#x27;</span>)<br>plt.subplot(<span class="hljs-number">236</span>),plt.imshow(constant,<span class="hljs-string">&#x27;gray&#x27;</span>),plt.title(<span class="hljs-string">&#x27;CONSTANT&#x27;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="图像加法"><a class="markdownIt-Anchor" href="#图像加法"></a> 图像加法</h4><p>对一张图片做加法时,会对每个像素点的RGB值进行加法运算。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python">tx=cv2.imread(<span class="hljs-string">&quot;D:\\z-bank\\bank\\PY\\tx.jpg&quot;</span>)<br><span class="hljs-built_in">print</span>(tx[:<span class="hljs-number">3</span>,:,<span class="hljs-number">0</span>])<br>tx2=tx+<span class="hljs-number">10</span>  <br><span class="hljs-built_in">print</span>(tx2[:<span class="hljs-number">3</span>,:,<span class="hljs-number">0</span>])<br><br><span class="hljs-comment"># out:</span><br>[[<span class="hljs-number">137</span> <span class="hljs-number">137</span> <span class="hljs-number">137</span> ... <span class="hljs-number">144</span> <span class="hljs-number">144</span> <span class="hljs-number">144</span>]<br> [<span class="hljs-number">137</span> <span class="hljs-number">137</span> <span class="hljs-number">137</span> ... <span class="hljs-number">144</span> <span class="hljs-number">144</span> <span class="hljs-number">144</span>]<br> [<span class="hljs-number">137</span> <span class="hljs-number">137</span> <span class="hljs-number">137</span> ... <span class="hljs-number">144</span> <span class="hljs-number">144</span> <span class="hljs-number">144</span>]]<br><br>[[<span class="hljs-number">147</span> <span class="hljs-number">147</span> <span class="hljs-number">147</span> ... <span class="hljs-number">154</span> <span class="hljs-number">154</span> <span class="hljs-number">154</span>]<br> [<span class="hljs-number">147</span> <span class="hljs-number">147</span> <span class="hljs-number">147</span> ... <span class="hljs-number">154</span> <span class="hljs-number">154</span> <span class="hljs-number">154</span>]<br> [<span class="hljs-number">147</span> <span class="hljs-number">147</span> <span class="hljs-number">147</span> ... <span class="hljs-number">154</span> <span class="hljs-number">154</span> <span class="hljs-number">154</span>]]<br><br></code></pre></td></tr></table></figure><p>如上代码，对 tx 图片每个像素点的BGR值+10，此时图片就会变亮。而如果将+10后的图片与原图相加，将得到一个(137+147)%256=28的结果，即图片变暗。因此，图像加法并不是简单的加法运算，而是对每个像素点的RGB值进行加法运算。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">tx3=tx+tx2<br><span class="hljs-built_in">print</span>(tx3[:<span class="hljs-number">3</span>,:,<span class="hljs-number">0</span>])<br><br><span class="hljs-comment"># out:这里的结果是(137+147)%256=28</span><br>[[<span class="hljs-number">28</span> <span class="hljs-number">28</span> <span class="hljs-number">28</span> ... <span class="hljs-number">42</span> <span class="hljs-number">42</span> <span class="hljs-number">42</span>]<br> [<span class="hljs-number">28</span> <span class="hljs-number">28</span> <span class="hljs-number">28</span> ... <span class="hljs-number">42</span> <span class="hljs-number">42</span> <span class="hljs-number">42</span>]<br> [<span class="hljs-number">28</span> <span class="hljs-number">28</span> <span class="hljs-number">28</span> ... <span class="hljs-number">42</span> <span class="hljs-number">42</span> <span class="hljs-number">42</span>]]<br></code></pre></td></tr></table></figure><p>上面的加法运算使用的是Numpy的模运算，也可以使用OpenCV的饱和运算，即超过255的值就截断为255，低于0的值就截断为0。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">tx3=cv2.add(tx,tx2)<br><span class="hljs-built_in">print</span>(tx3[:<span class="hljs-number">3</span>,:,<span class="hljs-number">0</span>])<br><br><span class="hljs-comment">#out:</span><br>[[<span class="hljs-number">255</span> <span class="hljs-number">255</span> <span class="hljs-number">255</span> ... <span class="hljs-number">255</span> <span class="hljs-number">255</span> <span class="hljs-number">255</span>]<br> [<span class="hljs-number">255</span> <span class="hljs-number">255</span> <span class="hljs-number">255</span> ... <span class="hljs-number">255</span> <span class="hljs-number">255</span> <span class="hljs-number">255</span>]<br> [<span class="hljs-number">255</span> <span class="hljs-number">255</span> <span class="hljs-number">255</span> ... <span class="hljs-number">255</span> <span class="hljs-number">255</span> <span class="hljs-number">255</span>]]<br></code></pre></td></tr></table></figure><h4 id="图像融合"><a class="markdownIt-Anchor" href="#图像融合"></a> 图像融合</h4><p>图像融合的前提是两张图片的shape必须相同，所以需要先使用<code>cv2.resize()</code>函数调整图片大小。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python">tx=cv2.imread(<span class="hljs-string">&quot;D:\\z-bank\\bank\\PY\\tx.jpg&quot;</span>)<br>xx=cv2.imread(<span class="hljs-string">&quot;D:\\z-bank\\bank\\PY\\xx.jpg&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;tx:&quot;</span>,tx.shape)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;xx:&quot;</span>,xx.shape)<br><span class="hljs-comment"># resize第二个参数是列数，第一个参数是行数，与shape相反</span><br>newxx=cv2.resize(xx,(tx.shape[<span class="hljs-number">1</span>],tx.shape[<span class="hljs-number">0</span>]))<br><br><span class="hljs-comment"># out:</span><br>tx: (<span class="hljs-number">960</span>, <span class="hljs-number">960</span>, <span class="hljs-number">3</span>)<br>xx: (<span class="hljs-number">700</span>, <span class="hljs-number">700</span>, <span class="hljs-number">3</span>)<br>newxx: (<span class="hljs-number">960</span>, <span class="hljs-number">960</span>, <span class="hljs-number">3</span>)<br></code></pre></td></tr></table></figure><p><code>cv2.resize()</code>函数还可以将第二个参数设置为(0,0),第三个参数设置为缩放比例，即可按比例缩放图片。如下，x,y轴缩放为原来的一半，图像大小变为原来的四分之一。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">tx=cv2.imread(<span class="hljs-string">&quot;D:\\z-bank\\bank\\PY\\tx.jpg&quot;</span>)<br>cv2.resize(tx,(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>),fx=<span class="hljs-number">0.5</span>,fy=<span class="hljs-number">0.5</span>)<br></code></pre></td></tr></table></figure><p>然后使用<code>cv2.addWeighted()</code>函数进行融合，用法如下。对图像进行加权融合，公式为：dst=α⋅img1+β⋅img2+γ。其中α、β、γ是缩放系数，α+β=1。<br>最后的效果类似于Photoshop中的图层融合，正片叠底。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">res=cv2.addWeighted(tx,<span class="hljs-number">0.5</span>,xx,<span class="hljs-number">0.5</span>,<span class="hljs-number">5</span>)<br>cv_show(<span class="hljs-string">&quot;res&quot;</span>,res)<br></code></pre></td></tr></table></figure><h3 id="视频入门"><a class="markdownIt-Anchor" href="#视频入门"></a> 视频入门</h3><h4 id="视频读取"><a class="markdownIt-Anchor" href="#视频读取"></a> 视频读取</h4><p>读取视频时，首先创建一个<code>VideoCapture </code>对象。参数是设备索引或视频文件的名称。设备索引是指定摄像头，一般用0、1、2等数字表示。也可以填写视频文件的路径。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python">videos=cv2.VideoCapture(<span class="hljs-string">&quot;D:\\z-bank\\bank\\PY\\wg.flv&quot;</span>)<br><span class="hljs-keyword">if</span> videos.isOpened():<br>    <span class="hljs-built_in">open</span>,frame=videos.read()<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">open</span>=<span class="hljs-literal">False</span><br><br><span class="hljs-keyword">while</span> <span class="hljs-built_in">open</span>:<br>    ret,frame=videos.read() <span class="hljs-comment"># 读取每一帧的图片,ret为布尔值，frame为图片</span><br>    <span class="hljs-keyword">if</span> frame <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">break</span><br><br>    <span class="hljs-keyword">if</span> ret==<span class="hljs-literal">True</span>: <span class="hljs-comment"># 开始处理视频</span><br>        gray=cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY) <span class="hljs-comment"># 转换为灰度图</span><br>        cv2.imshow(<span class="hljs-string">&#x27;result&#x27;</span>,gray)<br>        <span class="hljs-keyword">if</span> cv2.waitKey(<span class="hljs-number">25</span>) &amp; <span class="hljs-number">0xFF</span> ==<span class="hljs-number">27</span>: <span class="hljs-comment"># 25即帧率，表示每25帧显示一次，0xFF ==27表示按下ESC退出</span><br>            <span class="hljs-keyword">break</span><br><br>videos.release()  <span class="hljs-comment"># 完成所有操作后，释放捕获器</span><br>cv2.destroyAllWindows()<br><br></code></pre></td></tr></table></figure><h4 id="视频保存"><a class="markdownIt-Anchor" href="#视频保存"></a> 视频保存</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 视频读取</span><br>vd=cv2.VideoCapture(<span class="hljs-string">&quot;D:\\z-bank\\bank\\PY\\wg.flv&quot;</span>)<br><br><span class="hljs-comment"># 设置视频的输出路径、编码器、帧率、大小</span><br>out=cv2.VideoWriter(<span class="hljs-string">&#x27;D:\\z-bank\\bank\\PY\\out.avi&#x27;</span>,cv2.VideoWriter_fourcc(*<span class="hljs-string">&#x27;XVID&#x27;</span>),<span class="hljs-number">25.0</span>,(<span class="hljs-number">640</span>,<span class="hljs-number">480</span>))<br><br><span class="hljs-keyword">if</span> vd.isOpened():<br>    <span class="hljs-built_in">open</span>,frame=vd.read()<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">open</span>=<span class="hljs-literal">False</span><br><span class="hljs-keyword">while</span> <span class="hljs-built_in">open</span>:<br>    ret,frame=vd.read() <span class="hljs-comment"># 读取每一帧的图片,ret为布尔值，frame为图片</span><br>    <span class="hljs-keyword">if</span> frame <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">break</span><br><br>    <span class="hljs-keyword">if</span> ret==<span class="hljs-literal">True</span>:<br>       frame=cv2.flip(frame,<span class="hljs-number">0</span>) <span class="hljs-comment"># 翻转图片</span><br>       out.write(frame) <span class="hljs-comment"># 写入视频</span><br>       cv2.imshow(<span class="hljs-string">&#x27;frame&#x27;</span>,frame) <span class="hljs-comment"># 显示图片</span><br>       <span class="hljs-keyword">if</span> cv2.waitKey(<span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>==<span class="hljs-built_in">ord</span>(<span class="hljs-string">&#x27;q&#x27;</span>):<br>              <span class="hljs-keyword">break</span><br><br>vd.release()<br>cv2.destroyAllWindows()<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python3.8-海象运算符</title>
    <link href="/post/d33b7b0c.html"/>
    <url>/post/d33b7b0c.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>场景：假设某位顾客在果汁店点了一杯柠檬水，店员需要确保篮子里至少有一个柠檬来制作.</p><p>于是店员使用<code>if</code>语句查询是否为0：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">make_lemonade</span>(<span class="hljs-params">count</span>):<br>    ...<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">out_of_stock</span>():<br>    ...<br><br>count = fresh_fruit.get(<span class="hljs-string">&#x27;lemon&#x27;</span>, <span class="hljs-number">0</span>)<br><span class="hljs-keyword">if</span> count:<br>    make_lemonade(count)<br><span class="hljs-keyword">else</span>:<br>    out_of_stock()<br></code></pre></td></tr></table></figure><p>这里的<code>count</code>在<code>if</code>前定义了一次，但它只在<code>if</code>的第一个代码块中使用到了，因此在<code>if</code>前定义显得有些多余，会分散对这个变量的注意力。现实中很多类似的情况，例如检查一个值并使用它。使用海象运算符可以简化这种情况：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><br><span class="hljs-keyword">if</span> count := fresh_fruit.get(<span class="hljs-string">&#x27;lemon&#x27;</span>, <span class="hljs-number">0</span>):<br>    make_lemonade(count)<br><span class="hljs-keyword">else</span>:<br>    out_of_stock()<br></code></pre></td></tr></table></figure><p>可以看到这里的<code>count</code>只跟<code>if</code>中的判断有关系，这样代码关系的清晰度就提高了。</p><p>上面是将整个海象运算符前后作为一个<code>boolean</code>类型来判断，而如果需要将它做运算比较，那么需要使用<code>()</code>将其包裹，例如：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">if</span> (count := fresh_fruit.get(<span class="hljs-string">&#x27;apple&#x27;</span>, <span class="hljs-number">0</span>)) &gt;= <span class="hljs-number">4</span>:<br></code></pre></td></tr></table></figure><p>还有一种情况是，频繁使用的<code>switch/case</code>语句，或多个<code>if-else</code>深度嵌套：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python">count = fresh_fruit.get(<span class="hljs-string">&#x27;banana&#x27;</span>, <span class="hljs-number">0</span>)<br><span class="hljs-keyword">if</span> count &gt;= <span class="hljs-number">2</span>:<br>    pieces = slice_bananas(count)<br>    to_enjoy = make_smoothies(pieces)<br><span class="hljs-keyword">else</span>:<br>    count = fresh_fruit.get(<span class="hljs-string">&#x27;apple&#x27;</span>, <span class="hljs-number">0</span>)<br>    <span class="hljs-keyword">if</span> count &gt;= <span class="hljs-number">4</span>:<br>        to_enjoy = make_cider(count)<br>    <span class="hljs-keyword">else</span>:<br>        count = fresh_fruit.get(<span class="hljs-string">&#x27;lemon&#x27;</span>, <span class="hljs-number">0</span>)<br>        <span class="hljs-keyword">if</span> count:<br>            to_enjoy = make_lemonade(count)<br>        <span class="hljs-keyword">else</span>:<br>            to_enjoy = <span class="hljs-string">&#x27;Nothing&#x27;</span><br></code></pre></td></tr></table></figure><p>海象运算符同样可以替代，作为优化版本：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python">count = fresh_fruit.get(<span class="hljs-string">&#x27;banana&#x27;</span>, <span class="hljs-number">0</span>)<br><span class="hljs-keyword">if</span> count &gt;= <span class="hljs-number">2</span>:<br>    pieces = slice_bananas(count)<br>    to_enjoy = make_smoothies(pieces)<br><span class="hljs-keyword">else</span>:<br>    count = fresh_fruit.get(<span class="hljs-string">&#x27;apple&#x27;</span>, <span class="hljs-number">0</span>)<br>    <span class="hljs-keyword">if</span> count &gt;= <span class="hljs-number">4</span>:<br>        to_enjoy = make_cider(count)<br>    <span class="hljs-keyword">else</span>:<br>        count = fresh_fruit.get(<span class="hljs-string">&#x27;lemon&#x27;</span>, <span class="hljs-number">0</span>)<br>        <span class="hljs-keyword">if</span> count:<br>            to_enjoy = make_lemonade(count)<br>        <span class="hljs-keyword">else</span>:<br>            to_enjoy = <span class="hljs-string">&#x27;Nothing&#x27;</span><br>            <br></code></pre></td></tr></table></figure><p>“海象”运算符的语法形式为：NAME:= expr，NAME 是一个有效的标识符，而 expr 是一个有效的表达式。 因此，这意味着它不支持可迭代的打包和拆包。</p><p>当然海象运算符还有其他高阶用法（比如推导式），就不一一介绍了，反正估计也用不太上。只需要记住一点，碰到需要创建临时变量并判断时，就可以用海象运算符做优化代码的处理。</p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>线性代数闪电战</title>
    <link href="/post/239d1c33.html"/>
    <url>/post/239d1c33.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><h2 id="行列式的概念及简单计算"><a class="markdownIt-Anchor" href="#行列式的概念及简单计算"></a> 行列式的概念及简单计算</h2><p>行列式计算网站：<a href="https://matrix.reshish.com/zh/determinant.php">https://matrix.reshish.com/zh/determinant.php</a></p><p>两行两列就是二阶行列式，以此类推还有n行n列式：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow><annotation encoding="application/x-tex">\begin{vmatrix}1  &amp; 2\\2  &amp; 3\end{vmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.42999em;vertical-align:-0.9500199999999999em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4799700000000002em;"><span style="top:-1.65598em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25698em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85798em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.87897em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.47997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500199999999999em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4799700000000002em;"><span style="top:-1.65598em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25698em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85798em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.87897em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.47997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500199999999999em;"><span></span></span></span></span></span></span></span></span></span></span>，这里的行用<code>r</code>表示，列用<code>c</code>表示。</p><p>这些行列式经过一系列计算最后得到一个数字。对于如上的二阶行列式，计算方式就是：左斜对角线乘积-右斜对角线乘积。</p><p>则以<code>1*3 - 2*2</code>，结果为<code>-1</code></p><p>三阶、四节等多节行列数，需要将左斜对角线下方的数字全部变成0，再将做斜对角线所有数字相乘即可。如下3个都是计算行列式的方法：</p><ol><li><strong>某行（列）加上或减去另一行（列）的几倍，行列式不变</strong>。根据这一定义，逐个将左斜对角线。这里最后的变形是：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mn>1</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mn>2</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow><annotation encoding="application/x-tex">\begin{vmatrix}1  &amp;2  &amp; 3\\0  &amp;-1  &amp; -2 \\0  &amp;0  &amp; 1\end{vmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.64199em;vertical-align:-1.5500299999999998em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0919600000000003em;"><span style="top:-1.05597em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65697em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.2579700000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.8589700000000002em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.45997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.4909600000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.09196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500299999999998em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">2</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0919600000000003em;"><span style="top:-1.05597em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65697em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.2579700000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.8589700000000002em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.45997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.4909600000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.09196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500299999999998em;"><span></span></span></span></span></span></span></span></span></span></span></li></ol><p>解题思路就是：第一行的作用是使后面行的首位变成0，第二行的作用是使后面行的第二位变为0，以此类推。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202304131512836.png" alt></p><p>还有其他几条定义同样可以更快速地求出这个行列式的值。</p><ol start="2"><li><strong>某行（列）乘 k ，等于 k 乘此行列式。</strong></li></ol><p>例如 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>9</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>10</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>12</mn></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\begin{vmatrix}  1&amp;2  &amp;3  &amp;4 \\  2&amp;3  &amp;4  &amp;5 \\  4&amp;  5&amp;7  &amp;8 \\  8&amp; 9 &amp;10  &amp;12\end{vmatrix} =1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.85399em;vertical-align:-2.1500399999999997em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">9</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>，将 r1 乘以 2 ，得到：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>9</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>10</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>12</mn></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow><annotation encoding="application/x-tex">\begin{vmatrix}  2&amp;4  &amp;6  &amp;8 \\  2&amp;3  &amp;4  &amp;5 \\  4&amp;  5&amp;7  &amp;8 \\  8&amp; 9 &amp;10  &amp;12\end{vmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.85399em;vertical-align:-2.1500399999999997em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">9</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>所以 r1 x 2 后新行列式的值为原值 x 2，</p><p>即：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>9</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>10</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>12</mn></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow><mo>=</mo></mrow><annotation encoding="application/x-tex">\begin{vmatrix}  2&amp;4  &amp;6  &amp;8 \\  2&amp;3  &amp;4  &amp;5 \\  4&amp;  5&amp;7  &amp;8 \\  8&amp; 9 &amp;10  &amp;12\end{vmatrix}=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.85399em;vertical-align:-2.1500399999999997em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">9</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span> 2*(-1)=-2</p><p>这是单行乘以 k 后的计算方法，如果存在多行是原式的倍数，则新值为：所有倍数与原值相乘</p><ol start="3"><li><strong>互换两行(列)，行列式变号</strong></li></ol><p>例如 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>9</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>10</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>12</mn></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow><mo>=</mo><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\begin{vmatrix}  1&amp;2  &amp;3  &amp;4 \\  2&amp;3  &amp;4  &amp;5 \\  4&amp;  5&amp;7  &amp;8 \\  8&amp; 9 &amp;10  &amp;12\end{vmatrix} =-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.85399em;vertical-align:-2.1500399999999997em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">9</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">1</span></span></span></span></p><p>将 r1 和 r2互换得到：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>9</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>10</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>12</mn></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow><annotation encoding="application/x-tex">\begin{vmatrix}  2&amp;3  &amp;4 &amp;5 \\  1&amp;2  &amp;3  &amp;4 \\  4&amp;  5&amp;7  &amp;8 \\  8&amp; 9 &amp;10  &amp;12\end{vmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.85399em;vertical-align:-2.1500399999999997em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">9</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>所以 r1 和 r2互换后新行列式的值为原值 x -1，即： <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mn>1</mn><mo>∗</mo><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">-1 * (-1)=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>。如果需要互换多次，则每次的新结果都是原值 x -1，也就是每次互换都将乘以 -1。</p><p>行列式运算过程可能产生较多的草稿，如果需要在纸面上简单地写明计算步骤，如下图：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202304131745555.png" alt></p><h2 id="行列式的计算及应用"><a class="markdownIt-Anchor" href="#行列式的计算及应用"></a> 行列式的计算及应用</h2><ol><li><strong>n 行 n 列的行列式</strong>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow><mo>=</mo><mo stretchy="false">(</mo><mi>x</mi><mo>−</mo><mi>a</mi><msup><mo stretchy="false">)</mo><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">[</mo><mi>x</mi><mo>+</mo><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mi>a</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\begin{vmatrix}  x&amp;  a&amp;  a&amp; \\  a&amp;  x&amp;  a&amp; \\  a&amp;  a&amp;  x&amp; \end{vmatrix}=(x-a)^{n-1}[x+(n-1)a]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.64199em;vertical-align:-1.5500299999999998em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0919600000000003em;"><span style="top:-1.05597em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65697em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.2579700000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.8589700000000002em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.45997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.4909600000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.09196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500299999999998em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span><span style="top:-2.849999999999999em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span><span style="top:-1.6499999999999992em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0919600000000003em;"><span style="top:-1.05597em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65697em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.2579700000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.8589700000000002em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.45997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.4909600000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.09196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500299999999998em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mord mathnormal">a</span><span class="mclose">]</span></span></span></span></li></ol><p>例如在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow><annotation encoding="application/x-tex">\begin{vmatrix}  2&amp;  3&amp;  3&amp; 3\\  3&amp;  2&amp;  3&amp; 3\\  3&amp;  3&amp;  2&amp; 3\\  3&amp;  3&amp;  3&amp; 2\end{vmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.85399em;vertical-align:-2.1500399999999997em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span></span></span></span></span> 中，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mn>2</mn><mo separator="true">,</mo><mi>a</mi><mo>=</mo><mn>3</mn><mo separator="true">,</mo><mi>n</mi><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">x=2, a=3,n=4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span>。结果为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow><mo>=</mo><mo stretchy="false">(</mo><mn>2</mn><mo>−</mo><msup><mn>3</mn><mrow><mn>4</mn><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">[</mo><mn>2</mn><mo>+</mo><mo stretchy="false">(</mo><mn>4</mn><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>∗</mo><mn>3</mn><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><mn>11</mn></mrow><annotation encoding="application/x-tex">\begin{vmatrix}  2&amp;  3&amp;  3&amp; 3\\  3&amp;  2&amp;  3&amp; 3\\  3&amp;  3&amp;  2&amp; 3\\  3&amp;  3&amp;  3&amp; 2\end{vmatrix} =(2-3^{4-1}[2+(4-1)*3])=-11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.85399em;vertical-align:-2.1500399999999997em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">3</span><span class="mclose">]</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">1</span><span class="mord">1</span></span></span></span></p><ol start="2"><li><p><strong>范德蒙行列式</strong>，即：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>1</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>2</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mi>n</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><msub><mi>x</mi><mn>1</mn></msub><mn>2</mn></msup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><msub><mi>x</mi><mn>2</mn></msub><mn>2</mn></msup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><msub><mi>x</mi><mi>n</mi></msub><mn>2</mn></msup></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><msub><mi>x</mi><mn>1</mn></msub><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><msub><mi>x</mi><mn>2</mn></msub><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><msub><mi>x</mi><mi>n</mi></msub><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow><annotation encoding="application/x-tex">\begin{vmatrix}  1&amp;  1&amp;  ...&amp; 1\\  x_1&amp;  x_2&amp;  ...&amp; x_n\\  {x_{1}}^{2}&amp;  {x_{2}}^{2}&amp;  ...&amp; {x_{n}}^{2}\\  ...&amp;  ...&amp;  ...&amp; ...\\  {x_{1}}^{n-1}&amp;  {x_{2}}^{n-1}&amp;  ...&amp;{x_{n}}^{n-1}\end{vmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:6.065989999999999em;vertical-align:-2.75005em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.31594em;"><span style="top:0.14405em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-0.45694999999999997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.05795em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65895em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25995em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.86095em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46195em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.66395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.71494em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-5.315939999999999em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75005em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.2500000000000004em;"><span style="top:-5.410000000000001em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-1.8099999999999998em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-0.6099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.7500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.2500000000000004em;"><span style="top:-5.410000000000001em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-1.8099999999999998em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-0.6099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.7500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.2500000000000004em;"><span style="top:-5.410000000000001em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-1.8099999999999998em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-0.6099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.7500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.2500000000000004em;"><span style="top:-5.410000000000001em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-1.8099999999999998em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-0.6099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.7500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.31594em;"><span style="top:0.14405em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-0.45694999999999997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.05795em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65895em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25995em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.86095em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46195em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.66395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.71494em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-5.315939999999999em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75005em;"><span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mi>n</mi></msub><mo>−</mo><msub><mi>x</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mi>n</mi></msub><mo>−</mo><msub><mi>x</mi><mrow><mi>n</mi><mo>−</mo><mn>2</mn></mrow></msub><mo stretchy="false">)</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mi>n</mi></msub><mo>−</mo><msub><mi>x</mi><mrow><mi>n</mi><mo>−</mo><mn>3</mn></mrow></msub><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>n</mi></msub><mo>−</mo><msub><mi>x</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">=(x_n - x_{n-1})(x_n - x_{n-2})(x_n - x_{n-3})....(x_n-x_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><p>x <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>−</mo><msub><mi>x</mi><mrow><mi>n</mi><mo>−</mo><mn>2</mn></mrow></msub><mo stretchy="false">)</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>−</mo><msub><mi>x</mi><mrow><mi>n</mi><mo>−</mo><mn>3</mn></mrow></msub><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>−</mo><msub><mi>x</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x_{n-1} - x_{n-2})(x_{n-1} - x_{n-3})...(x_{n-1} - x_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><p>x …</p><p>x $ (x_2 - x_1)$</p></li></ol><p>这种特殊行列式的规律是，r1 全部为 1 ，剩下部分指数以此增加。如c1中，从第二行开始是1次方，2次方、3次方……直到x1的n-1</p><p>在等号这行，都是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">x_{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>减去一个数，且该数规律性减少：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>x</mi><mrow><mi>n</mi><mo>−</mo><mn>2</mn></mrow></msub><mo separator="true">,</mo><msub><mi>x</mi><mrow><mi>n</mi><mo>−</mo><mn>3</mn></mrow></msub></mrow><annotation encoding="application/x-tex">x_{n-1}, x_{n-2}, x_{n-3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span>，直到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">x_{1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><p>第二行中，都是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">x_{n-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span>减去一个数,被减数总是比减数小1，且同样规律性减少：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mrow><mi>n</mi><mo>−</mo><mn>2</mn></mrow></msub><mo separator="true">,</mo><msub><mi>x</mi><mrow><mi>n</mi><mo>−</mo><mn>3</mn></mrow></msub></mrow><annotation encoding="application/x-tex">x_{n-2}, x_{n-3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span>。直到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">x_{1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><p>如此逐次计算，直到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>2</mn></msub><mo>−</mo><msub><mi>x</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">x_{2}-x_{1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><p>举例说明：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mn>3</mn><mn>2</mn></msup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mn>4</mn><mn>2</mn></msup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mn>5</mn><mn>2</mn></msup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mn>6</mn><mn>2</mn></msup></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mn>3</mn><mn>3</mn></msup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mn>4</mn><mn>3</mn></msup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mn>5</mn><mn>3</mn></msup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mn>6</mn><mn>3</mn></msup></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow><annotation encoding="application/x-tex">\begin{vmatrix}  1&amp;  1&amp;  1&amp; 1\\  3&amp;  4&amp;  5&amp; 6\\  3^2&amp;  4^2&amp;  5^2&amp; 6^2\\  3^3&amp;  4^3&amp;  5^3&amp; 6^3\end{vmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.85399em;vertical-align:-2.1500399999999997em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord">4</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord">4</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord">5</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord">5</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord">6</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord">6</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span></span></span></span></span>符合公式观察得出：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo>=</mo><mn>3</mn><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo>=</mo><mn>4</mn><mo separator="true">,</mo><msub><mi>x</mi><mn>3</mn></msub><mo>=</mo><mn>5</mn><mo separator="true">,</mo><msub><mi>x</mi><mn>4</mn></msub><mo>=</mo><mn>6</mn><mo separator="true">,</mo><mi>n</mi><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">x_{1}=3, x_{2}=4,x_{3}=5,x_{4}=6,n=4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span></p><p>则<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>6</mn><mo>−</mo><mn>5</mn><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mn>6</mn><mo>−</mo><mn>4</mn><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mn>6</mn><mo>−</mo><mn>3</mn><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mn>5</mn><mo>−</mo><mn>4</mn><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mn>5</mn><mo>−</mo><mn>3</mn><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mn>4</mn><mo>−</mo><mn>3</mn><mo stretchy="false">)</mo><mo>=</mo><mn>12</mn></mrow><annotation encoding="application/x-tex">(6-5)(6-4)(6-3)(5-4)(5-3)(4-3)=12</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">5</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">4</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">3</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">4</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">3</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">3</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">2</span></span></span></span></p><p>例子二：运算过程如下（计算结果是有点问题的，但思路是对的）</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202304141516980.jpg" alt></p><ol start="3"><li><strong>行列式运算定义</strong></li></ol><ul><li>两行(列)相同或成比例时，行列式结果为0</li><li>某行(列)为两项相加减时，行列式可拆成两个行列式相加减。</li></ul><p>例如：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>9</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>10</mn></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow><annotation encoding="application/x-tex">\begin{vmatrix}  1&amp;  2&amp;  3&amp; 4\\  2&amp;  4&amp;  6&amp; 8\\  3&amp;  4&amp;  5&amp; 6\\  7&amp;  8&amp;  9&amp; 10\end{vmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.85399em;vertical-align:-2.1500399999999997em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">9</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span></span></span></span></span>中r1 和r2 成倍数，则该行列式结果为0.</p><p>第二个性质例如：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>2</mn><mo>+</mo><mi>a</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>4</mn><mo>+</mo><mi>b</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>4</mn><mo>+</mo><mi>c</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>8</mn><mo>+</mo><mi>d</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>9</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>10</mn></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow><mo>=</mo><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>9</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>10</mn></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow><mo>+</mo><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>b</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>c</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>d</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>9</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>10</mn></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{vmatrix}  1&amp;  2+a&amp;  3&amp; 4\\  2&amp;  4+b&amp;  6&amp; 8\\  3&amp;  4+c&amp;  5&amp; 6\\  7&amp;  8+d&amp;  9&amp; 10\end{vmatrix}=\begin{vmatrix}  1&amp;  2&amp;  3&amp; 4\\  2&amp;  4&amp;  6&amp; 8\\  3&amp;  4&amp;  5&amp; 6\\  7&amp;  8&amp;  9&amp; 10\end{vmatrix} + \begin{vmatrix}  1&amp;  a&amp;  3&amp; b\\  2&amp;  c&amp;  6&amp; d\\  3&amp;  4&amp;  5&amp; 6\\  7&amp;  8&amp;  9&amp; 10\end{vmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.85399em;vertical-align:-2.1500399999999997em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">a</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">b</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">c</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">9</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:4.85399em;vertical-align:-2.1500399999999997em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">9</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:4.85399em;vertical-align:-2.1500399999999997em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">c</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">9</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span></span></span></span></span>，注意，单行(列)存在相加减时，分为2个行列式，如果有多行(列)相加减，那么需要分别分开成2个行列式。</p><ol start="4"><li><strong>求余子式和代数余子式</strong></li></ol><p>例如：求<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>9</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>10</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>11</mn></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow><annotation encoding="application/x-tex">\begin{vmatrix}  1&amp;  2&amp; 3\\  5&amp;  6&amp; 7\\  9&amp;  10&amp; 11\end{vmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.64199em;vertical-align:-1.5500299999999998em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0919600000000003em;"><span style="top:-1.05597em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65697em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.2579700000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.8589700000000002em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.45997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.4909600000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.09196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500299999999998em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">9</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0919600000000003em;"><span style="top:-1.05597em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65697em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.2579700000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.8589700000000002em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.45997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.4909600000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.09196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500299999999998em;"><span></span></span></span></span></span></span></span></span></span></span>中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>23</mn></msub></mrow><annotation encoding="application/x-tex">a_{23}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的余子式。</p><p>余子式用<code>M</code>表示。</p><p><code>a</code>是行列式中的某个数字，<code>23</code>指的是行数与列数，所以<code>a23</code>指的是<code>2</code>行<code>3</code>列的<code>7</code>。</p><p><code>a23</code>的余子式也就是要求<code>M23</code>，即将 r2 、c3删除，计算剩下的式子即可。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202304141551340.png" alt></p><p>代数余子数用A表示，值为余子数 x -1 的行+列次方，即：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>23</mn></msub><mo>=</mo><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mrow><mn>2</mn><mo>+</mo><mn>3</mn></mrow></msup><mo>∗</mo><msub><mi>M</mi><mn>23</mn></msub></mrow><annotation encoding="application/x-tex">A_{23}=(-1)^{2+3}*M_{23}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mbin mtight">+</span><span class="mord mtight">3</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><ol start="5"><li><p><strong>拉普拉斯展开（行列式展开定理）</strong>，选择任意行(列)带入如下对应式子进行计算。</p><ul><li><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi><mo>=</mo><msub><mi>a</mi><mrow><mi>i</mi><mn>1</mn></mrow></msub><msub><mi>A</mi><mrow><mi>i</mi><mn>1</mn></mrow></msub><mo>+</mo><msub><mi>a</mi><mrow><mi>i</mi><mn>2</mn></mrow></msub><msub><mi>A</mi><mrow><mi>i</mi><mn>2</mn></mrow></msub><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>+</mo><msub><mi>a</mi><mrow><mi>i</mi><mi>n</mi></mrow></msub><msub><mi>A</mi><mrow><mi>i</mi><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">D=a_{i1}A_{i1}+a_{i2}A_{i2}+.....+a_{in}A_{in}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> (第<code>i</code>行)</p></li><li><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi><mo>=</mo><msub><mi>a</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><msub><mi>A</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>a</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><msub><mi>A</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>+</mo><msub><mi>a</mi><mrow><mi>n</mi><mi>j</mi></mrow></msub><msub><mi>A</mi><mrow><mi>n</mi><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">D=a_{1j}A_{1j}+a_{2j}A_{2j}+......+a_{nj}A_{nj}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> (第<code>j</code>列)</p></li></ul></li></ol><p>例如：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>9</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>10</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>11</mn></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow><annotation encoding="application/x-tex">\begin{vmatrix}  1&amp;  2&amp; 3\\  5&amp;  6&amp; 7\\  9&amp;  10&amp; 11\end{vmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.64199em;vertical-align:-1.5500299999999998em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0919600000000003em;"><span style="top:-1.05597em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65697em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.2579700000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.8589700000000002em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.45997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.4909600000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.09196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500299999999998em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">9</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0919600000000003em;"><span style="top:-1.05597em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65697em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.2579700000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.8589700000000002em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.45997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.4909600000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.09196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500299999999998em;"><span></span></span></span></span></span></span></span></span></span></span> 取第一行，则 <code>i</code>为 1，得出：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>9</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>10</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>11</mn></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow><mo>=</mo><msub><mi>a</mi><mn>11</mn></msub><msub><mi>A</mi><mn>11</mn></msub><mo>+</mo><msub><mi>a</mi><mn>12</mn></msub><msub><mi>A</mi><mn>12</mn></msub><mo>+</mo><msub><mi>a</mi><mn>13</mn></msub><msub><mi>A</mi><mn>13</mn></msub></mrow><annotation encoding="application/x-tex">\begin{vmatrix}  1&amp;  2&amp; 3\\  5&amp;  6&amp; 7\\  9&amp;  10&amp; 11\end{vmatrix}=a_{11}A_{11}+a_{12}A_{12}+a_{13}A_{13}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.64199em;vertical-align:-1.5500299999999998em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0919600000000003em;"><span style="top:-1.05597em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65697em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.2579700000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.8589700000000002em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.45997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.4909600000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.09196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500299999999998em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">9</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0919600000000003em;"><span style="top:-1.05597em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65697em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.2579700000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.8589700000000002em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.45997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.4909600000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.09196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500299999999998em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。<code>a11</code>、<code>a12</code>、<code>a13</code>代表行列所在数字，<code>A11</code>代表代数余子数，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>11</mn></msub><mo>=</mo><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mrow><mn>1</mn><mo>+</mo><mn>1</mn></mrow></msup><msub><mi>M</mi><mn>11</mn></msub></mrow><annotation encoding="application/x-tex">A_{11}=(-1)^{1+1}M_{11}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><p>则：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>11</mn></msub><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mrow><mn>1</mn><mo>+</mo><mn>1</mn></mrow></msup><msub><mi>M</mi><mn>11</mn></msub><mo>+</mo><msub><mi>a</mi><mn>12</mn></msub><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mrow><mn>1</mn><mo>+</mo><mn>2</mn></mrow></msup><msub><mi>M</mi><mn>12</mn></msub><mo>+</mo><msub><mi>a</mi><mn>13</mn></msub><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mrow><mn>1</mn><mo>+</mo><mn>3</mn></mrow></msup><msub><mi>M</mi><mn>13</mn></msub></mrow><annotation encoding="application/x-tex">a_{11}(-1)^{1+1}M_{11} + a_{12}(-1)^{1+2}M_{12} + a_{13}(-1)^{1+3}M_{13}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">+</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">+</span><span class="mord mtight">3</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><p>得到：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>∗</mo><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mrow><mn>1</mn><mo>+</mo><mn>1</mn></mrow></msup><mo>∗</mo><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>10</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>11</mn></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow><mo>+</mo><mn>2</mn><mo>∗</mo><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mrow><mn>1</mn><mo>+</mo><mn>2</mn></mrow></msup><mo>∗</mo><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>9</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>11</mn></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow><mo>+</mo><mn>3</mn><mo>∗</mo><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mrow><mn>1</mn><mo>+</mo><mn>3</mn></mrow></msup><mo>∗</mo><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>9</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>10</mn></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow></mrow><annotation encoding="application/x-tex">1*(-1)^{1+1}* \begin{vmatrix}  6&amp;7 \\  10&amp;11\end{vmatrix} + 2*(-1)^{1+2}* \begin{vmatrix}  5&amp;7 \\  9&amp;11\end{vmatrix} + 3*(-1)^{1+3}* \begin{vmatrix}  5&amp;6 \\  9&amp;10\end{vmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.42999em;vertical-align:-0.9500199999999999em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4799700000000002em;"><span style="top:-1.65598em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25698em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85798em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.87897em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.47997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500199999999999em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4799700000000002em;"><span style="top:-1.65598em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25698em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85798em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.87897em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.47997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500199999999999em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">+</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.42999em;vertical-align:-0.9500199999999999em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4799700000000002em;"><span style="top:-1.65598em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25698em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85798em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.87897em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.47997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500199999999999em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">9</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4799700000000002em;"><span style="top:-1.65598em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25698em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85798em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.87897em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.47997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500199999999999em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">+</span><span class="mord mtight">3</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.42999em;vertical-align:-0.9500199999999999em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4799700000000002em;"><span style="top:-1.65598em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25698em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85798em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.87897em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.47997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500199999999999em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">9</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4799700000000002em;"><span style="top:-1.65598em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25698em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85798em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.87897em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.47997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500199999999999em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>最后计算上述式子，就是行列式的值。（TODO）</p><p>通常用该方法计算出来的步骤很繁杂，但部分题目套进去会比较简单。如果行列式某一行(列)的0比较多，那通过这种办法能减少很多时间。</p><ol start="6"><li><strong>多个 A 或 M 相加减（零值定理）</strong></li></ol><p>已知<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi><mo>=</mo><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>9</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>10</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>11</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>12</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>13</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>14</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>15</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>16</mn></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow></mrow><annotation encoding="application/x-tex">D=\begin{vmatrix}  1&amp;  2&amp;  3&amp;4 \\  5&amp;  6&amp;  7&amp;8 \\  9&amp;  10&amp;  11&amp;12 \\  13&amp;  14&amp;  15&amp;16\end{vmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:4.85399em;vertical-align:-2.1500399999999997em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">9</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">0</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">1</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">2</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">6</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span></span></span></span></span>，求：</p><p>1：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><msub><mi>A</mi><mn>11</mn></msub><mo>+</mo><mn>4</mn><msub><mi>A</mi><mn>12</mn></msub><mo>+</mo><mn>5</mn><msub><mi>A</mi><mn>13</mn></msub><mo>+</mo><mn>6</mn><msub><mi>A</mi><mn>14</mn></msub></mrow><annotation encoding="application/x-tex">3A_{11}+4A_{12}+5A_{13}+6A_{14}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord">3</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord">4</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord">5</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord">6</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">4</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，在原式找到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>11</mn></msub></mrow><annotation encoding="application/x-tex">A_{11}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>等位置，然后将前面的系数替换进去，计算新式子的结果：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>9</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>10</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>11</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>12</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>13</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>14</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>15</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>16</mn></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow><annotation encoding="application/x-tex">\begin{vmatrix}  3&amp;  4&amp;  5&amp;6 \\  5&amp;  6&amp;  7&amp;8 \\  9&amp;  10&amp;  11&amp;12 \\  13&amp;  14&amp;  15&amp;16\end{vmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.85399em;vertical-align:-2.1500399999999997em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">9</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">0</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">1</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">2</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">6</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>2：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><msub><mi>A</mi><mn>11</mn></msub><mo>+</mo><mn>4</mn><msub><mi>A</mi><mn>21</mn></msub><mo>+</mo><mn>5</mn><msub><mi>A</mi><mn>31</mn></msub><mo>+</mo><mn>6</mn><msub><mi>A</mi><mn>41</mn></msub></mrow><annotation encoding="application/x-tex">3A_{11}+4A_{21}+5A_{31}+6A_{41}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord">3</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord">4</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord">5</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord">6</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，在原式找到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>11</mn></msub></mrow><annotation encoding="application/x-tex">A_{11}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>等位置，然后将前面的系数替换进去，计算新式子的结果：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>10</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>11</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>12</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>14</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>15</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>16</mn></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow><annotation encoding="application/x-tex">\begin{vmatrix}  3&amp;  2&amp;  3&amp;4 \\  4&amp;  6&amp;  7&amp;8 \\  5&amp;  10&amp;  11&amp;12 \\  6&amp;  14&amp;  15&amp;16\end{vmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.85399em;vertical-align:-2.1500399999999997em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">0</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">1</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">2</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">6</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>3：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><msub><mi>M</mi><mn>11</mn></msub><mo>+</mo><mn>4</mn><msub><mi>M</mi><mn>12</mn></msub><mo>+</mo><mn>5</mn><msub><mi>M</mi><mn>13</mn></msub><mo>+</mo><mn>6</mn><msub><mi>M</mi><mn>14</mn></msub></mrow><annotation encoding="application/x-tex">3M_{11}+4M_{12}+5M_{13}+6M_{14}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord">3</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord">4</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord">5</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord">6</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">4</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，需要先将<code>M</code>替换成<code>A</code>，已知<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mrow><mi>r</mi><mi>c</mi></mrow></msub><mo>=</mo><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mrow><mi>r</mi><mo>+</mo><mi>c</mi></mrow></msup><msub><mi>M</mi><mrow><mi>r</mi><mi>c</mi></mrow></msub></mrow><annotation encoding="application/x-tex">A_{rc}=(-1)^{r+c}M_{rc}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.021331em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.771331em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">c</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，则该式子转换为：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mrow><mn>1</mn><mo>+</mo><mn>1</mn></mrow></msup><msub><mi>M</mi><mn>11</mn></msub><mo>+</mo><mn>4</mn><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mrow><mn>2</mn><mo>+</mo><mn>1</mn></mrow></msup><msub><mi>M</mi><mn>11</mn></msub><mo>+</mo><mn>5</mn><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mrow><mn>3</mn><mo>+</mo><mn>1</mn></mrow></msup><msub><mi>M</mi><mn>31</mn></msub><mo>+</mo><mn>6</mn><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mrow><mn>4</mn><mo>+</mo><mn>1</mn></mrow></msup><msub><mi>M</mi><mn>41</mn></msub></mrow><annotation encoding="application/x-tex">3(-1)^{1+1}M_{11} + 4(-1)^{2+1}M_{11} + 5(-1)^{3+1}M_{31} + 6(-1)^{4+1}M_{41}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord">3</span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord">4</span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord">5</span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord">6</span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><p>得出：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><msub><mi>A</mi><mn>11</mn></msub><mo>−</mo><mn>4</mn><msub><mi>A</mi><mn>21</mn></msub><mo>+</mo><mn>5</mn><msub><mi>A</mi><mn>31</mn></msub><mo>−</mo><mn>6</mn><msub><mi>A</mi><mn>41</mn></msub></mrow><annotation encoding="application/x-tex">3A_{11}-4A_{21}+5A_{31}-6A_{41}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord">3</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord">4</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord">5</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord">6</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，到这一步就跟上2种一样，将系数替换进原式，，计算该新式子的结果：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mn>4</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>10</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>11</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>12</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mn>6</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>14</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>15</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>16</mn></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow><annotation encoding="application/x-tex">\begin{vmatrix}  3&amp;  2&amp;  3&amp;4 \\  -4&amp;  6&amp;  7&amp;8 \\  5&amp;  10&amp;  11&amp;12 \\  -6&amp;  14&amp;  15&amp;16\end{vmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.85399em;vertical-align:-2.1500399999999997em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">4</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">6</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">0</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">1</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">2</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">6</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.70395em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.0569600000000001em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25896em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.46096em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.10295em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.70395em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span></span></span></span></span></p><ol start="7"><li><strong>判断方程组的解的情况</strong></li></ol><p>可根据计算参考该表格获取解的情况。</p><table><thead><tr><th>方程组</th><th>D != 0</th><th>D = 0</th></tr></thead><tbody><tr><td>齐次</td><td>只有一组零解</td><td>有零解与非零解</td></tr><tr><td>非齐次</td><td>只有一组非零解</td><td>有多个解或无解</td></tr></tbody></table><p>判断该方程组是否有唯一解：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>x</mi><mn>1</mn></msub><mtext>+</mtext><mn>2</mn><msub><mi>x</mi><mn>2</mn></msub><mtext>+</mtext><mn>3</mn><msub><mi>x</mi><mn>3</mn></msub><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>4</mn><msub><mi>x</mi><mn>1</mn></msub><mtext>+</mtext><mn>5</mn><msub><mi>x</mi><mn>2</mn></msub><mtext>+</mtext><mn>6</mn><msub><mi>x</mi><mn>3</mn></msub><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>7</mn><msub><mi>x</mi><mn>1</mn></msub><mtext>+</mtext><mn>8</mn><msub><mi>x</mi><mn>2</mn></msub><mtext>+</mtext><mn>9</mn><msub><mi>x</mi><mn>3</mn></msub><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr></mtable></mrow><annotation encoding="application/x-tex">\left\{\begin{matrix}  x_{1} \text{+} 2x_{2} \text{+} 3x_{3}=0 \\  4x_{1} \text{+} 5x_{2} \text{+} 6x_{3}=0 \\  7x_{1} \text{+} 8x_{2} \text{+} 9x_{3}=0 \\\end{matrix}\right.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.49999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.20499em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-3.15001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.00501em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.30002em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">+</span></span><span class="mord">2</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">+</span></span><span class="mord">3</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">+</span></span><span class="mord">5</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">+</span></span><span class="mord">6</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">+</span></span><span class="mord">8</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">+</span></span><span class="mord">9</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p>表格解释：<strong>齐次</strong>指方程组只有<code>x</code>与<code>0</code>，没有常数项。<strong>非齐次</strong>除了<code>x</code>与<code>0</code>还有常数项。（TODO：没有明白）</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202304141752556.png" alt></p><p><code>D!=0</code>和<code>D=0</code>的依据是，将方程组的系数取出，形成一个新的行列式，计算该行列式的值。注意，如果有的题目没有完整的等长等宽方程组，例如：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>x</mi><mn>1</mn></msub><mtext>+</mtext><mn>3</mn><msub><mi>x</mi><mn>3</mn></msub><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>x</mi><mn>2</mn></msub><mtext>+</mtext><mn>4</mn><msub><mi>x</mi><mn>3</mn></msub><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>x</mi><mn>1</mn></msub><mtext>+</mtext><mn>5</mn><msub><mi>x</mi><mn>3</mn></msub><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr></mtable></mrow><annotation encoding="application/x-tex">\left\{\begin{matrix}  x_{1} \text{+} 3x_{3}=0 \\  x_{2} \text{+} 4x_{3}=0 \\  x_{1} \text{+} 5x_{3}=0 \\\end{matrix}\right.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.49999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.20499em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-3.15001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.00501em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.30002em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">+</span></span><span class="mord">3</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">+</span></span><span class="mord">4</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">+</span></span><span class="mord">5</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> ，就需要手动补0，即：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>x</mi><mn>1</mn></msub><mtext>+</mtext><mn>0</mn><msub><mi>x</mi><mn>2</mn></msub><mtext>+</mtext><mn>3</mn><msub><mi>x</mi><mn>3</mn></msub><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><msub><mi>x</mi><mn>1</mn></msub><mtext>+</mtext><msub><mi>x</mi><mn>2</mn></msub><mtext>+</mtext><mn>4</mn><msub><mi>x</mi><mn>3</mn></msub><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>x</mi><mn>1</mn></msub><mtext>+</mtext><mn>5</mn><msub><mi>x</mi><mn>2</mn></msub><mtext>+</mtext><mn>0</mn><msub><mi>x</mi><mn>3</mn></msub><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr></mtable></mrow><annotation encoding="application/x-tex">\left\{\begin{matrix}  x_{1} \text{+} 0x_{2} \text{+} 3x_{3}=0 \\  0x_{1} \text{+} x_{2} \text{+} 4x_{3}=0 \\  x_{1} \text{+} 5x_{2} \text{+} 0x_{3}=0 \\\end{matrix}\right.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.49999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.20499em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-3.15001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.00501em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.30002em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">+</span></span><span class="mord">0</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">+</span></span><span class="mord">3</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">+</span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">+</span></span><span class="mord">4</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">+</span></span><span class="mord">5</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">+</span></span><span class="mord">0</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>，形成的行列式为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow><annotation encoding="application/x-tex">\begin{vmatrix}  1&amp;  0&amp; 3\\  0&amp;  1&amp; 4\\  1&amp;  5&amp; 0\end{vmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.64199em;vertical-align:-1.5500299999999998em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0919600000000003em;"><span style="top:-1.05597em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65697em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.2579700000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.8589700000000002em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.45997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.4909600000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.09196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500299999999998em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0919600000000003em;"><span style="top:-1.05597em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65697em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.2579700000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.8589700000000002em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.45997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.4909600000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.09196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500299999999998em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>例如上述例题，是一个齐次方程，将其系数提取形成行列式，得到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>9</mn></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow><annotation encoding="application/x-tex">\begin{vmatrix}  1&amp;  2&amp; 3\\  4&amp;  5&amp; 6\\  7&amp;  8&amp; 9\end{vmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.64199em;vertical-align:-1.5500299999999998em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0919600000000003em;"><span style="top:-1.05597em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65697em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.2579700000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.8589700000000002em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.45997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.4909600000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.09196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500299999999998em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">9</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0919600000000003em;"><span style="top:-1.05597em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65697em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.2579700000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.8589700000000002em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.45997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.4909600000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.09196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500299999999998em;"><span></span></span></span></span></span></span></span></span></span></span>，值为 0，即有零解与非零解，就是没有唯一解。</p><p>例题2：</p><p>方程组：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>x</mi><mn>1</mn></msub><mtext>+</mtext><mi>y</mi><msub><mi>x</mi><mn>2</mn></msub><mtext>+</mtext><mn>3</mn><msub><mi>x</mi><mn>3</mn></msub><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>4</mn><msub><mi>x</mi><mn>1</mn></msub><mtext>+</mtext><mn>5</mn><msub><mi>x</mi><mn>2</mn></msub><mtext>+</mtext><mn>6</mn><msub><mi>x</mi><mn>3</mn></msub><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>7</mn><msub><mi>x</mi><mn>1</mn></msub><mtext>+</mtext><mn>8</mn><msub><mi>x</mi><mn>2</mn></msub><mtext>+</mtext><mn>9</mn><msub><mi>x</mi><mn>3</mn></msub><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr></mtable></mrow><annotation encoding="application/x-tex">\left\{\begin{matrix}  x_{1} \text{+} yx_{2} \text{+} 3x_{3}=0 \\  4x_{1} \text{+} 5x_{2} \text{+} 6x_{3}=0 \\  7x_{1} \text{+} 8x_{2} \text{+} 9x_{3}=0 \\\end{matrix}\right.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.49999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.20499em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-3.15001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.00501em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.30002em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">+</span></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">+</span></span><span class="mord">3</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">+</span></span><span class="mord">5</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">+</span></span><span class="mord">6</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">+</span></span><span class="mord">8</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">+</span></span><span class="mord">9</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> 有非零解，请确定 <code>y</code>的值。</p><p>解答：观察方程式，为齐次方程组。且有非零解，那么<code>D=0</code>,则：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>y</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>9</mn></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\begin{vmatrix}  1&amp;  y&amp; 3\\  4&amp;  5&amp; 6\\  7&amp;  8&amp; 9\end{vmatrix}=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.64199em;vertical-align:-1.5500299999999998em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0919600000000003em;"><span style="top:-1.05597em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65697em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.2579700000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.8589700000000002em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.45997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.4909600000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.09196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500299999999998em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">9</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0919600000000003em;"><span style="top:-1.05597em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65697em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.2579700000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.8589700000000002em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.45997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.4909600000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.09196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500299999999998em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>，即可求出<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">y=2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span></p><h2 id="矩阵计算"><a class="markdownIt-Anchor" href="#矩阵计算"></a> 矩阵计算</h2><h3 id="矩阵相加减"><a class="markdownIt-Anchor" href="#矩阵相加减"></a> 矩阵相加减</h3><p>已知<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mi>B</mi><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>9</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>10</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>11</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>12</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">A=\begin{pmatrix}  1&amp; 3\\  2&amp; 4\\  5&amp; 6\end{pmatrix},B=\begin{pmatrix}  7&amp; 8\\  9&amp; 10\\  11&amp; 12\end{pmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">9</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span></span></span></span>,求 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mi>A</mi><mo>+</mo><mn>3</mn><mi>B</mi></mrow><annotation encoding="application/x-tex">2A+3B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span></p><p>矩阵与系数相乘时，将系数与矩阵的每个数字相乘，即：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mi>A</mi><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mo>∗</mo><mn>2</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>3</mn><mo>∗</mo><mn>2</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>2</mn><mo>∗</mo><mn>2</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>4</mn><mo>∗</mo><mn>2</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>5</mn><mo>∗</mo><mn>2</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>6</mn><mo>∗</mo><mn>2</mn></mrow></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>10</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>12</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">2A=\begin{pmatrix}  1*2&amp; 3*2\\  2*2&amp; 4*2\\  5*2&amp; 6*2\end{pmatrix}=\begin{pmatrix}  2&amp; 6\\  4&amp; 8\\  10&amp; 12\end{pmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">2</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">2</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">2</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">2</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mi>B</mi><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>7</mn><mo>∗</mo><mn>3</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>8</mn><mo>∗</mo><mn>3</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>9</mn><mo>∗</mo><mn>3</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>10</mn><mo>∗</mo><mn>3</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>11</mn><mo>∗</mo><mn>3</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>12</mn><mo>∗</mo><mn>3</mn></mrow></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>21</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>24</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>27</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>30</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>33</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>36</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">3B=\begin{pmatrix}  7*3&amp; 8*3\\  9*3&amp; 10*3\\  11*3&amp; 12*3\end{pmatrix}=\begin{pmatrix}  21&amp; 24\\  27&amp; 30\\  33&amp; 36\end{pmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">3</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">9</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">3</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">3</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">3</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord">7</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord">4</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span><span class="mord">6</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>矩阵与矩阵相加时，将两个矩阵内每个数字相加，即 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mi>A</mi><mo>+</mo><mn>3</mn><mi>B</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">2A+3B=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span>：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>2</mn><mo>+</mo><mn>21</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>6</mn><mo>+</mo><mn>24</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>4</mn><mo>+</mo><mn>27</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>8</mn><mo>+</mo><mn>30</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>10</mn><mo>+</mo><mn>33</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>12</mn><mo>+</mo><mn>36</mn></mrow></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>31</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>30</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>31</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>38</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>43</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>48</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{pmatrix}  2+21&amp; 6+24\\  4+27&amp; 8+30\\  10+33&amp; 12+36\end{pmatrix}=\begin{pmatrix}  31&amp; 30\\  31&amp; 38\\  43&amp; 48\end{pmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">2</span><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">2</span><span class="mord">7</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">3</span><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">2</span><span class="mord">4</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">3</span><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">3</span><span class="mord">6</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span><span class="mord">1</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span><span class="mord">0</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span><span class="mord">8</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span><span class="mord">8</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span></span></span></span></p><h3 id="矩阵相乘"><a class="markdownIt-Anchor" href="#矩阵相乘"></a> 矩阵相乘</h3><p>核心：前行乘后列</p><ol><li><strong>简单相乘</strong></li></ol><p>已知<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mi>B</mi><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>9</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>10</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>11</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>12</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">A=\begin{pmatrix}  1&amp; 3\\  2&amp; 4\\  5&amp; 6\end{pmatrix},B=\begin{pmatrix}  7&amp; 8 &amp; 9\\ 10 &amp; 11&amp; 12\end{pmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.40003em;vertical-align:-0.95003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">9</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span></span></span></span>,求 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>∗</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A *B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>∗</mo><mi>B</mi><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>∗</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>9</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>10</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>11</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>12</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">A * B =\begin{pmatrix}  1&amp; 3\\  2&amp; 4\\  5&amp; 6\end{pmatrix}*\begin{pmatrix}  7&amp; 8 &amp; 9\\ 10 &amp; 11&amp; 12\end{pmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.40003em;vertical-align:-0.95003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">9</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span></span></span></span>，该矩阵相乘结果的矩阵行列数，取决与<code>A</code>与<code>B</code>的行列数，结果矩阵为 A 的行数，B 的列数其中，矩阵的<code>r11</code>为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>11</mn></msub><mo>∗</mo><msub><mi>B</mi><mn>11</mn></msub><mo>+</mo><msub><mi>A</mi><mn>12</mn></msub><mo>∗</mo><msub><mi>B</mi><mn>21</mn></msub></mrow><annotation encoding="application/x-tex">A_{11}* B_{11}+A_{12}*B_{21}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，<code>r12</code>为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>11</mn></msub><mo>∗</mo><msub><mi>B</mi><mn>12</mn></msub><mo>+</mo><msub><mi>A</mi><mn>12</mn></msub><mo>∗</mo><msub><mi>B</mi><mn>22</mn></msub></mrow><annotation encoding="application/x-tex">A_{11}* B_{12}+A_{12}*B_{22}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>……以此类推。即如下，计算后就是答案了。</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mo>∗</mo><mn>7</mn><mo>+</mo><mn>3</mn><mo>∗</mo><mn>10</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mo>∗</mo><mn>8</mn><mo>+</mo><mn>3</mn><mo>∗</mo><mn>11</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mo>∗</mo><mn>9</mn><mo>+</mo><mn>3</mn><mo>∗</mo><mn>12</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>2</mn><mo>∗</mo><mn>7</mn><mo>+</mo><mn>4</mn><mo>∗</mo><mn>10</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>2</mn><mo>∗</mo><mn>8</mn><mo>+</mo><mn>4</mn><mo>∗</mo><mn>11</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>2</mn><mo>∗</mo><mn>9</mn><mo>+</mo><mn>4</mn><mo>∗</mo><mn>12</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>5</mn><mo>∗</mo><mn>7</mn><mo>+</mo><mn>6</mn><mo>∗</mo><mn>10</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>5</mn><mo>∗</mo><mn>8</mn><mo>+</mo><mn>6</mn><mo>∗</mo><mn>11</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>5</mn><mo>∗</mo><mn>9</mn><mo>+</mo><mn>6</mn><mo>∗</mo><mn>12</mn></mrow></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">=\begin{pmatrix}  1*7+3*10&amp; 1*8+3*11 &amp; 1*9+3*12\\  2*7+4*10&amp; 2*8+4*11 &amp; 2*9+4*12\\  5*7+6*10&amp; 5*8+6*11 &amp; 5*9+6*12\end{pmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">7</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mord">0</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">7</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">7</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mord">1</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">9</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mord">2</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">9</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mord">2</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">9</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mord">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><ol start="2"><li><strong>化简后相乘</strong></li></ol><p>已知<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mi>B</mi><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>9</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">A=\begin{pmatrix}  1&amp; 0 &amp;1\\  0&amp; 2 &amp; 0\\  1&amp; 0 &amp; 1\end{pmatrix},B=\begin{pmatrix}  1&amp; 2 &amp; 3\\ 4 &amp; 5&amp; 6\\ 7&amp; 8 &amp;9 \end{pmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">9</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span></span></span></span>,求 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mn>2</mn></msup><mi>B</mi><mo>−</mo><mn>2</mn><mi>A</mi><mi>B</mi></mrow><annotation encoding="application/x-tex">A^{2}B-2AB</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mn>2</mn></msup><mi>B</mi><mo>−</mo><mn>2</mn><mi>A</mi><mi>B</mi></mrow><annotation encoding="application/x-tex">A^{2}B-2AB</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>可将<code>B</code>提取，化简为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msup><mi>A</mi><mn>2</mn></msup><mo>−</mo><mn>2</mn><mi>A</mi><mo stretchy="false">)</mo><mo>∗</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">(A^{2}-2A)*B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mord mathnormal">A</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>，得到：（图片P3-5:28）</p><p><strong>矩阵相乘的一些注意事项</strong></p><ul><li><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">A=\begin{pmatrix}  0&amp; 0 &amp;0\\  0&amp; 0 &amp; 0\\  0&amp; 0 &amp; 0\end{pmatrix}=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 任何矩阵与零矩阵相乘都会成为零矩阵</p></li><li><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mi>E</mi></mrow><annotation encoding="application/x-tex">\begin{pmatrix}  1&amp; 0 &amp;0\\  0&amp; 1 &amp; 0\\  0&amp; 0 &amp; 1\end{pmatrix}=E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span></span></span></span> 除了对角线全是1，其他都是 0（不论多少阶）。<code>E</code>矩阵的行列数取决于与它运算的式子的行列，它随所运算的式子的行列数而更改，并不是固定的一个行列数。任何矩阵与<code>E</code>相乘都不变，<code>E</code>自己相乘结果也是<code>E</code>。即<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>∗</mo><mi>E</mi><mo>=</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">A*E=A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo>∗</mo><mi>A</mi><mo>=</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">E * A =A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>E</mi><mn>2</mn></msup><mo>=</mo><mi>E</mi><mo>∗</mo><mi>E</mi><mo>=</mo><mi>E</mi></mrow><annotation encoding="application/x-tex">E^{2}=E * E =E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span></span></span></span>。</p></li><li><p>矩阵相乘有顺序，先后不能颠倒，<code>AB</code>与<code>BA</code>不一定相等。在化简时同样，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mn>2</mn></msup><mi>B</mi><mo>−</mo><mn>2</mn><mi>A</mi><mi>B</mi><mo>=</mo><mo stretchy="false">(</mo><msup><mi>A</mi><mn>2</mn></msup><mo>−</mo><mn>2</mn><mi>A</mi><mi>B</mi><mo stretchy="false">)</mo><mo>∗</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A^{2}B-2AB=(A^{2}-2AB)*B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>是允许的，因为化简后<code>B</code>在后面。但<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mn>2</mn></msup><mi>B</mi><mo>−</mo><mn>2</mn><mi>A</mi><mi>B</mi><mo>=</mo><mi>B</mi><mo>∗</mo><mo stretchy="false">(</mo><msup><mi>A</mi><mn>2</mn></msup><mo>−</mo><mn>2</mn><mi>A</mi><mi>B</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">A^{2}B-2AB=B*(A^{2}-2AB)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span></span></span></span>则是不允许的。</p></li><li><p>矩阵中没有出发，无法根据<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>X</mi><mo>=</mo><mi>A</mi><mi>Y</mi></mrow><annotation encoding="application/x-tex">AX=AY</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>就推测出<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>=</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">X=Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span></p></li><li><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>A</mi><mi>B</mi><msup><mo stretchy="false">)</mo><mi>k</mi></msup></mrow><annotation encoding="application/x-tex">(AB)^{k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.099108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span></span></span></span>与<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mi>k</mi></msup><msup><mi>B</mi><mi>k</mi></msup></mrow><annotation encoding="application/x-tex">A^{k}B^{k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.849108em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span></span></span></span>不一定相等，无法展开。</p></li><li><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mi>k</mi><mo>+</mo><mi>j</mi><mo stretchy="false">)</mo><mi>A</mi><mi>B</mi><mo>+</mo><mi>k</mi><mi>j</mi><msup><mi>B</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">A^{2}+(k+j)AB+kjB^{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span>与<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>A</mi><mo>+</mo><mi>k</mi><mi>B</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>A</mi><mo>+</mo><mi>j</mi><mi>B</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(A+kB)(A+jB)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span></span></span></span>不一定相等，无法展开（A 或 B有一项是E矩阵除外）。</p></li></ul><ol start="3"><li><strong>计算矩阵对应行列式</strong></li></ol><p>已知<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>10</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>14</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">A=\begin{pmatrix}  2&amp; 4 &amp;6\\  4&amp; 6 &amp; 8\\  8&amp; 10 &amp; 14\end{pmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span></span></span></span>，求$\left | A \right | $。将该矩阵的括号换成行列式的竖线，计算行列式取值即可。</p><p>公式：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">∣</mo><mi>λ</mi><mi>A</mi><mo fence="true">∣</mo></mrow><mo>=</mo><msup><mi>λ</mi><mi>n</mi></msup><mrow><mo fence="true">∣</mo><mi>λ</mi><mi>A</mi><mo fence="true">∣</mo></mrow></mrow><annotation encoding="application/x-tex">\left | \lambda A \right |=\lambda^{n}\left | \lambda A \right |</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">∣</span><span class="mord mathnormal">λ</span><span class="mord mathnormal">A</span><span class="mclose delimcenter" style="top:0em;">∣</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">∣</span><span class="mord mathnormal">λ</span><span class="mord mathnormal">A</span><span class="mclose delimcenter" style="top:0em;">∣</span></span></span></span></span>。如上矩阵，所有数字都是 2 的倍数，即可将 2 提出，</p><p>变为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><mn>2</mn><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">A=2\begin{pmatrix}  1&amp; 2 &amp;3\\  2&amp; 3 &amp; 4\\  4&amp; 5 &amp; 7\end{pmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span></span></span></span>，即<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">∣</mo><mi>A</mi><mo fence="true">∣</mo></mrow><mo>=</mo><msup><mn>2</mn><mi>n</mi></msup><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow></mrow><annotation encoding="application/x-tex">\left | A \right | =2^{n}\begin{vmatrix}  1&amp;  2&amp; 3\\  2&amp;  3&amp; 4\\  4&amp;  5&amp; 7\end{vmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">∣</span><span class="mord mathnormal">A</span><span class="mclose delimcenter" style="top:0em;">∣</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.64199em;vertical-align:-1.5500299999999998em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0919600000000003em;"><span style="top:-1.05597em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65697em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.2579700000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.8589700000000002em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.45997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.4909600000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.09196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500299999999998em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0919600000000003em;"><span style="top:-1.05597em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65697em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.2579700000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.8589700000000002em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.45997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.4909600000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.09196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500299999999998em;"><span></span></span></span></span></span></span></span></span></span></span></p><ol start="4"><li><strong>矩阵转置</strong></li></ol><p>已知<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">A=\begin{pmatrix} 1 &amp; 0 &amp;1\end{pmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.20001em;vertical-align:-0.35001em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8500000000000001em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35000000000000003em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8500000000000001em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35000000000000003em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8500000000000001em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35000000000000003em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span></span>，求<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mi>T</mi></msup><mi>A</mi><msup><mi>A</mi><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">A^{T}AA^{T}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span><span class="mord mathnormal">A</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></span>。</p><p>补充说明：矩阵 A 右上角加上 T 后，就代表转置了。它的行变成列，列变成行，即<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mi>T</mi></msup><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">A^{T}=\begin{pmatrix} 1 \\ 0 \\1 \end{pmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>所以 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mi>T</mi></msup><mi>A</mi><msup><mi>A</mi><mi>T</mi></msup><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>∗</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>∗</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>∗</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">A^{T}AA^{T}=\begin{pmatrix} 1 \\ 0 \\1 \end{pmatrix}*\begin{pmatrix} 1 &amp; 0 &amp;1\end{pmatrix}*\begin{pmatrix} 1 \\ 0 \\1 \end{pmatrix}=\begin{pmatrix}  1&amp; 0 &amp;1\\  0&amp; 0 &amp;0 \\  1&amp; 0 &amp; 1\end{pmatrix}*\begin{pmatrix} 1 \\ 0 \\1 \end{pmatrix}=\begin{pmatrix} 2 \\ 0 \\2 \end{pmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span><span class="mord mathnormal">A</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.20001em;vertical-align:-0.35001em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8500000000000001em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35000000000000003em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8500000000000001em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35000000000000003em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8500000000000001em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35000000000000003em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>从上面看，从左到右相乘时，会展开一个3*3的矩阵，计算起来比较麻烦。可以先用后面的单行乘以单列，计算结果为单行同样为单行单列。而单行单列的矩阵，括号就可以去掉，矩阵内数字相加，变成一个系数。再用前面的矩阵与该系数相乘，达到简化计算的效果，如下：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mi>T</mi></msup><mi>A</mi><msup><mi>A</mi><mi>T</mi></msup><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>∗</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>∗</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">A^{T}AA^{T}=\begin{pmatrix} 1 \\ 0 \\1 \end{pmatrix}*\begin{pmatrix} 1 &amp; 0 &amp;1\end{pmatrix}*\begin{pmatrix} 1 \\ 0 \\1 \end{pmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span><span class="mord mathnormal">A</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.20001em;vertical-align:-0.35001em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8500000000000001em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35000000000000003em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8500000000000001em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35000000000000003em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8500000000000001em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35000000000000003em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>∗</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mn>0</mn><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">\begin{pmatrix} 1 &amp; 0 &amp;1\end{pmatrix}*\begin{pmatrix} 1 \\ 0 \\1 \end{pmatrix}=(1+0+1)=(2)=2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.20001em;vertical-align:-0.35001em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8500000000000001em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35000000000000003em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8500000000000001em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35000000000000003em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8500000000000001em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35000000000000003em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mi>T</mi></msup><mi>A</mi><msup><mi>A</mi><mi>T</mi></msup><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>∗</mo><mn>2</mn><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">A^{T}AA^{T}=\begin{pmatrix} 1 \\ 0 \\1 \end{pmatrix}*2=\begin{pmatrix} 2 \\ 0 \\2 \end{pmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span><span class="mord mathnormal">A</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>其他公式:</p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>A</mi><mi>B</mi><msup><mo stretchy="false">)</mo><mi>T</mi></msup><mo>=</mo><msup><mi>B</mi><mi>T</mi></msup><msup><mi>A</mi><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">(AB)^{T}=B^{T}A^{T}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></span>：两个矩阵相乘后再转置的结果，等于第二个矩阵的转置乘以第一个矩阵的转置</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">∣</mo><msup><mi>A</mi><mi>T</mi></msup><mo fence="true">∣</mo></mrow><mo>=</mo><mrow><mo fence="true">∣</mo><mi>A</mi><mo fence="true">∣</mo></mrow></mrow><annotation encoding="application/x-tex">\left | A^{T} \right | =\left | A \right |</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.21799em;vertical-align:-0.35000999999999993em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8679800000000001em;"><span style="top:-2.2559899999999997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.26698em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.86798em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35000999999999993em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8679800000000001em;"><span style="top:-2.2559899999999997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.26698em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.86798em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35000999999999993em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">∣</span><span class="mord mathnormal">A</span><span class="mclose delimcenter" style="top:0em;">∣</span></span></span></span></span>： 一个矩阵转置的绝对值等于这个矩阵的绝对值。（绝对值指的是行列式）</li></ul><ol start="5"><li><strong>证明矩阵可逆</strong></li></ol><p>可逆条件：</p><ol><li>该矩阵为方阵，即行列数相等。</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">∣</mo><mi>A</mi><mo fence="true">∣</mo></mrow><mo mathvariant="normal">≠</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\left | A \right | \ne 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">∣</span><span class="mord mathnormal">A</span><span class="mclose delimcenter" style="top:0em;">∣</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 或者存在一个矩阵B，满足<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>B</mi><mo>=</mo><mi>E</mi></mrow><annotation encoding="application/x-tex">AB=E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span></span></span></span>或者<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mi>A</mi><mo>=</mo><mi>E</mi></mrow><annotation encoding="application/x-tex">BA=E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span></span></span></span></li></ol><p>方阵和计算矩阵的行列式比较简单，寻找矩阵B相对复杂，这里不做阐述。</p><ol start="6"><li><strong>求逆矩阵</strong></li></ol><p>计算方式：将矩阵<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>A</mi><mi><mi mathvariant="normal">⋮</mi><mpadded height="+0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"></mspace></mpadded></mi><mi>E</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(A\vdots E)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.75em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mord"><span class="mord">⋮</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mclose">)</span></span></span></span>进行1.换行; 2.某行乘一个数; 3. 一行加上或减去另一行乘数字 变成<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>E</mi><mi><mi mathvariant="normal">⋮</mi><mpadded height="+0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"></mspace></mpadded></mi><msup><mi>A</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(E\vdots A^{-1})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.75em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord"><span class="mord">⋮</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><p>已知<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">A=\begin{pmatrix} 1 &amp;2  &amp;3 \\ 2 &amp;3  &amp;4 \\ 4 &amp;5  &amp;7\end{pmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span></span></span></span>，求<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">A^{-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></p><p>解答：需要在矩阵右边添加一个 单位矩阵<code>E</code>，经过一系列计算变换，将前半部分矩阵变成 <code>E</code>，并获取后半部分矩阵。</p><p>通过与 r1 、r2计算，使对角线左下方数字变为0；再通过与 r2 、r3计算，使对角线右上方数字变为0.</p><p>使得矩阵 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnalign="left left left left left left" columnlines="none none solid none none" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><annotation encoding="application/x-tex">\left(\begin{array}{lll|lll}1 &amp; 2 &amp; 3 &amp; 1 &amp; 0 &amp; 0 \\2 &amp; 3 &amp; 4 &amp; 0 &amp; 1 &amp; 0 \\4 &amp; 5 &amp; 7 &amp; 0 &amp; 0 &amp; 1\end{array}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="vertical-separator" style="height:3.6em;border-right-width:0.04em;border-right-style:solid;margin:0 -0.02em;vertical-align:-1.5500000000000003em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span></span></span></span> 变换成 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnalign="left left left left left left" columnlines="none none solid none none" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mn>1</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mn>1</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mn>2</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mn>2</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mn>3</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><annotation encoding="application/x-tex">\left(\begin{array}{lll|lll}1 &amp;  0&amp; 0 &amp; -1 &amp; -1 &amp; 1 \\0 &amp; 1 &amp; 0 &amp; -2 &amp; 5 &amp; -2 \\0 &amp; 0 &amp; 1 &amp; 2 &amp; -3 &amp; 1\end{array}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="vertical-separator" style="height:3.6em;border-right-width:0.04em;border-right-style:solid;margin:0 -0.02em;vertical-align:-1.5500000000000003em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">2</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">2</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span></span></span></span>，后半部分的矩阵就是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">A^{-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></p><p>注意：</p><ul><li>对角线数字必须为1，否则无法计算后续。</li><li>只能先将左下角数字变换为0，再将右上角数字变换为0，顺序不能乱。</li><li>计算需严谨，一步错步步错</li></ul><ol start="7"><li><strong>利用<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>∗</mo><msup><mi>A</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>=</mo><mi>E</mi></mrow><annotation encoding="application/x-tex">A*A^{-1}=E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span></span></span></span> 或 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>∗</mo><mi>A</mi><mo>=</mo><mi>E</mi></mrow><annotation encoding="application/x-tex">A^{-1}*A=E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span></span></span></span> 计算</strong></li></ol><p>证明题：已知<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">A=\begin{pmatrix} 1 &amp;2  &amp;3 \\ 2 &amp;3  &amp;4 \\ 4 &amp;5  &amp;7\end{pmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span></span></span></span>、<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">B=\begin{pmatrix} 1 &amp;2   \\ 2 &amp;1  \end{pmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.40003em;vertical-align:-0.95003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span></span></span></span>、<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">C=\begin{pmatrix} 1 &amp;4  \\ 2 &amp;5  \\ 3 &amp;6 \end{pmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V300 H291 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.2550000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="overlay" style="height:0.3em;width:0.875em;"><svg width="0.875em" height="0.3em" style="width:0.875em" viewbox="0 0 875 300" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V300 H457 z"/></svg></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span></span></span></span>，求矩阵 X 使其满足<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>X</mi><mi>B</mi><mo>=</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">AXB=C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span></p><p>解：</p><p>在等号两边同时乘以<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">A^{-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span>，则<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mi>A</mi><mi>X</mi><mi>B</mi><mo>=</mo><msup><mi>A</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mi>C</mi></mrow><annotation encoding="application/x-tex">A^{-1}AXB=A^{-1}C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span>，由于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>∗</mo><mi>A</mi><mo>=</mo><mi>E</mi></mrow><annotation encoding="application/x-tex">A^{-1}*A=E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span></span></span></span> ，所以<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>X</mi><mi>B</mi><mo>=</mo><msup><mi>A</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mi>C</mi></mrow><annotation encoding="application/x-tex">EXB=A^{-1}C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span></p><p>由于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi></mrow><annotation encoding="application/x-tex">E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span></span></span></span>乘以任何矩阵都等于矩阵本身，所以这里的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi></mrow><annotation encoding="application/x-tex">E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span></span></span></span>可以消除：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mi>B</mi><mo>=</mo><msup><mi>A</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mi>C</mi></mrow><annotation encoding="application/x-tex">XB=A^{-1}C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span></p><p>在等号两边同时乘以<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>B</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">B^{-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span>，则：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mi>B</mi><msup><mi>B</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>=</mo><msup><mi>A</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mi>C</mi><msup><mi>B</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">XBB^{-1}=A^{-1}CB^{-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></p><p>由于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>∗</mo><msup><mi>A</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>=</mo><mi>E</mi></mrow><annotation encoding="application/x-tex">A*A^{-1}=E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span></span></span></span> ，同理<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><msup><mi>B</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">BB^{-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span>可用<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi></mrow><annotation encoding="application/x-tex">E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span></span></span></span>来替代。即：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mi>E</mi><mo>=</mo><msup><mi>A</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mi>C</mi><msup><mi>B</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">XE=A^{-1}CB^{-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></p><p>由于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi></mrow><annotation encoding="application/x-tex">E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span></span></span></span>乘以任何矩阵都等于矩阵本身，所以这里的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi></mrow><annotation encoding="application/x-tex">E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span></span></span></span>可以消除：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>=</mo><msup><mi>A</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mi>C</mi><msup><mi>B</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">X=A^{-1}CB^{-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></p><ol start="8"><li><strong>利用<code>A·A*=|A|E 或 A*·A=|A|E</code>计算</strong></li></ol><p><code>A*</code>代表A的伴随矩阵</p><p>如果出现了<code>A*</code>，将公式套入即可</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202304191626899.png" alt></p><ol start="9"><li><strong>求矩阵的秩</strong></li></ol><p>已知<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>9</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><annotation encoding="application/x-tex">\begin{pmatrix} 1 &amp;  2&amp;  3&amp;4 \\ 2 &amp;  4&amp;  6&amp;8 \\ 4 &amp;  5&amp;  6&amp;7 \\ 1 &amp;  2&amp;  6&amp;9\end{pmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.80006em;vertical-align:-2.15003em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500299999999997em;"><span style="top:-1.6499900000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-2.8000000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎜</span></span></span><span style="top:-3.39501em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎜</span></span></span><span style="top:-3.41001em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎜</span></span></span><span style="top:-4.65003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15003em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">9</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500299999999997em;"><span style="top:-1.6499900000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-2.8000000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎟</span></span></span><span style="top:-3.39501em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎟</span></span></span><span style="top:-3.41001em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎟</span></span></span><span style="top:-4.65003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15003em;"><span></span></span></span></span></span></span></span></span></span></span>，求<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">(</mo><mi>A</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R(A)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mclose">)</span></span></span></span></p><p>先对矩阵进行行变换，使下行左端的 0 比上航多，知道下面行全为 0 为止。</p><p>注意：</p><ul><li>必要条件：下一行左边的 0 必须比上一行多，相同多是不对的。</li><li>如果倒数2行都为0，那么也是允许的。（即时 0 的数量相同）</li><li>最后一行不全为 0 也没问题，只要保证必要条件即可</li></ul><p>矩阵变换完成后，找出有几行是有非 0 数的，例如变换结果<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><annotation encoding="application/x-tex">\begin{pmatrix} 1 &amp;  2&amp;  3&amp;4 \\ 2 &amp;  4&amp;  6&amp;8 \\ 4 &amp;  5&amp;  6&amp;7 \\ 0 &amp;  0&amp;  0&amp;0\end{pmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.80006em;vertical-align:-2.15003em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500299999999997em;"><span style="top:-1.6499900000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-2.8000000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎜</span></span></span><span style="top:-3.39501em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎜</span></span></span><span style="top:-3.41001em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎜</span></span></span><span style="top:-4.65003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15003em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500299999999997em;"><span style="top:-1.6499900000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-2.8000000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎟</span></span></span><span style="top:-3.39501em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎟</span></span></span><span style="top:-3.41001em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎟</span></span></span><span style="top:-4.65003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15003em;"><span></span></span></span></span></span></span></span></span></span></span>有三行有非 0 数，那么<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">(</mo><mi>A</mi><mo stretchy="false">)</mo><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">R(A)=3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span></p><ol start="10"><li><strong>已知矩阵的秩，求矩阵里的未知数</strong></li></ol><p>略</p>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>数学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>关于比亚迪DM-i车型EV受限的长文分析</title>
    <link href="/post/5d46f58f.html"/>
    <url>/post/5d46f58f.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>转载自<a href="https://www.dongchedi.com/ugc/article/7061984906112401956">懂车帝秦plus DM-i车友圈</a></p><p>自从DM-i车型上市以来，受到关注颇多，然而最近非议甚多，主要集中在动力受限问题上。于是，本人对购买该车型前的须知内容进行梳理。</p><p>首先，最重要的，请各位一定要明确，DM-i车型本质上不是一辆带有电池电机能上绿牌的油车，而是一辆带有发电机的电车！电车！电车！重要的话说上三遍！也就是说，这辆车可以不加油纯电行驶，但绝不可以让电池没电（这是下文的伏笔）。</p><p>其次，诸位要明白DM-i系统省油的原理。第一，其搭载的发动机是一种超膨胀发动机，原理本质上就是让发动机少喷油同时拉长做工行程，结果就是省油但是马力和扭矩小（打个比方，骁云发动机一分钟用一份油做两份工，普通发动机一分钟用两份油做三份工），从而做到高效的燃油经济性。第二，最核心的一点是它的传动模式。发动机的效率绝不是一成不变的，在不同转速和扭矩时一份油做的功不一样，纯油车市区低速行驶时，发动机长期处于低效运行状态，同时怠速工况造成了燃油的白白浪费。而DM-i系统在低速时发动机并不与车轴相连，而是专心在高效转速给发电机充电，再用电驱动车轴马达，多余的电能就会存进电池，充满了电发动机直接关掉，因此不存在怠速一说——换言之，车辆移动需要多少能量发动机就产生多少能量，因此在市区低速环境下非常省油。但在高速工况下，纯油车的发动机转速高负载小，自然工作在高效状态，此时DM-i车型则是发动机直接驱动车轮，两者不存在差别——因此DM-i高速省油效果并不明显。</p><p>最后，也是最敏感的问题，那就是“动力受限”的可能原因与对策。请大家好好看一下，在圈子里反映的“EV受限”问题，绝大多数发生在哪里？高速上；绝大多数在什么工况？高速行驶的时候突然动力受限。结合这两点，其实可能的原因已经很清楚了。大家可以再看看配置表上这个1.5L发动机的功率，然后看看驱动马达的功率，你会发现发动机发电的功率远小于马达最大功率，也就是说，如果把电池比作水库，在长时间高负载情况下水库从上游（发动机）得到的水抵不过下游放出去的水（马达），那自然就会保不住水位（电量）。而什么时候最最容易出现这种情况呢？很简单，高速行驶+ECO模式（优先用电）+频繁超车，就会导致电量越过最低临界点而强制保电，其中一个措施就是强制降速了。此外，磷酸铁锂电池的特性可能起到了推波助澜的作用，因为磷酸铁锂电池天生就具有低温性能差的问题，DMi车型又没有对低温环境下电池做特殊优化（像海豚那样），导致冬季电池折损更加严重，加剧了北方地区高速动力受限的情况。</p><p>当然，可能会有人问，为何发动机不能直接驱动车轮？这就回到了我提到的第一点，这车本质上是电动车，同时阿特金森发动机低扭特性极差，根本没办法低速直驱车辆，因此低速必须通过电动机驱动，在电量低下时，连低速行驶也会难以实现，所以为了防止电池被彻底榨干而真的一点动力没有，电控会在低于平衡点后主动限制电能释放从而为发动机馈电争取机会。</p><p>说了这么多，其实在比亚迪官方发布通告之前，以上的这一切都是我本人基于理论知识而进行的推导。在这里。我给厂家提出几个诉求：</p><p>1、及时优化电控逻辑，调高强制保电的电量平衡点，同时建议在40下设置为退强制退出ECO模式；</p><p>2、加强4S店以及经销网点对消费者的科普力度，我曾经去过三家以上比亚迪4S店，没一家营销人员明白系统的工作逻辑，更别提普通的消费者；</p><p>3、针对已经发生的动力受限情况进行官方答复，至少找出让人信服的问题点。</p><p>针对消费者，有以下忠告：</p><p>1、在购车预算充足的前提下尽量选择大电池的版本；</p><p>2、主动了解DM-i系统的工作逻辑，一定要意识到这车跟普通燃油车完完全全两码事；</p><p>3、跑高速的时候一定要退出ECO模式切换到SPORT模式，尽量让发动机出力，同时将强制保电设定到超过50%的位置上，如果发现仍然难以保住电量，适当降低一点车速，不要频繁超车激烈驾驶；</p><p>4、最后，如果仍然有顾虑，大可以看看其他厂商的混动产品。个人私货是比较看好长城DHT混动，有两个直驱档位，拓展了发动机的介入区间。</p><p>评论区</p><hr><p>你说的这个感觉有道理，以后在亏电状态下，需要大功率输出时，尽量不用经济模式。 但是这可能只是ev受限的其中的一个原因，而不是全部。因为见过ev受限后厂家主动叫车主换电池的，换控制器单元的，所以说，只要是三电系统里面的某个部分出问题了，都会有可能导致ev受限。</p><hr><p>想法是好的，但这绝不是主要原因！<strong>ev受限大多都是换电池解决的</strong>，也不乏很多新车在市区出现ev受限直接趴窝的情况，根本问题还是电池稳定性问题。 我猜测很多高速出问题很可能是电池本身已经有问题了，只是高速的长时间大负荷输出把问题暴露出来而已！就像很多人平时开的好好的却接到通知到4s店升级(换电池)，之前还有车主每次充电量按电池百分比算下来都感觉小很多，售后一检测发现电池坏了需要换，这平时市区都没表现出来，但确实都是电池问题导致的！ 另外高速巡航的功率需求1.5的阿特金森完全可以满足，没有你想象的那么大！</p><hr><p>就正常模式，强制保电70就行啦，随便开</p><hr><p>只能说你知其一不知其二，发电那个比喻引用数据完全错误，不存在你说的发电不够电机输出的情况，电机最大功率145kw没错，但通常电机是在额定功率工况下工作，发电完全没有问题，如果厂家这个都没想到，那还搞锤子的混动。ev受限最大原因是电芯质量问题以及电路线束接口保护出现故障码</p><hr><p>这个要申精啊，必须顶，让更多车主看到。确实有太多车主是根本不了解这套动力系统的，设置也是一个eco走天下。记住开这车的核心思想就是不要用eco，强制保电！！！</p><hr><p>简单的说就是要保证电池电量</p>]]></content>
    
    
    <categories>
      
      <category>News</category>
      
    </categories>
    
    
    <tags>
      
      <tag>导购</tag>
      
      <tag>车</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python3 -u参数详解</title>
    <link href="/post/a5bc3b74.html"/>
    <url>/post/a5bc3b74.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p><code>sys.stdout.write()</code>：python中调用<code>print</code>时，事实上调用了<code>sys.stdout.write(obj+'\n')</code></p><p>Python 中标准输出<code>stdout</code>默认需要缓存后再输出到屏幕，只有遇到换行或积累到一定大小才会输出。</p><p>而标准错误<code>stderr</code>则直接输出。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> sys<br><br>sys.stdout.write(<span class="hljs-string">&quot;stdout1&quot;</span>)<br>sys.stderr.write(<span class="hljs-string">&quot;stderr1&quot;</span>)<br>sys.stdout.write(<span class="hljs-string">&quot;stdout2&quot;</span>)<br>sys.stderr.write(<span class="hljs-string">&quot;stderr2&quot;</span>)<br></code></pre></td></tr></table></figure><p>如上代码运行结果为：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">stderr1stderr2stdout1stdout2<br></code></pre></td></tr></table></figure><p>-u 参数强制标准输出跟标准错误一样，不通过缓存直接打印至屏幕。一般在处理运行 Python 脚本的日志问题时需要注意到这点。更换成 <code>python -u</code>就正常按照语句的顺序来打印了</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">python temp.py<br>stderr1stderr2stdout1stdout2<br>python -u temp.py<br>stdout1stderr1stdout2stderr2<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>为什么长辈总喜欢用他们的那套思维束缚子女？</title>
    <link href="/post/73d16dde.html"/>
    <url>/post/73d16dde.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>站长评价：第一次看这篇文章，觉得很有道理。但后面多看几遍，发现有些论点有些站不住脚。但是由于本人的知识储备还不够，是个文盲，无法反驳这些观点。只好先码住，等想起来了再记上。</p><hr><p>我很喜欢跟郭锦程聊天，因为他知识面广，总能说出些让人惊喜的观点。有次我们一起看球，比赛前的空隙，就聊到了什么是底层思维Q</p><p>郭锦程:「一个人若要实现阶层跃迁Q，首先得摆脱被剥削的状态，对吧?」</p><p>我说:「是啊，不然越努力越悲催，永远都逃不脱贫旁循环。」</p><p>郭锦程:「但如果思维认知上不去，阶级身份也不可能跟得上，在我们的传统里，有一款最经典的底层思维，绵延两千多年，且已内化到文化基因中，根深蒂固，防不胜防，你我的身上，或多或少都有些印记。」</p><p>我:「你指的是「小农思想」 ? 」</p><p>锦程:「不错，你看哈，在对农民的描述中，用的最多的词，除了「吃苦耐劳」 ，就是「老实巴交」。这种词汇，要是用来描述你，你多半是不开心的，但若是用来描述你的员工或下厘，你肯定会很开心。<strong>这么一联想，你肯定就能知道，什么样的人，自己不想当农民，却希望别人都是农民!</strong>」</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202303131757674.png" alt></p><p>我说：「岂不是说小农们是被 pua 的受害者？」</p><p>锦程：「坏就坏在这里，被小农思想 pua 的受害者，又会反过来用它去 pua 别人，就像病毒一样，人传人，代传代。沾上你，就势必要把你异化成牛马，让你平庸且痛苦。你抗拒？那就把你打成叛逆和异端，极尽批评、排斥，让你孤独且痛苦。」</p><p>他翻出知乎上的另一个话题给我看。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202303131749397.png" alt></p><p>锦程：「我就是从农村一路考出来的人，对老家的人谈不上厌恶，更谈不上优越感，反而有些痛苦，总之是很复杂的情绪。 一方面，与其说是对老家人厌恶，不如说是对曾经的自己很厌恶，或者说是厌恶那个迫切需要被改变的自己。 另一方面，则是因为无法沟通，只能刻意疏离，以逃避必然爆发的观念冲突——你知道他们是错的，你也知道他们因何而错，但他们却认为，是你在外面学坏了。就比如生孩子这个话题吧，像你这个年纪，还不结婚不生娃，要是在我们老家，肯定会被判个大逆不道，人人都要对你耳提面命几句。」</p><p>我：「给这么大压力么？」</p><p>他：「可不是么？你说那些八竿子才打得着的亲戚，见面就问，孩子多大啦？怎么还没生呢？怎么能不生呢？他是真的关心你过得幸福不幸福么？  笑话，他连你是怎么想的，你的需求是什么都不关心。</p><p><strong>他只是不想看到有人的选择跟他不一样而已，就用一种对抗的态度，给你施加压力。</strong>」</p><p>我：「不错，其实我并不排斥和人讨论生 or 不生的话题，甚至希望听到一些有说服力的观点，但我真的很反感对方用规训的态度，来干涉我的选择。」</p><p>他说：「规训这个词，太到位了——他根本不是关心你，而是在规训你！王小波是怎么描述规训的？他在《黄金时代》中说：  <strong>对于格外生性者，就须采取槌骟术，也就是割开阴囊，掏出睾丸，一木槌砸个稀烂。 从此后手术者只知道吃草干活，别的什么都不知道，连杀都不用捆。</strong></p><p>你不妨代入一下那头格外生性的牛——你知道他们为什么要阉割你，也知道阉割后你会是个什么死样子，但他们就是要当着你的面，阉割你，还硬要说是为你好，你什么感受？」</p><p>我有点质疑地说：「我能理解传统思维对人的压迫和规训，但是不是有点把老家人想得太坏了？他们或许只是出于本能地不喜欢『离经叛道』者罢了，并没有太多主观上的『坏』。」</p><p>他说：「这才是最让人无奈的地方，因为他们身在『坑』中却不自知，你好不容易才从『坑』里爬了出来，但他们还想把你往下拽！」</p><p>我：「为什么说这种思想是『坑』呢？」</p><p>他：「<strong>因为它被设计出来时，就是为了困住人、剥削人的</strong>。你知道思想是可以被设计的，对吧？」</p><p>我：「知道，在《三体》中，希恩斯通过『思想钢印』给自己注入了『水有毒』的思想，后来即使渴死，也喝不进哪怕一滴水。但那是在科幻世界，啥都可以设计，小农思想要怎么设计？」</p><p>他：「小农思想不是被直接设计出来的，而是在小农经济中衍生的，但小农经济之所以能成为古代封建经济的主流，完全是出于人为意志的筛选。<strong>什么叫小农思想？就是那种为满足个人温饱，在一小块地上自耕自作，无约束、无协作、无交换而长期形成的一种思想观念和行为习惯</strong>。古代的统治者虽然无法制造出思想钢印，但是只要把老百姓的生活格局限制在小农经济中，小农思想就会自动生成。」</p><p>我：「所以你认为小农经济不是自然形成的，而是被封建体制给创造出来的？」</p><p>他：「也不能说是创造，小农经济的形成过程，应该还是自然的，但古代集权体制封堵了其他经济形式的可能，让小农一家独大。这个过程，就跟思想界，原本是百家争鸣，最后却独尊了儒术一样。<strong>小农经济和儒家思想，都是作为集权统治最有效的两套工具而被筛选了出来，然后培育成了禁锢华夏文明的参天大树</strong>。历史课本把春秋及之前的社会称为『奴隶制』，把战国及秦之后的社会称为『封建制』，其实不太合理。  **因为奴隶不是一种制度，而是一种身份，即使到清朝，依然存在卖身的农奴。**把秦到清按封建社会划分，是西方人的提法，他们按西方社会演进的时间轴来理解我国社会。<strong>但他们并没有经历长期的大一统，西方的封建制一直延续到了资产阶级革命，而我们的封建制，早在秦汉时期就结束了。</strong></p><p>秦始皇和汉武帝都想打造出一套高效的中央集权体制，以便集中全天下的资源为自己所用，只是他们用到的办法，很不相同。  秦始皇用的是暴力，繁刑重敛，结果二世而亡。汉武帝则吸取了这个教训，采用了更温和的『教化』手段，用哲学家福柯的话说，就是从『刑罚社会』，过渡到了『规训社会』。 从此，中央集权制登上历史舞台，并绵延两千多年。虽然汉武帝换了条路线，但他及后世皇帝的统治目标，和秦始皇一毛一样，所谓『<strong>百代以来，皆行秦法</strong>』说的就是这个意思。  秦法是什么法？  <strong>按《商君书》的说法，秦法是贫民之法，疲民之法、辱民之法、弱民之法，以及愚民之法</strong>。  即秦法要打造的，是只知低头干活，毫无反抗意志的工具人。  假设我是官，你是民，你觉得我会怎么控制你？  首先是使你保持穷困，人穷则志短，这样随便给你点甜头，就能役使你。</p><p><strong>说到底，穷人才是红利，廉价劳动力嘛，一旦变富，就会推高劳动成本，减少劳动剩余</strong>。</p><p>其次就是用垄断刚需产品的方式，来抬高生活成本，让你为获取生存物资而不停劳作，这样你就不会想七想八，从而利于控制。第三，是给社会分个三六九等，并在文化上羞辱底层，打击你的自尊自信，使你自轻自贱，觉得穷人就没资格如何如何，这样你就会迷信权威，认为地位越高的人，说话就越对。 第四，是干掉带头搞事的刺头，那剩下的就都是软蛋了。最后就是搞知识垄断，使你的认知维持在低水平，这样你就无法识破社会的运转逻辑，那我对你，就是有知对无知，从而更容易控制你。」</p><p>我说：「听上去似乎很厉害，但具体要怎么实施呢？」</p><p>他说：「无非就是历史书上常说的那些——重税、连坐、重农抑商、利出一孔……  但这些政策的实施，最终都落实在小农经济这个环节。  要提取经济资源，要贫民、疲民，那就得重税，但你是不是觉得史书记载的农业税并不高，谈不上重税？」</p><p>我：「古代对土地征的税，可能是不高，但还有另外两种税，  一是徭役，杜甫《石壕吏》中『急应河阳役，犹得备晨炊』说的就是这个。  二是「盐铁官营」，相当于古代版的工农业剪刀差，本质上也是税。」</p><p>他：「不错，为了更大限度地从民间提取劳劳动剩余，历朝历代的统治者，都最喜欢农民，  <strong>因为农民是被绑在一亩三分地上的，控制成本最低，人为阻止人口流动的保甲制、里坊制、连坐制……都是证据</strong>。  古代皇帝动不动就说重农抑商，其实他们要抑制的只是民商，因为要把高利润的商业机会，全都垄断到官商手中，『盐铁官营』就是很重要的一例。</p><p>他们讨厌的也只是商人，而不是商业，<strong>因为皇帝们认为商人有很强的组织能力，会威胁君主权威，是必须要干掉的强民</strong>，  此外还有豪侠，这些人爱打抱不平，总是一呼百应，也是威胁。  再就是知识分子，他们来自诸子百家，思想自由，不光难以被规训，还会煽动其他人。</p><p><strong>总之就是要『焚百家之言，以愚黔首；隳名城，杀豪杰……以弱天下之民』</strong>。  现在想想，乾隆拒绝与英国通商，真的是他傲慢无知？  恐怕是他太了解商业所塑造的资产阶级会撼动皇权了吧！  不让做商人，也不让做豪侠，还不让多读书……</p><p><strong>什么叫「利出一孔」？  就是锁死一切人们可以自我发展的上升通道——想要升官发财，你只能依附于皇权官僚这套体制</strong>。  利出一孔+依附体制，对于普通老百姓来说，结果就是出路单一，于是内卷文化，由此而生！  也就是说，<strong>统治者自己不想当农民，但希望别人都是农民——不要乱跑，不要乱想，归顺他，依附他……</strong>」</p><p>我又问：「那为什么是小农而不是大农呢？」</p><p>他：「小农对应的是自耕农和佃农，大农对应的是规模农业和农场主。  那大农还是农吗？不是，是地主。  最大的地主，就是皇帝本人，  再往下则是豪强、地头蛇，这些人，一方面是依附体制而升官发财的典型，另一方面又是皇帝的挑战者。  皇帝怕张角、王薄、李自成么？怕，但更怕曹操、李渊、吴三桂。</p><p><strong>也就是说，体制内部也不是铁板一块——大农没发展起来的时候，意味着皇权一统、社会稳定；大农发展起来以后，意味着土地兼并、豪强并起</strong>。  所以鲁迅说，古代中国只有两个时代——<strong>做稳奴隶的时代，和连奴隶都做不稳的时代</strong>。</p><p>既然皇帝要坐稳龙椅，自然要『小农』，而不要『大农』。  但我们都知道，小农经济本身并不稳定。  它首先是分散，其次是缺乏交换，这样单薄又单一的经济系统，必然是低效且脆弱的。  就像自然界的生态系统一样，越简单越脆弱。  <strong>脆弱，就会畏惧不稳定。  畏惧不稳定，就会进化出求稳的思想</strong>，  然后便逐渐演绎出后来我们所看到的小农社会的特点，比如宗族依附，比如思想保守……  <strong>我们甚至可以说——小农经济本身的不稳定，促成了阶级社会的稳定</strong>……</p><p>转载自<a href="https://www.zhihu.com/question/538846835/answer/2811876701">知乎</a></p>]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Life</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>IOS-自带邮件添加Gmail邮箱</title>
    <link href="/post/c8056d43.html"/>
    <url>/post/c8056d43.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>前提条件：挂梯子</p><p>说明：以下截图都是添加成功后打开的，正常的添加过程可能与此顺序不同，问题不大！</p><p>省流：使用Google两步验证中的专用密码验证账户。</p><h3 id="正文"><a class="markdownIt-Anchor" href="#正文"></a> 正文</h3><p>从正常的Google入口自然是无法登陆的，之前尝试过很多次都没用，登陆的网页怎么都打不开。</p><p>真正的入口是最下面的【其他】。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202303151100430.png" alt></p><p>然后选择添加邮件账户。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202303151105229.png" alt></p><p>这里先正常输入全名自己随便写，电子邮件+密码就是你的邮箱+邮箱密码，描述是自动填充进去的。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202303151107836.png" alt></p><p>填写好之后会让你填写<strong>收件服务器 &amp; 发件服务器</strong>，如下是我已经填好了的，具体怎么填我待会儿说。在填写之前，首先确保你的Gmail已经开启了IMAP。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202303151114140.png" alt></p><h3 id="网页开启功能"><a class="markdownIt-Anchor" href="#网页开启功能"></a> 网页开启功能</h3><p>在Gmail 网页版—【设置】—【查看所有设置】—【转发和 POP/IMAP】—【IMAP访问】处点击最下面的<strong>配置说明</strong>。官方关于这方面的教程，就是这么多。</p><p>在网页端设置好就可以去设置手机端了。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202303151113477.png" alt></p><h3 id="配置收件服务器"><a class="markdownIt-Anchor" href="#配置收件服务器"></a> 配置收件服务器</h3><p>主机名：<a href="http://imap.gmail.com">imap.gmail.com</a></p><p>用户名：你的邮箱地址</p><p>密码：你的Google账号开启<strong>两步验证</strong>后的<strong>应用专用密码</strong></p><p>如下，两步验证开启之后，最底下有一个【应用专用密码】，设置好之后填写在收件服务器的密码处即可。这里我用邮箱密码它就会提示密码未输入，就很奇怪。找了很久才找到使用专用密码这个思路。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202303151126119.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202303151133894.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202303151119462.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202303151120899.png" alt></p><h3 id="配置smtp服务器"><a class="markdownIt-Anchor" href="#配置smtp服务器"></a> 配置SMTP服务器.</h3><p>主机名：<a href="http://smtp.gmail.com">smtp.gmail.com</a></p><p>用户名：你的邮箱地址</p><p>密码：你的邮箱密码</p><p>注意开启SSL 、鉴定（使用密码），这里的密码我直接用的是邮箱密码，亲测可用。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202303151122935.png" alt></p><p>最后回到这个页面选择【高级】，在收件设置这里打开SSL开关，鉴定选择密码即可。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202303151127317.png" alt></p><p>最后看一下效果，收发件均正常！</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202303151129927.png" alt></p>]]></content>
    
    
    <categories>
      
      <category>work</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Life</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python asyncio基本使用</title>
    <link href="/post/ce418c79.html"/>
    <url>/post/ce418c79.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p><code>asyncio</code>(读做：A-'Sing-K-IO) 是 Python3.4 引入的标准库，内置了对异步的支持。它的编程模型就是一个消息循环（事件循环），从<code>asyncio</code>模块中获取一个<code>eventLoop</code>，然后把需要执行的协程放进去，就实现了异步IO。</p><h2 id="主要概念"><a class="markdownIt-Anchor" href="#主要概念"></a> 主要概念</h2><ul><li>协程函数：定义函数时用的函数名</li><li>协程对象：执行协程函数得到的协程对象，如<code>result=func()</code>，<code>result</code>即协程对象。</li></ul><h2 id="协程代码demo"><a class="markdownIt-Anchor" href="#协程代码demo"></a> 协程代码demo</h2><p>在函数前面添加<code>async</code>，该函数类型就变成了协程函数，类型为<code>coroutine</code>，协程函数的特点是执行的时候可以暂停，交出执行权。</p><p>当执行引擎遇到下面的<code>await</code>命令时，线程不会等待这个 IO，而是直接中断并执行下一个消息循环，当 IO 阻塞结束，再回来继续往下运行。即：<strong>遇到 IO 阻塞时自动切换其他任</strong>务。</p><p>注：直接调用协程函数是不运行内部代码的，必须放入事件循环才能运行。</p><ul><li><code>asyncio.gather()</code>需要所有任务都执行结束，如某个携程函数崩了，就会抛出异常</li><li><code>asyncio.wait()</code>可以定义函数返回的时机。FIRST_COMPLETED(第一个结束的), FIRST_EXCEPTION(第一个出现异常的), ALL_COMPLETED(全部执行完，默认的)</li></ul><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs stata">async def <span class="hljs-keyword">count</span>():<br>    <span class="hljs-keyword">print</span>(&#x27;<span class="hljs-keyword">one</span>&#x27;)<br>    await asyncio.<span class="hljs-keyword">sleep</span>(2)<br>    <span class="hljs-keyword">print</span>(&#x27;<span class="hljs-keyword">two</span>&#x27;)<br><br>async def main():<br>    await asyncio.gather(<span class="hljs-keyword">count</span>(), <span class="hljs-keyword">count</span>(), <span class="hljs-keyword">count</span>())<br><br>asyncio.<span class="hljs-keyword">run</span>(main())  # Python3.7后写法<br><br># 该代码输出：<br><span class="hljs-keyword">one</span><br><span class="hljs-keyword">one</span><br><span class="hljs-keyword">one</span><br><span class="hljs-keyword">two</span><br><span class="hljs-keyword">two</span><br><span class="hljs-keyword">two</span><br></code></pre></td></tr></table></figure><h2 id="事件循环eventloop"><a class="markdownIt-Anchor" href="#事件循环eventloop"></a> 事件循环Eventloop</h2><p>asyncio内部执行大致流程</p><ol><li>首先建立一个需要运行的任务列表，列表中有多个任务</li><li>循环检查列表中所有任务，将 可执行 和 已完成 的任务返回</li><li>进行任务处理：<ul><li><strong>执行</strong> 可执行 状态的任务</li><li>将 已完成 的任务从任务列表中<strong>移除</strong></li></ul></li><li>如果 任务列表中的任务都已完成，则终止循环</li></ol><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-comment"># 手动或获取一个时间循环</span><br>asyncio.get_event_loop()<br><br><span class="hljs-comment"># 将任务手动放到 任务列表</span><br><span class="hljs-keyword">loop</span>.run_unitl_complete(任务)<br></code></pre></td></tr></table></figure><h2 id="await关键字"><a class="markdownIt-Anchor" href="#await关键字"></a> await关键字</h2><p><code>await</code>后面可以接三种类型的对象，均为 IO 等待：</p><ol><li><strong>协程对象</strong>：如：<code>await asyncio.sleep(1)</code>、<code>await func()</code>等不同写法。</li></ol><p>注意，当一个协程函数中有多段<code>await</code>修饰的代码时，会等第一个<code>await</code>操作完了（等待对象的值得到结果后）才会继续往下执行。因为代码由上而下执行，交换执行权只在阻塞时的协程函数中进行。</p><p>也就是说，<code>await</code>的作用就是处理执行权交错导致的数据混乱。由<code>await</code>修饰的代码，必须有结果了才会继续执</p><ol start="2"><li><strong>Task 对象</strong>：允许立即将任务添加至事件循环中。</li></ol><p><code>await</code>后面接协程对象时，将会直接进行 IO 阻塞。而<code>asyncio.create_task(func())</code>只会将<code>func()</code>添加到事件循环中，等出现 IO 阻塞时才会去轮询执行。如下是一个demo</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">nested</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-number">1</span>)<br>    <span class="hljs-keyword">await</span> asyncio.sleep(<span class="hljs-number">2</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-number">2</span>)<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;return&#x27;</span><br><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():<br>    task_list = [<br>        asyncio.create_task(nested(), name=<span class="hljs-string">&#x27;n1&#x27;</span>),<br>        asyncio.create_task(nested(), name=<span class="hljs-string">&#x27;n2&#x27;</span>)<br>    ]<br>     <span class="hljs-comment"># done为获取所有任务执行完成后的结果集，pending存放了超时后的结果集，一般不用</span><br>    done, pending = <span class="hljs-keyword">await</span> asyncio.wait(task_list, timeout=<span class="hljs-literal">None</span>,return_when=asyncio.tasks.ALL_COMPLETED)<br><br><span class="hljs-comment"># 输出</span><br><span class="hljs-number">1</span><br><span class="hljs-number">1</span><br><span class="hljs-number">2</span><br><span class="hljs-number">2</span><br>&#123;&lt;Task finished name=<span class="hljs-string">&#x27;n2&#x27;</span> coro=&lt;nested() done, defined at d:/z-bank/bank/temp2.py:<span class="hljs-number">4</span>&gt; result=<span class="hljs-number">8</span>&gt;, &lt;Task finished name=<span class="hljs-string">&#x27;n1&#x27;</span> coro=&lt;nested() done, defined at d:/z-bank/bank/temp2.py:<span class="hljs-number">4</span>&gt; result=<span class="hljs-number">8</span>&gt;&#125;<br></code></pre></td></tr></table></figure><p>注意，上述代码中事件循环在<code>asyncio.run()</code>运行时已经创建好了，所以在协程函数main的内部可以直接创建任务列表。而如果在协程函数外部，是无法先创建任务列表的，因为事件循环尚未创建。</p><p>如果需要在外部创建任务列表（即不使用main函数），参考如下写法。（这种写法使用较少，一般都是用一个<code>main()</code>代替 ）</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">nested</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-number">1</span>)<br>    <span class="hljs-keyword">await</span> asyncio.sleep(<span class="hljs-number">2</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-number">2</span>)<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;return&#x27;</span><br>    <br>task_list = [<br>        nested(),<br>        nested()<br>    ]<br>done, pending = asyncio.run(asyncio.wait(task_list))<br></code></pre></td></tr></table></figure><ol start="3"><li><strong>Future 对象</strong>：更底层、一般不会直接用，是Task类的基类，强调的是等待处理。</li></ol><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-keyword">async</span> def after(fut):<br>    <span class="hljs-keyword">await</span> asyncio.sleep(<span class="hljs-number">2</span>)<br>    fut.set_result(<span class="hljs-string">&#x27;1&#x27;</span>)<br><br><span class="hljs-keyword">async</span> def main():<br>    <span class="hljs-keyword">loop</span> = asyncio.get_running_loop()<br>    fut = <span class="hljs-keyword">loop</span>.create_future()<br>    <span class="hljs-keyword">await</span> <span class="hljs-keyword">loop</span>.create_task(after(fut)) <span class="hljs-comment"># 将给 fut 赋值的函数添加到任务列表等待执行</span><br>    <span class="hljs-comment"># 开始 IO 等待，切换其他任务，即after()函数，执行完成后，fut已经有结果了，就直接赋值给data</span><br>    <span class="hljs-comment"># 如果 fut 一直没有获得值，那么就会一直等待下去。</span><br>    data = <span class="hljs-keyword">await</span> fut<br></code></pre></td></tr></table></figure><h2 id="应用场景"><a class="markdownIt-Anchor" href="#应用场景"></a> 应用场景</h2><p>异步编程的使用场景一般是 IO 密集应用，包括网络读取、数据库读取。计算密集应用下没有太多优势，异步优势在于高效使用CPU处理缓慢的IO。</p><p>因此，最佳的使用场景是<strong>IO密集</strong>且IO操作较慢，需要多任务协同实现。如下爬虫爬取100个页面，当程序运行时，Python 会自动调度这100个协程，当一个协程在等待网络 IO 返回时，切换到第二个协程并发起请求，在这个协程等待返回时，继续切换到第三个协程并发起请求……。程序充分利用了网络 IO 的等待时间，从而大大提高了运行速度。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> asyncio<br><span class="hljs-keyword">import</span> aiohttp<br><br>template = <span class="hljs-string">&#x27;http://exercise.kingname.info/exercise_middleware_ip/&#123;page&#125;&#x27;</span><br><br><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">session, queue</span>):<br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        <span class="hljs-keyword">try</span>:<br>            page = queue.get_nowait()<br>        <span class="hljs-keyword">except</span> asyncio.QueueEmpty:<br>            <span class="hljs-keyword">return</span><br>        url = template.<span class="hljs-built_in">format</span>(page=page)<br>        resp = <span class="hljs-keyword">await</span> session.get(url)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-keyword">await</span> resp.text(encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>))<br><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():<br>    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> aiohttp.ClientSession() <span class="hljs-keyword">as</span> session:<br>        queue = asyncio.Queue()<br>        <span class="hljs-keyword">for</span> page <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1000</span>):<br>            queue.put_nowait(page)<br>        tasks = []<br>        <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">100</span>):<br>            task = get(session, queue)<br>            tasks.append(task)<br>        <span class="hljs-keyword">await</span> asyncio.wait(tasks)<br><br><br>loop = asyncio.get_event_loop()<br>loop.run_until_complete(main())<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>VSCode格式化导包代码出现的问题</title>
    <link href="/post/470b7fc9.html"/>
    <url>/post/470b7fc9.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>当导入上层相邻目录的包时，需要先将其路径添加至<code>sys.path</code>，再执行<code>import</code>。be like:</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus">sys<span class="hljs-selector-class">.path</span><span class="hljs-selector-class">.append</span>(sys<span class="hljs-selector-class">.path</span><span class="hljs-selector-attr">[0]</span> + <span class="hljs-string">&#x27;\\..\\..&#x27;</span>)<br>from tools<span class="hljs-selector-class">.py</span><span class="hljs-selector-class">.pyTools</span> import Tools_all<br></code></pre></td></tr></table></figure><p>而VSCode默认自带格式化工具<code>autopep8 </code>会将其顺序自动调整为下面这样，导致无法正确导入</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus">from tools<span class="hljs-selector-class">.py</span><span class="hljs-selector-class">.pyTools</span> import Tools_all<br>sys<span class="hljs-selector-class">.path</span><span class="hljs-selector-class">.append</span>(sys<span class="hljs-selector-class">.path</span><span class="hljs-selector-attr">[0]</span> + <span class="hljs-string">&#x27;\\..\\..&#x27;</span>)<br></code></pre></td></tr></table></figure><p>因此需要在文件&gt;首选项&gt;联机服务设置，搜索<code>formatting</code>,将如下位置调整为<code>yapf</code>。注意，修改后需要在<code>pip</code>安装<code>yapf</code>库，VSCode 会自动提示的。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202303091534007.png" alt></p><h2 id="autopep8-yapf-black对比"><a class="markdownIt-Anchor" href="#autopep8-yapf-black对比"></a> autopep8 、yapf 、 black对比</h2><p><a href="https://github.com/hhatto/autopep8"><strong>autopep8</strong></a></p><p>autopep8 是一个国人中知名度最高和使用最广泛的自动格式化工具。 一个较为宽松的格式化工具，只会以最低限度的标准对不符合 pep8 标准的代码进行修正。可能无法满足那些有特定需求，或想让代码看起来更干净更漂亮的人。autopep8 是刚开始学习 python 的人都被推荐的一个格式化工具，不幸的是它已经不适合当下了。较低的维护频率，较低的社区活跃度，一大堆 issuse 未解决。都是我们放弃它的理由。</p><p><a href="https://github.com/google/yapf"><strong>yapf</strong></a></p><p>由 google 开发并维护的格式化工具，特点是支持多种格式化风格与功能繁多的自定义配置。默认支持三种格式化样式：pep8, google, Facebook 和 chromium。 yapf的初衷不是让代码符合pep准则， 而且让代码看起来更整洁更友好。yapf 包含着 google 文化中的工程师极客精神，支持多样化的自定义配置是他的优点。如果你对自己的代码风格有硬性的要求，yapf 将是你不二的选择。</p><p><a href="https://github.com/psf/black"><strong>black</strong></a></p><p>可以说是最流行最多人使用的python格式化工具了，统一的格式化标准。傻瓜化的使用方式，极少的定制化选项（没错，开发者包括使用 black 的人都认为这是个优势）。black 秉承的是 “less is more” 的设计标准，开发组人员负责调研哪种格式化风格更适合pythonista的开发。允许我们自定义的余地较小，但对于我们来说，有人替我们考虑了哪种方式更好，躺平享受成果不失为一种最好的选择。</p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>关于近期较火的ChatGPT的一些尝试……</title>
    <link href="/post/f439431f.html"/>
    <url>/post/f439431f.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>基于文本预训练的GPT-1，GPT-2，GPT-3三代模型都是采用的以Transformer为核心结构的模型，不同的是模型的层数和词向量长度等超参（Trm是一个Transforme结构），它们具体的内容如下图：</p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202303031120701.png" style="zoom: 33%;"><p>InstructGPT包含一系列GPT模型</p><ul><li>GPT-1: text-Davinci-001(2018)</li><li>GPT-2: text-Davinci-002(2019)</li><li>GPT-3: text-Davinci-003(2020)</li></ul><p>聊天生成型预训练变换模型（Chat Generative Pre-trained Transformer），简称ChatGPT。2022年11月由OpenAI开发的人工智能聊天机器人程序。ChatGPT以文字方式交互，可用于相对复杂的语言工作，包括自动文本生成、自动问答、自动摘要等在内的多种任务，还具有编写和调试计算机程序的能力。</p><p>ChatGPT是OpenAI对InstructGPT对话模型进一步微调（使用了推特的数据），算是Davinci-003的衍生产品，模型名：gpt-3.5-turbo。</p><p>国内注册方式：通过第三方SMS接码平台注册，例如<a href="https://sms-activate.org/">https://sms-activate.org/</a></p><p><strong>InstructGPT与ChatGPT在训练上的不同：</strong></p><ul><li>InstructGPT训练目标是根据指令生成满足条件的自然语言文本，用于生成满足特定需要的文本，例如问题答案、摘要、代码</li><li>ChatGPT训练目标是生成自然流畅的对话，实现机器与人类自然对话交互。ChatGPT使用了大规模对话数据来训练模型，使其理解自然语言语法、语义和上下文信息。因此ChatGPT主要用于生成对话</li></ul><p><strong>InstructGPT与ChatGPT在使用上的不同体验：</strong></p><ol><li>InstructGPT比ChatGPT更开放、具有创意，可以让它做很多种事情；ChatGPT在某些方面更聪明。</li><li>训练InstructGPT的语料清洗程度相对少，表现得更像人类；ChatGPT会不断提示用户它的局限性。</li><li>如果不使用“进一步思考一下……”这种引导性语句，InstructGPT可能无法解决部分问题；ChatGPT这方面更好用</li><li>InstructGPT未来会更加灵活通用，但它更适合提供API出来接入程序里，而不像ChatGPT那样做到开箱即用</li></ol><p>ChatGPT价格：1000token 花费0.002美元</p><p>目前接入ChatGPT的公司</p><ul><li>Snapchat：社交</li><li>Quizlet：学习</li><li>Instacart：购物</li><li>shop：购物</li><li>speak：学习<br>……</li></ul><h2 id="api调用"><a class="markdownIt-Anchor" href="#api调用"></a> API调用</h2><p>ChatGPT</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">openai_chat</span>(<span class="hljs-params">question, api</span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">    基于 gpt-3.5-turbo 的 ChatGPT 机器人</span><br><span class="hljs-string">    question::问题</span><br><span class="hljs-string">    api_key::api_key</span><br><span class="hljs-string">    &#x27;&#x27;&#x27;</span><br>    openai.api_key = api_key<br>    data = [<br>        &#123;<span class="hljs-string">&quot;role&quot;</span>: <span class="hljs-string">&quot;user&quot;</span>, <span class="hljs-string">&quot;content&quot;</span>: question&#125;<br>    ]<br>    response = openai.ChatCompletion.create(<br>        model=<span class="hljs-string">&quot;gpt-3.5-turbo&quot;</span>,<br>        messages=data,<br>        max_tokens=<span class="hljs-number">3500</span>,<br>        stop=<span class="hljs-literal">None</span>,<br>        temperature=<span class="hljs-number">0.7</span>,<br>    )<br>    <span class="hljs-keyword">return</span> response.choices[<span class="hljs-number">0</span>].message.content.strip()+<span class="hljs-string">&#x27;\n&#x27;</span><br></code></pre></td></tr></table></figure><p>whisper：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">openai_tapy</span>(<span class="hljs-params">filepath, api</span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">    whisper语音转文字</span><br><span class="hljs-string">    filepath::录音文件,限制25MB,支持mp3, mp4, mpeg, mpga, m4a, wav, and webm等</span><br><span class="hljs-string">    api_key::api_key</span><br><span class="hljs-string">    &#x27;&#x27;&#x27;</span><br>    openai.api_key = api_key<br>    audio_file = <span class="hljs-built_in">open</span>(filepath, <span class="hljs-string">&#x27;rb&#x27;</span>)<br>    transcript = openai.Audio.transcribe(<span class="hljs-string">&quot;whisper-1&quot;</span>, audio_file)<br>    <span class="hljs-keyword">return</span> transcript.get(<span class="hljs-string">&#x27;text&#x27;</span>)<br></code></pre></td></tr></table></figure><p>Telegram机器人()</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> json<br><span class="hljs-keyword">from</span> PY.tools.py <span class="hljs-keyword">import</span> pyTools<br><span class="hljs-keyword">import</span> datetime<br><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> random<br><span class="hljs-keyword">import</span> re<br><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">import</span> asyncio<br><span class="hljs-keyword">import</span> telegram<br><span class="hljs-keyword">from</span> telegram <span class="hljs-keyword">import</span> Update, InlineQueryResultArticle, InputTextMessageContent<br><span class="hljs-keyword">from</span> telegram.ext <span class="hljs-keyword">import</span> InlineQueryHandler, CommandHandler, ContextTypes, ApplicationBuilder, MessageHandler, filters<br><span class="hljs-keyword">import</span> logging<br><span class="hljs-keyword">from</span> PY.tools.py <span class="hljs-keyword">import</span> pyTools<br><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">仓库wiki：https://github.com/python-telegram-bot/python-telegram-bot/wiki/Introduction-to-the-API</span><br><span class="hljs-string">官方教程(java)：https://core.telegram.org/bots/tutorial#first-run</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><br>OPENAI_API = <span class="hljs-string">&#x27;&#x27;</span><br>TELEGRAM_TOKEN = <span class="hljs-string">&#x27;&#x27;</span><br><br><span class="hljs-comment"># 日志配置</span><br>logging.basicConfig(<span class="hljs-built_in">format</span>=<span class="hljs-string">&#x27;%(asctime)s - %(name)s - %(levelname)s - %(message)s&#x27;</span>,<br>                    level=logging.INFO)<br><br><br><span class="hljs-comment"># async def main():</span><br><span class="hljs-comment">#     向用户发送消息</span><br><span class="hljs-comment">#     bot = telegram.Bot(&#x27;5999158932:&#x27;)</span><br><span class="hljs-comment">#     async with bot:</span><br><span class="hljs-comment">#         await bot.send_message(&#x27;6252946896&#x27;, &#x27;您好，我是您的机器人贾维斯，很荣幸认识您！&#x27;)</span><br><br><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">start</span>(<span class="hljs-params">update: Update, context: ContextTypes.DEFAULT_TYPE</span>):<br>    <span class="hljs-comment">#  接收/start命令，并返回指定语句</span><br>    <span class="hljs-keyword">await</span> context.bot.send_message(<br>        chat_id=update.effective_chat.<span class="hljs-built_in">id</span>,<br>        text=<span class="hljs-string">&quot;您好先生，我是Jarvis，您的tg助理！&quot;</span><br>    )<br><br><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">echo</span>(<span class="hljs-params">update: Update, context: ContextTypes.DEFAULT_TYPE</span>):<br>    <span class="hljs-comment">#  不处理消息，直接返回</span><br>    response_text = pyTools.openai_chat(<br>        update.message.text, OPENAI_API)<br>    <span class="hljs-keyword">await</span> context.bot.send_message(chat_id=update.effective_chat.<span class="hljs-built_in">id</span>,<br>                                   text=response_text)<br><br><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">caps</span>(<span class="hljs-params">update: Update, context: ContextTypes.DEFAULT_TYPE</span>):<br>    <span class="hljs-comment">#  将/caps 后面的字母大写后回显，例如/caps i love you ，回显I LOVE YOU</span><br>    text_caps = <span class="hljs-string">&#x27; &#x27;</span>.join(context.args).upper()<br>    <span class="hljs-keyword">await</span> context.bot.send_message(chat_id=update.effective_chat.<span class="hljs-built_in">id</span>, text=text_caps)<br><br><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">inline_caps</span>(<span class="hljs-params">update: Update, context: ContextTypes.DEFAULT_TYPE</span>):<br>    <span class="hljs-comment"># 添加内联模式(inline model)，类似在其他聊天中便捷调用机器人的功能</span><br>    query = update.inline_query.query<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> query:<br>        <span class="hljs-keyword">return</span><br>    results = []<br>    results.append(<br>        InlineQueryResultArticle(<br>            <span class="hljs-built_in">id</span>=query.upper(),<br>            title=<span class="hljs-string">&#x27;Cps&#x27;</span>,<br>            input_message_content=InputTextMessageContent(query.upper())<br>        )<br>    )<br>    <span class="hljs-keyword">await</span> context.bot.answer_inline_query(update.inline_query.<span class="hljs-built_in">id</span>, results)<br><br><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">unknow</span>(<span class="hljs-params">update: Update, context: ContextTypes.DEFAULT_TYPE</span>):<br>    <span class="hljs-comment">#  识别未定义的命令</span><br>    <span class="hljs-keyword">await</span> context.bot.send_message(chat_id=update.effective_chat.<span class="hljs-built_in">id</span>,<br>                                   text=<span class="hljs-string">&#x27;这是嘛意思？给我整不明白了都&#x27;</span>)<br><br><span class="hljs-comment"># 主函数入口</span><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-comment"># asyncio.run(main())</span><br>    application = ApplicationBuilder().token(TELEGRAM_TOKEN).build()<br>    start_handler = CommandHandler(<span class="hljs-string">&#x27;start&#x27;</span>, start)<br>    echo_handler = MessageHandler(filters.TEXT &amp; (<br>        ~filters.COMMAND), echo)  <span class="hljs-comment"># filters包含众多过滤器，可过滤文本、图像、状态更新</span><br>    caps_handler = CommandHandler(<span class="hljs-string">&#x27;caps&#x27;</span>, caps)<br>    unknow_handler = MessageHandler(filters.COMMAND, unknow)<br><br>    inline_caps_handler = InlineQueryHandler(inline_caps)<br><br>    <span class="hljs-comment">#  将以创建的handles添加进application</span><br>    application.add_handler(start_handler)<br>    application.add_handler(echo_handler)<br>    application.add_handler(caps_handler)<br>    application.add_handler(inline_caps_handler)<br>    application.add_handler(unknow_handler)  <span class="hljs-comment"># 需要最后添加，避免影响正常触发</span><br>    application.run_polling()<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux Curl常用命令</title>
    <link href="/post/6793f937.html"/>
    <url>/post/6793f937.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>CURL是一个开源项目，基于网络协议，对指定URL进行网络传输。涉及是任何网络协议传输，但不涉及对具体数据的具体处理。</p><h3 id="发送get请求"><a class="markdownIt-Anchor" href="#发送get请求"></a> 发送Get请求</h3><p>响应内容返回至屏幕</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">curl curl https:<span class="hljs-regexp">//</span>catonmat.net<br></code></pre></td></tr></table></figure><p>响应内容保存至文件<code>response.txt</code></p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">curl -o response.txt https:<span class="hljs-regexp">//</span>catonmat.net<br></code></pre></td></tr></table></figure><h3 id="发送post请求"><a class="markdownIt-Anchor" href="#发送post请求"></a> 发送POST请求</h3><p>发送带表单数据的 POST 请求</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">curl -d <span class="hljs-string">&#x27;login=emma&#x27;</span> -d <span class="hljs-string">&#x27;password=123&#x27;</span> https:<span class="hljs-regexp">//g</span>oogle.com/login<br></code></pre></td></tr></table></figure><p>读取文件内容发送的 POST 请求</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">curl -d <span class="hljs-string">&#x27;@data.txt&#x27;</span> https:<span class="hljs-regexp">//g</span>oogle.com/login<br></code></pre></td></tr></table></figure><h3 id="携带cookies"><a class="markdownIt-Anchor" href="#携带cookies"></a> 携带Cookies</h3><p>携带空Cookies</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">curl -b <span class="hljs-string">&#x27;session=&#x27;</span> https:<span class="hljs-regexp">//g</span>oogle.com<br></code></pre></td></tr></table></figure><p>携带Cookies</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">curl -b <span class="hljs-string">&#x27;session=abcdef&#x27;</span> https:<span class="hljs-regexp">//g</span>oogle.com<br></code></pre></td></tr></table></figure><p>访问并写入Cookies到文件</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">curl -c cookies.txt https:<span class="hljs-regexp">//</span>www.google.com<br></code></pre></td></tr></table></figure><p>读取Cookies文件访问</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">curl -<span class="hljs-selector-tag">b</span> cookies<span class="hljs-selector-class">.txt</span> https:<span class="hljs-comment">//www.google.com</span><br></code></pre></td></tr></table></figure><h3 id="跳过ssl检测"><a class="markdownIt-Anchor" href="#跳过ssl检测"></a> 跳过SSL检测</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">curl -k https:<span class="hljs-regexp">//</span>www.example.com<br></code></pre></td></tr></table></figure><h3 id="跟随服务器重定向"><a class="markdownIt-Anchor" href="#跟随服务器重定向"></a> 跟随服务器重定向</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">curl -L -d <span class="hljs-string">&#x27;tweet=hi&#x27;</span> https:<span class="hljs-regexp">//</span>api.twitter.com/tweet<br></code></pre></td></tr></table></figure><h3 id="修改用户代理"><a class="markdownIt-Anchor" href="#修改用户代理"></a> 修改用户代理</h3><p>将用户代理更改为 Chrome</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">curl</span> -A &#x27;Mozilla/<span class="hljs-number">5</span>.<span class="hljs-number">0</span> (Windows NT <span class="hljs-number">10</span>.<span class="hljs-number">0</span>; Win64; x64) AppleWebKit/<span class="hljs-number">537</span>.<span class="hljs-number">36</span> (KHTML, like Gecko) Chrome/<span class="hljs-number">76</span>.<span class="hljs-number">0</span>.<span class="hljs-number">3809</span>.<span class="hljs-number">100</span> Safari/<span class="hljs-number">537</span>.<span class="hljs-number">36</span>&#x27; https://google.com<br></code></pre></td></tr></table></figure><p>假装成谷歌机器人</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">curl -A <span class="hljs-string">&#x27;Googlebot/2.​​1 (+http://www.google.com/bot.html)&#x27;</span> https:<span class="hljs-regexp">//</span>washingtonpost.com<br></code></pre></td></tr></table></figure><h3 id="http身份验证"><a class="markdownIt-Anchor" href="#http身份验证"></a> HTTP身份验证</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim">curl https://<span class="hljs-keyword">bo</span><span class="hljs-variable">b:12345</span>@google.<span class="hljs-keyword">com</span>/login<br></code></pre></td></tr></table></figure><h3 id="限制curl"><a class="markdownIt-Anchor" href="#限制curl"></a> 限制Curl</h3><p>限制为每秒 200 KB，一般用于模拟慢网速环境</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">curl --limit-rate <span class="hljs-number">200</span>k https:<span class="hljs-regexp">//g</span>oogle.com<br></code></pre></td></tr></table></figure><p>限制为每秒 1 个字节</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">curl --limit-rate <span class="hljs-number">1</span> https:<span class="hljs-regexp">//g</span>oogle.com<br></code></pre></td></tr></table></figure><h3 id="输出通信过程"><a class="markdownIt-Anchor" href="#输出通信过程"></a> 输出通信过程</h3><p>一般用于调试</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">curl -v https:<span class="hljs-regexp">//</span>www.example.com<br></code></pre></td></tr></table></figure><h3 id="不输出错误和进度信息"><a class="markdownIt-Anchor" href="#不输出错误和进度信息"></a> 不输出错误和进度信息</h3><p>如运行正常，会正常显示结果</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">curl -s https:<span class="hljs-regexp">//</span>www.example.com<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Ops</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Github-Actions简单示例</title>
    <link href="/post/4981bfbd.html"/>
    <url>/post/4981bfbd.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>Github Actions是持续集成和持续交付 (CI/CD) 平台，用于自动执行生成、测试和部署管道等，持续集成由很多操作组成，这些操作称之为 actions 。</p><hr><p><strong>【补充】</strong><br>所谓持续集成，就是通过频繁提交代码代码集成到主分支，让产品快速迭代，并保持高质量。其核心措施就是集成到主分支前必须通过自动化测试，只要有一个测试用例失败，就不能集成。持续集成强调的是返回给开发一个结果，不论失败还是成功。<br>流程：</p><ol><li>代码提交：开发者向仓库提交代码。</li><li>测试：仓库对commit操作配置了hook，一旦提交自动开始自动化测试。</li><li>构建：通过构建工具将源码转换为可以运行的实际代码，安装依赖、配置资源等。</li><li>二次测试：全面测试，以自动化为主，且覆盖率要高。通过二次测试的代码就是可部署的版本</li><li>部署：将当前版本所有文件打包存档，发送到生产服务器。</li><li>回滚：一旦版本出现问题，就需要回滚到上一个版本的构建结果。</li></ol><hr><p>由于很多操作在不同项目里是类似的，因此 Github 允许将每个操作写成独立脚本存入仓库，让其他人共享。如果你需要某个 actions ，无需自己写复杂的脚本，直接在自己的 actions 中引入别的 actions ，就可以直接实现该操作。</p><p>引用方式<br><code>username/reponame</code>即可引用一个 actions 。</p><p>例如：<code>actions/setup-node</code>就表示<code>github.com/actions/setup-node</code>这个仓库，它代表一个 action，作用是安装 Node.js。</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">actions/setup-<span class="hljs-keyword">node</span><span class="hljs-title">@74bc508</span>  <span class="hljs-comment"># 指向一个 commit</span><br>actions/setup-<span class="hljs-keyword">node</span><span class="hljs-title">@v1</span>.<span class="hljs-number">0</span>     <span class="hljs-comment"># 指向一个标签</span><br>actions/setup-<span class="hljs-keyword">node</span><span class="hljs-title">@master</span>   <span class="hljs-comment"># 指向一个分支</span><br></code></pre></td></tr></table></figure><h3 id="基本结构"><a class="markdownIt-Anchor" href="#基本结构"></a> 基本结构</h3><ol><li><p>workflow：工作流程。持续集成一次运行的过程，就是一个workflow。</p></li><li><p>job：任务。一个workflow由单个或多个job构成。一次持续集成的运行可以完成多个任务。</p></li><li><p>step：步骤。每个job由多个step构成，一步步完成一个job。</p></li><li><p>action：动作，每个step可以一次执行一个或多个命令</p></li></ol><h3 id="workflow文件"><a class="markdownIt-Anchor" href="#workflow文件"></a> workflow文件</h3><p>GitHub Actions 的配置文件叫做 workflow 文件，存放在代码仓库的<code>.github/workflows/</code>目录。workflow文件是<code>yaml</code>给格式，写成<code>xxx.yml</code>。GitHub 只要发现<code>.github/workflows</code>目录里面有<code>.yml</code>文件，就会自动运行该文件。如下是一个<code>actions/setup-node</code>的 workflow 文件(有调整补充)。</p><p>该配置会在代码push到github后自动将其部署到githubpage，访问<code>username.github.io/responame</code>即可访问页面。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">GitHub</span> <span class="hljs-string">Actions</span> <span class="hljs-string">Build</span> <span class="hljs-string">and</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">Demo</span>  <span class="hljs-comment"># workflow 名，没有则默认为当前文件名</span><br><span class="hljs-attr">on:</span>  <span class="hljs-comment"># 指定触发 workflow 的字段，允许设置多个值(数组).这里设为通过 push 事件触发的</span><br>  <span class="hljs-attr">push:</span><br>    <span class="hljs-attr">branches:</span>  <span class="hljs-comment"># 指定触发时，限定分支(或tag标签).这里设为只有master分支触发 push 事件才会触发workflow</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">master</span><br><span class="hljs-attr">jobs:</span>  <span class="hljs-comment"># workflow的主体，表示执行一项或多项任务</span><br>  <span class="hljs-attr">build-and-deploy:</span>  <span class="hljs-comment"># 当前 job 的 job_id</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">My</span> <span class="hljs-string">first</span> <span class="hljs-string">job</span>  <span class="hljs-comment"># 该name是在job层下的，表示任务的说明</span><br>  <span class="hljs-attr">needs:</span> <span class="hljs-string">job2</span>  <span class="hljs-comment"># 指定当前 job 的依赖关系，即运行顺序。这里表示job2先完成后，才能完成当前任务</span><br>    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>  <span class="hljs-comment"># 指定运行所需要的虚拟机环境，必填</span><br>    <span class="hljs-attr">steps:</span>  <span class="hljs-comment"># 每个job包含一个或多个step</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Checkout</span>  <span class="hljs-comment"># 步骤名称 </span><br>      <span class="hljs-attr">env:</span>   <span class="hljs-comment"># 当前步骤所需的环境变量</span><br>        <span class="hljs-attr">FIRST_NAME:</span> <span class="hljs-string">Mona</span><br>        <span class="hljs-attr">LAST_NAME:</span> <span class="hljs-string">Octocat</span><br>      <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v2</span>  <span class="hljs-comment"># 调用其他可重用的workflow</span><br>      <span class="hljs-attr">with:</span><br>        <span class="hljs-attr">persist-credentials:</span> <span class="hljs-literal">false</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">and</span> <span class="hljs-string">Build</span><br>      <span class="hljs-attr">run:</span> <span class="hljs-string">|</span>  <span class="hljs-comment"># 该步骤运行的命令或 action</span><br>        <span class="hljs-string">npm</span> <span class="hljs-string">install</span><br>        <span class="hljs-string">npm</span> <span class="hljs-string">run-script</span> <span class="hljs-string">build</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span><br>      <span class="hljs-attr">uses:</span> <span class="hljs-string">JamesIves/github-pages-deploy-action@releases/v3</span><br>      <span class="hljs-attr">with:</span>  <span class="hljs-comment"># 当调用其他workflow时，设置该workflow所需的配置或参数</span><br>        <span class="hljs-attr">ACCESS_TOKEN:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.ACCESS_TOKEN</span> <span class="hljs-string">&#125;&#125;</span><br>        <span class="hljs-attr">BRANCH:</span> <span class="hljs-string">gh-pages</span><br>        <span class="hljs-attr">FOLDER:</span> <span class="hljs-string">build</span><br></code></pre></td></tr></table></figure><p>字段介绍：<a href="https://docs.github.com/zh/actions/using-workflows/workflow-syntax-for-github-actions">https://docs.github.com/zh/actions/using-workflows/workflow-syntax-for-github-actions</a></p><p>触发事件列表：<a href="https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows">https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows</a></p><h3 id="实战本地readct项目发布至github-page"><a class="markdownIt-Anchor" href="#实战本地readct项目发布至github-page"></a> 实战：本地Readct项目发布至Github Page</h3><p>仓库：<a href="https://github.com/ruanyf/github-actions-demo">https://github.com/ruanyf/github-actions-demo</a></p><p>首先生成一个Github密钥，并传入该项目的<code>Repository secrets</code>中。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202303021727375.png" alt></p><p>在项目的<code>package.json</code>中添加一个<code>homepage</code>字段，表示该应用发布后的根目录。修改如下字段</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">&quot;homepage&quot;: &quot;<span class="hljs-link">https://</span>[<span class="hljs-string">username</span>].github.io/[github-actions-demo]&quot;,<br></code></pre></td></tr></table></figure><p>在项目根目录创建<code>.github/workflow/</code>，并新建一个<code>workflow</code>文件，例如<code>ci.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">GitHub</span> <span class="hljs-string">Actions</span> <span class="hljs-string">Build</span> <span class="hljs-string">and</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">Demo</span><br><span class="hljs-attr">on:</span><br>  <span class="hljs-attr">push:</span><br>    <span class="hljs-attr">branches:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">master</span><br><span class="hljs-attr">jobs:</span><br>  <span class="hljs-attr">build-and-deploy:</span><br>    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span><br>    <span class="hljs-attr">steps:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Checkout</span><br>      <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@master</span><br><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">and</span> <span class="hljs-string">Deploy</span><br>      <span class="hljs-attr">uses:</span> <span class="hljs-string">JamesIves/github-pages-deploy-action@master</span><br>      <span class="hljs-attr">env:</span><br>        <span class="hljs-attr">ACCESS_TOKEN:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.ACCESS_TOKEN</span> <span class="hljs-string">&#125;&#125;</span><br>        <span class="hljs-attr">BRANCH:</span> <span class="hljs-string">gh-pages</span><br>        <span class="hljs-attr">FOLDER:</span> <span class="hljs-string">build</span><br>        <span class="hljs-attr">BUILD_SCRIPT:</span> <span class="hljs-string">npm</span> <span class="hljs-string">install</span> <span class="hljs-string">&amp;&amp;</span> <span class="hljs-string">npm</span> <span class="hljs-string">run</span> <span class="hljs-string">build</span><br></code></pre></td></tr></table></figure><p>保存以上文件，提交至 Github 。Github 发现 workflow文件后就会自动运行，这里可以看到运行日志，日志默认保存30天。等待运行成功后，访问<code>username.github.io/reponame</code>访问。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202303021735144.png" alt></p>]]></content>
    
    
    <categories>
      
      <category>Ops</category>
      
    </categories>
    
    
    <tags>
      
      <tag>运维</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Git常用命令</title>
    <link href="/post/caff8000.html"/>
    <url>/post/caff8000.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>git常用命令集合</p><p>显示command的help</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">help</span> &lt;<span class="hljs-built_in">command</span>&gt; <br></code></pre></td></tr></table></figure><p>显示某次提交的内容 git show $id</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dart">git <span class="hljs-keyword">show</span> <br></code></pre></td></tr></table></figure><p>将工作文件修改提交到本地暂存区</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">git <span class="hljs-built_in">add</span> &lt;<span class="hljs-built_in">file</span>&gt; <br></code></pre></td></tr></table></figure><p>查看该文件每次提交记录</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript">git <span class="hljs-built_in">log</span> git <span class="hljs-built_in">log</span> &lt;<span class="hljs-built_in">file</span>&gt;<br></code></pre></td></tr></table></figure><p>查看最近两次详细修改内容的diff</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs 1c">git <span class="hljs-built_in">log</span> -p -<span class="hljs-number">2</span> <br></code></pre></td></tr></table></figure><p>列所有stash</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs .">git stash list<br></code></pre></td></tr></table></figure><p>抓取远程仓库所有分支更新并合并到本地</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">git pull</span><br></code></pre></td></tr></table></figure><p>将本地主分支推到远程主分支</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs maxima">git <span class="hljs-built_in">push</span> <span class="hljs-built_in">origin</span> master<br></code></pre></td></tr></table></figure><p>将本地主分支推到远程(如无远程主分支则创建，用于初始化远程仓库)</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs maxima">git <span class="hljs-built_in">push</span> -u <span class="hljs-built_in">origin</span> master<br></code></pre></td></tr></table></figure><p>查看远程服务器地址和仓库名称</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">git remote -v</span><br></code></pre></td></tr></table></figure><p>查看远程服务器仓库状态</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs maxima">git remote <span class="hljs-built_in">show</span> <span class="hljs-built_in">origin</span><br></code></pre></td></tr></table></figure><p>待续……</p><h4 id="1github新增仓库并clone至本地修改文件"><a class="markdownIt-Anchor" href="#1github新增仓库并clone至本地修改文件"></a> ①Github新增仓库并clone至本地修改文件</h4><ol><li>将文件添加至暂存区：</li></ol><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">git <span class="hljs-built_in">add</span> .<br></code></pre></td></tr></table></figure><ol start="2"><li>提交至本地仓库</li></ol><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">git</span> commit -m <span class="hljs-string">&#x27;commit&#x27;</span><br></code></pre></td></tr></table></figure><ol start="3"><li>推送至远程仓库</li></ol><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">git push origin <span class="hljs-keyword">master</span>  <span class="hljs-title"># 正常提交</span><br><span class="hljs-title">git</span> push -u origin <span class="hljs-literal">master</span>/main  <span class="hljs-comment"># 首次提交</span><br>git push --force origin <span class="hljs-keyword">master</span>  <span class="hljs-title"># 覆盖提交，本地覆盖远程</span><br></code></pre></td></tr></table></figure><h4 id="2本地仓库连接远程仓库"><a class="markdownIt-Anchor" href="#2本地仓库连接远程仓库"></a> ②本地仓库连接远程仓库</h4><ol><li><code>git init</code>初始化本地仓库，并修改仓库文件</li></ol><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs csharp">git <span class="hljs-keyword">init</span><br></code></pre></td></tr></table></figure><ol start="2"><li>添加至暂存—&gt;本地仓库</li></ol><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">git <span class="hljs-keyword">add</span> .<br>git <span class="hljs-keyword">commit</span> -m <span class="hljs-string">&#x27;commit&#x27;</span><br></code></pre></td></tr></table></figure><ol start="3"><li>如果当前用户目录下没有<code>.ssh</code>目录，就创建。创建后需要输入Github密码，然后一直回车</li></ol><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs excel">ssh-keygen -<span class="hljs-built_in">t</span> rsa -C <span class="hljs-string">&quot;xxx@xxx.com&quot;</span><br></code></pre></td></tr></table></figure><ol start="4"><li>Github—&gt;Setting—&gt;SSH and GPG keys—&gt;New SSH key，Title随便填、Key值为id_rsa.pub的值</li><li>创建Github仓库（无需创建README文件），本地仓库执行连接远程仓库</li></ol><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">git remote add origin https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/username/</span>rep.git<br></code></pre></td></tr></table></figure><ol start="6"><li>将本地仓库内容推送至Github</li></ol><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs maxima">git <span class="hljs-built_in">push</span> -u <span class="hljs-built_in">origin</span> master<br></code></pre></td></tr></table></figure><ol start="7"><li>上传超过100MB的大文件</li></ol><p>下载<code>lfs</code>后安装在电脑中，然后在git中导入文件</p><pre class="highlight"><code class>git git lfs migrate import --include=&quot;*xxx.mp4&quot;</code></pre>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>豆瓣书影音记录导出到Notion并同步</title>
    <link href="/post/29092c2e.html"/>
    <url>/post/29092c2e.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>豆瓣标记条目导出到 Notion 并同步的一套操作和工具，并不适用于所有人。</p><h2 id="原理"><a class="markdownIt-Anchor" href="#原理"></a> 原理</h2><p>使用油猴脚本一键导出<code>看过/读过/听过/玩过</code>的电影、书、音乐、游戏、舞台剧条目。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202302281135997.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202302281136741.png" alt></p><p>分别点击上面那五个“导出看过的”链接的话就会分别从</p><ul><li><code>https://movie.douban.com/mine?status=collect</code></li><li><code>https://music.douban.com/mine?status=collect</code></li><li><code>https://book.douban.com/mine?status=collect</code></li><li><code>https://www.douban.com/people/&lt;people&gt;/games?action=collect</code></li><li><code>https://www.douban.com/location/people/&lt;people&gt;/drama/collect</code></li></ul><p>这几个地方自动翻页去获取个人标记数据（包括评分、评分时间以及短评）并最终导出 csv 文件。每次都可能需要一点时间给脚本去翻页获取数据，中途不要关掉浏览器，也不要在这个页面上去操作什么。因为这三个地方不是具体条目页面，页面访问 limit request 并不严格，所以这样跑脚本完全不会被当做机器人而遭到封禁 IP 或要求重新登录之类的。</p><p>但局限也就是这里无法准确获取更多有关条目本身的信息，比如电影条目的 IMDb 链接、制片国家，也无法精准把导演和演员之类的人名区分开。所以会发现导出的列表和最后实际使用中的 Notion table 的信息有对应不上的或者缺失的。这是正常的，也是无法避免的。 我个人的 Notion 示例看着数据是完整的，是因为最早尝试过自己写爬虫完整地爬取数据，但是数次遭遇被临时封禁<code>IP</code>并要求重新登录，整个过程很痛苦很麻烦，所以决定放弃爬虫方案了。</p><h2 id="使用"><a class="markdownIt-Anchor" href="#使用"></a> 使用</h2><p>Chrome浏览器中安装插件：油猴脚本 -&gt; <a href="https://greasyfork.org/en/scripts/420999-%E8%B1%86%E7%93%A3%E8%AF%BB%E4%B9%A6-%E7%94%B5%E5%BD%B1-%E9%9F%B3%E4%B9%90-%E6%B8%B8%E6%88%8F-%E8%88%9E%E5%8F%B0%E5%89%A7%E5%AF%BC%E5%87%BA%E5%B7%A5%E5%85%B7">豆瓣读书+电影+音乐+游戏+舞台剧导出工具</a>，安装后正常登录豆瓣，就可以在上面看到多出五个链接，“导出看过的”之类的。点击导出就可以导出<code>csv</code>到本地了。</p><h3 id="导入"><a class="markdownIt-Anchor" href="#导入"></a> 导入</h3><p>这是<a href="https://zhouyinglin.notion.site/49d4c3e1ec7f4f2dac3114f155374193">模板集合</a>，选择自己需要的模板点击右上角的<code>Duplicate</code>，即可将模版复制到自己的 workspace 中。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202302281144164.png" alt></p><p>然后在新建的 <code>database </code>页面右上角菜单打开后选择 <code>Merge with CSV</code>，将第一步导出的 <code>csv</code> 文件进行导入，数据量较大的话可能需要一点时间。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202302281145437.png" alt></p><p>导入后效果：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202302281145628.png" alt></p><p>因为我的油猴脚本导出的 csv 是这样的:</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202302281145921.png" alt></p><h2 id="定时更新豆瓣动态至notion"><a class="markdownIt-Anchor" href="#定时更新豆瓣动态至notion"></a> 定时更新豆瓣动态至Notion</h2><p>这么多年过去了，google reader 都死掉了，豆瓣的 RSS 依然还保留着。 在个人页面的右下角一直安静地存在着：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202303011003918.png" alt></p><p>以<a href="https://www.douban.com/feed/people/139201735/interests">我的账号的 RSS 信息</a>为例， 这个 feed 里只有书影音的标记信息，并且想看、在看、看过三类状态的信息也都包括。**缺点是仅有保留最新的 10 条信息。**更新方法就是定时读取这个 RSS feed，然后从中将新的标记信息自动更新到 Notion 里去，就很方便了。</p><h3 id="获取仓库到自己账户"><a class="markdownIt-Anchor" href="#获取仓库到自己账户"></a> 获取仓库到自己账户</h3><ol><li>注册github账号</li><li>fork<a href="https://github.com/bambooom/douban-backup">代码仓库</a></li></ol><h3 id="注册notion-api-集成"><a class="markdownIt-Anchor" href="#注册notion-api-集成"></a> 注册Notion API 集成</h3><p>按照 <a href="https://developers.notion.com/docs/getting-started">Notion 文档</a> 注册一个 Integration，叫什么名字随意，获取 一下Token。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202303011141637.png" alt></p><h3 id="连接数据表格"><a class="markdownIt-Anchor" href="#连接数据表格"></a> 连接数据表格</h3><p>点击Notion页面右上角三个点—Add connections，选择刚创建好的Integration连接，可以看到我这里已经连接上了。连接号之后，就可以通过Notion API来访问或更新数据了。注意，每个database都需要单独连接。连接好之后查看权限，是可以编辑的。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202303011141433.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202303011014914.png" alt></p><h3 id="配置secretes"><a class="markdownIt-Anchor" href="#配置secretes"></a> 配置secretes</h3><p>代码仓库fork之后，就在自己账户里了，找到并打开<code>Settings-Security-Actions </code>,新增<code>secretes</code>，这里的<code>secretes</code>可以理解为密钥或者环境变量。根据这些参数来找到对应的对象。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202303011017689.png" alt></p><p>添加方法就是填写Key、Value，Key是写死在代码里的，就不用修改了，value按照具体的来填即可。由于我目前只记录了电影，所以只填了一个<code>NOTION_MOVIE_DATABASE_ID</code>，如果需要添加其他的，就按代码里<code>douban-backup/.github/workflows/sync-rss.js.yml</code>这个文件中定义的来添加databaseID 就行了</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202303011027695.png" alt></p><p><code>DOUBAN_USER_ID</code>：本人的豆瓣ID，在豆瓣主页即可查到</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202303011021637.png" alt></p><p><code>NOTION_MOVIE_DATABASE_ID</code>: Notion的Database ID，也就是所关联的数据表格的ID。注意 <code>?v=xxxx</code>这些不要加进去，就是中间红色方框那段纯字符串。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202303011024801.png" alt></p><p><code>NOTION_TOKEN</code>： 就是Notion Integration Token</p><h3 id="调整运行频率"><a class="markdownIt-Anchor" href="#调整运行频率"></a> 调整运行频率</h3><p>这个脚本需要定时跑，也就是一个 cron job 而已，实现这个是靠 GitHub Actions 功能，<a href="https://docs.github.com/en/actions/reference/events-that-trigger-workflows#scheduled-events">参考文档</a>。 GitHub 对免费用户的公开仓库暂时完全不会限制 Actions 的使用（Private repo 是有限制使用分钟数的），所以我在仓库里添加了这个 <a href="https://github.com/YuanZhou314/douban-backup/blob/main/.github/workflows/sync-rss.js.yml">workflow 设置文件</a>。默认设置了24个小时跑一次，如果需要修改频率，就编辑这个workflow文件，将 24 改为 6 即表示每隔 6个小时就运行一次脚本。如果需要改为一天或几天，可以参考网上的cron表达式怎么写，粘贴进来就行了。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202303011034636.png" alt></p><h3 id="测试"><a class="markdownIt-Anchor" href="#测试"></a> 测试</h3><p>执行手动运行脚本可以测试该脚本，也可以在修改了脚本之后手动跑一下查看结果。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202303011042426.png" alt></p><p>这里可以查看脚本运行任务方面的具体日志。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202303011044647.png" alt></p><h3 id="注意事项"><a class="markdownIt-Anchor" href="#注意事项"></a> 注意事项</h3><p>这个更新脚本获取下来的信息与上面模板的字段名、字段类型是一致的，不要改掉模板后再去跑脚本，这样就会赋值失败导致跑不起来。如果非要修改Notion模板字段信息，那就去代码中把字段信息也同步改了。但注意<strong>字段类型不要修改</strong>，除非你对这个项目很熟悉……</p><p>如果存在标题或者某个字段拉取不到，可以尝试重新新建一个表格试试。注意，更新表格后需要重新连接和修改<code>secrets</code></p><p>转载自：<a href="https://zhuzi.dev/2021/06/05/douban-backup-sync-notion/">https://zhuzi.dev/2021/06/05/douban-backup-sync-notion/</a></p>]]></content>
    
    
    <categories>
      
      <category>work</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Life</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>日本蒲公英介护中心:让长者活出精彩</title>
    <link href="/post/286f16f6.html"/>
    <url>/post/286f16f6.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>在日本，有这样一所养老院，被称赞为「老人迪士尼」，许多老人都抢着去。这家养老院叫「蒲公英介护中心」，位于爱知县一宫市，是全日本规模最大的养老院，相对于业界平均 30 位老人的水准，这里集合了 250 多位老人，由 90 位员工负责照顾他们。</p><p>这里不同于一般的养老院，简直像个游乐园，除了常见的餐饮、康复设施，还有天然温泉、卡拉 OK、兴趣教室。总共超过 250 种娱乐活动，随处可见一群七八十岁的老人们一起跳舞；也可以叫上好朋友，一起插个花儿或者画画。中午吃个豪华自助餐，想吃什么想吃多少全看自己的喜好。唱 K，搞搞老年歌友会，没事吃个下午茶，定期召开运动会，也是常有的事。夏天还可以练练水上芭蕾，冬天就泡泡温泉、养养生。你肯定在想，这么好的服务，花费一定特别大吧？</p><p>然而，每位老人在这座「超级游乐园」里，可以享受舞蹈、插花、书道、绘画等 250 多种项目，日均花费却仅为 43 元！</p><p>不仅娱乐项目多，护工们的热情也非常高，老人们当然也十分幸福。当然，这家养老院的幸福指数之所以这么高，不仅仅是因为娱乐项目多，而是有另一个秘诀。</p><p>其实，在最初的时候，「蒲公英介护中心」和其他的养老院没有太大差别，老人们都陷入在消极的生活状态里，无论护理人员怎么调动和劝说，他们都不愿意参加康复锻炼和社交活动。说好听点叫「丧失生活热情」，说难听点就是「混吃等死」。</p><p>直到「SEED」币的出现，才神奇地逆转了这一局面，SEED 币是养老院自己发行的内部币，设置了 100、500、1000、5000、10000 五种面额，从纸张到设计都很类似日元纸币，非常具有真实感。</p><p>每人初始资金为 5000SEED，之后只要参加康复训练，或者配合护工工作，就可以获得几百到几千不等的 SEED 币。比如散步 100 米就能获得 100 SEED，自己洗脸、刮胡子也能增加「收入」。赚钱的方式多种多样。很多之前事事需要照顾的老人，开始主动要求自己做事，而曾经躺在床上不愿动的老人，也开始坚持每天下床走个 500 米。至于那些高收入的康复项目，则出现了排长龙的局面。</p><p>攒下一定数量的 SEED 币后，老人们有很多机会「一掷千金」。去小卖铺买东西：零食 =200SEED，一杯咖啡 + 甜点 =500SEED。等你攒了十几万，就可以购买外出行程：扫墓 =5 万 SEED，逛街购物 =12 万 SEED。</p><p>这样一来，「赚钱、存钱、花钱」的熟悉人生模式，仿佛一夜之间又回来了！很多感觉人生失去意义的老人，重新找到了自身的价值感。如今他们想的是努力攒钱，实现一个个小目标。</p><p>这样一场史无前例的创新，让蒲公英介护中心登上了报纸的头条，很多老人看后纷纷来到这里参观体验。</p><p>体验的老人们在这里感受到了快乐和价值，「比起每天定时定量吃饭洗澡睡觉程序化的看护，更喜欢这样自由的氛围。</p><p>院长在采访中也说到：「充分尊重每个人的意愿和选择，平等地帮助每一个人，让他们从心底感到开心幸福，感到对生活的期待以及作为人的价值，这才是真正的养老院啊！</p><p>这样从老人最根本的内心需求出发，才是真正良心的养老院。有了这样的养老院，还怕什么老之将至吗？</p><p>站长评价：看起来很有意思，减缓了老人进入养老院后与社会脱节的差距感。</p><p>但需要考虑的是</p><ol><li>希望在退休后还想继续这种打工生活的人会有多少？毕竟护理费还是照收的，外人看来就是吃力不讨好的事情</li><li>日本有法律层面的托底，而中国的养老政策尚未齐全</li></ol><p><strong>养老行业盈利方向</strong></p><ul><li><p>选择性的选择自理能力强、支付能力强的客户</p></li><li><p>降低护理成本的同时，增加营收项目</p></li><li><p>扩大规模，大量领取政府补贴资金，巨额的预付金让养老院有足够的流动资金保障运营和进行其他投资。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>News</category>
      
    </categories>
    
    
    <tags>
      
      <tag>社会</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Notion升级教育计划(正规途径)</title>
    <link href="/post/4cac1ec0.html"/>
    <url>/post/4cac1ec0.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>操作原理：通过正规的教育邮箱做认证。一般的教育邮箱是<code>edu</code>结尾的，没法直接申请。而 <code>.ac.cn</code>域名属于我国科研所的域名后缀，属于教育机构</p><h2 id="购买-accn后缀域名"><a class="markdownIt-Anchor" href="#购买-accn后缀域名"></a> 购买 .ac.cn后缀域名</h2><p>购买域名入口：<a href="https://buy.cloud.tencent.com/domain/">https://buy.cloud.tencent.com/domain/</a></p><p>为什么选择腾讯云，是因为后面需要用到的企业微信也是鹅厂自家的，可以实现自动解析域名，其他平台的域名就没试过了，但是用腾讯云是确定没错的。</p><p>注意：购买域名需要实名认证，不过审核速度很快，域名购买后就可以直接使用了。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20230218100759358.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20230218100855809.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20230218100913490.png" alt></p><h2 id="注册企业微信"><a class="markdownIt-Anchor" href="#注册企业微信"></a> 注册企业微信</h2><p>注册入口：<a href="https://work.weixin.qq.com/wework_admin/register_wx">https://work.weixin.qq.com/wework_admin/register_wx</a></p><p>填写企业信息，行业类型保险起见填个教育，其他都自己填写。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20230218101246600.png" alt></p><p>注册完成后，点击【首页】-【邮件】</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20230218101337989.png" alt></p><p>点击已有邮箱，立即使用</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20230218101416965.png" alt></p><p>填入你申请的域名，然后又一个自动配置，会自动执行，执行结束后返回企业微信即可。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20230218101546181.png" alt></p><p>到目前为止，你可以打开你的企业微信App，登录到你的企业了。这时候你的工作邮箱应该是系统自动设置的xxx.xxx.work。然后在企业微信管理端（网页）设置邮箱别名</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20230218102134757.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20230218102201548.png" alt></p><p>配置邮箱那一步应该是需要时间的，等待一段时间，配置好之后企业邮箱会收到邮件的。我在那里卡了一会儿，总之最后你的企业邮箱后缀是新申请的这个域名，那就代表成功绑定了。</p><h2 id="notion升级教育版"><a class="markdownIt-Anchor" href="#notion升级教育版"></a> Notion升级教育版</h2><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20230218102527589.png" alt></p><p>升级后的设置界面be like:</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20230218102727503.png" alt></p><h2 id="多人使用"><a class="markdownIt-Anchor" href="#多人使用"></a> 多人使用</h2><p>邀请好友添加进企业即可，每个企业可以加200人</p>]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>写作</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>行业企业调研分析</title>
    <link href="/post/3c85ae1a.html"/>
    <url>/post/3c85ae1a.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><h2 id="行业框架"><a class="markdownIt-Anchor" href="#行业框架"></a> 行业框架</h2><p>行业的基本框架相当于人的头部和四肢，是最基本的支撑点。了解行业框架有助于判断行业是否正处风口，位于生命周期的哪个阶段，接下来走上坡路还是下坡路，现在进入是否还有红利。</p><h3 id="基本术语"><a class="markdownIt-Anchor" href="#基本术语"></a> 基本术语</h3><p>基本的行业术语有哪些？专业名词有哪些？</p><h3 id="行业规模"><a class="markdownIt-Anchor" href="#行业规模"></a> 行业规模</h3><p>行业整体规模和数据？行业年度经济收入？</p><h3 id="生命周期"><a class="markdownIt-Anchor" href="#生命周期"></a> 生命周期</h3><p>当前处在行业生命周期的哪个阶段？行业发展是否有瓶颈？或者是否有行业天花板？</p><p>如下是某行业的生命周期。行业生命周期曲线忽略具体的产品型号、质量、规格，仅从行业角度考虑。识别行业生命周期所处阶段的主要指标有：<a href="https://wiki.mbalib.com/wiki/%E5%B8%82%E5%9C%BA%E5%A2%9E%E9%95%BF%E7%8E%87">市场增长率</a>、需求增长率、产品品种、竞争者数量、<a href="https://wiki.mbalib.com/wiki/%E8%BF%9B%E5%85%A5%E5%A3%81%E5%9E%92">进入壁垒</a>及退出壁垒、技术变革、用户购买行为等。</p><p><strong>幼稚期</strong>：市场增长率高，需求增长快，市场情况不明了，企业进去壁垒较低，普通人进入风险较大。</p><p><strong>成长期</strong>：市场增长率很高，需求高速增长，行业情况逐渐明朗，产品品种和竞争者数量增多，适合创业人士。</p><p><strong>成熟期</strong>：市场增长率不高，需求增长率不高，行业竞争状况及用户特点清除稳定，买方市场形成，行业盈利能力下降，行业进入壁垒高，适合普通人进入，最好依附龙头公司。</p><p><strong>衰退期</strong>：市场增长率下降，需求下降，产品品种及竞争者减少，不建议加入。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202302101121410.png" alt></p><p>举例：幼稚期：人工智能；成长期：新能源 ；成熟期：互联网/金融；衰退期：钢铁</p><p>注：行业生命周期曲线是一条经过抽象化后的典型曲线，各行业按实际销售量绘制出来的曲线不是这样光滑规则。因此识别行业发展处于哪个阶段是比较困难的。</p><h3 id="发展历史"><a class="markdownIt-Anchor" href="#发展历史"></a> 发展历史</h3><p>行业的发展历程和变迁怎样？行业发展趋势如何？未来上坡还是下坡？</p><h3 id="盈利模式"><a class="markdownIt-Anchor" href="#盈利模式"></a> 盈利模式</h3><p>行业发展主要驱动力是什么？行业是哪种盈利模式？</p><h4 id="驱动力"><a class="markdownIt-Anchor" href="#驱动力"></a> 驱动力</h4><p><strong>供给驱动</strong></p><p>供给驱动对企业的技术要求较高，以「为用户提供最好的服务」为核心，就是哪个做得好买哪个。例如手机行业和互联网产品行业，尤其是 APP 类，产品经理基本会保持一周一迭代</p><p><strong>需求驱动</strong></p><p>需求驱动就要看受众群体大小，以及他们的痛点。如医美行业逐渐火热，一是因为爱美是人的天性，不论男女老少，都可能做医美，受众群体广；二是时代逐渐开放，技术也更加成熟，人们对整形微调接受度更高，手术也更安全</p><h4 id="盈利模式-2"><a class="markdownIt-Anchor" href="#盈利模式-2"></a> 盈利模式</h4><p>随着时代的发展，它从单纯的“卖产品”、“卖服务”、“卖品牌”三大类型，衍生出了“卖投资”、“卖文化”两类。“卖产品”、“卖服务”、“卖品牌”看字面意思不难理解，分别对应以产品为核心、以服务为核心、以品牌为核心的盈利模式。“卖投资”、“卖文化”这两点看着比较新颖，但其实，卖投资就是搞分销，招商加盟，比如微商、奶茶行业；至于卖文化，想想各类知识付费 APP/平台就明白了。</p><p><strong>调研方式</strong></p><p>（1）行业整体数据：</p><p>去国家统计局和对应的行业协会、行业媒体官网、学术论坛找，还可以搜搜行业官方公众号。</p><p>（2）行业研究报告：</p><p>证监会官网、发现报告网站、行行查网站、36kr、东方财富网、亿欧、钛媒体、QYResearch、亿欧，还可以搜搜微信小程序 报告查一查。有资金的可以考虑咨询机构报告、淘宝购买等。</p><p>具体链接：<a href="http://www.csrc.gov.cn/">证监会官网</a></p><h3 id="上下游供应"><a class="markdownIt-Anchor" href="#上下游供应"></a> 上下游供应</h3><p>行业的供应结构如何？供应商数量与分布？</p><p>供应链是指产品生产和流通过程中所涉及的<strong>原材料供应商、生产商、分销商、零售商以及最终消费者</strong>等成员通过与上游、下游成员的连接 (linkage) 组成的网络结构。也即是由物料获取、物料加工、并将成品送到用户手中这一过程所涉及的企业和企业部门组成的一个网络。</p><p>将供应链描绘成一棵枝叶茂盛的大树：生产企业构成树根；独家代理商则是主杆；分销商是树枝和树梢；满树的绿叶红花是最终用户；在根与主杆、枝与杆的一个个结点，蕴藏着一次次的流通，遍体相通的脉络便是信息管理系统。</p><p>一般来说，构成供应链的基本要素包括：</p><p><strong>供应商</strong>：给生产厂家提供原材料或零部件的企业</p><p><strong>厂家</strong>：产品制造商，产品生产的最重要环节，负责产品生产、开发和售后服务</p><p><strong>分销企业</strong>：讲产品送到经营地理范围每一角落设立的产品流通代理企业</p><p><strong>零售企业</strong>：将产品销售给消费者的企业</p><p><strong>物流企业</strong>：专门提供物流服务的企业</p><p>供应链的四个流程：</p><ol><li>物流</li></ol><p>物资（商品）的流通过程。流程的方向是由供货商经由厂家、批发与物流、零售商等指向消费者。</p><ol start="2"><li>商流</li></ol><p>买卖的流通过程，这是接受订货、签订合同等的商业流程。该流程的方向是在供货商与消费者之间双向流动的。目前的商业流通形式呈多元化：既有传统的店铺销售、上门销售、邮购，又有互联网等新兴媒体进行购物的电子商务形式。</p><ol start="3"><li>信息流</li></ol><p>商品及交易信息的流程。该流程的方向也是在供货商与消费者之间双向流动的。过去人们往往把重点放在实物上，信息流一直被忽视。</p><ol start="4"><li>资金流</li></ol><p>货币的流通，为了保障企业的正常运作，必须确保资金的及时回收，否则企业就无法建立完善的经营体系。该流程的方向是由消费者经由零售商、批发与物流、厂家等指向供货商。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202302101121603.jpeg" alt></p><h2 id="市场分析"><a class="markdownIt-Anchor" href="#市场分析"></a> 市场分析</h2><p>狭义的市场分析：即市场调查研究，以科学方法收集消费者的购买和使用商品的事实、意见、动机]等有关材料，并对其进行研究。</p><p>广义的市场分析：对从生产者到消费者或用户这一过程中全部商业活动的资料、情报和数据，作系统地收集、记录、整理和分析，以了解商品的现实市场和潜在市场</p><p>市场分析的主要目的是<strong>研究商品的潜在销售量</strong>，开拓潜在市场，安排好商品地区之间的合理分配，以及企业经营商品的地区市场占有率。通过市场分析，可以更好地认识市场的商品供应和需求的比例关系，采取正确的经营战略，满足市场需要，提高企业经营活动的经济效益。</p><h3 id="市场规模"><a class="markdownIt-Anchor" href="#市场规模"></a> 市场规模</h3><p>市场规模大还是小？与其他行业相比算大算小？</p><p>如果将整个市场想象成一块蛋糕，那么市场规模就是指这块大蛋糕的尺寸大小。</p><h3 id="行业数据"><a class="markdownIt-Anchor" href="#行业数据"></a> 行业数据</h3><p>行业大数据如何？有多少家企业、产品？</p><p>行业数据是的具体数据呈现和支撑点，蛋糕上的具体事物</p><h3 id="用户群体"><a class="markdownIt-Anchor" href="#用户群体"></a> 用户群体</h3><p>行业的主要用户是谁？群体大还是小？</p><p>用户群体是指吃蛋糕的人。做市场分析，最重要的就是<strong>摸清楚你的用户群体是谁</strong>。本质上，谁在用你的产品，谁就是你的用户群体。画出用户画像，锁定用户群体，再依据用户的痛点，针对性优化产品和投放广告，往往能事半功倍。</p><p>用户画像关键因素：</p><p>性别分布、年龄分布、常驻地区、学历水平、手机终端、兴趣爱好、活跃时间段、职业分布、收入水平、婚配情况、消费特征、行为偏好、活动场景等。</p><p>举例：某女装淘宝店的用户画像为：18-24 岁，未婚，常活跃在一线城市，多为本科学历，主要终端为 ios，消费能力强，偏好二次元和 cosplay，日常场景为大学校园</p><h3 id="市场增长率"><a class="markdownIt-Anchor" href="#市场增长率"></a> 市场增长率</h3><p>近几年市场增长率如何？市场利润率如何？</p><p>市场增长率就是判断这个蛋糕是越吃越多，还是越吃越少的指标，是评判行业生命周期的基本指标。</p><p>市场增长率的计算公式：市场增长率 = （该期市场销售额 – 上期市场销售额）/ 上期市场销售额 * 100%</p><p>举例：如果你想计算出某行业 5 月的市场增长率，那么就需要知道 5 月和 4 月的销售额，假设 5 月销售额为 1000 万件，4 月为 700 万件，那么：5 月市场增长率= （1000 -700 ）/ 700 *100% ≈42.9%</p><p><strong>调研方式</strong></p><p>（1）市场调研</p><ul><li>实地调研：发放调查问券，或询问熟悉行业市场的人，或做一些实际的、小规模的活动进行调查预测。例如你想知道喜欢吃螺蛳粉的人群最关注什么，于是办了“进群答题免费领螺蛳粉”的营销活动，还顺势引了一波客流</li><li>文案调查：主要是网上资料搜索和图书馆找相关书籍，多为二手资料</li><li>案例调查：主要研究行业龙头公司的市场和产品。</li></ul><p>（2）调研工具</p><p>龙头企业和产品，一般在证监会官网里可以找到财务报表，直观查到企业规模、盈利、周转、负债四个维度的关键信息。也可以去官网、公众号、百度相关报道中找到信息，部分招聘软件还能查到同业公司、明星企业、产品/技术专利等情况。</p><p>总结：</p><p>问专业人士——知乎大 v 提问</p><p>信息查询渠道——官网、专门收集行业信息的公众号、百度等搜索引擎</p><p>公司概况查询软件——企信宝、企查查、天眼查、微猫、生意参谋等各类招聘软件</p><h3 id="财务报表"><a class="markdownIt-Anchor" href="#财务报表"></a> 财务报表</h3><p>龙头企业的财务报表数据如何？</p><p>财务报表指的是龙头公司的财务报表，这可以迅速了解这家企业的主要业务、主要客户、员工规模、战略方向、所有权性质、主要风险等，以此推断出整个行业的情况。推荐使用“<a href="https://wiki.mbalib.com/wiki/%E6%9D%9C%E9%82%A6%E5%88%86%E6%9E%90%E6%B3%95">杜邦分析法</a>”来阅读财务报表。</p><h4 id="财报分类"><a class="markdownIt-Anchor" href="#财报分类"></a> 财报分类</h4><p><strong>按服务对象：</strong></p><ul><li>对外报表：主要的、定期的、规范化的财务报表，有统一的报表格式、指标体系和编制时间。例如资产负债表、利润表和现金流量表等。</li><li>对内报表：企业根据其内部经营管理的需要而编制的，供其内部管理人员使用的财务报表。它不要求统一格式，没有统一指标体系。例如成本报表。</li></ul><p><strong>按主附表：</strong></p><ul><li>主表：主要财务报表，是指所提供的会计信息比较全面、完整。现行的主表主要有三张，即资产负债表、<a href="https://wiki.mbalib.com/wiki/%E5%88%A9%E6%B6%A6%E8%A1%A8">利润表</a>和<a href="https://wiki.mbalib.com/wiki/%E7%8E%B0%E9%87%91%E6%B5%81%E9%87%8F%E8%A1%A8">现金流量表</a>。</li><li>附表：对主表中不能或难以详细反映的一些重要信息所做的补充说明的报表。现行的附表主要有：<a href="https://wiki.mbalib.com/wiki/%E5%88%A9%E6%B6%A6%E5%88%86%E9%85%8D%E8%A1%A8">利润分配表</a>和<a href="https://wiki.mbalib.com/wiki/%E5%88%86%E9%83%A8%E6%8A%A5%E8%A1%A8">分部报表</a>，是利润表的附表；<a href="https://wiki.mbalib.com/wiki/%E5%BA%94%E4%BA%A4%E5%A2%9E%E5%80%BC%E7%A8%8E%E6%98%8E%E7%BB%86%E8%A1%A8">应交增值税明细表</a>和<a href="https://wiki.mbalib.com/wiki/%E8%B5%84%E4%BA%A7%E5%87%8F%E5%80%BC%E5%87%86%E5%A4%87%E6%98%8E%E7%BB%86%E8%A1%A8">资产减值准备明细表</a></li></ul><p><strong>按时间分类：</strong></p><ul><li>中期财务报表：广义的中期财务报表包括月份、季度、半年期财务报表。</li><li>年度财务报表：全面反映企业整个会计年度的经营成果、现金流量情况及年末财务状况的财务报表。</li></ul><p>……还有按编报单位和主体不同，就不一一举例了。</p><h4 id="财务报表的组成"><a class="markdownIt-Anchor" href="#财务报表的组成"></a> 财务报表的组成</h4><p>一套完整的财务报表包括<a href="https://wiki.mbalib.com/wiki/%E8%B5%84%E4%BA%A7%E8%B4%9F%E5%80%BA%E8%A1%A8">资产负债表</a>、<a href="https://wiki.mbalib.com/wiki/%E5%88%A9%E6%B6%A6%E8%A1%A8">利润表</a>、<a href="https://wiki.mbalib.com/wiki/%E7%8E%B0%E9%87%91%E6%B5%81%E9%87%8F%E8%A1%A8">现金流量表</a>、<a href="https://wiki.mbalib.com/wiki/%E6%89%80%E6%9C%89%E8%80%85%E6%9D%83%E7%9B%8A%E5%8F%98%E5%8A%A8%E8%A1%A8">所有者权益变动表</a>(或<a href="https://wiki.mbalib.com/wiki/%E8%82%A1%E4%B8%9C%E6%9D%83%E7%9B%8A%E5%8F%98%E5%8A%A8%E8%A1%A8">股东权益变动表</a>)和<a href="https://wiki.mbalib.com/wiki/%E8%B4%A2%E5%8A%A1%E6%8A%A5%E8%A1%A8%E9%99%84%E6%B3%A8">财务报表附注</a>。</p><ol><li><p>资产负债表(Balance Sheet / Statement of Financial Position) 它反映企业<strong>资产</strong>、<strong>负债</strong>及<strong>资本</strong>的期未状况。<strong>长期偿债能力</strong>，<strong>短期偿债能力</strong>和利润分配能力等。</p></li><li><p>利润表（或称损益表） (Income Statement/Profit and Loss Account) 它反映本期<strong>企业收入</strong>、<strong>费用</strong>和应该记入当期利润的<strong>利得</strong>和损失的金额和结构情况。</p></li><li><p>现金流量表 (Cash Flow Statement) 它反映企业现金流量的来龙去脉，当中分为<strong>经营</strong>活动、<strong>投资</strong>活动及<strong>筹资</strong>活动三部份。</p></li><li><p>所有者权益变动表(Statement of change in equity) 它反映本期企业所有者权益（股东权益）总量的增减变动情况还包括结构变动的情况，特别是要反映直接记入所有者权益的利得和损失。</p></li><li><p>财务报表附注一般包括如下：</p></li></ol><ul><li>企业的基本情况；</li><li>财务报表编制基础；</li><li>重要报表项目的说明；</li><li>……</li></ul><h4 id="财务报表六看"><a class="markdownIt-Anchor" href="#财务报表六看"></a> 财务报表“六看”</h4><p>对财务报表可以从六个方面来看，以发现问题或作出判断：</p><ol><li>看利润表。对比今年收入与去年收入的<strong>增长是否在合理的范围内</strong>。像银广夏事件，利润表上今年的收入比去年增加几百个百分点，这就是不可信的，问题非常明显。那些增长点在50％－100％之间的企业，都要特别关注。</li><li>看企业的<strong>坏账准备</strong>。有些企业的产品销售出去，但款项收不回来，但它在账面上却不计提或提取不足，这样的收入和利润就是不实的。</li><li>看<strong>长期投资</strong>是否正常。有些企业在主营业务之外会有一些其他投资，看这种投资是否与其主营业务相关联，如果不相关联，那么，这种投资的风险就很大。</li><li>看<strong>其他应收款</strong>是否清晰。有些企业的资产负债表上，其他应收款很乱，许多陈年老账都放在里面，有很多是收不回来的。</li><li>看是否有<strong>关联交易</strong>，尤其注意年中大股东向上市公司借钱，到年底再利用银行借款还钱，从而在年底报表上无法体现大股东借款的做法。</li><li>看<strong>现金流量表</strong>是否能正常地反映资金的流向，注意今后现金注入和流出的原因和事项。</li></ol><h2 id="产品研究"><a class="markdownIt-Anchor" href="#产品研究"></a> 产品研究</h2><p>这主要是弄清楚，市场上的产品主要有哪些，是怎么分类的，占比多少，主要受什么影响。</p><p>比如，互联网移动社交 APP 行业，可以分为综合平台（微信、QQ）、陌生人平台（探探）、兴趣、游戏、婚恋、职场等社交类型。很明显这类产品区别于实际物品，是可视化的无形产品，而影响其发展的主要是科学技术。</p><h3 id="产品概况"><a class="markdownIt-Anchor" href="#产品概况"></a> 产品概况</h3><p>产品概况如何？产品数量和类型具体情况？</p><h3 id="产品需求"><a class="markdownIt-Anchor" href="#产品需求"></a> 产品需求</h3><p>产品是否刚需？体验感如何？是否面临时代淘汰危机？</p><h3 id="产品技术"><a class="markdownIt-Anchor" href="#产品技术"></a> 产品技术</h3><p>技术成熟度如何？行业产品技术发展、竞争行业技术发展怎样？</p><h3 id="产品形态"><a class="markdownIt-Anchor" href="#产品形态"></a> 产品形态</h3><p>产品的主要形态如何？有形还是无形的？</p><h3 id="调研方式"><a class="markdownIt-Anchor" href="#调研方式"></a> 调研方式</h3><p>可以自己市场调研，关注淘宝、天猫等产品分类，或者去实体店看。网络调查的话，可以在行业网站和百度查出来，一些行业报告中也会提及。</p><p>产品是否具有发展潜力，会不会面临时代淘汰危机。例如，以前的时候 MP3 很火，但后来手机兴起，涵盖听歌功能，直接干掉了 MP3。</p><p>产品研究的主要内容包括：</p><ol><li>对本部门、本企业产品与国内外相同产品的性能、质量、可靠性进行分析比较；</li><li>对增加产品功能和发扬产品特色进行研究，如恢复名牌，创名牌，保名牌，增加产品新功能，提高产品信誉，增强在国内外市场的竞争能力等；</li><li>调查分析市场需要，进行新产品开发的研究；</li><li>从市场需要出发，研究改善产品生产线的设计；</li><li>对不同销售对象与不同产品的包装、出口产品与内销产品的包装进行研究；</li><li>对产品的生命期进行分析研究。</li></ol><h2 id="竞争格局"><a class="markdownIt-Anchor" href="#竞争格局"></a> 竞争格局</h2><p>了解行业蛋糕是如何被割分的，评估自己（或心仪公司）能分到多少份额。</p><h3 id="1竞争格局"><a class="markdownIt-Anchor" href="#1竞争格局"></a> 1.竞争格局</h3><p>龙头老大是谁？一家独大还是多头垄断，还是百花齐放？产品竞争如何？</p><h3 id="2行业影响"><a class="markdownIt-Anchor" href="#2行业影响"></a> 2.行业影响</h3><p>是否有其他行业影响竞争？</p><p><strong>调研方式</strong></p><p>一般行业报告中就能获取，或者去行业协会的官网，平时记得多关注行业动态信息</p><h2 id="监管政策"><a class="markdownIt-Anchor" href="#监管政策"></a> 监管政策</h2><p>一切行业都跟着国家政策走，顺则蒸蒸日上，逆则夹缝生存。要时刻关注政府政策，改变风向，尤其是涉及到限制和处罚的内容。例如之前火爆的海外代购，促生了很多职业代购。但随着电子商务法的颁布，线上代购要登记交税，同时电商平台承担连带责任，最高罚款 200 万。</p><h3 id="中央政策"><a class="markdownIt-Anchor" href="#中央政策"></a> 中央政策</h3><p>国务院文件、各部委文件如何？</p><h3 id="地方政策"><a class="markdownIt-Anchor" href="#地方政策"></a> 地方政策</h3><p>地方政府文件如何？</p><p><strong>调研方式</strong></p><p>多关注行业官网中的政策板块，上中国政府网，科技部、工信部、发改委、财政部、人力资源部、文旅部等部委的官网，以及地方政府官网进行查询。</p><h2 id="其他影响因素"><a class="markdownIt-Anchor" href="#其他影响因素"></a> 其他影响因素</h2><p>指地区、文化、经济、生态、人口等因素，做得好是赚钱加分项，但忽视的话，也可能是致命一击。</p><p>举例：你开了一家饭店，客流、交通位置等都很好，附近也只此一家饭店，但顾客却很少。调查后，你发现店里总是传来若有若无的异味。起初怀疑是卫生问题，后来才知道，几百米外有家酒厂，而饭店的位置正处于酒厂的下风向</p><h3 id="地区布局"><a class="markdownIt-Anchor" href="#地区布局"></a> 地区布局</h3><p>比如行政区划、交通运输、城郊影响、城市规模，南北差异等。</p><h3 id="经济水平"><a class="markdownIt-Anchor" href="#经济水平"></a> 经济水平</h3><p>比如地区人口经济收入、消费能力等。</p><h3 id="人口分布"><a class="markdownIt-Anchor" href="#人口分布"></a> 人口分布</h3><p>比如住宅区、工业区，交通要点分布等。</p><h3 id="生态环境"><a class="markdownIt-Anchor" href="#生态环境"></a> 生态环境</h3><p>比如气候差异、天气因素、地形地势、风向、矿物山体等。</p><h3 id="文化水平"><a class="markdownIt-Anchor" href="#文化水平"></a> 文化水平</h3><p>比如文化差异，风俗习惯等。</p><p><strong>调研方式</strong></p><p>基本可依据搜索引擎解决，或者查询地区政务网。找当地人问问，也可能有意向不到的收获。</p><h2 id="附录"><a class="markdownIt-Anchor" href="#附录"></a> 附录</h2><h3 id="国家机构公开数据"><a class="markdownIt-Anchor" href="#国家机构公开数据"></a> 国家机构公开数据</h3><p><a href="http://www.gov.cn/fuwu/">国家的便民服务查询</a>：（包括5A景区list，小微企业名录，法人信用查询，出租车信息查询）</p><p><a href="http://www.gov.cn/shuju/chaxun/index.htm">国家宏观经济数据</a>：非常详细，包含GDP,CPI，总人口，社会消费品零售总额，粮食产品，PPI，各地区行政规划，各地财政收支等等，分月度季度和年度……</p><p><a href="http://www.stats.gov.cn/tjsj/">国家统计局</a>：权威又准确，数据多到瞠目结舌，包括年度，季度，国家，国际，年鉴，介乎涵盖所有数据指标和历史……</p><p><a href="https://data.worldbank.org.cn/indicator?tab=all">世界银行的公开数据库</a>：有健康，农业，公共部部门，人口分布，外债，性别，教育，环境，气候变化，能源，贫困等各种公开数据</p><p><a href="https://cn.knoema.com/atlas">世界数据图册</a>：世界和地区统计资料，各国数据，地图，排名。包含的全球的国家公开的数据（可惜的是好像有些数据只更新到2017年）</p><p><a href="http://hao.199it.com/buwei.html">国家机关部委的公开数据</a>：包括国家发展和改革委员会，教育部，民政部，司法部，财政部，工业和信息化不，交通运输部，文化和旅游部等</p><p><a href="http://hao.199it.com/opencity.html">各城市开放数据</a>：包括浙江数据开放网，青岛数据开放网，贵阳数据开放平台，成都数据公开平台，合肥数据开放平台，河南开放数据平台等</p><p><a href="http://hao.199it.com/hgjj.html">宏观经济查询数据</a>：包括高校财经信息库，人民网经济数据库，香港统计处，联合国统计司，世界经合组织，欧盟统计局，国际货币基金组织等</p><p><a href="http://hao.199it.com/fang.html">房价数据</a>：包括中国房价指数，房价走势，台湾房价行情，北京房价查询，深圳楼盘成交查询等，上海地铁房价，贝壳指数等</p><p><a href="http://hao.199it.com/auto.html">汽车数据</a>：包括中国汽车工业协会数据，百度汽车网，易车汽车指数，汽车渠道直通车，中国汽车流通协会数据中心，德国汽车工业协会等</p><p><a href="https://www.cncic.org/?cat=7">中华全国商业信息中心</a> ：包括零食，羊毛衫，服饰，奶粉，皮包等各种消费品的月度，年度，全年详细数据和报告。</p><p><a href="https://zwgk.mct.gov.cn/zfxxgkml/447/465/index_3081.html">政府信息公开目录</a>：包含全国的酒店，旅行社，旅游，饭店等信息</p><h3 id="国内咨询机构网站数据报告"><a class="markdownIt-Anchor" href="#国内咨询机构网站数据报告"></a> 国内咨询机构网站数据报告</h3><p><a href="https://report.iresearch.cn/">艾瑞研究-艾瑞网</a>（互联网行业报告）</p><p><a href="https://index.iresearch.com.cn/new/#/app">艾瑞APP指数</a>-艾瑞网（移动App TOP 1000 月度活跃和日活跃）</p><p><a href="http://www.199it.com/">199IT互联网数据中心</a>：所有行业报告，内容繁多，支持搜索</p><p><a href="http://www.ccfa.org.cn/portal/cn/index.jsp">中国经营连锁协会CCFA</a>：是连锁经营领域唯一的全国性行业组织，经常发布一些行业资讯和报告</p><p><a href="http://www.ccagm.org.cn/">中国百货商业协会 CCAGM</a>：聚焦百货零售行业的研究</p><p><a href="http://www.linkshop.com/">联商网</a>**，**专注零售行业提供多方面的服务，对于零售行业来说也是最大的商机平台和互动社区</p><p><a href="http://mi.talkingdata.com/reports.html?category=all">数据报告-移动观象台-TalkingData</a>（Talkingdata报告）-行业报告可看</p><p><a href="https://www.rolandberger.com/en/?country=CN">TalkingData</a>：质量数量两开花</p><p><a href="https://www.iimedia.cn/#shuju">艾媒网-全球移动互联网行业数据发布平台</a>：行业报告可看</p><p><a href="http://www.aliresearch.com/">阿里研究院-阿里行业研究报告</a>**：**阿里巴巴就不用多说了，依托他的阿里研究院里的海量数据，总有你需要的</p><p><a href="https://www.qimai.cn/?qm_query=1">ASO100 - 专业App Store数据平台丨ASO优化专家平台丨iOS榜单排行榜查询工具</a></p><p><a href="https://www.endata.com.cn/">免费报告列表页</a>-艺恩咨询：是个研究娱乐行业的公司，电影电视行业，提供行业报告</p><p><a href="https://toobigdata.com/douyin/users">抖音快手的热门视频和kol的</a>名单</p><p><a href="https://tophub.today/">各大媒体的每天的热门排行榜</a></p><p><a href="http://hao.199it.com/douyin.html">短视频行业的数据</a></p><p><a href="http://www.100ec.cn/zt/wmds/">http://www.100ec.cn/zt/wmds/</a> ：涵盖跨境电商所有报告，行业数据和研报</p><p><a href="https://www.dydata.io/?channelCode=Y6XZ53FW&amp;hmsr=zh-ctt-Q1">镝数聚-权威数据 海量聚合</a> ：除了各行业报告汇集外，还提取了报告中的数据，颗粒度比较细，可以查看使用</p><p><a href="https://data.eastmoney.com/report/">研报首页</a>：东方财富研报中心，报告PDF直接下载</p><p><a href="https://wisburg.com/report">智堡 Wisburg</a> ：行业和宏观报告比较多</p><p>慧博研报网站客户端下载,研报免费看：适用于各行各业哈</p><p><a href="https://stock.us/cn/report/strategy">商券研报</a>：也可查看股/基市</p><h3 id="国内互联网公司数据报告网站"><a class="markdownIt-Anchor" href="#国内互联网公司数据报告网站"></a> 国内互联网公司数据报告网站</h3><p><a href="http://www.tencent.com/zh-cn/investors.html">Tencent 腾讯</a>-业绩报告</p>]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>社会</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>二手车选购指南(总结后已脱坑)</title>
    <link href="/post/8ba9e2c8.html"/>
    <url>/post/8ba9e2c8.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><ol><li>购买（手续）风险</li></ol><p>手续证件一般有行驶证、产权证（绿本），产权证3~4也有过户记录，最好两样都看一下。</p><ul><li>注册日期</li></ul><p>车辆注册日期即车辆上牌日期，而发证日期指车子过户或者行驶证丢失换新证件的日期。</p><ul><li>车辆性质</li></ul><p>二手车分类：</p><ul><li><p>可过户：较正规</p><ul><li><p>非营运车</p><p>最好是选择非营运车，家用车一般均属于非，没有强制报废年限。</p></li><li><p>营运车</p><p>有8年或者60w公里强制报废，出租车居多。一般便宜的1~2w基本属于这种。</p></li><li><p>预约出租客运</p><p>网约车，专门注册跑滴滴之类的，强制报废年限60w公里，车型有朗逸、轩逸、雷凌、卡罗拉，别克GL8等</p></li><li><p>营转非</p><ul><li>出租营运转非营运：即出租，8年强制报废</li><li>租赁营运转非营运：即租赁，15年强制报废，以帕萨特、别克GL8的居多</li></ul></li></ul></li><li><p>不可过户：高风险，强烈谨慎购买</p><ul><li>抵押车</li><li>查封车</li><li>背户车</li></ul></li><li><p>车辆过户次数：产权证可查</p></li><li><p>车辆参数：一般进口车或异地买车需要重视一下</p></li></ul><ol start="2"><li><p>车辆风险</p></li><li><p>使用风险</p></li><li><p>价格（交易）风险</p></li></ol><hr><p>事故车：指车架受到了巨大损伤的车，普通刮蹭、撞坏灯、水箱等不算。</p><p>四梁六柱：前后各自的左右纵梁、左右两侧ABC柱。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202302060931276.png" alt></p><p>例如这个车架，出厂的时候是一体的，任何部位受到大损伤，都没办法将其卸下再换个新的上去（除非切割后重新焊上去）。如果一个事故后A/B柱严重凹陷或损坏，虽然看起来一般，但基本没法修，一般修理厂不具备这种水平。只能将其切掉并焊一个完整的上去。但焊接又有工艺复杂和强度减弱等问题，质量可想而知。如果焊接过程不够精细、有误差，极端情况下可能过一个减速带汽车就会散架。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202302031135451.png" alt></p><h2 id="外观事故"><a class="markdownIt-Anchor" href="#外观事故"></a> 外观事故</h2><h3 id="外壳部件"><a class="markdownIt-Anchor" href="#外壳部件"></a> 外壳部件</h3><p>外观受损并不影响车辆安全性，但也会出现许多小问题。尤其是外观损坏比较严重的车子，部件基本都会换掉，只要不是原厂的，就会出现一系列各种各样的问题，例如但不限于车门不严、漏风漏水、车辆异响、接缝前大后小左高右低……</p><h3 id="玻璃-塑料件"><a class="markdownIt-Anchor" href="#玻璃-塑料件"></a> 玻璃、塑料件</h3><ul><li>小裂纹修复：手艺好的话影响不大。</li><li>更换拆车件：看玻璃是否漏风漏水。</li><li>更换副厂件：副厂件产品质量不行，应拒绝。</li></ul><h3 id="电路元件"><a class="markdownIt-Anchor" href="#电路元件"></a> 电路元件</h3><p>副厂件就跟盗版产品一样，能做到与原厂产品外观近似，但质量远不及原厂产品。一辆事故车很有可能需要更换一些电器元件，例如风扇、雷达、传感器、灯、开关、保险、线路、电脑模块等，原厂价格昂贵，仿制品非常便宜，修复时难免会用到便宜产品，但开车的人却不知道。</p><h3 id="安全气囊"><a class="markdownIt-Anchor" href="#安全气囊"></a> 安全气囊</h3><p>气囊的工作原理：车外的各个传感器检测到车辆碰撞→将信号传输给电脑→电脑分析碰撞来自什么方位，并决定让哪些气囊产生爆炸→给需要爆炸的气囊通电→气囊内部的炸药包被电路点燃，发生爆炸→爆炸一瞬间产生大量气体（类似于放鞭炮）充满气囊→气囊体积迅速膨胀，从折叠状态变成充气状态并迅速弹出→同时安全带会拉紧并锁死，确保你会被紧紧地捆在座位上→紧接着由于气囊并不是密封的，而是有一个或多个大洞的，所以弹出后立刻就会漏气，这样才能保证当你的脸被弹出的气囊拍扁了之后，不至于因窒息而死→最后，电脑会记录气囊已经爆炸的这件事，并在仪表盘上显示一个故障灯。</p><p><strong>划重点</strong></p><ol><li><strong>气囊是一次性的，弹出后几秒钟内就会漏气，并失效</strong></li><li><strong>气囊弹出速度很快，如果没有系安全带直接扑在气囊上是非常危险的</strong></li><li><strong>安全带是100%重要的</strong></li></ol><p>这是一辆车的主气囊，也就是方向盘中间的那一坨，你平时按喇叭的地方下面就是主气囊。很明显这个气囊已经爆炸了，底下那一坨白布就是先充满气再漏掉的气囊，而正对着镜头的这个圆圆的红褐色的带电线的物体就是电路和炸药包。一旦气囊爆炸，首先这个东西肯定是废了。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202302060929751.png" alt></p><p>气囊的修复过程（不正规修理厂，因为修复成本低。而4s店几乎不可能修复）</p><ol><li>已爆炸的气囊折叠好并装回去（也许还要洗洗上面的血迹并晾干）</li><li>修复已破损的气囊外壳，更换车标</li><li>更换新的炸药，并连接好电路</li><li>消除仪表盘的故障灯（更换气囊电脑）</li></ol><h2 id="火烧车"><a class="markdownIt-Anchor" href="#火烧车"></a> 火烧车</h2><h3 id="部分烧毁"><a class="markdownIt-Anchor" href="#部分烧毁"></a> 部分烧毁</h3><p>主要关心电路故障，如果用原厂电路或元器件更换还好，否则就会有熄火风险，或者短路造成的二次起火。另外如果二手车内香气扑鼻，基本就是在掩盖什么味道，需要注意。</p><p>另外，车辆着火时多半被水浇，除了电气故障可能还有泡水车的症状，例如生锈、超时、发霉、真皮变硬等……</p><h3 id="全车烧毁"><a class="markdownIt-Anchor" href="#全车烧毁"></a> 全车烧毁</h3><p>全车烧毁参考如下。烧的只剩下车架，但就算是车架也值不少钱，完整的车架都能卖好几万。然后将同型号车子其他可用零件卸下装上去，最后就是一辆“无事故新车”或者“精品女士一手车”。这种火烧车很有可能有极大的安全隐患，高温焚烧后车架的结构强度会明显减弱，如果再发生事故，很可能会撞得更惨。如果需要检查这类问题，需要从螺丝下手，如果很多螺丝都被动过，很可能经过这种大修。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202302060929884.png" alt></p><h2 id="泡水车"><a class="markdownIt-Anchor" href="#泡水车"></a> 泡水车</h2><p>修复过程：拆解，能拆的都拆。然后清洁、晾晒，并重新组装，更换必要部件。如果没有拆干净过洗干净，导致部件内有水，就可能会导致发霉、生锈、短路、异味等问题。</p><p>泡水车影响最大的还是电器元件。影响程度跟泡水时间、深度、水质有关系。任何通电的地方没清理干净，就可能出现<strong>电路故障</strong>，最后出现一系列小毛病，如玻璃升降失灵、喇叭不响、倒车影像时有时无、大灯不亮等……而电路故障的<strong>排查和解决极其繁琐</strong>，而且需要各种拆拆换换，简直让你生不如死。另外，车内还有很多吸水材料如地摊、隔音棉，一旦进水又没有在短时间内弄干，就会<strong>发霉导致异味</strong>，同样非常难以彻底清理……总而言之，车子泡过水之后是很难再处理干净。</p><h2 id="选购注意事项"><a class="markdownIt-Anchor" href="#选购注意事项"></a> 选购注意事项</h2><h3 id="车况"><a class="markdownIt-Anchor" href="#车况"></a> 车况</h3><ol><li>看喷漆情况<ul><li>耐心离车身远看一圈，看看有没有哪里颜色不太对</li><li>耐心看接缝处是否有多余的漆</li><li>耐心看看表面是否有一个个凸起的小点点</li></ul></li><li>玻璃出厂日期，主要看前挡风玻璃<ul><li>玻璃出厂日期在左/右下方，同一辆车的所有玻璃生产日期差异一般在3个月以内。非原装玻璃利于讲价</li></ul></li><li>轮胎出厂时间和磨损程度<ul><li>4个轮胎出场时间都要看，轮胎上连续4个数字中，后两位代表生产年份，前两位代表第几周生产</li><li>商家换轮胎一般较为少见，换也是换二手胎</li></ul></li><li>发动机舱、后备箱盖螺丝拧动痕迹</li><li>机盖胶条、后备箱盖胶条、前大灯标签，水箱框架标签等<ul><li>胶条：车顶胶条、雨刮器胶条、机盖胶条有胶条且较软，大概率是原厂的；也可以查看胶条老化程度。</li></ul></li><li>后备箱备胎槽处打胶痕迹<ul><li>看后备箱尺寸</li><li>看塑料板下备胎槽的东西是否生锈，胶条是否正常，是否哪里有生锈，防止车屁股撞得太厉害</li></ul></li></ol><h3 id="保养记录"><a class="markdownIt-Anchor" href="#保养记录"></a> 保养记录</h3><p>查博士App、大圣来了、车鉴定、蚂蚁女王、查博士、查车大师、车厘子查询等</p><h3 id="保险理赔记录"><a class="markdownIt-Anchor" href="#保险理赔记录"></a> 保险理赔记录</h3><p>App同样可以查询，但有些保险数据不连通，因此没有查到的话也不代表完全没出过险。</p>]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Life</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>从Django后端处理跨域问题</title>
    <link href="/post/48f8b261.html"/>
    <url>/post/48f8b261.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301181456528.png" alt></p><p>前端报错欣赏：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">Access</span> <span class="hljs-keyword">to</span> XMLHttpRequest at <span class="hljs-string">&#x27;http://127.0.0.1:8000/todolist/getalltodo&#x27;</span> <span class="hljs-keyword">from</span> origin <span class="hljs-string">&#x27;http://localhost:5173&#x27;</span> has been blocked <span class="hljs-keyword">by</span> CORS <span class="hljs-keyword">policy</span>: <span class="hljs-keyword">No</span> <span class="hljs-string">&#x27;Access-Control-Allow-Origin&#x27;</span> <span class="hljs-keyword">header</span> <span class="hljs-keyword">is</span> present <span class="hljs-keyword">on</span> the requested resource.<br></code></pre></td></tr></table></figure><p><strong>场景</strong>：运行在<code>localhost:5137</code>的前端项目需要访问运行在<code>localhost:8080</code>的接口</p><p><strong>原因</strong>：浏览器存在同源策略机制，即不允许脚本访问外部资源，只要域名、协议、端口其中一个不一致就会出现跨域问题。</p><p><strong>特点</strong>：</p><ol><li>跨域问题是浏览器侧的限制，所发送的请求是正常的，只是浏览器不接受</li><li>只约束<code>XmlHttpRequest</code>，不约束<code>img</code>、<code>iframe</code>、<code>script</code>等具有<code>src</code>属性的标签</li></ol><p><strong>解决</strong>：添加中间件、反向代理、<code>jsonp</code>或利用插件</p><h2 id="插件"><a class="markdownIt-Anchor" href="#插件"></a> 插件</h2><p>使用<code>django-cors-headers</code>插件。插件是最快的，功能也简单详细，有手就行，文档在这里：<a href="https://github.com/adamchainz/django-cors-headers">文档地址</a></p><p>文档也很简单明了，需要注意的是Python和Django的版本。</p><p><strong>安装</strong></p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">python -m pip <span class="hljs-keyword">install</span> django-cors-headers<br></code></pre></td></tr></table></figure><p><strong>添加应用</strong></p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">INSTALLED_APPS</span> = [<br>    ...,<br>    <span class="hljs-string">&quot;corsheaders&quot;</span>,<br>    ...,<br>]<br></code></pre></td></tr></table></figure><p><strong>添加中间件</strong></p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">MIDDLEWARE</span> = [<br>    ...,<br>    <span class="hljs-string">&quot;corsheaders.middleware.CorsMiddleware&quot;</span>,<br>    <span class="hljs-comment"># 这条是Django自带的，提醒上一条应该放在这条的上面</span><br>    <span class="hljs-string">&quot;django.middleware.common.CommonMiddleware&quot;</span>, <br>    ...,<br>]<br></code></pre></td></tr></table></figure><p><strong>其他配置信息</strong>（在<code>setting.py</code>底部添加）</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">CORS_ALLOW_CREDENTIALS</span> = <span class="hljs-literal">True</span>  <span class="hljs-comment"># 跨域处理：允许携带cookie</span><br><br><span class="hljs-attr">CORS_ALLOWED_ORIGINS</span> = [ <span class="hljs-comment">#设置访问白名单</span><br>    <span class="hljs-string">&#x27;http://localhost:5173&#x27;</span>,<br>    <span class="hljs-string">&#x27;http://127.0.0.1:8000&#x27;</span><br>]<br><br><span class="hljs-attr">CORS_ALLOW_HEADERS</span> = [ <span class="hljs-comment"># 配置预检请求</span><br>    <span class="hljs-string">&quot;accept&quot;</span>,<br>    <span class="hljs-string">&quot;accept-encoding&quot;</span>,<br>    <span class="hljs-string">&quot;authorization&quot;</span>,<br>    <span class="hljs-string">&quot;content-type&quot;</span>,<br>    <span class="hljs-string">&quot;dnt&quot;</span>,<br>    <span class="hljs-string">&quot;origin&quot;</span>,<br>    <span class="hljs-string">&quot;user-agent&quot;</span>,<br>    <span class="hljs-string">&quot;x-csrftoken&quot;</span>,<br>    <span class="hljs-string">&quot;x-requested-with&quot;</span>,<br>]<br></code></pre></td></tr></table></figure><h2 id="添加中间件"><a class="markdownIt-Anchor" href="#添加中间件"></a> 添加中间件</h2><p><strong>导包</strong></p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-keyword">from</span> django.utils.deprecation <span class="hljs-keyword">import</span> MiddlewareMixin<br></code></pre></td></tr></table></figure><p><strong>定义中间件</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">CORSMiddleWare</span>(<span class="hljs-title class_ inherited__">MiddlewareMixin</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    设置跨域的中间件</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">process_response</span>(<span class="hljs-params">self, request, response</span>):<br>        <span class="hljs-comment"># 添加请求头</span><br>        <span class="hljs-comment"># 允许你的域名来获取数据(也可以指定域名)</span><br>        response[<span class="hljs-string">&#x27;Access-Control-Allow-Origin&#x27;</span>] = <span class="hljs-string">&#x27;*&#x27;</span><br><br>        <span class="hljs-keyword">if</span> request.method == <span class="hljs-string">&#x27;OPTIONS&#x27;</span>:<br>            <span class="hljs-comment"># 允许你携带Content-Type请求头,也可以设置别的自定义字段(不设置客户端设置的就不能通过预检)</span><br>            response[<span class="hljs-string">&#x27;Access-Control-Allow-Headers&#x27;</span>] = <span class="hljs-string">&#x27;Content-Type,k1, k2&#x27;</span><br><br>            <span class="hljs-comment"># 允许你发送DELETE,PUT的请求方式</span><br>            response[<span class="hljs-string">&#x27;Access-Control-Allow-Methods&#x27;</span>] = <span class="hljs-string">&#x27;DELETE,PUT&#x27;</span><br><br>            <span class="hljs-comment"># 允许设置缓存时间</span><br>            response[<span class="hljs-string">&#x27;Access-Control-Max-Age&#x27;</span>] = <span class="hljs-number">20</span><br><br>        <span class="hljs-keyword">return</span> response<br></code></pre></td></tr></table></figure><p><strong>注册</strong></p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">MIDDLEWARE</span> = [<br>    <span class="hljs-string">&#x27;django.middleware.security.SecurityMiddleware&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.sessions.middleware.SessionMiddleware&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.middleware.common.CommonMiddleware&#x27;</span>,<br>    <span class="hljs-comment"># &#x27;django.middleware.csrf.CsrfViewMiddleware&#x27;,</span><br>    <span class="hljs-string">&#x27;django.contrib.auth.middleware.AuthenticationMiddleware&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.messages.middleware.MessageMiddleware&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.middleware.clickjacking.XFrameOptionsMiddleware&#x27;</span>,<br>    <span class="hljs-string">&#x27;middle.cors_middle_ware.CORSMiddleWare&#x27;</span>,  <span class="hljs-comment"># 自定义跨域中间件</span><br>]<br></code></pre></td></tr></table></figure><p><strong>测试</strong></p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs arcade">$(<span class="hljs-string">&#x27;#btn&#x27;</span>).on(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>  $.ajax(&#123;<br>    <span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;http://localhost:9000/test1/&#x27;</span>,<br>    <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;post&#x27;</span>,<br>    <span class="hljs-attr">data</span>: &#123;<br>      <span class="hljs-attr">username</span>: $(<span class="hljs-string">&#x27;#name&#x27;</span>).val()<br>    &#125;,<br>    <span class="hljs-attr">headers</span>: &#123;<br>      <span class="hljs-string">&#x27;k1&#x27;</span>: <span class="hljs-string">&#x27;hello&#x27;</span><br>    &#125;,<br>    <span class="hljs-attr">success</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) &#123;<br>      <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(data)<br>    &#125;<br>  &#125;)<br>&#125;)<br></code></pre></td></tr></table></figure><h2 id="jsop"><a class="markdownIt-Anchor" href="#jsop"></a> jsop</h2><p>（跑题了，这里属于前端了）利用<code>script</code>标签的<code>src</code>属性（浏览器允许<code>script</code>标签跨域），利用<code>js</code>脚本动态的在头部引入跨域的地址</p><p><strong>不足</strong>：只能是<code>get</code>请求，不能是<code>post</code>等别的请求</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 方法一、动态的添加跨域地址</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Jsonp1</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-keyword">var</span> tag = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;script&#x27;</span>);<br>  tag.<span class="hljs-property">src</span> = <span class="hljs-string">&quot;http://c2.com:8000/test/&quot;</span>;<br>  <span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">appendChild</span>(tag);<br>  <span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">removeChild</span>(tag);<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Jsonp2</span>(<span class="hljs-params"></span>)&#123;<br>  $.<span class="hljs-title function_">ajax</span>(&#123;<br>    <span class="hljs-attr">url</span>: <span class="hljs-string">&quot;http://c2.com:8000/test/&quot;</span>,<br>    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;GET&#x27;</span>,<br>    <span class="hljs-attr">dataType</span>: <span class="hljs-string">&#x27;JSONP&#x27;</span>,<br>    <span class="hljs-attr">success</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">data, statusText, xmlHttpRequest</span>)&#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data);<br>    &#125;<br>  &#125;)<br>&#125;<br></code></pre></td></tr></table></figure><p>反向代理没有试过，不太清楚是怎么搞的，有朋友了解可以评论区交流~</p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Xshell莫名出现的Connection closed by foreign host</title>
    <link href="/post/befbb4c2.html"/>
    <url>/post/befbb4c2.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>今早打开xshell发现怎么都连不上机器，我还以为又是腾讯云抽风了，去官网登录正常的，用手机的 termius 登录也是正常。这就奇了怪了，只有xshell登不上，那就可能是xshell的问题</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs applescript">[C:\~]$ <br><br>Connecting <span class="hljs-keyword">to</span> xxxxxxxxx:xx...<br>Connection established.<br>To escape <span class="hljs-keyword">to</span> <span class="hljs-keyword">local</span> shell, press Ctrl+Alt+].<br>Connection closing...Socket close.<br><br>Connection closed <span class="hljs-keyword">by</span> foreign host.<br><br>Disconnected <span class="hljs-keyword">from</span> remote host(tencent) <span class="hljs-keyword">at</span> <span class="hljs-number">09</span>:<span class="hljs-number">49</span>:<span class="hljs-number">55.</span><br><br>Type `help&#x27; <span class="hljs-keyword">to</span> learn how <span class="hljs-keyword">to</span> use Xshell prompt.<br><br></code></pre></td></tr></table></figure><p><code>Connection closed by foreign host.</code>指的是连接关闭，跟安全组、防火墙啥的没有关系。这是由于原来Xshell连接到服务器的22端口，当客户端突然断开时，服务器端的TCP连接就处于一个半打开状态，当下一次同一个客户机再次建立TCP连接时，服务器检测到这个半打开的连接，想客户机传回了一个置为RST的TCP报文，客户机就会显示<code>Connection closed by foreign host.</code>，这是TCP协议本身的保护机制，并不是错误，只要再次重新连接服务器就可以连接上了。</p><p>我的操作是在客户机上重启wifi、拔插网线，然后就可以重新连接了。如果你的服务器没跑什么程序的话，kill端口或者重启服务器也是可以的。在平时使用xshell等软件的时候，建议先exit之后再关闭软件，这样才是正确的流程。</p><p>注：还有一种可能是输入的错误密码次数过多，导致服务器的ssh将IP拉黑了。也可以顺便检查一下该文件是否存在本机IP，有的话就删掉，没有就<code>:q!</code>退出</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">sudo vim <span class="hljs-regexp">/etc/</span>hosts.deny<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Ops</category>
      
    </categories>
    
    
    <tags>
      
      <tag>运维</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Django4.1速通</title>
    <link href="/post/fb6a6588.html"/>
    <url>/post/fb6a6588.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><h2 id="安装django"><a class="markdownIt-Anchor" href="#安装django"></a> 安装Django</h2><p><strong>下载安装</strong></p><p>建议使用<a href="https://anaconda.org.cn/anaconda/install/">anaconda</a>单独创建环境使用，不想麻烦或者不需要可直接pip安装</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">python -m pip <span class="hljs-keyword">install</span> Django<br></code></pre></td></tr></table></figure><p><strong>验证安装</strong></p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">python</span> -m django --version<br><span class="hljs-attribute">4</span>.<span class="hljs-number">1</span>.<span class="hljs-number">4</span><br></code></pre></td></tr></table></figure><h2 id="创建项目"><a class="markdownIt-Anchor" href="#创建项目"></a> 创建项目</h2><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">django-admin startproject mysite</span><br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301061802357.png" alt></p><h3 id="启动服务"><a class="markdownIt-Anchor" href="#启动服务"></a> 启动服务</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">cd</span> mysite  # 外层的mysite<br><span class="hljs-keyword">python</span> manage.<span class="hljs-keyword">py</span> runserver<br><br># 如需修改端口或IP，在后面自行修改<br><span class="hljs-keyword">python</span> manage.<span class="hljs-keyword">py</span> runserver <span class="hljs-number">8080</span><br><span class="hljs-keyword">python</span> manage.<span class="hljs-keyword">py</span> runserver <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span>:<span class="hljs-number">8000</span><br></code></pre></td></tr></table></figure><h3 id="访问页面"><a class="markdownIt-Anchor" href="#访问页面"></a> 访问页面</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">http:<span class="hljs-regexp">//</span><span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">8000</span>/<br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301061802500.png" alt></p><h2 id="创建应用"><a class="markdownIt-Anchor" href="#创建应用"></a> 创建应用</h2><p>应用与项目的概念：应用是专门做某件事的程序，如博客系统、投票程序，项目是一个网站使用的配置和应用的集合，项目可以包含多个应用，应用可以被多个项目使用。</p><p>将应用创建在和<code>manage.py</code>文件统计目录下，方便作为顶级模块导入。也就是说<code>mysite</code>项目和<code>polls</code>项目是同级的。</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">python</span> manage.<span class="hljs-keyword">py</span> startapp polls<br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301061802086.png" alt></p><h3 id="添加视图"><a class="markdownIt-Anchor" href="#添加视图"></a> 添加视图</h3><p><strong>编写视图</strong>：在<code>polls/views.py</code>中填写</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> django.http <span class="hljs-keyword">import</span> HttpResponse<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">index</span>(<span class="hljs-params">request</span>):<br>    <span class="hljs-keyword">return</span> HttpResponse(<span class="hljs-string">&quot;Hello, world. You&#x27;re at the polls index.&quot;</span>)<br></code></pre></td></tr></table></figure><p><strong>编写应用URLconf</strong>：在<code>polls</code>中添加<code>urls.py</code>文件，将<code>index</code>视图添加进投票应用的<code>URLconf</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> path<br><span class="hljs-keyword">from</span> . <span class="hljs-keyword">import</span> views<br><br>urlpatterns = [<br>    <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">    route::可以是一个字符串、带角括号的字符串或转换器</span><br><span class="hljs-string">    view::一个视图函数，或者是include函数</span><br><span class="hljs-string">    name::可选参数，可在其他地方引用</span><br><span class="hljs-string">    &#x27;&#x27;&#x27;</span><br>    path(<span class="hljs-string">&#x27;&#x27;</span>, views.index, name=<span class="hljs-string">&#x27;index&#x27;</span>),<br>]<br></code></pre></td></tr></table></figure><p><strong>导入根URLconf</strong>：在根 <code>URLconf </code>文件中指定创建的<code>polls.urls</code>模块，在<code>urlpatterns</code>列表中插入一项。注意引入<code>include</code>模块</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">urlpatterns = [<br>    # <span class="hljs-keyword">include</span> 允许引用其他URlconf，实现即插即用<br>    path(<span class="hljs-string">&#x27;polls/&#x27;</span>, <span class="hljs-keyword">include</span>(<span class="hljs-string">&#x27;polls.urls&#x27;</span>)), <br>    path(<span class="hljs-string">&#x27;admin/&#x27;</span>, <span class="hljs-keyword">admin</span>.site.urls),<br>]<br></code></pre></td></tr></table></figure><h3 id="访问视图"><a class="markdownIt-Anchor" href="#访问视图"></a> 访问视图</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">http:<span class="hljs-regexp">//</span>localhost:<span class="hljs-number">8000</span><span class="hljs-regexp">/polls/</span><br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301061802314.png" alt></p><h2 id="配置数据库"><a class="markdownIt-Anchor" href="#配置数据库"></a> 配置数据库</h2><p>django默认使用<code>SQLite</code>为默认数据库（Python内置SQLite），在<code>mysite/settings.py</code>中配置了这点：</p><figure class="highlight sml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sml"><span class="hljs-type">DATABASES</span> = &#123;<br>    <span class="hljs-symbol">&#x27;default&#x27;</span>: &#123;<br>        <span class="hljs-symbol">&#x27;ENGINE&#x27;</span>: <span class="hljs-symbol">&#x27;django</span>.db.backends.sqlite3&#x27;,<br>        <span class="hljs-symbol">&#x27;NAME&#x27;</span>: <span class="hljs-type">BASE_DIR</span> / <span class="hljs-symbol">&#x27;db</span>.sqlite3&#x27;,<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>我这里使用的是自己服务器上的Mysql，配置如下：</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs 1c">DATABASES = &#123;<br>    &#x27;default&#x27;: &#123;<br>        &#x27;ENGINE&#x27;: &#x27;django.db.backends.mysql&#x27;,<br>        &#x27;NAME&#x27;:&#x27;库名&#x27;,<br>        &#x27;USER&#x27;:&#x27;用户名&#x27;,<br>        &#x27;PASSWORD&#x27;:&#x27;Mysql登录密码&#x27;,<br>        &#x27;HOST&#x27;:&#x27;mysql所在机器IP&#x27;,<br>        &#x27;PORT&#x27;:&#x27;<span class="hljs-number">3306</span>&#x27;,<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>根据<code>mysite/settings.py</code>中的<strong>数据库配置</strong>和<strong>该文件所配置的应用</strong>提供的数据库<strong>迁移文件</strong>，并创建必要的数据库表。如下图所示</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">python</span> manage.<span class="hljs-keyword">py</span> migrate<br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301061802406.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301061802875.png" alt></p><p>这些表对应的是配置文件中的这些应用：</p><figure class="highlight sml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sml"><span class="hljs-type">INSTALLED_APPS</span> = [<br>    <span class="hljs-symbol">&#x27;django</span>.contrib.admin&#x27;,<br>    <span class="hljs-symbol">&#x27;django</span>.contrib.auth&#x27;,<br>    <span class="hljs-symbol">&#x27;django</span>.contrib.contenttypes&#x27;,<br>    <span class="hljs-symbol">&#x27;django</span>.contrib.sessions&#x27;,<br>    <span class="hljs-symbol">&#x27;django</span>.contrib.messages&#x27;,<br>    <span class="hljs-symbol">&#x27;django</span>.contrib.staticfiles&#x27;,<br>]<br></code></pre></td></tr></table></figure><p>这里说明一下迁移这个操作。刚开始学的时候我也不太明白这个新概念，多看几遍官方文档后基本能理解了。迁移是Django对于<strong>模型定义的变化</strong>的存储形式，也就是说你更新一次模型，就需要执行一次迁移操作，否则模型和数据库就不匹配了。迁移代码是由模型文件自动生成的，本质上是个历史记录，Django通过迁移对数据库进行滚动更新，使其和当前的模型匹配。</p><h2 id="创建基于数据库的web应用"><a class="markdownIt-Anchor" href="#创建基于数据库的web应用"></a> 创建基于数据库的web应用</h2><p>投票应用的成品大概长这样。允许创建多个问题，每个问题有多个选项，点击问题后展示问题选项和投票按钮。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301061802444.png" alt></p><p>点击投票即可保存投票次数至数据库，投票结束后展示当前投票次数。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301061802904.png" alt></p><h3 id="创建模型"><a class="markdownIt-Anchor" href="#创建模型"></a> 创建模型</h3><p>Django 中的 web 应用不需要手动通过SQL语句去创建表，而是通过<strong>模型</strong>来定义数据的信息源。当前应用需要两个模型：问题<code>Question</code>和选项<code>Choice</code>。<code>Question</code> 模型包括问题描述和发布时间。<code>Choice</code> 模型有两个字段，选项描述和当前得票数，每个选项属于一个问题。应用的模型都定义在 <code>polls/models.py</code> 中</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-keyword">class</span> <span class="hljs-constructor">Question(<span class="hljs-params">models</span>.Model)</span>:<br>    question_text = models.<span class="hljs-constructor">CharField(<span class="hljs-params">max_length</span>=200)</span><br>    pub_date = models.<span class="hljs-constructor">DateTimeField(&#x27;<span class="hljs-params">date</span> <span class="hljs-params">published</span>&#x27;)</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-constructor">Choice(<span class="hljs-params">models</span>.Model)</span>:<br>    question = models.<span class="hljs-constructor">ForeignKey(Question, <span class="hljs-params">on_delete</span>=<span class="hljs-params">models</span>.CASCADE)</span><br>    choice_text = models.<span class="hljs-constructor">CharField(<span class="hljs-params">max_length</span>=200)</span><br>    votes = models.<span class="hljs-constructor">IntegerField(<span class="hljs-params">default</span>=0</span><br></code></pre></td></tr></table></figure><p>每个模型都是<code>django.db.models.Model</code>的子类，一个模型都有多个类变量，每个类变量表示一个数据库字段。而每个字段都是<code>Field</code>类的实例。通过这些模型的配置，Django就可以为该应用创建数据表了</p><p><strong>概念对应关系</strong></p><p>子类 ——&gt; 模型 ——&gt;数据表</p><p>类变量——&gt; Filed 类实例——&gt;表字段</p><p>类实例（对象）——&gt;数据表记录</p><p><strong>类实例和SQL数据类型对应关系</strong></p><table><thead><tr><th>Filed 类实例</th><th>SQL类型</th></tr></thead><tbody><tr><td>models.CharField</td><td>varchar</td></tr><tr><td>models.DateTimeField</td><td>datetime</td></tr><tr><td>models.IntegerField</td><td>integer</td></tr><tr><td>models.ForeignKey</td><td>foreign key</td></tr><tr><td>……</td><td>……</td></tr></tbody></table><h3 id="激活模型"><a class="markdownIt-Anchor" href="#激活模型"></a> 激活模型</h3><p>Django本身是自带了许多应用的，在<code>mysite/setting.py</code>中的<code>INSTALLED_APPS</code>字段可以看到。新创建的投票应用也需要添加进这个列表中，将<code>PollsConfig</code>类所在文件的点式路径添加进去</p><figure class="highlight sml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sml"><span class="hljs-type">INSTALLED_APPS</span> = [<br>    <span class="hljs-symbol">&#x27;polls</span>.apps.<span class="hljs-type">PollsConfig&#x27;</span>,  # 自己的应用<br>    <span class="hljs-symbol">&#x27;django</span>.contrib.admin&#x27;,<br>    <span class="hljs-symbol">&#x27;django</span>.contrib.auth&#x27;,<br>    <span class="hljs-symbol">&#x27;django</span>.contrib.contenttypes&#x27;,<br>    <span class="hljs-symbol">&#x27;django</span>.contrib.sessions&#x27;,<br>    <span class="hljs-symbol">&#x27;django</span>.contrib.messages&#x27;,<br>    <span class="hljs-symbol">&#x27;django</span>.contrib.staticfiles&#x27;,<br>]<br></code></pre></td></tr></table></figure><p>添加之后项目就包含了<code>polls</code>应用，通过<code>makemigrations</code>命令，Django会<strong>检测你对模型文件的修改</strong>，并将修改部分存储为一次迁移。</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">python</span> manage.<span class="hljs-keyword">py</span> makemigrations polls<br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301061802815.png" alt></p><p>迁移数据被存储在 <code>polls/migrations/0001_initial.py</code> 里，通过<code>sqlmigrate</code>命令可以查看对应的SQL。可以看到为两个新建的模型分别创建了两个数据表，并对<code>polls_choice</code>添加了主键约束。</p><p>注意：<code>makemigrations</code>命令只是新增了一次迁移，<code>sqlmigrate</code>命令根据迁移数据把SQL语句输出到屏幕，让你看看Django认为需要执行哪些SQL语句，而<strong>并没有真正执行这些语句</strong>。此时你可以去数据库里看一下，并没有这两个表。</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc"><span class="hljs-section">python manage.py sqlmigrate polls 0001</span><br><span class="hljs-section">--</span><br><span class="hljs-section">-- Create model Question</span><br><span class="hljs-section">--</span><br><span class="hljs-section">CREATE TABLE `polls_question` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `question_text` varchar(200) NOT NULL, `pub_date` datetime(6) NOT NULL);</span><br><span class="hljs-section">--</span><br><span class="hljs-section">-- Create model Choice</span><br><span class="hljs-section">--</span><br>CREATE TABLE <span class="hljs-code">`polls_choice`</span> (<span class="hljs-code">`id`</span> bigint AUTO<span class="hljs-emphasis">_INCREMENT NOT NULL PRIMARY KEY, `choice_text` varchar(200) NOT NULL, `votes` integer NOT NULL, `question_id` bigint NOT NULL);</span><br><span class="hljs-emphasis">ALTER TABLE `polls_choice` ADD CONSTRAINT `polls_choice_question_id_c5b4b260_fk_polls_question_id` FOREIGN KEY (`question_id`) REFERENCES `polls_</span>question<span class="hljs-code">` (`</span>id`); <br></code></pre></td></tr></table></figure><p>真正执行创建表的命令还是<code>migration</code>，它<strong>选中所有还没有执行过的迁移并应用在数据库上</strong>，也就是同步至数据库。</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">python</span> manage.<span class="hljs-keyword">py</span> migrate<br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301061802365.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301061802283.png" alt></p><p>修改模型只需这三步：</p><ol><li>编辑<code>models.py</code>文件，修改模型</li><li>运行<code>python manage.py makemigrations xxx</code>为模型的更改生成迁移文件</li><li>运行<code>python manage.py migrate</code>根据迁移文件进行数据库迁移（同步数据库）</li></ol><p>其他数据库API可参考：<a href="https://zhouyinglin.cn/post/afd71056.html">传送门</a></p><h2 id="应用后台管理"><a class="markdownIt-Anchor" href="#应用后台管理"></a> 应用后台管理</h2><p>模型激活后，数据库中已经有了相应的数据。为了管理员可以更方便地管理应用，django还会根据模型自动创建后台界面。Django的<code>setting.py</code>中已经自带了admin相关的应用，但还需要创建管理员账号。</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">python</span> manage.<span class="hljs-keyword">py</span> createsuperuser<br></code></pre></td></tr></table></figure><p>依次输入用户名、邮箱和密码(2次)即可创建完成</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">Username: <span class="hljs-keyword">admin</span><br>Email address: <span class="hljs-keyword">admin</span>@example.com<br><span class="hljs-keyword">Password</span>: **********<br><span class="hljs-keyword">Password</span> (again): *********<br><span class="hljs-keyword">Superuser</span> created successfully.<br></code></pre></td></tr></table></figure><p>接下来需要把刚创建好的投票应用注册进后台，在<code>polls/admin</code>中添加代码</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">from</span> .models <span class="hljs-keyword">import</span> Question<br><br><span class="hljs-keyword">admin</span>.site.register(Question)<br></code></pre></td></tr></table></figure><p>注册完成后<code>python manage.py runserver</code>启动服务器，在管理员登录页面输入用户名密码，即可登录到站点管理页面。点击<code>Question</code>进入数据表单页面，该表单是根据模型自动生成的。</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">http:<span class="hljs-regexp">//</span><span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">8000</span><span class="hljs-regexp">/admin/</span><br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301061802225.png" alt></p><h2 id="应用开发"><a class="markdownIt-Anchor" href="#应用开发"></a> 应用开发</h2><p>创建模型只是定义了一个数据的信息源，相当于mvc架构中的Model，而View和Controller还没有定义。Django中的网页和其他内容都是视图派生来的，每个视图表现为一个函数。根据请求的url来选择使用哪个视图。在Django中使用<code>URLconf</code>来配置关联<code>URl</code>和视图</p><h3 id="django处理请求的基本流程"><a class="markdownIt-Anchor" href="#django处理请求的基本流程"></a> Django处理请求的基本流程</h3><p>在<code>polls/views.py</code>中添加视图：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">detail</span>(<span class="hljs-params">request, question_id</span>):<br>    <span class="hljs-keyword">return</span> HttpResponse(<span class="hljs-string">&quot;You&#x27;re looking at question %s.&quot;</span> % question_id)  <span class="hljs-comment"># 输出id用于占位</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">results</span>(<span class="hljs-params">request, question_id</span>):<br>    response = <span class="hljs-string">&quot;You&#x27;re looking at the results of question %s.&quot;</span>  <span class="hljs-comment"># 输出id用于占位</span><br>    <span class="hljs-keyword">return</span> HttpResponse(response % question_id)<br></code></pre></td></tr></table></figure><p>将新视图添加至<code>polls/urls.py</code>模块：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">urlpatterns = [<br>    path(<span class="hljs-string">&#x27;index/&#x27;</span>, views.<span class="hljs-keyword">index</span>, <span class="hljs-type">name</span>=<span class="hljs-string">&#x27;index&#x27;</span>),<br>    # 尖括号将匹配到的结果当做关键字参数发送给视图函数，<span class="hljs-type">int</span>为转换为<span class="hljs-type">int</span>类型<br>    path(<span class="hljs-string">&#x27;&lt;int:question_id&gt;/&#x27;</span>, views.detail, <span class="hljs-type">name</span>=<span class="hljs-string">&#x27;detail&#x27;</span>),<br>    path(<span class="hljs-string">&#x27;&lt;int:question_id&gt;/results/&#x27;</span>, views.results, <span class="hljs-type">name</span>=<span class="hljs-string">&#x27;results&#x27;</span>),<br>]<br></code></pre></td></tr></table></figure><p>当浏览器访问<code>http://127.0.0.1:8000/polls/34/</code>时，Django会根据<code>mysite/setting.py</code>中<code>ROOT_URLCONF</code>字段的设置，加载<code>mysite/urls</code>模块，并找到该模块中的<code>urlpatterns</code>变量按顺序匹配正则。<code>/polls/34/</code>匹配到了<code>polls/</code>，然后将剩下的<code>34/</code>继续发送至<code>polls/urls</code>这个URLconf 中做进一步匹配，这里的<code>34/</code>在<code>polls/urls</code>中匹配到了<code>'&lt;int:question_id&gt;/'</code>，就直接开始调用了<code>views.detail</code>视图，并传递一个<code>HttpRequest</code>实例和其他参数</p><p>简而言之，步骤就是：</p><ol><li>Django 通过配置文件匹配请求中的url</li><li>匹配成功则调用相关视图，匹配不成功则抛出<a href="https://docs.djangoproject.com/zh-hans/4.1/topics/http/urls/#error-handling">错误</a></li></ol><h3 id="视图开发"><a class="markdownIt-Anchor" href="#视图开发"></a> 视图开发</h3><p>一个视图必须做两件事，Django也只要求返回的是这两件事：</p><ol><li>返回一个包含被请求页面内容的 HttpResponse 对象</li><li>出一个异常，比如 Http404</li></ol><h4 id="视图模板展示数据"><a class="markdownIt-Anchor" href="#视图模板展示数据"></a> 视图+模板展示数据</h4><p><strong>添加模板</strong></p><p>在<code>polls</code>应用根目录下添加两层目录，并添加<code>index.html</code>模板，路径为<code>polls/templates/polls/index.html</code>。这样分层的目的是防止多个应用下模板重名，使得Django无法区分，放置在各自命名空间可以避免这个问题，并且Django可以以<code>polls/index.html</code>来引用到该模板。</p><p>注：这里的<code>&lt;a href=&quot;&#123;% url 'polls:detail' question.id %&#125;&quot;&gt;</code>中的<code>polls:detail</code>引用的是<code>polls/urls.py</code>中所配置的<code>app_name</code>变量和<code>urlpatterns</code>列表所定义的<code>path</code>中的<code>name</code>参数。</p><p>更多模板语法参考官方文档[TODO]：<a href="https://docs.djangoproject.com/zh-hans/4.1/topics/templates/">https://docs.djangoproject.com/zh-hans/4.1/topics/templates/</a></p><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs django"><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">if</span></span> latest_question_list %&#125;</span><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">    </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">for</span></span> question <span class="hljs-keyword">in</span> latest_question_list %&#125;</span><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">url</span></span> &#x27;polls:detail&#x27; question.id %&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123; question.question_text &#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">    </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">endfor</span></span> %&#125;</span><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">else</span></span> %&#125;</span><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>No polls are available.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">endif</span></span> %&#125;</span><br></code></pre></td></tr></table></figure><p><strong>修改视图</strong></p><p>修改<code>polls/views.py</code>中的<code>index</code>视图内容。这里的<code>render()</code>将载入<code>polls/index.html</code>模板文件并填充上下文，返回一个<code>HttpResponse</code>对象，这跟其他视图（例如<code>detail</code>）所做的新建<code>HttpResponse</code>操作是等效的。</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">index</span>(<span class="hljs-params">request</span>):<br>    latest_question_list = Question.objects.order_by(<span class="hljs-string">&#x27;-pub_date&#x27;</span>)[<span class="hljs-symbol">:</span><span class="hljs-number">5</span>]<br>    context = &#123;<span class="hljs-string">&#x27;latest_question_list&#x27;</span>: latest_question_list&#125;<br>    <span class="hljs-keyword">return</span> render(request, <span class="hljs-string">&#x27;polls/index.html&#x27;</span>, context)<br></code></pre></td></tr></table></figure><p>前端访问<code>http://127.0.0.1:8000/polls/index/</code>，展示<code>index</code>视图中所需要的数据</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301061803526.png" alt></p><p><strong>错误处理</strong></p><p>快捷抛出404错误：</p><p>get_object_or_404()：该函数将模型和参数传递给<code>get()</code>（ get 只获取一条记录），如果结果为空则触发<code>Http404</code>异常</p><p>get_list_or_404()：该函数将模型和参数传递给<code>filter()</code>，如果查询结果集为空则触发<code>Http404</code>异常</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">detail</span>(<span class="hljs-params">request, question_id</span>):<br>    question = get_object_or_404(Question, pk=question_id)<br>    <span class="hljs-keyword">return</span> render(request, <span class="hljs-string">&#x27;polls/detail.html&#x27;</span>, &#123;<span class="hljs-string">&#x27;question&#x27;</span>: question&#125;)<br></code></pre></td></tr></table></figure><h3 id="表单开发"><a class="markdownIt-Anchor" href="#表单开发"></a> 表单开发</h3><p>表单的本质是一个 HTML 的<code>&lt;from&gt;</code>元素。<code> &#123;% for ...%&#125;</code>将展示所有当前<code>Question</code>的<code>Choice</code>，当点击提交按钮时，这个<code>from</code>会发送一个<code>POST</code>请求，<code>data</code>为<code>choice=$choice.id$</code></p><p>如下是<code>polls/details.html</code>内容</p><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs django"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">url</span></span> &#x27;polls:vote&#x27; question.id %&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span>&gt;</span></span><br><span class="language-xml">    </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">csrf_token</span></span> %&#125;</span><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">fieldset</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">legend</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123; question.question_text &#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">legend</span>&gt;</span></span><br><span class="language-xml">        </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">if</span></span> error_message %&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123; error_message &#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">endif</span></span> %&#125;</span><span class="language-xml"></span><br><span class="language-xml">        </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">for</span></span> choice <span class="hljs-keyword">in</span> question.choice_set.all %&#125;</span><span class="language-xml"></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;choice&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;choice</span></span></span><span class="hljs-template-variable">&#123;&#123; forloop.counter &#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123; choice.id &#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;choice</span></span></span><span class="hljs-template-variable">&#123;&#123; forloop.counter &#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123; choice.choice_text &#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span></span><br><span class="language-xml">        </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">endfor</span></span> %&#125;</span><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">fieldset</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Vote&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>有了模板也需要有<code>URLconf</code>和视图，在<code>polls/urls.py</code>中添加一行配置<code>path('&lt;int:question_id&gt;/vote/', views.vote, name='vote'),</code>。在<code>polls/views.py</code>中添加如下视图</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> django.http <span class="hljs-keyword">import</span> HttpResponse, HttpResponseRedirect<br><span class="hljs-keyword">from</span> django.shortcuts <span class="hljs-keyword">import</span> get_object_or_404, render<br><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> reverse<br><span class="hljs-keyword">from</span> .models <span class="hljs-keyword">import</span> Choice, Question<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">vote</span>(<span class="hljs-params">request, question_id</span>):<br>    question = get_object_or_404(Question, pk=question_id)<br>    <span class="hljs-keyword">try</span>:<br>        selected_choice = question.choice_set.get(pk=request.POST[<span class="hljs-string">&#x27;choice&#x27;</span>])<br>    <span class="hljs-keyword">except</span> (KeyError, Choice.DoesNotExist):<br>        <span class="hljs-keyword">return</span> render(request, <span class="hljs-string">&#x27;polls/detail.html&#x27;</span>, &#123;<br>            <span class="hljs-string">&#x27;question&#x27;</span>: question,<br>            <span class="hljs-string">&#x27;error_message&#x27;</span>: <span class="hljs-string">&quot;You didn&#x27;t select a choice.&quot;</span>,<br>        &#125;)<br>    <span class="hljs-keyword">else</span>:<br>        selected_choice.votes += <span class="hljs-number">1</span><br>        selected_choice.save()<br>        <span class="hljs-keyword">return</span> HttpResponseRedirect(reverse(<span class="hljs-string">&#x27;polls:results&#x27;</span>, args=(question.<span class="hljs-built_in">id</span>,)))<br></code></pre></td></tr></table></figure><p>注意，当只需提示错误信息时，这里使用<code>render()</code>返回<code>HttpResponse</code>对象，并封装了<code>error_message</code>的值给页面。而当正常处理了POST请求并<strong>重定向至其他页面</strong>时，返回的是<code>HttpResponseRedirect</code>对象。<code>reverse()</code>的作用是返回一个想要跳转的URL+参数组成的字符串，对应的是<code>URLconf</code>中的规则。即：将<code>URLconf</code>配置中的<code>path()</code>的<code>name</code>参数和<code>question.id</code>组合起来，最终返回的是<code>/polls/3/results/</code>，并重定向至这个页面。</p><p>重写<code>resluts</code>视图、新增<code>polls/results.html</code>模板</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">results</span>(<span class="hljs-params">request, question_id</span>):<br>    question = get_object_or_404(Question, pk=question_id)<br>    <span class="hljs-keyword">return</span> render(request, <span class="hljs-string">&#x27;polls/results.html&#x27;</span>, &#123;<span class="hljs-string">&#x27;question&#x27;</span>: question&#125;)<br></code></pre></td></tr></table></figure><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs django"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123; question.question_text &#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">for</span></span> choice <span class="hljs-keyword">in</span> question.choice_set.all %&#125;</span><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123; choice.choice_text &#125;&#125;</span><span class="language-xml"> -- </span><span class="hljs-template-variable">&#123;&#123; choice.votes &#125;&#125;</span><span class="language-xml"> vote</span><span class="hljs-template-variable">&#123;&#123; choice.votes|<span class="hljs-name">pluralize</span> &#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">endfor</span></span> %&#125;</span><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">url</span></span> &#x27;polls:detail&#x27; question.id %&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span>Vote again?<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>到此为止，投票的功能算是完成了。现在打开<code>Question</code>的<code>detail</code>页面，可以看到选项和投票按钮，此时按下投票按钮后，会进行计数，然后重定向到<code>result</code>页面。如果没有选择任何选项点击提交，可以看到错误信息。</p><h3 id="重构代码"><a class="markdownIt-Anchor" href="#重构代码"></a> 重构代码</h3><p>这里可以看一下此时views的代码，index、details、results三个视图的代码高度冗余，都是根据url中的参数从数据库中获取数据，然后加载模板并渲染返回。这种交互方式非常多见，Django直接将其配置成通用视图。使用通用视图使得代码更加抽象，但也更加精简。<a href="https://docs.djangoproject.com/zh-hans/4.1/topics/class-based-views/">官方文档在此</a>。</p><p>这是原视图：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">index</span>(<span class="hljs-params">request</span>):<br>    latest_question_list = Question.objects.order_by(<span class="hljs-string">&#x27;-pub_date&#x27;</span>)[<span class="hljs-symbol">:</span><span class="hljs-number">5</span>]<br>    context = &#123;<span class="hljs-string">&#x27;latest_question_list&#x27;</span>: latest_question_list&#125;<br>    <span class="hljs-keyword">return</span> render(request, <span class="hljs-string">&#x27;polls/index.html&#x27;</span>, context)<br>    <br> <span class="hljs-keyword">def</span> <span class="hljs-title function_">detail</span>(<span class="hljs-params">request, question_id</span>):<br>    question = get_object_or_404(Question, pk=question_id)<br>    <span class="hljs-keyword">return</span> render(request, <span class="hljs-string">&#x27;polls/detail.html&#x27;</span>, &#123;<span class="hljs-string">&#x27;question&#x27;</span>: question&#125;)   <br>  <br>  <span class="hljs-keyword">def</span> <span class="hljs-title function_">results</span>(<span class="hljs-params">request, question_id</span>):<br>    question = get_object_or_404(Question, pk=question_id)<br>    <span class="hljs-keyword">return</span> render(request, <span class="hljs-string">&#x27;polls/results.html&#x27;</span>, &#123;<span class="hljs-string">&#x27;question&#x27;</span>: question&#125;)<br></code></pre></td></tr></table></figure><p>普通视图是一个函数，基于函数的视图，而通用视图是基于类的视图。如下：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">class</span> <span class="hljs-title class_">IndexView</span>(generic.ListView):<br>    template_name=<span class="hljs-string">&#x27;polls/index.html&#x27;</span><br>    context_object_name=<span class="hljs-string">&#x27;my_latest_question_list&#x27;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_queryset</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span></span>):<br>        <span class="hljs-keyword">return</span> Question.objects.order_by(<span class="hljs-string">&#x27;-pub_date&#x27;</span>)[<span class="hljs-symbol">:</span><span class="hljs-number">5</span>].<br>        <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">DetailView</span>(generic.DetailView):<br>    model=Question<br>    template_name=<span class="hljs-string">&#x27;polls/details.html&#x27;</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">ResultsView</span>(generic.DetailView):<br>    model=Question<br>    template_name=<span class="hljs-string">&#x27;polls/results.html&#x27;</span><br></code></pre></td></tr></table></figure><p>同样的，<code>URLconf</code>也需要调整</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">urlpatterns = [<br>    # 前三个调整为通用视图xxxView.as_view(), DetailView url参数改成了pk<br>    path(<span class="hljs-string">&#x27;index/&#x27;</span>, views.IndexView.as_view(), <span class="hljs-type">name</span>=<span class="hljs-string">&#x27;index&#x27;</span>),<br>    path(<span class="hljs-string">&#x27;&lt;int:pk&gt;/&#x27;</span>, views.DetailView.as_view(), <span class="hljs-type">name</span>=<span class="hljs-string">&#x27;detail&#x27;</span>),<br>    path(<span class="hljs-string">&#x27;&lt;int:pk&gt;/results/&#x27;</span>, views.ResultsView.as_view(), <span class="hljs-type">name</span>=<span class="hljs-string">&#x27;results&#x27;</span>),<br>    path(<span class="hljs-string">&#x27;&lt;int:question_id&gt;/vote/&#x27;</span>, views.vote, <span class="hljs-type">name</span>=<span class="hljs-string">&#x27;vote&#x27;</span>),<br>]<br></code></pre></td></tr></table></figure><p>通用视图也分为两种：</p><ul><li>ListView：显示一个对象列表。这里可以用在<code>index</code>视图中，<code>index</code>需要返回前5个<code>question</code></li><li>DetailView：显示一个特定类型对象的详细信息页面。这里用在<code>detail</code>和<code>result</code>上</li></ul><p>通用模型的共同点和不同点</p><ol><li>都需要手动配置模板名称，他们都有默认的配置，但建议是根据实际路径手动配置。</li><li>都需要配置context，即之前<code>render()</code>所传到页面的数据。但<code>ListView</code>使用<code>context_object_name</code>手动指定变量名，而<code>DetailView</code>则无需指定，Django自动选择变量名</li><li>都需要配置<code>model</code>，但<code>DetailView</code>需要显式配置，而<code>ListView</code>看起来无需显式配置，直接在函数中返回<code>model</code>结果集</li></ol><h3 id="引入资源"><a class="markdownIt-Anchor" href="#引入资源"></a> 引入资源</h3><h4 id="配置css"><a class="markdownIt-Anchor" href="#配置css"></a> 配置css</h4><p><strong>添加css文件</strong></p><p>创建目录和文件：<code>polls/static/polls/style.css</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">li</span> <span class="hljs-selector-tag">a</span> &#123;<br>    <span class="hljs-attribute">color</span>: green;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>在模板文件中引入</strong></p><p>在<code>polls/index.html</code>中引用</p><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs django"><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">load</span></span> static %&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">static</span></span> &#x27;polls/style.css&#x27; %&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>重启即可看到列表项变成了绿色，css样式表起作用了</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301061803748.png" alt></p><h4 id="配置静态文件"><a class="markdownIt-Anchor" href="#配置静态文件"></a> 配置静态文件</h4><p><strong>创建目录和新增图片文件</strong>：<code>polls/static/polls/images/background.png</code></p><p><strong>在css中引用图片</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">body</span> &#123;<br>    <span class="hljs-attribute">background</span>: white <span class="hljs-built_in">url</span>(<span class="hljs-string">&quot;images/background.png&quot;</span>) no-repeat;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301061803167.png" alt></p><h2 id="后台美化"><a class="markdownIt-Anchor" href="#后台美化"></a> 后台美化</h2><h3 id="自定义表单"><a class="markdownIt-Anchor" href="#自定义表单"></a> 自定义表单</h3><h4 id="按字段集显示并调整顺序"><a class="markdownIt-Anchor" href="#按字段集显示并调整顺序"></a> 按字段集显示并调整顺序</h4><p>在<code>polls/admin.py</code>中调整注册模型的代码。<code>fieldsets</code>列表中第一个元素为字段集标题，后面的元素均为其他字段集+显示的内容，如下图所示。</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs haskell"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-type">QuestionAdmin</span>(<span class="hljs-title">admin</span>.<span class="hljs-type">ModelAdmin</span>):</span><br><span class="hljs-class">    fieldsets = [</span><br><span class="hljs-class">        (<span class="hljs-type">None</span>,               &#123;&#x27;<span class="hljs-title">fields&#x27;</span>: [&#x27;<span class="hljs-title">question_text&#x27;</span>]&#125;),</span><br><span class="hljs-class">        (&#x27;<span class="hljs-type">Date</span> <span class="hljs-title">information&#x27;</span>, &#123;&#x27;<span class="hljs-title">fields&#x27;</span>: [&#x27;<span class="hljs-title">pub_date&#x27;</span>]&#125;),</span><br><span class="hljs-class">    ]</span><br><span class="hljs-class">admin.site.register(<span class="hljs-type">Question</span>, <span class="hljs-type">QuestionAdmin</span>)</span><br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301061803991.png" alt></p><h4 id="显示关联数据"><a class="markdownIt-Anchor" href="#显示关联数据"></a> 显示关联数据</h4><p><code>TabularInline</code>表示以表格形式展示关联对象</p><p>添加的<code>ChoiceInline</code>有两个类变量，<code>model</code>表示关联的模型，<code>extra</code>表示默认提供3个选项字段。如下图所示</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">class</span> ChoiceInline(<span class="hljs-keyword">admin</span>.TabularInline):<br>    model = Choice<br>    extra = <span class="hljs-number">3</span><br><span class="hljs-keyword">class</span> QuestionAdmin(<span class="hljs-keyword">admin</span>.ModelAdmin):<br>    fieldsets = [<br>        (<span class="hljs-keyword">None</span>, &#123;<span class="hljs-string">&#x27;fields&#x27;</span>: [<span class="hljs-string">&#x27;question_text&#x27;</span>]&#125;),<br>        (<span class="hljs-string">&#x27;Data information&#x27;</span>, &#123;<span class="hljs-string">&#x27;fields&#x27;</span>: [<span class="hljs-string">&#x27;pub_date&#x27;</span>], <span class="hljs-string">&#x27;classes&#x27;</span>:[<span class="hljs-string">&#x27;collapse&#x27;</span>]&#125;)]<br>    inlines = [ChoiceInline]<br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301061803644.png" alt></p><h3 id="调整列表页"><a class="markdownIt-Anchor" href="#调整列表页"></a> 调整列表页</h3><p>在<code>polls/admin.py</code>中调整<code>QuestionAdmin</code>。<code>list_display</code>用于控制列表页显示的字段，<code>list_filter</code>是列表页面右侧的过滤器，这里设置了<code>pub_date</code>字段为筛选器字段。<code>search_fields</code>是列表页顶部的搜索框，这里会通过模糊查询的方式搜索<code>question_text</code>字段查询。</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs prolog">class <span class="hljs-symbol">QuestionAdmin</span>(admin.<span class="hljs-symbol">ModelAdmin</span>):<br>    fieldsets = [<br>        (<span class="hljs-symbol">None</span>, &#123;<span class="hljs-string">&#x27;fields&#x27;</span>: [<span class="hljs-string">&#x27;question_text&#x27;</span>]&#125;),<br>        (<span class="hljs-string">&#x27;Data information&#x27;</span>, &#123;<span class="hljs-string">&#x27;fields&#x27;</span>: [<span class="hljs-string">&#x27;pub_date&#x27;</span>], <span class="hljs-string">&#x27;classes&#x27;</span>:[<span class="hljs-string">&#x27;collapse&#x27;</span>]&#125;)<br>    ]<br>    inlines = [<span class="hljs-symbol">ChoiceInline</span>]<br>    list_display = (<span class="hljs-string">&#x27;question_text&#x27;</span>, <span class="hljs-string">&#x27;pub_date&#x27;</span>, <span class="hljs-string">&#x27;was_published_recently&#x27;</span>)<br>    list_filter = [<span class="hljs-string">&#x27;pub_date&#x27;</span>]<br>    search_fields = [<span class="hljs-string">&#x27;question_text&#x27;</span>]<br></code></pre></td></tr></table></figure><p><code>was_published_recently</code>显示的是模型本身的函数名字，可以通过<code>display()</code>装饰器来调整，在<code>polls/models/py</code>的<code>was_published_recently</code>函数上添加装饰器。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> django.contrib <span class="hljs-keyword">import</span> admin<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Question</span>(models.Model):<br><span class="hljs-meta">    @admin.display(<span class="hljs-params"></span></span><br><span class="hljs-params"><span class="hljs-meta">        boolean=<span class="hljs-literal">True</span>,</span></span><br><span class="hljs-params"><span class="hljs-meta">        ordering=<span class="hljs-string">&#x27;pub_date&#x27;</span>,</span></span><br><span class="hljs-params"><span class="hljs-meta">        description=<span class="hljs-string">&#x27;Published recently?&#x27;</span>,</span></span><br><span class="hljs-params"><span class="hljs-meta">    </span>)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">was_published_recently</span>(<span class="hljs-params">self</span>):<br>        now = timezone.now()<br>        <span class="hljs-keyword">return</span> now - datetime.timedelta(days=<span class="hljs-number">1</span>) &lt;= self.pub_date &lt;= now<br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301061803750.png" alt></p><h3 id="自定义后台界面"><a class="markdownIt-Anchor" href="#自定义后台界面"></a> 自定义后台界面</h3><p>通过命令查询django的源码位置，后台界面的静态文件就放在这里</p><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs llvm">python -<span class="hljs-keyword">c</span> <span class="hljs-string">&quot;import django; print(django.__path__)&quot;</span><br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301061803716.png" alt></p><p>如果想修改后台界面，当然不能直接修改这些源码，应该是新建一个模板目录，将想要修改的文件从源码里复制一份到新目录中，在新目录中修改之后，更改设置文件中的配置。</p><p>如下，首先在项目目录内（即<code>manage.py</code>所在目录）新建<code>templates/admin</code>的目录，将Django源码模板目录中<code>admin/base_site.html</code>复制到新建的<code>templates/admin/</code>下。并将 <code>&#123;&#123; site_header|default:_('Django administration') &#125;&#125;</code>这段代码替换成<code>Polls Administration</code>，Django会优先读取当前文件的模板，这样就替换了左上角的LOGO</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301061803090.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301061803040.png" alt></p><p>如果模板文件中带有引入其他css文件或者页面，同样在源码模板目录中找到对应的文件复制过来即可修改。如下的<code>index.html</code>，引入了<code>admin/css/dashboard.css</code>，在新模板目录添加相同的文件即可。</p><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs django"><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">block</span></span> extrastyle %&#125;</span><span class="hljs-template-variable">&#123;&#123; block.super &#125;&#125;</span><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">static</span></span> &quot;admin/css/dashboard.css&quot; %&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">endblock</span></span> %&#125;</span><br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301061803035.png" alt></p><p>除了第五部分<a href="https://docs.djangoproject.com/zh-hans/4.1/intro/tutorial05/">自动化测试</a>，Django官网教程基本结束，看了两遍，终于基本弄明白了，接下来就是上手写项目了。</p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo Fluid中插入bilibili视频</title>
    <link href="/post/4654962b.html"/>
    <url>/post/4654962b.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>用过<code>hexo-tag-dplayer</code>、<code>hexo-tag-mmedia</code>等插件，前者界面很丑且配置项繁杂，后者与<code>markdown</code>语法有冲突，只能单独放置无法添加其他文本。当然，二者的共同点就是都已经停止维护，联系到开发者就让自己二开。所以干脆使用原生的<code>iframe</code>方式插入视频。</p><p>在B站视频页面分享按钮点击复制嵌入代码，即可获取视频外链</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301061225362.png" alt></p><p>复制到的代码是这样子的</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">&lt;iframe src<span class="hljs-operator">=</span><span class="hljs-string">&quot;//player.bilibili.com/player.html?aid=564630517&amp;bvid=BV1ov4y1B7pm&amp;cid=947156387&amp;page=1&quot;</span> scrolling<span class="hljs-operator">=</span><span class="hljs-string">&quot;no&quot;</span> border<span class="hljs-operator">=</span><span class="hljs-string">&quot;0&quot;</span> frameborder<span class="hljs-operator">=</span><span class="hljs-string">&quot;no&quot;</span> framespacing<span class="hljs-operator">=</span><span class="hljs-string">&quot;0&quot;</span> allowfullscreen<span class="hljs-operator">=</span><span class="hljs-string">&quot;true&quot;</span>&gt; &lt;/iframe&gt;<br></code></pre></td></tr></table></figure><p>如果直接拿去放到页面里，视频窗口会很小，也很丑。所以根据Hexo官网的视频案例布局进行美化，直接将原本代码中的<code>src</code>值替换进去，然后将如下代码放置进<code>markdown</code>即可。</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs abnf">&#123;% raw %&#125;<br>&lt;div style<span class="hljs-operator">=</span><span class="hljs-string">&quot;position: relative; width: 100%; height: 0; padding-bottom: 75%;&quot;</span>&gt;<br>&lt;iframe src<span class="hljs-operator">=</span><span class="hljs-string">&quot;//player.bilibili.com/player.html?aid=564630517&amp;bvid=BV1ov4y1B7pm&amp;cid=947156387&amp;page=1&quot;</span> scrolling<span class="hljs-operator">=</span><span class="hljs-string">&quot;no&quot;</span> border<span class="hljs-operator">=</span><span class="hljs-string">&quot;0&quot;</span> frameborder<span class="hljs-operator">=</span><span class="hljs-string">&quot;no&quot;</span> framespacing<span class="hljs-operator">=</span><span class="hljs-string">&quot;0&quot;</span> allowfullscreen<span class="hljs-operator">=</span><span class="hljs-string">&quot;true&quot;</span> style<span class="hljs-operator">=</span><span class="hljs-string">&quot;position: absolute; width: 100%; height: 100%; Left: 0; top: 0;&quot;</span> &gt;&lt;/iframe&gt;&lt;/div&gt;<br>&#123;% endraw %&#125;<br></code></pre></td></tr></table></figure><p>效果如下图所示：<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301061233355.png" alt></p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2022最后一天,我接到了来自四年前的电话...... | 2022关于我的一切</title>
    <link href="/post/fcbd6729.html"/>
    <url>/post/fcbd6729.html</url>
    
    <content type="html"><![CDATA[<p>希望2023能够在忙碌中起舞</p><span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;"><iframe src="//player.bilibili.com/player.html?aid=564630517&bvid=BV1ov4y1B7pm&cid=947156387&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; Left: 0; top: 0;"></iframe></div><hr><p>2018：</p><p>你好，我是 2018 年的你，突然打电话来打扰你了。可是我现在真的很难过，我感觉找不到生活的意义。我想知道， 2022 年，我过得有没有好一点儿。</p><p>2022：</p><p>你大概以为成年后世界会广阔无比。左转是精彩，右转是浪漫。实际上，每天也不过是在眼前的生活中做着那几个机械重复而又避无可避的选择。今天穿什么，晚饭吃什么，午饭吃什么，要不要运动，晚上几点睡，朝哪边睡，定几点的闹钟。不过，日复一日纷繁杂乱的选择交织在一起，拼凑出了脚下的路。</p><p>这一年，我确定了一些目标。有完成的，有没完成的。制定一些计划，有坚持下来的，有半途放弃的。我没有像你期待的一样变成一个朋友很多的人，也没有照你的期待谈一场大学生的那种恋爱。有意思的事情好多啊，说到底，我们一直追求的不过是多巴胺的刺激，还有一种被偏爱的感觉。</p><p>我重新做了职业规划，调整了未来的方向，放弃了考艺术类硕士，即使已经报了复习课。去看了罗红的摄影展，对着一幅照片流泪。和uu一起去了北京新开的环球影城，人超多。但 因为和她在一起的每个小时都弥足珍贵，只能用倒计时，所以排队的时间也显得有几分生动。去听了坂本龙一的烛光音乐会，学了车，拿到了驾照，但一直没有什么机会开。去了一个互联网公司实习，读了人类简史，觉得自己不过是直立行走的猩猩。戴了 5 年的牙套终于摘了以后，牙白得晃眼。我终于建立起了食物安全感。不用考虑热量，不去换算一颗巧克力等于跑步多少分钟，不会在多吃了一顿之后就看着体重崩溃。神奇的是，这一年比以往都要更瘦一点。</p><p>有时候我喜欢从取景器里看看世界。安静，万籁俱寂，像是藏进世界里了，藏在 每个氧气分子里。我也喜欢给自己拍照，镜头里的自己很陌生又很熟悉。没有白的发光的皮肤，没有楚楚动人的大眼睛，没有流畅的面部线条，但我就是很喜欢看自己在镜头里笑起来的样子。夏天的时候我去拍了写真，但我总觉得摄影师眼里的我和我眼里的自己不太一样。对一个人的印象和认识不同，观察这个人的角度和方式就会不同。所以后来我已经不会在意别人眼里我的样子了。不用为满足不了他人的期待而战战兢兢，不把自己的情绪寄托在他人身上。我终于意识到，有些不可以不过是一层幻想中的枷锁。</p><p>网课的某天早上，我睁开眼，看着阳光透过我的窗帘。我知道接下来会像往常一样，换衣服、洗漱、吃饭，接着按照日程开启没有任何惊喜的一天，我突然觉得自己生活中的一切都变得不真实起来。我还是我吗？还是 我只是我这个角色的执行者，丧失了生活的权利。我可以选择逃离这种麻木的生活吗？我可以。于是我选择一个人去旅行，去邂逅一座新城市。海，一定要有海。大连湿润的水汽一个劲儿地往我常年干燥的身体里钻，我甚至能听见自己的灵魂被浸透的声音。走在蓝色的海边，呼吸着蓝色的空气，身边是正在过生活的人群。我放弃了所有旅行计划，不为任何目的而出发，仅仅是去摸索一个城市的脉搏。我从没这么清晰地感受过活着。</p><p>如果你问这一年我学到什么了，我会说我学会了愤怒，边界被侵犯，不被尊重，所有这样那样不舒服的感觉，我不再试图把他们关在心里打击压制。我会表达自己真实的态度，不再忽略自己的感受，不再委屈自己讨好别人。吵架的原因大部分就忘了，但我还记得坚决维护自己立场时，身体过电般的颤栗。</p><p>2022：</p><p>你觉得 2022 年我过得怎么样？</p><p>2018：</p><p>过得很充实，很快乐，很自信，也很独立。那，你有没有成为一个优秀的人呀？</p><p>2022：</p><p>怎么样才算一个优秀的人？你真的需要被那些空泛、世俗而模式化的标准评判吗？我们产生的微妙情绪，每一次心态上细微的调整，难道这些不值得被关注吗？比起一个用形容词堆砌起来的完美的人，现在我更想做真实的我自己。有血有肉，有喜有怒，率性而果敢，坚韧而善良。</p><p>2018：</p><p>好羡慕你，你知道自己在做什么，也知道自己想要什么。可是我现在非常迷茫，我快对自己没有信心了，我也想成为你现在的样子。</p><p>2022：</p><p>你不需要成为谁，甚至不需要成为我。你可以慢一点，在属于自己的成长时间里尽情畅想，用力活成自己，这是最美好的绽放。要知道，你可以做成一切你想做的事。你永远可以相信自己的力量。</p><p>2018：</p><p>我什么时候才能拥有自己的力量呢？</p><p>2022：</p><p>每一秒。</p><hr><p>转载自：<a href="https://www.bilibili.com/video/BV1ov4y1B7pm">【2022最后一天，我接到了来自四年前的电话… | 2022关于我的一切】</a></p><p>本文已征得up主同意转载。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301061105953.png" alt></p>]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Life</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Django数据库基本API示例</title>
    <link href="/post/afd71056.html"/>
    <url>/post/afd71056.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>数据模型创建后，Django会自动给予一套数据库抽象API，允许增删改查对象。在Django实际代码中，这些应该都是写在<code>views.py</code>内的。</p><p>官方文档：<a href="https://docs.djangoproject.com/zh-hans/4.1/topics/db/queries/">https://docs.djangoproject.com/zh-hans/4.1/topics/db/queries/</a></p><h2 id="进入交互式命令行"><a class="markdownIt-Anchor" href="#进入交互式命令行"></a> 进入交互式命令行</h2><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">python</span> manage.<span class="hljs-keyword">py</span> <span class="hljs-keyword">shell</span><br></code></pre></td></tr></table></figure><h2 id="导入模型"><a class="markdownIt-Anchor" href="#导入模型"></a> 导入模型</h2><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-keyword">from</span> polls.models <span class="hljs-keyword">import</span> Choice, Question<br><span class="hljs-keyword">from</span> django.utils <span class="hljs-keyword">import</span> timezone<br></code></pre></td></tr></table></figure><h2 id="新增记录"><a class="markdownIt-Anchor" href="#新增记录"></a> 新增记录</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">q = Question(question_text=&quot;What&#x27;s new?&quot;, pub_date=timezone.now())<br>q.save()<br># 等价于<br># <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> polls_question (id,question_text,pub_date) <span class="hljs-keyword">value</span> (<span class="hljs-string">&#x27;1&#x27;</span>,<span class="hljs-string">&#x27;What&#x27;</span>s <span class="hljs-built_in">new</span>?<span class="hljs-string">&#x27;,&#x27;</span><span class="hljs-number">2023</span><span class="hljs-number">-01</span><span class="hljs-number">-04</span> <span class="hljs-number">08</span>:<span class="hljs-number">57</span>:<span class="hljs-number">52.068086</span><span class="hljs-string">&#x27;);</span><br></code></pre></td></tr></table></figure><h2 id="所有查询记录"><a class="markdownIt-Anchor" href="#所有查询记录"></a> 所有查询记录</h2><p>前提是模型实现了<code>__str__()</code>函数，返回的是 <code>self.question_text</code>。如果返回的是所有字段，那么等价于<code>select * </code></p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">Question</span>.objects.<span class="hljs-literal">all</span>()<br><span class="hljs-comment"># 等价于</span><br><span class="hljs-comment"># select question_text from polls_question;</span><br></code></pre></td></tr></table></figure><h2 id="按字段查询"><a class="markdownIt-Anchor" href="#按字段查询"></a> 按字段查询</h2><p><code>pk</code>意为<code>PRIMARY KEY</code>，等价于当前模型中的 <code>id</code></p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs routeros">Question.objects.filter(<span class="hljs-attribute">id</span>=1) | Question.objects.filter(<span class="hljs-attribute">pk</span>=1)<br>Question.objects.filter(<span class="hljs-attribute">question_text</span>=<span class="hljs-string">&quot;What&#x27;s new?&quot;</span>)<br><span class="hljs-comment"># 等价于</span><br>select question_text <span class="hljs-keyword">from</span> polls_question where <span class="hljs-attribute">id</span>=1;<br>select question_text <span class="hljs-keyword">from</span> polls_question where <span class="hljs-attribute">question_text</span>=<span class="hljs-string">&quot;What&#x27;s new?&quot;</span>;<br></code></pre></td></tr></table></figure><h2 id="模糊查找"><a class="markdownIt-Anchor" href="#模糊查找"></a> 模糊查找</h2><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs axapta">Question.objects.filter(question_text__startswith=<span class="hljs-string">&#x27;What&#x27;</span>)<br><span class="hljs-meta"># 等价于</span><br><span class="hljs-keyword">select</span> question_text <span class="hljs-keyword">from</span> polls_question <span class="hljs-keyword">where</span> question_text <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;how%&#x27;</span>;<br></code></pre></td></tr></table></figure><h2 id="获取当前年份并按时间查找"><a class="markdownIt-Anchor" href="#获取当前年份并按时间查找"></a> 获取当前年份并按时间查找</h2><p>只返回单个结果</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs csharp">current_year = timezone.now().year<br>Question.objects.<span class="hljs-keyword">get</span>(pub_date__year=current_year)<br><span class="hljs-meta"># 等价于(嵌套子查询)</span><br><span class="hljs-function"><span class="hljs-keyword">select</span> question_text <span class="hljs-keyword">from</span> polls_question <span class="hljs-keyword">where</span> <span class="hljs-title">year</span>(<span class="hljs-params">pub_date</span>)</span> =(<span class="hljs-function"><span class="hljs-keyword">select</span> <span class="hljs-title">year</span>(<span class="hljs-params">curdate(</span>)))</span>;<br></code></pre></td></tr></table></figure><h2 id="通过主表对象给从表添加数据"><a class="markdownIt-Anchor" href="#通过主表对象给从表添加数据"></a> 通过主表对象给从表添加数据</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs routeros">q = Question.objects.<span class="hljs-built_in">get</span>(<span class="hljs-attribute">pk</span>=1)<br>q.choice_set.create(<span class="hljs-attribute">choice_text</span>=<span class="hljs-string">&#x27;Not much&#x27;</span>, <span class="hljs-attribute">votes</span>=0)<br><span class="hljs-comment"># 等价于</span><br>insert into polls_choice (id,choice_text,votes,question_id) value (<span class="hljs-string">&#x27;1&#x27;</span>,<span class="hljs-string">&#x27;Not much&#x27;</span>,<span class="hljs-string">&#x27;0&#x27;</span>,<span class="hljs-string">&#x27;1&#x27;</span>);<br></code></pre></td></tr></table></figure><h2 id="查找记录数量"><a class="markdownIt-Anchor" href="#查找记录数量"></a> 查找记录数量</h2><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs axapta">q.choice_set.<span class="hljs-keyword">count</span>()<br><span class="hljs-meta"># 等价于</span><br><span class="hljs-keyword">select</span> <span class="hljs-keyword">count</span>(*) <span class="hljs-keyword">from</span> polls_choice <span class="hljs-keyword">as</span> c  <span class="hljs-keyword">join</span> polls_question <span class="hljs-keyword">as</span> q on c.question_id=q.id <span class="hljs-keyword">where</span> q.id=<span class="hljs-string">&#x27;1&#x27;</span> ;<br></code></pre></td></tr></table></figure><h2 id="连接查询"><a class="markdownIt-Anchor" href="#连接查询"></a> 连接查询</h2><p>通过从表对象按主表条件查询</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs csharp">Choice.objects.filter(question__pub_date__year=current_year)<br><span class="hljs-meta"># 等价于</span><br><span class="hljs-keyword">select</span> choice_text <span class="hljs-keyword">from</span> polls_choice <span class="hljs-keyword">as</span> c <span class="hljs-keyword">join</span> polls_question <span class="hljs-keyword">as</span> q <span class="hljs-keyword">on</span> c.question_id=q.<span class="hljs-function">id <span class="hljs-keyword">where</span> <span class="hljs-title">year</span>(<span class="hljs-params">q.pub_date</span>)</span> =(<span class="hljs-function"><span class="hljs-keyword">select</span> <span class="hljs-title">year</span>(<span class="hljs-params">curdate(</span>)))</span>;<br></code></pre></td></tr></table></figure><h2 id="模糊查询并删除记录"><a class="markdownIt-Anchor" href="#模糊查询并删除记录"></a> 模糊查询并删除记录</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">q.choice_set.<span class="hljs-keyword">filter</span>(choice_text__startswith=<span class="hljs-string">&#x27;Just hacking&#x27;</span>).<span class="hljs-keyword">delete</span>()<br># 等价于<br><span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> polls_choice <span class="hljs-keyword">where</span> choice_text <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;Just hacking%&#x27;</span>;<br></code></pre></td></tr></table></figure><h2 id="查询并排序"><a class="markdownIt-Anchor" href="#查询并排序"></a> 查询并排序</h2><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs axapta"><span class="hljs-meta"># 这里的-我没明白什么意思[TODO]</span><br>Question.objects.order_by(<span class="hljs-string">&#x27;-pub_date&#x27;</span>)<br><span class="hljs-meta"># 等价于</span><br><span class="hljs-keyword">select</span> question_text <span class="hljs-keyword">from</span> polls_question <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> pub_date;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>基于自架的PushDeer实现手机推送功能</title>
    <link href="/post/e614b7d0.html"/>
    <url>/post/e614b7d0.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>官方的网址：<a href="https://www.pushdeer.com/selfhosted.html">https://www.pushdeer.com/selfhosted.html</a></p><p>实现流程：在本地通过docker部署服务端，启动后可通过IP/域名访问服务即可.</p><p>我的环境：Ubuntu18.04 LTS</p><h2 id="安装docker"><a class="markdownIt-Anchor" href="#安装docker"></a> 安装Docker</h2><p><strong>卸载旧版本</strong></p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs routeros">sudo apt-<span class="hljs-built_in">get</span> <span class="hljs-built_in">remove</span> docker \<br>               docker-engine \<br>               docker.io<br></code></pre></td></tr></table></figure><p><strong>使用https传输，并检查CA证书</strong></p><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs livescript">sudo apt-get update<br><br>sudo apt-get install <span class="hljs-string">\</span><br>    apt-transport-https <span class="hljs-string">\</span><br>    ca-certificates <span class="hljs-string">\</span><br>    curl <span class="hljs-string">\</span><br>    gnupg <span class="hljs-string">\</span><br>    lsb-release<br></code></pre></td></tr></table></figure><p><strong>添加软件源密钥</strong></p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">curl -fsSL https:<span class="hljs-regexp">//mi</span>rrors.aliyun.com<span class="hljs-regexp">/docker-ce/</span>linux<span class="hljs-regexp">/ubuntu/g</span>pg | sudo gpg --dearmor -o <span class="hljs-regexp">/usr/</span>share<span class="hljs-regexp">/keyrings/</span>docker-archive-keyring.gpg<br></code></pre></td></tr></table></figure><p><strong>添加稳定版 Docker APT镜像源</strong></p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs gradle">echo \<br>  <span class="hljs-string">&quot;deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://mirrors.aliyun.com/docker-ce/linux/ubuntu \</span><br><span class="hljs-string">  $(lsb_release -cs) stable&quot;</span> | sudo tee <span class="hljs-regexp">/etc/</span>apt<span class="hljs-regexp">/sources.list.d/</span>docker.list &gt; <span class="hljs-regexp">/dev/</span><span class="hljs-keyword">null</span><br></code></pre></td></tr></table></figure><p><strong>安装docker</strong></p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vim">sudo apt-<span class="hljs-built_in">get</span> <span class="hljs-keyword">update</span><br><br>sudo apt-<span class="hljs-built_in">get</span> install docker-<span class="hljs-keyword">ce</span> docker-<span class="hljs-keyword">ce</span>-cli containerd.io<br></code></pre></td></tr></table></figure><p><strong>启动docker</strong></p><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs nsis">sudo <span class="hljs-params">system</span>ctl enable docker<br>sudo <span class="hljs-params">system</span>ctl start docker<br></code></pre></td></tr></table></figure><p>建立docker用户组，并将当前用户加入用户组</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">sudo</span> groupadd docker<br><br>sudo usermod -aG docker <span class="hljs-variable">$USER</span><br></code></pre></td></tr></table></figure><p><strong>退出终端并重新登录，测试是否安装正确</strong></p><p>如执行完<code>docker run --rm hello-world</code>后出现如下输出，则docker已正确安装</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">docker run <span class="hljs-comment">--rm hello-world</span><br><br>Unable <span class="hljs-built_in">to</span> find image <span class="hljs-string">&#x27;hello-world:latest&#x27;</span> locally<br>latest: Pulling <span class="hljs-built_in">from</span> library/hello-world<br>b8dfde127a29: Pull complete<br>Digest: sha256:<span class="hljs-number">308866</span>a43596e83578c7dfa15e27a73011bdd402185a84c5cd7f32a88b501a24<br>Status: Downloaded newer image <span class="hljs-keyword">for</span> hello-world:latest<br><br>Hello <span class="hljs-built_in">from</span> Docker!<br>This message shows that your installation appears <span class="hljs-built_in">to</span> be working correctly.<br><br>To generate this message, Docker took <span class="hljs-keyword">the</span> following steps:<br> <span class="hljs-number">1.</span> The Docker client contacted <span class="hljs-keyword">the</span> Docker daemon.<br> <span class="hljs-number">2.</span> The Docker daemon pulled <span class="hljs-keyword">the</span> <span class="hljs-string">&quot;hello-world&quot;</span> image <span class="hljs-built_in">from</span> <span class="hljs-keyword">the</span> Docker Hub.<br>    (amd64)<br> <span class="hljs-number">3.</span> The Docker daemon created <span class="hljs-keyword">a</span> <span class="hljs-built_in">new</span> container <span class="hljs-built_in">from</span> that image which runs <span class="hljs-keyword">the</span><br>    executable that produces <span class="hljs-keyword">the</span> output you are currently reading.<br> <span class="hljs-number">4.</span> The Docker daemon streamed that output <span class="hljs-built_in">to</span> <span class="hljs-keyword">the</span> Docker client, which sent <span class="hljs-keyword">it</span><br>    <span class="hljs-built_in">to</span> your terminal.<br><br>To <span class="hljs-keyword">try</span> something more ambitious, you can run <span class="hljs-keyword">an</span> Ubuntu container <span class="hljs-keyword">with</span>:<br> $ docker run -<span class="hljs-keyword">it</span> ubuntu bash<br><br>Share images, automate workflows, <span class="hljs-keyword">and</span> more <span class="hljs-keyword">with</span> <span class="hljs-keyword">a</span> free Docker ID:<br> <span class="hljs-keyword">https</span>://hub.docker.com/<br><br>For more examples <span class="hljs-keyword">and</span> ideas, visit:<br> <span class="hljs-keyword">https</span>://docs.docker.com/<span class="hljs-built_in">get</span>-started/<br></code></pre></td></tr></table></figure><h2 id="安装docker-compose"><a class="markdownIt-Anchor" href="#安装docker-compose"></a> 安装docker-compose</h2><p>下载compose文件到<code>/usr/local/bin</code>中</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">sudo curl -L <span class="hljs-string">&quot;https://github.com/docker/compose/releases/download/v2.6.1/docker-compose-$(uname -s)-$(uname -m)&quot;</span> -o <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/bin/</span>docker-compose<br></code></pre></td></tr></table></figure><p>修改文件为可执行权限</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">sudo chmod +x <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/bin/</span>docker-compose<br></code></pre></td></tr></table></figure><p>验证版本</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">docker-compose <span class="hljs-comment">--version</span><br></code></pre></td></tr></table></figure><h2 id="开启本地端口"><a class="markdownIt-Anchor" href="#开启本地端口"></a> 开启本地端口</h2><p>该服务默认运行在8800端口（可修改<code>docker-compose.yml</code>调整端口），如果本地是云服务器，需要在安全组开启端口</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301030951207.png" alt></p><h2 id="构建服务器端"><a class="markdownIt-Anchor" href="#构建服务器端"></a> 构建服务器端</h2><p><strong>下载仓库至本地</strong></p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">git clone https:<span class="hljs-regexp">//gi</span>tee.com<span class="hljs-regexp">/easychen/</span>pushdeer.git<br></code></pre></td></tr></table></figure><p><strong>构建容器并后台启动</strong></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus">cd pushdeer<br>docker-compose -f docker-compose<span class="hljs-selector-class">.self-hosted</span><span class="hljs-selector-class">.yml</span> up <span class="hljs-attr">--build</span> -d<br></code></pre></td></tr></table></figure><p>第一次构建时间较长，等待构建结束在浏览器访问<code>IP/域名:8800</code>即可</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301030954337.png" alt></p><p><strong>后台查看进程</strong></p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">docker-compose ps</span><br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301031004289.png" alt></p><p><strong>实时查看日志</strong></p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">docker-compose logs -f app</span><br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301031003081.png" alt></p><p><strong>停止所有容器</strong></p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">docker-compose down</span><br></code></pre></td></tr></table></figure><p>IOS14+系统摄像头扫码可打开手机上的轻App，轻App中需要填写API endpoint，内容就是<code>IP/域名:8800</code>。进入轻App后需要注册设备，Key是自动生成的。接下来就可以直接进行测试了。建议是直接在AppStore中下载自架版PushDeer，轻App会在30天未使用后自动删除，到时候需要重置一些东西，比较麻烦。</p><h2 id="推送消息"><a class="markdownIt-Anchor" href="#推送消息"></a> 推送消息</h2><h3 id="推送文字"><a class="markdownIt-Anchor" href="#推送文字"></a> 推送文字</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">http:<span class="hljs-regexp">//</span><span class="hljs-number">121.5</span>.<span class="hljs-number">20.90</span>:<span class="hljs-number">8800</span><span class="hljs-regexp">/message/</span>push?pushkey=<span class="hljs-variable">$Key</span>$&amp;text=<span class="hljs-variable">$text</span>$<br></code></pre></td></tr></table></figure><p><strong>地址栏填写内容</strong></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301031013440.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301031017837.png" alt></p><p><strong>Python requests实现</strong></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301031014043.jpg" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301031020501.jpg" alt></p><h3 id="推送图片"><a class="markdownIt-Anchor" href="#推送图片"></a> 推送图片</h3><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301031029856.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202301031030638.jpg" alt></p><p><strong>推送markdown</strong></p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">https:<span class="hljs-regexp">//</span>api2.pushdeer.com<span class="hljs-regexp">/message/</span>push?pushkey=<span class="hljs-variable">$Key</span>$&amp;text=标题&amp;desp=&lt;markdown&gt;&amp;type=markdown<br></code></pre></td></tr></table></figure><p>需要注意的是，VScode在闲置的时候好像会自行对代码中的连接发送请求，导致我手机重复收到推送。建议将其做成工具，这样就可以直接调用了。</p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>mysql5.7修改密码最佳实践</title>
    <link href="/post/5ffe9ce3.html"/>
    <url>/post/5ffe9ce3.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>环境信息</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">ubuntu@VM<span class="hljs-number">-0</span><span class="hljs-number">-7</span>-ubuntu:~/blog$ lsb_release -a<br><span class="hljs-keyword">No</span> LSB modules are available.<br>Description:    Ubuntu <span class="hljs-number">18.04</span><span class="hljs-number">.4</span> LTS<br><br>ubuntu@VM<span class="hljs-number">-0</span><span class="hljs-number">-7</span>-ubuntu:~/blog$ mysql <span class="hljs-comment">--version</span><br>mysql  Ver <span class="hljs-number">14.14</span> Distrib <span class="hljs-number">5.7</span><span class="hljs-number">.38</span>, <span class="hljs-keyword">for</span> Linux (x86_64) <span class="hljs-keyword">using</span>  EditLine <span class="hljs-keyword">wrapper</span><br></code></pre></td></tr></table></figure><h3 id="修改配置文件"><a class="markdownIt-Anchor" href="#修改配置文件"></a> 修改配置文件</h3><p>在[mysqld]块内加上<code>skip-grant-tables</code>，然后保存退出，<code>sudo service mysql restart</code>重启mysql</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs awk">sudo vim <span class="hljs-regexp">/etc/my</span>sql<span class="hljs-regexp">/mysql.conf.d/my</span>sqld.cnf<br><br>[mysqld]<br><span class="hljs-comment">#</span><br><span class="hljs-comment"># * Basic Settings</span><br><span class="hljs-comment">#</span><br>user            = mysql<br>pid-file        = <span class="hljs-regexp">/var/</span>run<span class="hljs-regexp">/mysqld/my</span>sqld.pid<br>socket          = <span class="hljs-regexp">/var/</span>run<span class="hljs-regexp">/mysqld/my</span>sqld.sock<br>port            = <span class="hljs-number">3306</span><br>basedir         = /usr<br>datadir         = <span class="hljs-regexp">/var/</span>lib/mysql<br>tmpdir          = /tmp<br>lc-messages-dir = <span class="hljs-regexp">/usr/</span>share/mysql<br>skip-external-locking<br>skip-grant-tables<br></code></pre></td></tr></table></figure><h3 id="重设密码"><a class="markdownIt-Anchor" href="#重设密码"></a> 重设密码</h3><p>终端输入<code>mysql -u root</code>直接进入mysql，执行如下语句</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">use mysql;<br><span class="hljs-keyword">update</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">set</span> authentication_string=<span class="hljs-keyword">password</span>(&quot;新密码&quot;) <span class="hljs-keyword">where</span> <span class="hljs-keyword">user</span>=&quot;root&quot;;<br>flush <span class="hljs-keyword">privileges</span>;<br></code></pre></td></tr></table></figure><p>然后<code>quit</code>退出mysql</p><h3 id="还原配置文件"><a class="markdownIt-Anchor" href="#还原配置文件"></a> 还原配置文件</h3><p>重新回到刚才的配置文件，将加进去的<code>skip-grant-tables</code>注释掉即可。</p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>运维</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>治疗新冠病毒感染中药协定方范例</title>
    <link href="/post/485cf97b.html"/>
    <url>/post/485cf97b.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><h2 id="治疗新冠病毒感染中药协定方范例"><a class="markdownIt-Anchor" href="#治疗新冠病毒感染中药协定方范例"></a> 治疗新冠病毒感染中药协定方范例</h2><p>新冠病毒奥密克戎变异株感染属于中医“疫”病范畴，病因为感受“疫戾”之气，核心病机为“疫毒外侵”。根据南北方的气候特点，结合广大城乡基层实际，针对新冠病毒感染者，制定中药协定处方如下：</p><h3 id="通用基础方"><a class="markdownIt-Anchor" href="#通用基础方"></a> 通用基础方</h3><p>新冠病毒感染者早期可用协定处方（大青龙汤合五苓散）：生麻黄9克，桂枝9克，生石膏25克，苦杏仁10克，甘草9克，大枣10克，生姜10克，茯苓15克，猪苓9克，泽泻9克，生白术9克。</p><h3 id="北方地区"><a class="markdownIt-Anchor" href="#北方地区"></a> 北方地区</h3><p>新冠病毒感染者有发热等症状，协定处方（加味葛根汤）：葛根15g，麻黄10g，生石膏20g，桂枝10g，白芍10g，生姜10g，大枣10g，桔梗15g，甘草10g。</p><ul><li><p>若头痛身痛明显，可酌加羌活10g、白芷10g、川芎10g。</p></li><li><p>若咽痛明显，可酌加射干15g、牛蒡子10g。</p></li><li><p>若咳嗽明显，可酌加杏仁10g、枇杷叶10g。</p></li></ul><h3 id="南方地区"><a class="markdownIt-Anchor" href="#南方地区"></a> 南方地区</h3><p>新冠病毒感染者有发热等症状，协定处方（加减银翘散）：金银花15g，连翘15g，杏仁10g，牛蒡子10g，桔梗10g，甘草6g，葛根30g，北沙参10g，桑叶10g，藿香10g。</p><ul><li>若高热体温大于38.5℃，可酌加生石膏30g（先煎）。</li><li>若头痛身痛明显，可酌加柴胡15g、黄芩10g。</li><li>若咽痛明显，可酌加射干15g，玄参10g。</li><li>若咳嗽明显，可酌加炙麻黄5g、浙贝15g。</li></ul><h3 id="其他注意事项"><a class="markdownIt-Anchor" href="#其他注意事项"></a> 其他注意事项</h3><ol><li>若出现恶心、呕吐、腹泻等胃肠道症状，酌加砂仁6g、木香10g。</li><li>服用方法：水煎服，每日1剂，每剂水煎400ml，分2～4次温服。老人、儿童以及体弱者酌减</li></ol><p>国务院联防联控机制综合组 2022年12月28日</p><h2 id="深圳市2022年冬季新冠感染等疫病中医药对症辨证调理指引"><a class="markdownIt-Anchor" href="#深圳市2022年冬季新冠感染等疫病中医药对症辨证调理指引"></a> 深圳市2022年冬季新冠感染等疫病中医药对症辨证调理指引</h2><p>2022年冬季新冠感染轻症患者的主要症状为发热、咳嗽、咽痛、鼻塞流涕、肢体疼痛等，多属头面热、背腹寒，腠理不开，火郁于内，宜汗出而解郁火、解肌而布津液。</p><p>为更好地发挥中医药在新冠感染等疫病中重要作用，体现“未病先防、既病防变、瘥后防复”的治未病理念，我委组织深圳市中医治未病质控中心专家，针对当前新冠防控新形势新要求，结合本市冬季气候特点、临床防疫经验和有关地方做法，制定本指引，指导居家患者在常规用药情形下，自行针对不同症状、体质采用不同的食疗、茶饮、推拿等简易可行的中医方法调理，促进新冠等疫病患者减轻症状和早日康复。</p><h3 id="发热"><a class="markdownIt-Anchor" href="#发热"></a> 发热</h3><p><strong>偏寒体质</strong>：疏风解表散寒。表现为平素怕风怕冷，手足不温、痰涎涕清稀，喜静，舌淡苔白而润。</p><h4 id="食疗茶饮"><a class="markdownIt-Anchor" href="#食疗茶饮"></a> 食疗茶饮</h4><p>**（1）陈皮柠檬饮。**广陈皮1瓣、鲜柠檬2片、带皮生姜3-4片。陈皮煮10分钟，放入生姜煮5分钟，放置约45度加入柠檬片，代茶热饮。</p><p>**（2）生姜葱白饮。**红糖20克、生姜3片、葱白2段。将生姜、葱白放入锅中加300ml水，煮沸3分钟，加入红糖，趁热饮用。</p><p>**（3）姜葱香菜汤。**生姜4片、红枣3个、北方葱白3段、洋葱50克、香菜20克。将生姜、洋葱切丝，红枣切片，大葱、香菜切段，把生姜、红枣加水500ml，煮开5分钟后加入葱白，洋葱、香菜煮5分钟，再加少许盐，热汤饮用，服后保暖。</p><p><strong>（4）豆豉生姜粥</strong>。葱白2茎，豆豉15克，生姜3片，大米50克，食盐适量。将葱白切细、豆豉择净，生姜切片，同放入锅中，加清水浸泡10分钟，水煎取汁，加大米煮粥，熟时调入食盐，趁热食用。</p><h4 id="外治疗法"><a class="markdownIt-Anchor" href="#外治疗法"></a> 外治疗法</h4><p>**中药沐足。**用艾叶30g、带皮生姜100g，加水煮开5分钟，放入盆中加水使温度约45度，双脚入盆浸泡到足踝以上，泡脚约15分钟至身上微微汗出，盖好衣被静卧休息。</p><hr><p><strong>偏热体质</strong>：疏散风热、降火通便。表现为口渴喜饮，面赤、手温、痰液黄稠，舌红苔黄而干。</p><h4 id="食疗茶饮-2"><a class="markdownIt-Anchor" href="#食疗茶饮-2"></a> 食疗茶饮</h4><p>**（1）菊花柠檬茶。**菊花3朵、鲜柠檬4片，加开水冲泡10分钟后饮用。</p><p>**（2）鲜藕绿豆粥。**清热凉血、利咽除烦、生津止渴。鲜藕50克，大米、绿豆各30克，白糖适量。先煮绿豆至沸，加大米煮至半熟后，放入藕片熟后加白糖再煮一二沸即可。</p><p>**（3）萝卜芹菜豆腐汤。**白萝卜150克，芹菜50克、香菜30克、豆腐半块、生姜15克、黄豆30克，可加瘦肉丝50克。把白萝卜、生姜、黄豆先共煮45分钟。再放入芹菜、香菜、豆腐、瘦肉丝煮5分钟，可热饮汤。</p><h4 id="外治疗法-2"><a class="markdownIt-Anchor" href="#外治疗法-2"></a> 外治疗法</h4><p>**按压曲池穴。**以拇指指腹稍用力按压曲池穴（小臂尽量靠近大臂时肘部横纹外侧端）3-5分钟，双手交替，按压力度以感觉酸痛为宜，可清热祛风，缓解发热不适。</p><h3 id="咳嗽"><a class="markdownIt-Anchor" href="#咳嗽"></a> 咳嗽</h3><p><strong>偏寒体质—驱寒止咳</strong></p><p>蒸橙子生姜。新鲜橙子1个，在其中上1/4处切下橙盖，加生姜2片，盖上橙盖冷水上锅蒸15分钟，开盖后饮用橙汁，食用橙肉。</p><p><strong>偏热体质—清咽止咳</strong></p><p>蒸橙子雪梨。新鲜橙子1个，雪梨适量。在橙子上1/4处切下橙盖，放雪梨盖上橙盖，冷水上锅蒸15分钟，开盖后食用橙汁、橙肉、梨肉。</p><p><strong>偏燥体质—润肺止咳</strong></p><p>雪梨萝卜水。白萝卜小半个、雪梨1个，红枣3个，生姜3片，冰糖少许。把白萝卜和雪梨切片，生姜切丝，加入红枣，中火烧开煮20分钟。</p><h3 id="鼻塞干流涕"><a class="markdownIt-Anchor" href="#鼻塞干流涕"></a> 鼻塞（干）流涕</h3><h4 id="鼻塞清涕祛风散寒通窍"><a class="markdownIt-Anchor" href="#鼻塞清涕祛风散寒通窍"></a> 鼻塞清涕—祛风散寒通窍</h4><p><strong>食疗茶饮</strong></p><p>生姜葱白紫苏饮。生姜10克，干紫苏10克，葱白10g。生姜、紫苏、葱白加入200ml清水煮开，中火煮5分钟，滤渣趁热饮用，可加入少量黄冰糖调味。</p><p><strong>外治疗法</strong></p><p>按压迎香穴。拇指指腹按揉鼻子两侧迎香穴100-200次，每日2次。可缓解鼻塞流涕症状。</p><h4 id="鼻干黄涕疏风清热"><a class="markdownIt-Anchor" href="#鼻干黄涕疏风清热"></a> 鼻干黄涕—疏风清热</h4><p>薄荷菊花茶。薄荷3g、白菊花3-5朵，用200ml开水冲饮至味淡。</p><h3 id="咽痛-口干"><a class="markdownIt-Anchor" href="#咽痛-口干"></a> 咽痛、口干</h3><p><strong>蜜桔饮</strong></p><p>咸柑橘1-2粒，加新鲜柠檬汁、蜂蜜少许。把咸柑橘捣碎，沸水冲泡后加入柠檬汁与蜂蜜，分次饮用。清咽利嗓。</p><p><strong>乌梅饮</strong></p><p>乌梅3-5个，甘草5克，白糖适量。乌梅、甘草放入锅中，加水200ml煮沸3分钟，当茶水饮用。利咽生津。</p><h3 id="头痛"><a class="markdownIt-Anchor" href="#头痛"></a> 头痛</h3><p><strong>按压太阳穴</strong></p><p>以拇指指腹顺时针按揉太阳穴（眉梢与目外眦之间，向后约1横指的凹陷处）5-6分钟，可缓解头痛症状。</p><p><strong>按压列缺穴</strong></p><p>拇指指端按在列缺穴（双手虎口交叉放置，食指指尖下可触及一缝隙处），有节律而缓慢均匀推动5-6分钟，双手交替，每日2次，可缓解头痛症状。</p><h3 id="注意事项"><a class="markdownIt-Anchor" href="#注意事项"></a> 注意事项</h3><ul><li><p><strong>上述食材或中药过敏者</strong>禁用、<strong>过敏体质</strong>慎用。</p></li><li><p>述食疗方仅用于<strong>大众人群</strong>作为<strong>预防调理</strong>食用，协助在早期有症状出现时合理配合饮食，当症状持续时，请及时就医，作进一步诊疗。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Life</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode-830.较大分组的位置</title>
    <link href="/post/69ba27e9.html"/>
    <url>/post/69ba27e9.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>在一个由小写字母构成的字符串 s 中，包含由一些连续的相同字符所构成的分组。</p><p>例如，在字符串 s = “abbxxxxzyy” 中，就含有 “a”, “bb”, “xxxx”, “z” 和 “yy” 这样的一些分组。</p><p>分组可以用区间 [start, end] 表示，其中 start 和 end 分别表示该分组的起始和终止位置的下标。上例中的 “xxxx” 分组用区间表示为 [3,6] 。</p><p>我们称所有包含大于或等于三个连续字符的分组为 较大分组 。</p><p>找到每一个 较大分组 的区间，按起始位置下标递增顺序排序后，返回结果。</p><p><a href="https://leetcode.cn/problems/positions-of-large-groups/description/">https://leetcode.cn/problems/positions-of-large-groups/description/</a></p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">def</span> largeGroupPositions(s):<br>    <span class="hljs-attribute">n</span>, num, ret = len(s), <span class="hljs-number">1</span>,<span class="hljs-meta"> []</span><br>    <span class="hljs-attribute">for</span> i in range(n):<br>        <span class="hljs-comment"># 当遍历到最后一个元素，或者当前元素与下个元素不相同时，进行一次是否连续判定（相当于开始结算）</span><br>        <span class="hljs-attribute">if</span> i == n - <span class="hljs-number">1</span> or s[i] != s[i + <span class="hljs-number">1</span>]:<br>            <span class="hljs-comment"># 当计数值大于等于3时，将其加入结果集，并将计数值num初始化成1</span><br>            <span class="hljs-comment"># 当计数值小于3，直接初始化num，重新计数。因为此时遍历到末尾元素或下一个元素与当前元素不同</span><br>            <span class="hljs-attribute">if</span> num &gt;= <span class="hljs-number">3</span>:<br>                <span class="hljs-attribute">ret</span>.append([i - num + <span class="hljs-number">1</span>, i])<br>            <span class="hljs-attribute">num</span> = <span class="hljs-number">1</span><br>        <span class="hljs-comment"># 当没有遍历到最后一位或者存在连续字符时，计数值num+1</span><br>        <span class="hljs-attribute">else</span>:<br>            <span class="hljs-attribute">num</span> += <span class="hljs-number">1</span><br><br>    <span class="hljs-attribute">return</span> ret<br><br><span class="hljs-attribute">s</span> = <span class="hljs-string">&quot;abcdddeeeeaabbbcd&quot;</span><br><span class="hljs-attribute">print</span>(largeGroupPositions(s))<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>LeetCode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo Fluid中渲染LaTeX数学公式</title>
    <link href="/post/97e4add3.html"/>
    <url>/post/97e4add3.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>原生的md渲染器<code>hexo-renderer-markdowed</code>对复杂公式并不太友好，如果需要支持数学公式，需要换新的渲染器。Fluid主题内置LaTeX功能的，详见<a href="https://hexo.fluid-dev.com/docs/guide/#latex-%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F">官网</a>。但是我这里没有用官网的教程，用的是另一位大佬的博客文章。官网用的渲染器是<code>hexo-renderer-markdown-it</code>，他用的是<code>hexo-renderer-markdown-it-plus</code>，看其他人也是推荐这个，相对来说它会好很多，毕竟是plus嘛。这里也贴一下他的<a href="https://wty-yy.github.io/">主页</a></p><p>也有其他人选择使用 MathJax，MathJax 虽然语法比较全，但加载会很慢，并且有些内联公式里面的转义字符<code>\</code>不太支持。KaTeX渲染很快，小部分语法例如equation、align等不支持，总的来数够用了。</p><p>设置如下：</p><h3 id="更改markdown渲染器"><a class="markdownIt-Anchor" href="#更改markdown渲染器"></a> 更改Markdown渲染器</h3><p>注意不能安装多个渲染器，这样会渲染多次，所以检查一下，这些都要删掉</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ada">npm un hexo-renderer-marked <span class="hljs-comment">--save</span><br>npm un hexo-renderer-kramed <span class="hljs-comment">--save</span><br></code></pre></td></tr></table></figure><p>安装katex</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript">npm i hexo-renderer-markdown-<span class="hljs-keyword">it</span>-plus <span class="hljs-comment">--save</span><br></code></pre></td></tr></table></figure><p>如果想要更好的视觉体验，推荐安装hexo官方的hexo-math，让字体变得更好看</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">npm <span class="hljs-keyword">install</span> hexo-<span class="hljs-keyword">math</span> --save<br></code></pre></td></tr></table></figure><h3 id="修改hexo博客配置文件"><a class="markdownIt-Anchor" href="#修改hexo博客配置文件"></a> 修改hexo博客配置文件</h3><p>修改<code>hexo/_config.yml</code>，在文末加入以下信息</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs awk">math:<br>  engine: katex<br>  katex:<br>    css: https:<span class="hljs-regexp">//</span>fastly.jsdelivr.net<span class="hljs-regexp">/npm/</span>katex@<span class="hljs-number">0.10</span>.<span class="hljs-number">0</span><span class="hljs-regexp">/dist/</span>katex.min.css<br>    js: https:<span class="hljs-regexp">//</span>fastly.jsdelivr.net<span class="hljs-regexp">/npm/</span>katex@<span class="hljs-number">0.10</span>.<span class="hljs-number">0</span><span class="hljs-regexp">/dist/</span>katex.min.js<br>    config:<br>      <span class="hljs-comment"># KaTeX config</span><br>      throwOnError: false<br>      errorColor: <span class="hljs-string">&quot;#cc0000&quot;</span><br></code></pre></td></tr></table></figure><h3 id="修改fluid主题配置文件"><a class="markdownIt-Anchor" href="#修改fluid主题配置文件"></a> 修改fluid主题配置文件</h3><p>注意<code>specific</code>参数，自定义页面默认不加载渲染，在文章头中加入<code>math: true</code>才会启用公式渲染，</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">post:</span><br>  <span class="hljs-attr">math:</span><br>    <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">specific:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">engine:</span> <span class="hljs-string">katex</span><br></code></pre></td></tr></table></figure><p>修改配置完成后，清除缓存并重启：</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs 1c">hexo clean <span class="hljs-meta">&amp;&amp; hexo s</span><br></code></pre></td></tr></table></figure><h3 id="查看渲染结果"><a class="markdownIt-Anchor" href="#查看渲染结果"></a> 查看渲染结果</h3><p>行内公式： <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mi>w</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>w</mi><mi>x</mi><mo>+</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">f w,b (x)=wx+b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span></span></span></span></p><p>行间公式</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><mi>w</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mrow><mn>2</mn><mi>m</mi></mrow></mfrac><munderover><mo>∑</mo><mi>m</mi><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow></munderover><mo stretchy="false">(</mo><msub><mi>f</mi><mrow><mi>w</mi><mo separator="true">,</mo><mi>b</mi></mrow></msub><mo stretchy="false">(</mo><msup><mi>x</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup><mo stretchy="false">)</mo><mo>−</mo><msup><mi>y</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">J(w,b)=\frac{1}{2m} \sum_{m}^{i=1}(f_{w,b}(x^{(i)})-y^{(i)} )^{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.061674em;vertical-align:-1.250005em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathnormal">m</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8116690000000002em;"><span style="top:-1.8999949999999999em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.250005em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">b</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.188em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></span></p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Markdown下Latex数学公式输入</title>
    <link href="/post/dc95e40f.html"/>
    <url>/post/dc95e40f.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>先提供一个LaTex公式编辑器在线网站，更加快捷：<a href="https://latexlive.com/home">https://latexlive.com/home</a></p><h2 id="添加公式的方法"><a class="markdownIt-Anchor" href="#添加公式的方法"></a> 添加公式的方法</h2><ol><li><p>行内公式</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">$行内公式$<br></code></pre></td></tr></table></figure></li><li><p>行间公式</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-variable">$</span><span class="hljs-variable">$</span>行间公式<span class="hljs-variable">$</span><span class="hljs-variable">$</span><br></code></pre></td></tr></table></figure></li></ol><h2 id="latex-数学公式语法"><a class="markdownIt-Anchor" href="#latex-数学公式语法"></a> Latex 数学公式语法</h2><ol><li><p>角标（上下标）</p><ul><li><p>上标命令<code>^&#123;&#125;</code></p></li><li><p>下标命令<code>_&#123;&#125;</code></p><p>上下标命令用来放在需要插入上下标的地方，华括弧内为上下标的内容，当角标为单个字符时候，可以不使用花括号；如果角标为多字符或者多层次的时候，必须要使用花括号。</p></li><li><p>举例：</p><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml">$$x^2, x_1^2, x^</span><span class="hljs-template-variable">&#123;(n)&#125;</span><span class="language-xml">_</span><span class="hljs-template-variable">&#123;22&#125;</span><span class="language-xml">, ^</span><span class="hljs-template-variable">&#123;16&#125;</span><span class="language-xml">O^</span><span class="hljs-template-variable">&#123;2-&#125;</span><span class="language-xml">_</span><span class="hljs-template-variable">&#123;32&#125;</span><span class="language-xml">, x^</span><span class="hljs-template-variable">&#123;y^&#123;z^a&#125;</span><span class="language-xml">&#125;, x^</span><span class="hljs-template-variable">&#123;y_z&#125;</span><span class="language-xml">$$</span><br></code></pre></td></tr></table></figure><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msup><mi>x</mi><mn>2</mn></msup><mo separator="true">,</mo><msubsup><mi>x</mi><mn>1</mn><mn>2</mn></msubsup><mo separator="true">,</mo><msubsup><mi>x</mi><mn>22</mn><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></msubsup><msup><mo separator="true">,</mo><mn>16</mn></msup><msubsup><mi>O</mi><mn>32</mn><mrow><mn>2</mn><mo>−</mo></mrow></msubsup><mo separator="true">,</mo><msup><mi>x</mi><msup><mi>y</mi><msup><mi>z</mi><mi>a</mi></msup></msup></msup><mo separator="true">,</mo><msup><mi>x</mi><msub><mi>y</mi><mi>z</mi></msub></msup></mrow><annotation encoding="application/x-tex">x^2,  x_1^2, x^{(n)}_{22}, ^{16}O^{2-}_{32}, x^{y^{z^a}}, x^{y_z}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.398288em;vertical-align:-0.266308em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.433692em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">2</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">n</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.266308em;"><span></span></span></span></span></span></span><span class="mpunct"><span class="mpunct">,</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">6</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4435610000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">2</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.256439em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.13198em;"><span style="top:-3.1319800000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.71898em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0271142857142856em;"><span style="top:-3.0271142857142856em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5961142857142856em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.83456em;"><span style="top:-2.904em;margin-right:0.1em;"><span class="pstrut" style="height:2.5em;"></span><span class="mord mathnormal mtight">a</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714392em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p>如果需要使用文字作为角标，首先要把文字放在\mbox{}文字模式中，另外要加上改变文字大小的命令</p><p>例如：<code>$\partial f_&#123;\mbox&#123;\tiny 极大值&#125;&#125;$</code><br>显示：<span class="katex-error" title="ParseError: KaTeX parse error: Undefined control sequence: \mbox at position 13: \partial f_{\̲m̲b̲o̲x̲{\tiny 极大值}}">\partial f_{\mbox{\tiny 极大值}}</span></p><p>当角标位置看起来不明显时，可以强制改变角标大小或层次，距离如下：<br><code>$y_N, y_&#123;_N&#125;$</code><br>显示为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mi>N</mi></msub><mo separator="true">,</mo><msub><mi>y</mi><msub><mrow></mrow><mi>N</mi></msub></msub></mrow><annotation encoding="application/x-tex">y_N, y_{_N}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.680865em;vertical-align:-0.250305em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.09136em;"><span style="top:-2.35em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3567071428571427em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.14329285714285717em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.250305em;"><span></span></span></span></span></span></span></span></span></span></p><p>第一种输出为正常输出，但输出效果不明显；</p><p>第二种是将一级角标改为二级角标，字体也自动变为二级角标字体</p></li></ul></li><li><p>分式</p><ul><li><p>分式命令：\frac{分子}{分母}</p></li><li><p>举例：</p><ul><li><p>行内分式<code>$\frac&#123;x+y&#125;&#123;y+z&#125;$</code>，显示为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>𝑥</mi><mo>+</mo><mi>𝑦</mi><mi>𝑦</mi><mo>+</mo><mi>𝑧</mi><mi>x</mi><mo>+</mo><mi>y</mi><mi>y</mi><mo>+</mo><mi>z</mi></mrow><annotation encoding="application/x-tex">𝑥+𝑦𝑦+𝑧x+yy+z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span></p></li><li><p>行间分式：<code>$\frac&#123;x+y&#125;&#123;y+z&#125;$</code>，显示为：</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>𝑥</mi><mo>+</mo><mi>𝑦</mi><mi>𝑦</mi><mo>+</mo><mi>𝑧</mi><mi>x</mi><mo>+</mo><mi>y</mi><mi>y</mi><mo>+</mo><mi>z</mi></mrow><annotation encoding="application/x-tex">𝑥+𝑦𝑦+𝑧x+yy+z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span></span></p></li></ul><p>上面的例子表明行内分式字体比行间字体小，因为行内分式使用的是角标字体，可以人工改变行内分式的字体大小。</p><p>例如：<code>$\displaystyle\frac&#123;x+y&#125;&#123;y+z&#125;$</code> 显示为</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>𝑥</mi><mo>+</mo><mi>𝑦</mi><mi>𝑦</mi><mo>+</mo><mi>𝑧</mi><mi>x</mi><mo>+</mo><mi>y</mi><mi>y</mi><mo>+</mo><mi>z</mi></mrow><annotation encoding="application/x-tex">𝑥+𝑦𝑦+𝑧x+yy+z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span></p><p>连分式：<code>$x_0+\frac&#123;1&#125;&#123;x_1+\frac&#123;1&#125;&#123;x_2+\frac&#123;1&#125;&#123;x_3+\frac&#123;1&#125;&#123;x_4&#125;&#125;&#125;&#125;$</code>，显示为</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>0</mn></msub><mo>+</mo><mfrac><mn>1</mn><mrow><msub><mi>x</mi><mn>1</mn></msub><mo>+</mo><mfrac><mn>1</mn><mrow><msub><mi>x</mi><mn>2</mn></msub><mo>+</mo><mfrac><mn>1</mn><mrow><msub><mi>x</mi><mn>3</mn></msub><mo>+</mo><mfrac><mn>1</mn><msub><mi>x</mi><mn>4</mn></msub></mfrac></mrow></mfrac></mrow></mfrac></mrow></mfrac></mrow><annotation encoding="application/x-tex">x_0+\frac{1}{x_1+\frac{1}{x_2+\frac{1}{x_3+\frac{1}{x_4}}}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.481588em;vertical-align:-1.63648em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.59898em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">+</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443142857142858em;"><span style="top:-2.4397571428571427em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.1em;"><span class="pstrut" style="height:2.64444em;"></span><span class="mord mtight">2</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29964em;"><span></span></span></span></span></span></span><span class="mbin mtight">+</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size1 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.03144em;"><span style="top:-2.1765000000000003em;"><span class="pstrut" style="height:3.03144em;"></span><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.1em;"><span class="pstrut" style="height:2.64444em;"></span><span class="mord mtight">3</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29964em;"><span></span></span></span></span></span></span><span class="mbin mtight">+</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size1 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.03144em;"><span style="top:-2.468em;"><span class="pstrut" style="height:3em;"></span><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.1em;"><span class="pstrut" style="height:2.64444em;"></span><span class="mord mtight">4</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29964em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.387em;"><span class="pstrut" style="height:3em;"></span><span class="mord mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.83164em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size1 size6"></span></span></span></span><span style="top:-3.25694em;"><span class="pstrut" style="height:3.03144em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.41844em;"><span class="pstrut" style="height:3.03144em;"></span><span class="mord mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.6865799999999997em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size1 size6"></span></span></span></span></span><span style="top:-3.2255000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.7649428571428571em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.63648em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p>可以通过强制改变字体大小使得分子分母字体大小一致，例如(注意,这里的@需要改成井号,写成@只是为了通过hexo编译,坑爹的hexo)：<br><code>$\newcommand&#123;\FS&#125;[2]&#123;\displaystyle\frac&#123;@1&#125;&#123;@2&#125;&#125;x0+\FS&#123;1&#125;&#123;X_1+\FS&#123;1&#125;&#123;X_2+\FS&#123;1&#125;&#123;X_3+\FS&#123;1&#125;&#123;X_4&#125;&#125;&#125;&#125;$</code></p><p>显示为</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>x</mi><mn>0</mn><mo>+</mo><mstyle scriptlevel="0" displaystyle="true"><mfrac><mrow><mi mathvariant="normal">@</mi><mn>1</mn></mrow><mrow><mi mathvariant="normal">@</mi><mn>2</mn></mrow></mfrac></mstyle></mrow><annotation encoding="application/x-tex">\newcommand{\FS}[2]{\displaystyle\frac{@1}{@2}}x0+\FS{1}{X_1+\FS{1}{X_2+\FS{1}{X_3+\FS{1}{X_4}}}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">x</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.05744em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">@</span><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">@</span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p></li></ul><p>其中第一行命令定义了一个新的分式命令，规定每个调用该命令的分式都按<code>\displaystyle</code>的格式显示分式；分数线长度值是预设为分子分母的最大长度，如果想要使分数线再长一点，可以在分子或分母两端添加一些间隔，例如<code>$\frac&#123;1&#125;&#123;2&#125;,\frac&#123;\;1\;&#125;&#123;\;2\;&#125;$</code>，显示为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac><mo separator="true">,</mo><mfrac><mrow><mtext>  </mtext><mn>1</mn><mtext>  </mtext></mrow><mrow><mtext>  </mtext><mn>2</mn><mtext>  </mtext></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{2},\frac{\;1\;}{\;2\;}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mspace mtight" style="margin-right:0.3252777777777778em;"></span><span class="mord mtight">2</span><span class="mspace mtight" style="margin-right:0.3252777777777778em;"></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mspace mtight" style="margin-right:0.3252777777777778em;"></span><span class="mord mtight">1</span><span class="mspace mtight" style="margin-right:0.3252777777777778em;"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> .其中第一个显示是正常的显示，第二个显示是分子分母前后都放入一个间隔命令;</p></li><li><p>根式</p><ul><li><p>二次根式命令：\sqrt{表达式}</p><p>如果表达式是个单个字符，则不需要花括号，但需要在字符和sqrt之间加入一个空格</p></li><li><p>n次根式命令：\sqrt[n]{表达式}</p><p>被开方表达式字符高度不一致时，根号上面的横线可能不是在同一条直线上；为了使横线在同一条直线上，可以在被开方表达式插入一个只有高度没有宽度的数学支柱\mathstut</p><p>例如：</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gams"><span class="hljs-symbol">$</span>\<span class="hljs-built_in">sqrt</span>&#123;a&#125;+\<span class="hljs-built_in">sqrt</span>&#123;b&#125;+\<span class="hljs-built_in">sqrt</span>&#123;c&#125;,\qquad \<span class="hljs-built_in">sqrt</span>&#123;\mathstrut a&#125;+\<span class="hljs-built_in">sqrt</span>&#123;\mathstrut b&#125;+\<span class="hljs-built_in">sqrt</span>&#123;\mathstrut c&#125;<span class="hljs-symbol">$</span><br></code></pre></td></tr></table></figure><p>显示为：</p><p><span class="katex-error" title="ParseError: KaTeX parse error: Undefined control sequence: \mathstrut at position 41: …},\qquad \sqrt{\̲m̲a̲t̲h̲s̲t̲r̲u̲t̲ ̲a}+\sqrt{\maths…">\sqrt{a}+\sqrt{b}+\sqrt{c},\qquad \sqrt{\mathstrut a}+\sqrt{\mathstrut b}+\sqrt{\mathstrut c}</span></p><p>当被开方表达式高时，开方次数的位置显得略低，解决方法为：将开方此时改为上标，并拉近与根式的水平距离，即显示将命令中的<code>[n]</code>改为<code>[^n\!]</code>,其中<code>^</code>表示是上标，<code>\!</code>表示缩小间隔,例如：</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gams"><span class="hljs-symbol">$</span>\<span class="hljs-built_in">sqrt</span>&#123;<span class="hljs-number">1</span>+\<span class="hljs-built_in">sqrt</span>[p]&#123;<span class="hljs-number">1</span>+\<span class="hljs-built_in">sqrt</span>[q]&#123;<span class="hljs-number">1</span>+a&#125;&#125;&#125;<span class="hljs-symbol">$</span><br></code></pre></td></tr></table></figure><p>显示为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mrow><mn>1</mn><mo>+</mo><mroot><mrow><mn>1</mn><mo>+</mo><mroot><mrow><mn>1</mn><mo>+</mo><mi>a</mi></mrow><mi>q</mi></mroot></mrow><mi>p</mi></mroot></mrow></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{1+\sqrt[p]{1+\sqrt[q]{1+a}}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.84em;vertical-align:-0.444445em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.395555em;"><span class="svg-align" style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord" style="padding-left:1em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord sqrt"><span class="root"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7079460000000001em;"><span style="top:-2.9926660000000003em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size6 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.030555em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord sqrt"><span class="root"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.629946em;"><span style="top:-2.914666em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size6 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span></span></span></span></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8655550000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">a</span></span></span><span style="top:-2.825555em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"><path d="M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.17444499999999996em;"><span></span></span></span></span></span></span></span><span style="top:-2.9905550000000005em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg width="400em" height="1.28em" viewbox="0 0 400000 1296" preserveaspectratio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067l0 -0c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60zM1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.20944499999999988em;"><span></span></span></span></span></span></span></span><span style="top:-3.355555em;"><span class="pstrut" style="height:3.8em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.8800000000000001em;"><svg width="400em" height="1.8800000000000001em" viewbox="0 0 400000 1944" preserveaspectratio="xMinYMin slice"><path d="M983 90l0 -0c4,-6.7,10,-10,18,-10 H400000v40H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5c53.7,-170.3,84.5,-266.8,92.5,-289.5zM1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.444445em;"><span></span></span></span></span></span></span></span></span></p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gams"><span class="hljs-symbol">$</span>\<span class="hljs-built_in">sqrt</span>&#123;<span class="hljs-number">1</span>+\<span class="hljs-built_in">sqrt</span>[^p\!]&#123;<span class="hljs-number">1</span>+\<span class="hljs-built_in">sqrt</span>[^q\!]&#123;<span class="hljs-number">1</span>+a&#125;&#125;&#125;<span class="hljs-symbol">$</span><br></code></pre></td></tr></table></figure><p>显示为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mrow><mn>1</mn><mo>+</mo><mroot><mrow><mn>1</mn><mo>+</mo><mroot><mrow><mn>1</mn><mo>+</mo><mi>a</mi></mrow><mrow><msup><mrow></mrow><mi>q</mi></msup><mtext> ⁣</mtext></mrow></mroot></mrow><mrow><msup><mrow></mrow><mi>p</mi></msup><mtext> ⁣</mtext></mrow></mroot></mrow></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{1+\sqrt[^p\!]{1+\sqrt[^q\!]{1+a}}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.84em;vertical-align:-0.444445em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.395555em;"><span class="svg-align" style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord" style="padding-left:1em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord sqrt"><span class="root"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9099460000000001em;"><span style="top:-2.9926660000000003em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size6 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.83456em;"><span style="top:-2.9040000000000004em;margin-right:0.1em;"><span class="pstrut" style="height:2.5em;"></span><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span><span class="mspace mtight" style="margin-right:-0.24533333333333335em;"></span></span></span></span></span></span></span></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.030555em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord sqrt"><span class="root"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8319460000000001em;"><span style="top:-2.914666em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size6 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.83456em;"><span style="top:-2.9040000000000004em;margin-right:0.1em;"><span class="pstrut" style="height:2.5em;"></span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span></span></span></span><span class="mspace mtight" style="margin-right:-0.24533333333333335em;"></span></span></span></span></span></span></span></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8655550000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">a</span></span></span><span style="top:-2.825555em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"><path d="M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.17444499999999996em;"><span></span></span></span></span></span></span></span><span style="top:-2.9905550000000005em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg width="400em" height="1.28em" viewbox="0 0 400000 1296" preserveaspectratio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067l0 -0c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60zM1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.20944499999999988em;"><span></span></span></span></span></span></span></span><span style="top:-3.355555em;"><span class="pstrut" style="height:3.8em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.8800000000000001em;"><svg width="400em" height="1.8800000000000001em" viewbox="0 0 400000 1944" preserveaspectratio="xMinYMin slice"><path d="M983 90l0 -0c4,-6.7,10,-10,18,-10 H400000v40H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5c53.7,-170.3,84.5,-266.8,92.5,-289.5zM1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.444445em;"><span></span></span></span></span></span></span></span></span></p><p>（注意比较两个根式开方次数的显示位置）</p></li></ul></li><li><p>求和与积分</p><p><strong>求和命令</strong>：<code>\sum_&#123;k=1&#125;^n</code>表达式（求和项紧随其后,下同）</p><p><strong>积分命令</strong>：<code>\int_a^b</code>表达式</p><p>例如：</p><p>无穷级数<code>$\sum_&#123;k=1&#125;^\infty\frac&#123;x^n&#125;&#123;n!&#125;$</code>显示为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi mathvariant="normal">∞</mi></msubsup><mfrac><msup><mi>x</mi><mi>n</mi></msup><mrow><mi>n</mi><mo stretchy="false">!</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">\sum_{k=1}^\infty\frac{x^n}{n!}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.25598em;vertical-align:-0.345em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.91098em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mclose mtight">!</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7385428571428572em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p>可以化为积分<code>$\int_0^\infty e^x$</code>显示为: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>∫</mo><mn>0</mn><mi mathvariant="normal">∞</mi></msubsup><msup><mi>e</mi><mi>x</mi></msup></mrow><annotation encoding="application/x-tex">\int_0^\infty e^x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.215112em;vertical-align:-0.35582em;"></span><span class="mop"><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8592920000000001em;"><span style="top:-2.34418em;margin-left:-0.19445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.2579000000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35582em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span></span></span></span></span></span></span></p><p>也即是<code>$∑∞0𝑥𝑛𝑛!=∫∞0𝑒𝑥∑0∞xnn!=∫0∞ex$</code>：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∑</mo><mi mathvariant="normal">∞</mi><mn>0</mn><mi>𝑥</mi><mi>𝑛</mi><mi>𝑛</mi><mo stretchy="false">!</mo><mo>=</mo><mo>∫</mo><mi mathvariant="normal">∞</mi><mn>0</mn><mi>𝑒</mi><mi>𝑥</mi><mo>∑</mo><mn>0</mn><mi mathvariant="normal">∞</mi><mi>x</mi><mi>n</mi><mi>n</mi><mo stretchy="false">!</mo><mo>=</mo><mo>∫</mo><mn>0</mn><mi mathvariant="normal">∞</mi><mi>e</mi><mi>x</mi></mrow><annotation encoding="application/x-tex">∑∞0𝑥𝑛𝑛!=∫∞0𝑒𝑥∑0∞xnn!=∫0∞ex</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∞</span><span class="mord">0</span><span class="mord mathnormal">x</span><span class="mord mathnormal">n</span><span class="mord mathnormal">n</span><span class="mclose">!</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.11112em;vertical-align:-0.30612em;"></span><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">∫</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∞</span><span class="mord">0</span><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">∞</span><span class="mord mathnormal">x</span><span class="mord mathnormal">n</span><span class="mord mathnormal">n</span><span class="mclose">!</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.11112em;vertical-align:-0.30612em;"></span><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">∫</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">∞</span><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span></span></span></span></p><p><strong>改变上下限位置的命令</strong>：<code>\limits</code>(强制上下限在上下侧) 和<code> \nolimits</code>(强制上下限在左右侧)</p><p>例如：</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gams"><span class="hljs-symbol">$</span>\<span class="hljs-keyword">sum</span>\limits_&#123;k=<span class="hljs-number">1</span>&#125;^n<span class="hljs-symbol">$</span> 和 <span class="hljs-symbol">$</span>\<span class="hljs-keyword">sum</span>\nolimits_&#123;k=<span class="hljs-number">1</span>&#125;^n<span class="hljs-symbol">$</span><br></code></pre></td></tr></table></figure><p>显示为： <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup></mrow><annotation encoding="application/x-tex">\sum\limits_{k=1}^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.35351em;vertical-align:-1.002113em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.351397em;"><span style="top:-2.097887em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.000005em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop op-symbol small-op">∑</span></span></span><span style="top:-3.950005em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.002113em;"><span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup></mrow><annotation encoding="application/x-tex">\sum\nolimits_{k=1}^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.104002em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span></span></span></span></p></li><li><p>下划线、上划线等</p><ul><li>上划线命令： \overline{公式}</li><li>下划线命令：\underline{公式}<ul><li>例如：<code>$\overline&#123;\overline&#123;a^2&#125;+\underline&#123;ab&#125;+\bar&#123;a&#125;^3&#125;$</code>显示为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mover accent="true"><msup><mi>a</mi><mn>2</mn></msup><mo stretchy="true">‾</mo></mover><mo>+</mo><munder accentunder="true"><mrow><mi>a</mi><mi>b</mi></mrow><mo stretchy="true">‾</mo></munder><mo>+</mo><msup><mover accent="true"><mi>a</mi><mo>ˉ</mo></mover><mn>3</mn></msup></mrow><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">\overline{\overline{a^2}+\underline{ab}+\bar{a}^3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3401080000000003em;vertical-align:-0.20000000000000007em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1401080000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.940108em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.860108em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-2.84em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="mord mathnormal">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.20000000000000007em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.56778em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span><span style="top:-4.060108em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.20000000000000007em;"><span></span></span></span></span></span></span></span></span></li></ul></li><li>上花括弧命令：\overbrace{公式}{说明}</li><li>下花括弧命令：\underbrace{公式}_{说明}<ul><li>例如：<code>$\underbrace&#123;a+\overbrace&#123;b+\dots+b&#125;^&#123;m\mbox&#123;\tiny 个&#125;&#125;&#125;_&#123;20\mbox&#123;\scriptsize 个&#125;&#125;$</code>显示为：<span class="katex-error" title="ParseError: KaTeX parse error: Undefined control sequence: \mbox at position 39: …e{b+\dots+b}^{m\̲m̲b̲o̲x̲{\tiny 个}}}_{20…">\underbrace{a+\overbrace{b+\dots+b}^{m\mbox{\tiny 个}}}_{20\mbox{\scriptsize 个}}</span></li></ul></li></ul></li><li><p>数学重音符号<br>以a为例，；如果字母i或j带有重音，字母i,y应该替换为\imath、\jmath<br><code>$$\hat&#123;a&#125;\check&#123;a&#125;\breve&#123;a&#125;\tilde&#123;a&#125;\bar&#123;a&#125;\vec&#123;a&#125;\acute&#123;a&#125;\grave&#123;a&#125;\mathring&#123;a&#125;\dot&#123;a&#125;\ddot&#123;a&#125;$$</code><br>显示结果为：</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mover accent="true"><mi>a</mi><mo>^</mo></mover><mover accent="true"><mi>a</mi><mo>ˇ</mo></mover><mover accent="true"><mi>a</mi><mo>˘</mo></mover><mover accent="true"><mi>a</mi><mo>~</mo></mover><mover accent="true"><mi>a</mi><mo>ˉ</mo></mover><mover accent="true"><mi>a</mi><mo>⃗</mo></mover><mover accent="true"><mi>a</mi><mo>ˊ</mo></mover><mover accent="true"><mi>a</mi><mo>ˋ</mo></mover><mover accent="true"><mi>a</mi><mo>˚</mo></mover><mover accent="true"><mi>a</mi><mo>˙</mo></mover><mover accent="true"><mi>a</mi><mo>¨</mo></mover></mrow><annotation encoding="application/x-tex">\hat{a}\check{a}\breve{a}\tilde{a}\bar{a}\vec{a}\acute{a}\grave{a}\mathring{a}\dot{a}\ddot{a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.714em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.62847em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˇ</span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">˘</span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6678599999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3.35em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">~</span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.56778em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewbox="0 0 471 714" preserveaspectratio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˊ</span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˋ</span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.375em;"><span class="mord">˚</span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.66786em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.13889em;"><span class="mord">˙</span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.66786em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">¨</span></span></span></span></span></span></span></span></span></span></span></p></li><li><p>堆积符号</p><ul><li><p><code>\stacrel&#123;上位符号&#125;&#123;基位符号&#125;</code> 基位符号大，上位符号小</p></li><li><p><code>&#123;上位公式\atop 下位公式&#125;</code> 上下符号一样大</p></li><li><p><code>&#123;上位公式\choose 下位公式&#125;</code> 上下符号一样大；上下符号被包括在圆弧内</p></li><li><p>例如：</p><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml">\vec</span><span class="hljs-template-variable">&#123;x&#125;</span><span class="language-xml">\stackrel</span><span class="hljs-template-variable">&#123;\mathrm&#123;def&#125;</span><span class="language-xml">&#125;</span><span class="hljs-template-variable">&#123;=&#125;</span><span class="hljs-template-variable">&#123;x_1,\dots,x_n&#125;</span><span class="language-xml">\\ </span><span class="hljs-template-variable">&#123;n+1 \choose k&#125;</span><span class="language-xml">=</span><span class="hljs-template-variable">&#123;n \choose k&#125;</span><span class="language-xml">+</span><span class="hljs-template-variable">&#123;n \choose k-1&#125;</span><span class="language-xml">\\ \sum_</span><span class="hljs-template-variable">&#123;k_0,k_1,\ldots&gt;0 \atop k_0+k_1+\cdots=n&#125;</span><span class="language-xml">A_</span><span class="hljs-template-variable">&#123;k_0&#125;</span><span class="language-xml">A_</span><span class="hljs-template-variable">&#123;k_1&#125;</span><span class="language-xml">\cdots</span><br></code></pre></td></tr></table></figure><p>显示效果为：</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mo><mover><mo><mo>=</mo></mo><mrow><mi mathvariant="normal">d</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">f</mi></mrow></mover></mo><mrow><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>x</mi><mi>n</mi></msub></mrow><mspace linebreak="newline"></mspace><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mi>k</mi></mfrac><mo fence="true">)</mo></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mi>n</mi><mi>k</mi></mfrac><mo fence="true">)</mo></mrow><mo>+</mo><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mi>n</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></mfrac><mo fence="true">)</mo></mrow><mspace linebreak="newline"></mspace><munder><mo>∑</mo><mfrac linethickness="0px"><mrow><msub><mi>k</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>k</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>…</mo><mo>&gt;</mo><mn>0</mn></mrow><mrow><msub><mi>k</mi><mn>0</mn></msub><mo>+</mo><msub><mi>k</mi><mn>1</mn></msub><mo>+</mo><mo>⋯</mo><mo>=</mo><mi>n</mi></mrow></mfrac></munder><msub><mi>A</mi><msub><mi>k</mi><mn>0</mn></msub></msub><msub><mi>A</mi><msub><mi>k</mi><mn>1</mn></msub></msub><mo>⋯</mo></mrow><annotation encoding="application/x-tex">\vec{x}\stackrel{\mathrm{def}}{=}{x_1,\dots,x_n}\\ {n+1 \choose k}={n \choose k}+{n \choose k-1}\\ \sum_{k_0,k_1,\ldots&gt;0 \atop k_0+k_1+\cdots=n}A_{k_0}A_{k_1}\cdots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.152978em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.20772em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewbox="0 0 471 714" preserveaspectratio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mop op-limits"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.152978em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">=</span></span></span><span style="top:-3.5668699999999998em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">d</span><span class="mord mathrm mtight">e</span><span class="mord mathrm mtight" style="margin-right:0.07778em;">f</span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:2.40003em;vertical-align:-0.95003em;"></span><span class="mord"><span class="mord"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.40003em;vertical-align:-0.95003em;"></span><span class="mord"><span class="mord"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1075599999999999em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.40003em;vertical-align:-0.95003em;"></span><span class="mord"><span class="mord"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.10756em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693300000000001em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:2.96299em;vertical-align:-1.912985em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.050005em;"><span style="top:-1.642355em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9880571428571429em;"><span style="top:-2.1349714285714283em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:-0.03148em;margin-right:0.1em;"><span class="pstrut" style="height:2.64444em;"></span><span class="mord mtight">0</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29964em;"><span></span></span></span></span></span></span><span class="mbin mtight">+</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:-0.03148em;margin-right:0.1em;"><span class="pstrut" style="height:2.64444em;"></span><span class="mord mtight">1</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29964em;"><span></span></span></span></span></span></span><span class="mbin mtight">+</span><span class="minner mtight">⋯</span><span class="mrel mtight">=</span><span class="mord mathnormal mtight">n</span></span></span></span><span style="top:-2.9920285714285715em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:-0.03148em;margin-right:0.1em;"><span class="pstrut" style="height:2.64444em;"></span><span class="mord mtight">0</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29964em;"><span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:-0.03148em;margin-right:0.1em;"><span class="pstrut" style="height:2.64444em;"></span><span class="mord mtight">1</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29964em;"><span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="minner mtight">…</span><span class="mrel mtight">&gt;</span><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5790571428571429em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.912985em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:-0.03148em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:-0.03148em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span></span></span></span></span></p></li></ul></li><li><p>定界符</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs latex"><span class="hljs-built_in">$</span><span class="hljs-built_in">$</span>（）<span class="hljs-keyword">\big</span>(<span class="hljs-keyword">\big</span>) <span class="hljs-keyword">\Big</span>(<span class="hljs-keyword">\Big</span>) <span class="hljs-keyword">\bigg</span>(<span class="hljs-keyword">\bigg</span>) <span class="hljs-keyword">\Bigg</span>(<span class="hljs-keyword">\Bigg</span>)<span class="hljs-keyword">\big</span>(<span class="hljs-keyword">\Big</span>) <span class="hljs-keyword">\bigg</span>(<span class="hljs-keyword">\Bigg</span>)<span class="hljs-built_in">$</span><span class="hljs-built_in">$</span><br></code></pre></td></tr></table></figure><p>显示结果为：</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>（）</mtext><mo fence="false">(</mo><mo fence="false">)</mo><mo fence="false">(</mo><mo fence="false">)</mo><mo fence="false">(</mo><mo fence="false">)</mo><mo fence="false">(</mo><mo fence="false">)</mo><mo fence="false">(</mo><mo fence="false">)</mo><mo fence="false">(</mo><mo fence="false">)</mo></mrow><annotation encoding="application/x-tex">（）\big(\big) \Big(\Big) \bigg(\bigg) \Bigg(\Bigg)\big(\Big) \bigg(\Bigg)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class="mord cjk_fallback">（</span><span class="mord cjk_fallback">）</span><span class="mord"><span class="delimsizing size1">(</span></span><span class="mord"><span class="delimsizing size1">)</span></span><span class="mord"><span class="delimsizing size2">(</span></span><span class="mord"><span class="delimsizing size2">)</span></span><span class="mord"><span class="delimsizing size3">(</span></span><span class="mord"><span class="delimsizing size3">)</span></span><span class="mord"><span class="delimsizing size4">(</span></span><span class="mord"><span class="delimsizing size4">)</span></span><span class="mord"><span class="delimsizing size1">(</span></span><span class="mord"><span class="delimsizing size2">)</span></span><span class="mord"><span class="delimsizing size3">(</span></span><span class="mord"><span class="delimsizing size4">)</span></span></span></span></span></span></p><p>自适应放大命令：\left 和\right，本命令放在左右定界符前，自动随着公式内容大小调整符号大小</p><p>例子：</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">(</mo><mi>𝑥</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>𝑥</mi><mi>𝑦</mi><mi>𝑧</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>x</mi><mi>y</mi><mi>z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(𝑥)(𝑥𝑦𝑧)(x)(xyz)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span></span></span></span></span></p></li><li><p>占位宽度</p><ul><li>两个quad空格 <code>a \qquad b</code> 两个m的宽度, 显示为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mspace width="2em"><mi>b</mi></mspace></mrow><annotation encoding="application/x-tex">a \qquad b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:2em;"></span><span class="mord mathnormal">b</span></span></span></span></li><li>quad空格 <code>a \quad b </code>一个m的宽度，显示为:  $a \quad b $</li><li>大空格 <code>a\ b 1/3m</code>宽度，显示为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mtext> </mtext><mi>b</mi><mn>1</mn><mi mathvariant="normal">/</mi><mn>3</mn><mi>m</mi></mrow><annotation encoding="application/x-tex">a\ b 1/3m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mspace"> </span><span class="mord mathnormal">b</span><span class="mord">1</span><span class="mord">/</span><span class="mord">3</span><span class="mord mathnormal">m</span></span></span></span></li><li>中等空格 <code>a\;b 2/7m</code>宽度，显示为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mtext>  </mtext><mi>b</mi><mn>2</mn><mi mathvariant="normal">/</mi><mn>7</mn><mi>m</mi></mrow><annotation encoding="application/x-tex">a\;b 2/7m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal">b</span><span class="mord">2</span><span class="mord">/</span><span class="mord">7</span><span class="mord mathnormal">m</span></span></span></span></li><li>小空格<code> a\,b 1/6m</code>宽度, 显示为：$ a,b 1/6m$</li><li>没有空格 <code>ab</code>, 显示为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi>b</mi></mrow><annotation encoding="application/x-tex">ab</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal">b</span></span></span></span></li><li>紧贴 <code>a\!b</code> 缩进1/6m宽度, 显示为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mtext> ⁣</mtext><mi>b</mi></mrow><annotation encoding="application/x-tex">a\!b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:-0.16666666666666666em;"></span><span class="mord mathnormal">b</span></span></span></span></li><li>\quad代表当前字体下接近字符‘M’的宽度</li></ul></li><li><p>集合相关的运算命令</p><p>集合的大括号： <code>\&#123; ...\&#125;</code>，显示为: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{ ...\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mclose">}</span></span></span></span><br>集合中的<code>|</code>： , 显示为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span></span></span></span></p><p>属于： <code>\in</code> 显示为： <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∈</mo></mrow><annotation encoding="application/x-tex">\in</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">∈</span></span></span></span><br>不属于： <code>\not\in</code> 显示为： <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∉</mo></mrow><annotation encoding="application/x-tex">\not\in</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">∈</span></span></span></span><br>A包含于B： <code>A\subset B</code>显示为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>⊂</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A\subset B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊂</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span><br>A真包含于B：<code>A \subsetneqq B</code> 显示为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>⫋</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A \subsetneqq B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.07864em;vertical-align:-0.28481em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">⫋</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span><br>A包含B：<code>A supset B</code> 显示为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>s</mi><mi>u</mi><mi>p</mi><mi>s</mi><mi>e</mi><mi>t</mi><mi>B</mi></mrow><annotation encoding="application/x-tex">A supset B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal">s</span><span class="mord mathnormal">u</span><span class="mord mathnormal">p</span><span class="mord mathnormal">s</span><span class="mord mathnormal">e</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span><br>A真包含B：<code>A \supsetneqq B</code> 显示为: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>⫌</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A \supsetneqq B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.07864em;vertical-align:-0.28481em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">⫌</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span><br>A不包含于B：<code>A \not \subset B</code> 显示为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>⊄</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A \not \subset B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">⊂</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span><br>A交B： <code>A \cap B</code> 显示为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>∩</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A \cap B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span><br>A并B：<code>A \cup B</code> 显示为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>∪</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A \cup B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span><br>A的闭包：<code>\overline&#123;A&#125;</code>显示为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>A</mi><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">\overline{A}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">A</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span><br>A减去B: <code>A\setminus B</code>显示为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>∖</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A\setminus B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∖</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span><br>实数集合： <code>\mathbb&#123;R&#125;</code> 显示为：$ <code>\mathbb&#123;R&#125;</code><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>空集：</mtext><mi mathvariant="normal">‘</mi><mi mathvariant="normal">∅</mi><mi mathvariant="normal">‘</mi><mtext>显示为：</mtext></mrow><annotation encoding="application/x-tex">空集：`\emptyset` 显示为：</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord cjk_fallback">空</span><span class="mord cjk_fallback">集</span><span class="mord cjk_fallback">：</span><span class="mord">‘</span><span class="mord">∅</span><span class="mord">‘</span><span class="mord cjk_fallback">显</span><span class="mord cjk_fallback">示</span><span class="mord cjk_fallback">为</span><span class="mord cjk_fallback">：</span></span></span></span>\emptyset$</p></li></ol>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>文档</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Scrapy2.7速通</title>
    <link href="/post/c4740d31.html"/>
    <url>/post/c4740d31.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>注意：据我观察，scrapy很多版本的文档都不大一样。在一些早期版本，有好心人将英文文档翻译成中文(大概率是机翻或者AI翻的)，而在最新版本中内容又不一样。因此建议参考的路径是 <a href="https://pypi.org/project/Scrapy/">pip官网scrapy主页</a>查看最新版本，并找到相关最新的文档。（不是说旧版文档不能用，每个文档都有差别容易，让人摸不着头脑）</p><h2 id="scrapy简单调用过程"><a class="markdownIt-Anchor" href="#scrapy简单调用过程"></a> scrapy简单调用过程</h2><p>爬虫通过向<code>start_urls</code>发送请求，调用默认的回调函数，并将相应对象作为参数传给它</p><p>在回调函数中，使用css选择器遍历元素，将寻找到的结果生成一个字典通过生成器返回，并找到下一个链接继续使用回调函数。</p><p><code>scrapy</code>的请求调度是异步的，<code>scrapy</code>无需等待上一个请求被处理完，可以同时发送另一个请求继续处理</p><h3 id="scrapy纯代码创建爬虫"><a class="markdownIt-Anchor" href="#scrapy纯代码创建爬虫"></a> Scrapy纯代码创建爬虫</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">class</span> <span class="hljs-title class_">QuotesSpider</span>(scrapy.Spider):  <span class="hljs-comment"># 自定义爬虫需要继承scrapy类</span><br>    <span class="hljs-comment"># 配置爬虫名字和初始URL，注意url是一个列表</span><br>    name = <span class="hljs-string">&#x27;quotes&#x27;</span><br>    start_urls = [<span class="hljs-string">&#x27;http://quotes.toscrape.com/tag/humor/&#x27;</span>,]<br>    <span class="hljs-comment"># 解析入口</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">parse</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span>, response</span>):<br>        <span class="hljs-comment"># 抓取所有class属性为quote的&lt;div&gt;，该&lt;div&gt;应该包含所需的text和auther</span><br>        <span class="hljs-keyword">for</span> quote <span class="hljs-keyword">in</span> response.css(<span class="hljs-string">&#x27;div.quote&#x27;</span>):<br>            <span class="hljs-keyword">yield</span> &#123;  <span class="hljs-comment"># 通过生成器返回</span><br>                <span class="hljs-comment"># 获取class属性为text的&lt;span&gt;的text内容，即句子内容</span><br>                <span class="hljs-string">&#x27;text&#x27;</span>: quote.css(<span class="hljs-string">&#x27;span.text::text&#x27;</span>).get(),<br>                <span class="hljs-comment"># 通过xpath方式获取 &lt;span&gt;下的&lt;small&gt;标签的文本内容，即作者</span><br>                <span class="hljs-string">&#x27;author&#x27;</span>: quote.xpath(<span class="hljs-string">&#x27;span/small/text()&#x27;</span>).get(),<br>            &#125;<br>        <span class="hljs-comment"># 获取下一页所在的链接</span><br>        next_page = response.css(<span class="hljs-string">&#x27;li.next a::attr(&quot;href&quot;)&#x27;</span>).get()<br>        <span class="hljs-keyword">if</span> next_page is <span class="hljs-keyword">not</span> <span class="hljs-symbol">None:</span><br>            <span class="hljs-keyword">yield</span> response.follow(next_page, <span class="hljs-variable language_">self</span>.parse)<br></code></pre></td></tr></table></figure><p>然后在终端使用下列命令运行该文件，如需设置字符集在后面加上<code>-s FEED_EXPORT_ENCODING='utf-8'</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">scrapy runspider spider1<span class="hljs-selector-class">.py</span> -o <span class="hljs-attribute">quotes</span><span class="hljs-selector-class">.json</span><br></code></pre></td></tr></table></figure><p>问题1：这是一个.py文件，应该可以通过纯代码的方式来运行，但目前位置没有看到相关的教程。</p><p>问题2：为什么要用<code>yield</code>而不用<code>return</code>：因为需要重复调用，<code>return</code>会直接退出函数。</p><h3 id="通过scrapy模板快速创建爬虫"><a class="markdownIt-Anchor" href="#通过scrapy模板快速创建爬虫"></a> 通过Scrapy模板快速创建爬虫</h3><h4 id="创建爬虫项目"><a class="markdownIt-Anchor" href="#创建爬虫项目"></a> 创建爬虫项目</h4><p>注意，在创建项目时，建议不要以某个单功能/网站爬虫来命名。一般以范围比较大的，例如电影爬虫、新闻爬虫等为名。因为一个项目下面允许创建多个爬虫，单个网站的爬虫就放在项目里面，通过模板命令来创建即可</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">scrapy startproject stockstar</span><br></code></pre></td></tr></table></figure><p>通过以上命令，将会创建一个名为<code>stockstar</code>的目录，目录结构如下：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202212151733479.png" alt></p><h4 id="按模板初始化爬虫"><a class="markdownIt-Anchor" href="#按模板初始化爬虫"></a> 按模板初始化爬虫</h4><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs applescript">cd stockstar <span class="hljs-comment"># 进入创建好的爬虫项目目录</span><br>scrapy genspider stock <span class="hljs-literal">quote</span>.stockstart.com<br><br>scrapy genspider ：初始化爬虫命令<br>stock : 爬虫名<br><span class="hljs-literal">quote</span>.stockstart.com ： 根域名<br></code></pre></td></tr></table></figure><p>创建爬虫初始URL和parse函数，在spider目录下创建一个<code>stock.py</code>文件，自动生成start_url和parse函数，爬虫的逻辑就在parse中编写。</p><h4 id="运行爬虫"><a class="markdownIt-Anchor" href="#运行爬虫"></a> 运行爬虫</h4><p>在根目录新建<code>main.py</code>，执行代码运行爬虫</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs stylus">from scrapy<span class="hljs-selector-class">.cmdline</span> import execute<br><br><span class="hljs-function"><span class="hljs-title">execute</span><span class="hljs-params">([<span class="hljs-string">&quot;scrapy&quot;</span>,<span class="hljs-string">&quot;crawl&quot;</span>,<span class="hljs-string">&quot;stock&quot;</span>,<span class="hljs-string">&quot;-o&quot;</span>,<span class="hljs-string">&quot;items.json&quot;</span>])</span></span><br>或:<br>cmdline<span class="hljs-selector-class">.execute</span>(<span class="hljs-string">&quot;scrapy crawl stock&quot;</span><span class="hljs-selector-class">.split</span>())<br></code></pre></td></tr></table></figure><p>这行代码等价于终端执行<code>scrapy crawl myspider -o items.json</code></p><p>如果需要生成其他格式，则执行<code>scrapy crawl myspider -o item.csv/item.xml</code>,如需导出时指定编码格式，则在后面添加<code>-s FEED_EXPORT_ENCODING=utf-8</code></p><h4 id="settingspy配置"><a class="markdownIt-Anchor" href="#settingspy配置"></a> settings.py配置</h4><figure class="highlight nim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs nim"><span class="hljs-type">ROBOTSTXT_OBEY</span> = <span class="hljs-type">False</span>         <span class="hljs-comment"># 是否遵守协议，项目创建完默认为Ture，建议为False</span><br><span class="hljs-type">CONCURRENT_REQUESTS</span> = <span class="hljs-number">32</span>  <span class="hljs-comment"># 最大并发量</span><br><span class="hljs-type">DOWNLOAD_DELAY</span> = <span class="hljs-number">3</span>        <span class="hljs-comment"># 下载延迟 3 秒</span><br><span class="hljs-type">DEFAULT_REQUEST_HEADERS</span> = <span class="hljs-meta">&#123;...&#125;</span>  <span class="hljs-comment"># 请求报头</span><br><span class="hljs-type">SPIDER_MIDDLEWARES</span> = <span class="hljs-meta">&#123;...&#125;</span>   <span class="hljs-comment"># 爬虫中间件</span><br><span class="hljs-type">DOWNLOADER_MIDDLEWARES</span> = <span class="hljs-meta">&#123;...&#125;</span>   <span class="hljs-comment"># 下载中间件</span><br><span class="hljs-type">ITEM_PIPELINES</span> = <span class="hljs-meta">&#123;...&#125;</span>   <span class="hljs-comment"># 管道</span><br></code></pre></td></tr></table></figure><h3 id="其他工具"><a class="markdownIt-Anchor" href="#其他工具"></a> 其他工具</h3><h4 id="scrapy-shell"><a class="markdownIt-Anchor" href="#scrapy-shell"></a> Scrapy Shell</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">scrapy shell http:<span class="hljs-regexp">//</span>xxxxxxxxx<br></code></pre></td></tr></table></figure><p>创建Scrapy Shell终端，Scrapy将对网页进行访问后返回response，在scrapy shell中可以<strong>随意使用选择器进行测试、选取</strong>，而不需要多次访问该网页，相当于将该网页的内容下载到本地供你测试使用。</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs routeros">response.css(<span class="hljs-string">&#x27;&#x27;</span>).<span class="hljs-built_in">get</span>()<br>response.xpath(<span class="hljs-string">&#x27;&#x27;</span>).<span class="hljs-built_in">get</span>()<br></code></pre></td></tr></table></figure><h4 id="scrapy-view"><a class="markdownIt-Anchor" href="#scrapy-view"></a> scrapy view</h4><p>通过<code>scrapy view http://xxxxxx.com</code>可以将spider可以爬取到的页面保存到本地或者浏览器打开，在保存到本地后，可以对其进行分析，无需手动对目标页面发请求</p><h4 id="scrapy-list"><a class="markdownIt-Anchor" href="#scrapy-list"></a> scrapy list</h4><p>在<strong>根目录</strong>执行<code>scrapy list</code>，可以查看当前项目中所有spider</p><h4 id="scrapy-settings"><a class="markdownIt-Anchor" href="#scrapy-settings"></a> scrapy settings</h4><p>格式：<code>scrapy setting --get BOT_NAME</code>获得设定值。</p><h2 id="选择器的使用"><a class="markdownIt-Anchor" href="#选择器的使用"></a> 选择器的使用</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">base</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&#x27;http://example.com/&#x27;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Example website<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&#x27;images&#x27;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&#x27;image1.html&#x27;</span>&gt;</span>Name: My image 1 <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&#x27;image1_thumb.jpg&#x27;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&#x27;image2.html&#x27;</span>&gt;</span>Name: My image 2 <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&#x27;image2_thumb.jpg&#x27;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&#x27;image3.html&#x27;</span>&gt;</span>Name: My image 3 <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&#x27;image3_thumb.jpg&#x27;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&#x27;image4.html&#x27;</span>&gt;</span>Name: My image 4 <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&#x27;image4_thumb.jpg&#x27;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&#x27;image5.html&#x27;</span>&gt;</span>Name: My image 5 <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&#x27;image5_thumb.jpg&#x27;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;hero shout&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">time</span> <span class="hljs-attr">datetime</span>=<span class="hljs-string">&quot;2014-07-23 19:00&quot;</span>&gt;</span>Special date<span class="hljs-tag">&lt;/<span class="hljs-name">time</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p>针对上方的HTML结构，不同的选择器有不同的写法。</p><h3 id="xpath选择器"><a class="markdownIt-Anchor" href="#xpath选择器"></a> Xpath选择器</h3><h4 id="基本用法"><a class="markdownIt-Anchor" href="#基本用法"></a> 基本用法</h4><p>格式:<code> response.selector.xpath('//span/text()').get()</code></p><p>获取文本：<code>/text()</code></p><p>获取属性：<code>/@href</code></p><p>过滤标签：</p><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">response.xpath(&#x27;//a[contains(<span class="hljs-meta">@href,</span> <span class="hljs-string">&quot;image&quot;</span>)]/<span class="hljs-meta">@href&#x27;).getall()</span><br></code></pre></td></tr></table></figure><p>即：选择<code>href</code>属性的值包含<code>image</code>的<code>&lt;a&gt;</code>,输出其<code>href</code>值</p><h3 id="css选择器"><a class="markdownIt-Anchor" href="#css选择器"></a> CSS选择器</h3><h4 id="基本用法-2"><a class="markdownIt-Anchor" href="#基本用法-2"></a> 基本用法</h4><p>格式：response.selector.css(‘span::text’).get()</p><p>获取文本：<code>::text </code>或 <code>*::text</code> , 后者用于选择某节点下所有文本</p><p>获取属性：<code>::attr(&quot;href&quot;) </code>或者 <code>.attrib['href']</code> , 后者一般用于在唯一元素中使用，因此无需在用get()</p><p>过滤标签:</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">response<span class="hljs-selector-class">.css</span>(<span class="hljs-string">&#x27;a[href*=image]::attr(href)&#x27;</span>)<span class="hljs-selector-class">.getall</span>() <br></code></pre></td></tr></table></figure><p>即：选择<code>href</code>属性的值包含<code>image</code>的<code>&lt;a&gt;</code>,输出其<code>href</code>值</p><p>补充：</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs arduino">id选择器: <span class="hljs-string">&#x27;#&#x27;</span>, 如<span class="hljs-meta">#tag 代表id为tag的元素</span><br>类选择器: <span class="hljs-string">&#x27;.&#x27;</span>, 如span.text代表<span class="hljs-keyword">class</span>值为text的span<br></code></pre></td></tr></table></figure><h3 id="选择器的其他用法"><a class="markdownIt-Anchor" href="#选择器的其他用法"></a> 选择器的其他用法</h3><h4 id="选择器列表"><a class="markdownIt-Anchor" href="#选择器列表"></a> 选择器列表</h4><p>选择器为所选取的标签构建一个选择器列表SelectorList:</p><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs scheme">[<span class="hljs-name">&lt;Selector</span> xpath=<span class="hljs-symbol">&#x27;//title/text</span>()&#x27; data=<span class="hljs-symbol">&#x27;Example</span> website<span class="hljs-symbol">&#x27;&gt;</span>]<br></code></pre></td></tr></table></figure><p>返回的是一个列表，因此需要使用<code>get()</code>或<code>getall()</code>来提取文本</p><p>当未匹配时返回<code>None</code>，可设置默认返回值: <code>xxx.get(default='not-found')</code></p><h4 id="选择器正则"><a class="markdownIt-Anchor" href="#选择器正则"></a> 选择器+正则</h4><p>xpath和css选择器都支持使用正则表达式提取方法，<code>selector.re()</code>将返回unicode字符串列表</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">response.css(<span class="hljs-string">&#x27;a::text&#x27;</span>).re(<span class="hljs-string">r&#x27;\d&#x27;</span>)<br></code></pre></td></tr></table></figure><h4 id="选择器连接"><a class="markdownIt-Anchor" href="#选择器连接"></a> 选择器连接</h4><p>单纯的某种选择器可能不太方便使用，scrapy选择器允许在合适的地方联合使用css和xpath</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs applescript"><span class="hljs-keyword">from</span> scrapy import Selector<br><br>sel = Selector(<span class="hljs-built_in">text</span>=&#x27;&lt;<span class="hljs-keyword">div</span> <span class="hljs-built_in">class</span>=<span class="hljs-string">&quot;hero shout&quot;</span>&gt;&lt;<span class="hljs-built_in">time</span> datetime=<span class="hljs-string">&quot;2014-07-23 19:00&quot;</span>&gt;Special <span class="hljs-built_in">date</span>&lt;/<span class="hljs-built_in">time</span>&gt;&lt;/<span class="hljs-keyword">div</span>&gt;&#x27;)<br><br>sel.css(&#x27;.shout&#x27;).xpath(./<span class="hljs-built_in">time</span>/@datatime).getall()<br></code></pre></td></tr></table></figure><h4 id="嵌套选择器"><a class="markdownIt-Anchor" href="#嵌套选择器"></a> 嵌套选择器</h4><p>两种选择器都返回的列表是相同的，既然是列表就可以用于迭代，在迭代过程中，每个元素都可以再次使用选择器来匹配元素</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">links = response.xpath(<span class="hljs-string">&#x27;//a[contains(@href, &quot;image&quot;)]&#x27;</span>)<br><br><span class="hljs-keyword">for</span> index, link <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(links):<br>args = (index, link.xpath(<span class="hljs-string">&#x27;@href&#x27;</span>).get(), link.xpath(<span class="hljs-string">&#x27;img/@src&#x27;</span>).get())<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Link number %d points to url %r and image %r&#x27;</span> % args)<br></code></pre></td></tr></table></figure><p>如果在内部使用的选择器是xpath，需要注意路径问题：</p><p>如果使用相对路径，则需要这样用 ‘.//xx’ 或者 直接选择所需元素，因为外部的选择器已经是根路径</p><h4 id="带括号的条件"><a class="markdownIt-Anchor" href="#带括号的条件"></a> 带括号的条件</h4><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">&lt;ul <span class="hljs-keyword">class</span>=&quot;<span class="hljs-symbol">list</span>&quot;&gt;<br>    &lt;<span class="hljs-symbol">li</span>&gt;<span class="hljs-symbol">1</span>&lt;/<span class="hljs-symbol">li</span>&gt;<br>    &lt;<span class="hljs-symbol">li</span>&gt;<span class="hljs-symbol">2</span>&lt;/<span class="hljs-symbol">li</span>&gt;<br>    &lt;<span class="hljs-symbol">li</span>&gt;<span class="hljs-symbol">3</span>&lt;/<span class="hljs-symbol">li</span>&gt;<br>&lt;/<span class="hljs-symbol">ul</span>&gt;<br>&lt;<span class="hljs-symbol">ul</span> <span class="hljs-symbol">class</span>=&quot;<span class="hljs-symbol">list</span>&quot;&gt;<br>    &lt;<span class="hljs-symbol">li</span>&gt;<span class="hljs-symbol">4</span>&lt;/<span class="hljs-symbol">li</span>&gt;<br>    &lt;<span class="hljs-symbol">li</span>&gt;<span class="hljs-symbol">5</span>&lt;/<span class="hljs-symbol">li</span>&gt;<br>    &lt;<span class="hljs-symbol">li</span>&gt;<span class="hljs-symbol">6</span>&lt;/<span class="hljs-symbol">li</span>&gt;<br>&lt;/<span class="hljs-symbol">ul</span>&gt;<br><br>&#x27;//<span class="hljs-symbol">li</span>[<span class="hljs-symbol">1</span>]&#x27;   : [&#x27;&lt;<span class="hljs-symbol">li</span>&gt;<span class="hljs-symbol">1</span>&lt;/<span class="hljs-symbol">li</span>&gt;&#x27;, &#x27;&lt;<span class="hljs-symbol">li</span>&gt;<span class="hljs-symbol">4</span>&lt;/<span class="hljs-symbol">li</span>&gt;&#x27;]<br>&#x27;(//<span class="hljs-symbol">li</span>)[<span class="hljs-symbol">1</span>]&#x27; : [&#x27;&lt;<span class="hljs-symbol">li</span>&gt;<span class="hljs-symbol">1</span>&lt;/<span class="hljs-symbol">li</span>&gt;&#x27;]<br></code></pre></td></tr></table></figure><ul><li><p>带着括号的(node)相当于获取所有符合元素的列表的第[n]个</p></li><li><p>不带括号时对整个response进行筛选，只要符合就取出</p></li></ul><p>例如上面的例子：</p><p><code>'//li[1]'</code>可以匹配到2个<code>&lt;ul&gt;</code>下的<code>&lt;li&gt;</code>, 因为他们都表示<code>li</code>的第一个</p><p>而<code>'(//li)[1]'</code>则匹配整个文档中<code>li[1]</code>，因为加了括号后整个文档的<code>li</code>是一个整体，只取这个整体里的第一个。</p><p>除了自带的选择器，Python还有其他库也可以进行解析：</p><ol><li><p>beautifulSoup，根据HTML构造Python对象，缺点是速度慢</p></li><li><p>lxml，可解析xml和HTML，非python标准库</p></li></ol><h3 id="选择器语法大全"><a class="markdownIt-Anchor" href="#选择器语法大全"></a> 选择器语法大全</h3><h4 id="css选择器-2"><a class="markdownIt-Anchor" href="#css选择器-2"></a> CSS选择器</h4><table><thead><tr><th style="text-align:center">表达式</th><th style="text-align:center">说明</th></tr></thead><tbody><tr><td style="text-align:center">*</td><td style="text-align:center">所有节点</td></tr><tr><td style="text-align:center">#ElementId</td><td style="text-align:center">ID为ElementId的节点</td></tr><tr><td style="text-align:center">.clsName</td><td style="text-align:center">class为clsName的节点</td></tr><tr><td style="text-align:center">li a</td><td style="text-align:center">li元素下所有a元素</td></tr><tr><td style="text-align:center">ul + p</td><td style="text-align:center">ul下第一个P元素</td></tr><tr><td style="text-align:center">div#eId &gt; ul</td><td style="text-align:center">id为eId的元素下所有ul元素</td></tr><tr><td style="text-align:center">div.clsName</td><td style="text-align:center">clsss为clsName的div元素</td></tr><tr><td style="text-align:center">ul ~ p</td><td style="text-align:center">与ul相邻的所有p元素</td></tr><tr><td style="text-align:center">a[title]</td><td style="text-align:center">所有有tittle属性的a元素</td></tr><tr><td style="text-align:center">a[href=“<a href="http://www.baidu.com/">http://www.baidu.com</a>”]</td><td style="text-align:center">所有href为指定值的a元素</td></tr><tr><td style="text-align:center">a[href*=“job”]</td><td style="text-align:center">所有href属性包含指定值的a元素</td></tr><tr><td style="text-align:center">a[href^=“http”]</td><td style="text-align:center">所有href属性值以指定值开头的a元素</td></tr><tr><td style="text-align:center">a[href$=“.jpg”]</td><td style="text-align:center">素有href属性值以指定值结尾的a元素</td></tr><tr><td style="text-align:center">input[type=radio]:checked</td><td style="text-align:center">状态为选中的radio元素</td></tr><tr><td style="text-align:center">div:not(#eleId)</td><td style="text-align:center">所有id不是指定值的div元素</td></tr><tr><td style="text-align:center">li:nth-child(3)</td><td style="text-align:center">第三个li元素</td></tr><tr><td style="text-align:center">tr:nth-child(2n)</td><td style="text-align:center">第偶数个 tr 元素</td></tr><tr><td style="text-align:center">以下选择器未尝试过</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">div,p</td><td style="text-align:center">选择所有 <div> 元素和所有 <p> 元素</p></div></td></tr><tr><td style="text-align:center">div&gt;p</td><td style="text-align:center">选择父元素为 <div> 元素的所有 <p> 元素</p></div></td></tr><tr><td style="text-align:center">[title~=flower]</td><td style="text-align:center">选择 title 属性包含单词 “flower” 的所有元素</td></tr><tr><td style="text-align:center">p:first-child</td><td style="text-align:center">选择属于父元素的第一个子元素的每个 <p> 元素</p></td></tr></tbody></table><h4 id="xpath语法大全"><a class="markdownIt-Anchor" href="#xpath语法大全"></a> Xpath语法大全</h4><table><thead><tr><th style="text-align:center">表达式</th><th style="text-align:center">说明</th></tr></thead><tbody><tr><td style="text-align:center">div</td><td style="text-align:center">选取所有div元素的所有子元素</td></tr><tr><td style="text-align:center">/div</td><td style="text-align:center">选取根元素div</td></tr><tr><td style="text-align:center">div/a</td><td style="text-align:center">素有属于div的子元素的a元素</td></tr><tr><td style="text-align:center">//div</td><td style="text-align:center">所有div元素</td></tr><tr><td style="text-align:center">div//span</td><td style="text-align:center">所有属于div元素的后代span元素，无论在那个层级</td></tr><tr><td style="text-align:center">//@class</td><td style="text-align:center">选取所有名为class的属性</td></tr><tr><td style="text-align:center">/div/p[1]</td><td style="text-align:center">属于div子元素的第一个p元素</td></tr><tr><td style="text-align:center">/div/p[last()]</td><td style="text-align:center">属于div子元素的最后一个p元素</td></tr><tr><td style="text-align:center">/div/p[last()-1]</td><td style="text-align:center">属于div子元素的倒数第二个p元素</td></tr><tr><td style="text-align:center">/div[@lang]</td><td style="text-align:center">所有有lang属性的div元素</td></tr><tr><td style="text-align:center">//div[@lang=‘eng’]</td><td style="text-align:center">所有lang属性为eng的div元素</td></tr><tr><td style="text-align:center">.//header//span[contains(@class,‘main-title-rating’)]/@title</td><td style="text-align:center">.符号表示当前路径，一般在循环中使用；contains中表示class中包含指定值元素，@title是取元素的title属性</td></tr><tr><td style="text-align:center">*</td><td style="text-align:center">匹配任意元素</td></tr><tr><td style="text-align:center">@*</td><td style="text-align:center">匹配任意属性的元素</td></tr><tr><td style="text-align:center">node()</td><td style="text-align:center">匹配任意类型的元素</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>互联网冲浪膜法:Magnet磁链与ed2k</title>
    <link href="/post/10023a0a.html"/>
    <url>/post/10023a0a.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><h2 id="magnet磁链"><a class="markdownIt-Anchor" href="#magnet磁链"></a> Magnet磁链</h2><p>磁力链接是对等网络中进行信息检索和下载文档的程序。和基于位置连接的统一资源定位符不同，磁力链接是基于元数据文件内容，也就是说，磁力链接不基于文件的IP地址和定位符，不依赖一个处于启<br>动状态的主机就可以下载。</p><p><strong>BitTorrent协议下载的特点</strong></p><p>下载的人越多，提供的带宽也就越多，下载速度越快。拥有完整文件的用户也会越来越多，使得文件“寿命不断延长”，即“热门资源”</p><h3 id="磁力链接参数规则"><a class="markdownIt-Anchor" href="#磁力链接参数规则"></a> 磁力链接参数规则</h3><p>磁力链接由一组参数构成，以协议头magnet开头，参数顺序无顺序规则，常用的规则如下：</p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs inform7">magnet:? xl = <span class="hljs-comment">[字节大小]</span>&amp; dn = <span class="hljs-comment">[文件名（已编码URL）]</span>&amp; xt = urn: tree: tiger: <span class="hljs-comment">[ TTH hash(Base32) ]</span><br><br>INFORM7<br></code></pre></td></tr></table></figure><h3 id="种子发布"><a class="markdownIt-Anchor" href="#种子发布"></a> 种子发布</h3><p>发布者根据需要发布的文件生成一个.torrent文件，也就是种子文件，它本质上就是一个文本文件，包含了如下内容：</p><ul><li>Tracker信息：存储BT下载中需要用到的Tracker服务器地址和针对Tracker服务器的设置</li><li>文件信息：将需发布的文件分成大小相等的虚拟块，把每个块的索引信息和Hash验证码写入文件信息<br>因此，种子文件就是被下载文件的索引</li></ul><h3 id="种子下载"><a class="markdownIt-Anchor" href="#种子下载"></a> 种子下载</h3><p>首先拿到相应的种子文件（或磁力链接），使用BT客户端进行下载。BT客户端先解析种子文件得到Tracker地址，再连接Tracker服务器，Tracker服务器回应下载请求，提供下载者和其他下载者的IP（也&gt;包括发布者），下载者再连接其他下载者（基于DHT网络，请看下方解释）。根据种子文件中的文件信息，两者分别告知对方自己已经有的块，然后交换对方所没有的数据。下载者每得到一个块，就计算&gt;块的Hash验证码与种子文件中对比，一样则块正确，不一样则需要重新下载这个块。</p><p><strong>DHT网络</strong>：Distributed Hash Table，分布式哈希表。是一种分布式存储方式。DHT网络是Tracker-less的，不依赖于其他Tracker服务器。每个客户端负责一个小范围的路由，并负责存储一小部分数&gt;据，实现整个DHT网络的寻址和存储。使用支持该技术的BT下载软件，用户无需连接Tracker就可以下载，软件会在DHT网络中寻找下载同一文件的其他用户并与之通信，从而下载文件。</p><p><em>热知识：一般来说，BT工具下载到最后都会停顿一会儿。大概率是在校验已下载的资源是否正确，一般不会很久。但国内有些应用在下载到99.99%时卡住，多半是平台在拿你的上行带宽给其他VIP用户提<br>供下载。</em></p><h3 id="关于磁力链接和种子"><a class="markdownIt-Anchor" href="#关于磁力链接和种子"></a> 关于磁力链接和种子</h3><p>磁力链接是基于文件内容的Hash值来链接文件，生成唯一文件识别符，在DHT网络中定位下载文件的。实际上还是通过种子来进一步下载，但由于现在对种子封锁严重，传播种子容易被和谐，作为文本的&gt;磁链更易于传播</p><ul><li>种子：稳定性高，信息多，不利于传播</li><li>磁链：不稳定，仍需获得种子，但便于扩散</li></ul><p>种子与磁链是可以互相转换的，详情Google。在Python中，libtorrent库也封装了BT相关的内容</p><hr><h3 id="magnet磁链案例"><a class="markdownIt-Anchor" href="#magnet磁链案例"></a> Magnet磁链案例</h3><h4 id="完整磁力链接"><a class="markdownIt-Anchor" href="#完整磁力链接"></a> 完整磁力链接</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk">magnet:?xt=urn:btih:<span class="hljs-number">1852322</span>df25b7117f8d2a11d46d032418e584a71&amp;dn=[www.domp4.cc]教父<span class="hljs-number">3.1990</span>.BD1080p.中文字幕.<span class="hljs-number">170</span>分钟版.mp4&amp;tr=https:<span class="hljs-regexp">//</span>tracker.iriseden.fr:<span class="hljs-number">443</span><span class="hljs-regexp">/announce&amp;tr=https:/</span><span class="hljs-regexp">/tr.highstar.shop:443/</span>announce&amp;tr=https:<span class="hljs-regexp">//</span>tr.fuckbitcoin.xyz:<span class="hljs-number">443</span><span class="hljs-regexp">/announce&amp;tr=https:/</span><span class="hljs-regexp">/tr.doogh.club:443/</span>announce&amp;tr=https:<span class="hljs-regexp">//</span>tr.burnabyhighstar.com:<span class="hljs-number">443</span><span class="hljs-regexp">/announce&amp;tr=https:/</span><span class="hljs-regexp">/t.btcland.xyz:443/</span>announce&amp;tr=http:<span class="hljs-regexp">//</span>vps02.net.orel.ru:<span class="hljs-number">80</span><span class="hljs-regexp">/announce&amp;tr=https:/</span><span class="hljs-regexp">/tracker.kuroy.me:443/</span>announce&amp;tr=http:<span class="hljs-regexp">//</span>tr.cili001.com:<span class="hljs-number">8070</span><span class="hljs-regexp">/announce&amp;tr=http:/</span><span class="hljs-regexp">/t.overflow.biz:6969/</span>announce&amp;tr=http:<span class="hljs-regexp">//</span>t.nyaatracker.com:<span class="hljs-number">80</span><span class="hljs-regexp">/announce&amp;tr=http:/</span><span class="hljs-regexp">/open.acgnxtracker.com:80/</span>announce&amp;tr=http:<span class="hljs-regexp">//</span>nyaa.tracker.wf:<span class="hljs-number">7777</span><span class="hljs-regexp">/announce&amp;tr=http:/</span><span class="hljs-regexp">/home.yxgz.vip:6969/</span>announce&amp;tr=http:<span class="hljs-regexp">//</span>buny.uk:<span class="hljs-number">6969</span><span class="hljs-regexp">/announce&amp;tr=https:/</span><span class="hljs-regexp">/tracker.tamersunion.org:443/</span>announce&amp;tr=https:<span class="hljs-regexp">//</span>tracker.nanoha.org:<span class="hljs-number">443</span><span class="hljs-regexp">/announce&amp;tr=https:/</span><span class="hljs-regexp">/tracker.loligirl.cn:443/</span>announce&amp;tr=udp:<span class="hljs-regexp">//</span>bubu.mapfactor.com:<span class="hljs-number">6969</span><span class="hljs-regexp">/announce&amp;tr=http:/</span><span class="hljs-regexp">/share.camoe.cn:8080/</span>announce&amp;tr=udp:<span class="hljs-regexp">//m</span>ovies.zsw.ca:<span class="hljs-number">6969</span><span class="hljs-regexp">/announce&amp;tr=udp:/</span><span class="hljs-regexp">/ipv4.tracker.harry.lu:80/</span>announce&amp;tr=udp:<span class="hljs-regexp">//</span>tracker.sylphix.com:<span class="hljs-number">6969</span><span class="hljs-regexp">/announce&amp;tr=http:/</span><span class="hljs-regexp">/95.216.22.207:9001/</span>announce<br><br>AWK<br></code></pre></td></tr></table></figure><h4 id="必要参数"><a class="markdownIt-Anchor" href="#必要参数"></a> 必要参数</h4><p><strong>磁链原文（切分，前半段）</strong>：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs routeros">magnet:?<span class="hljs-attribute">xt</span>=urn:btih:1852322df25b7117f8d2a11d46d032418e584a71<br><br>ROUTEROS<br></code></pre></td></tr></table></figure><ul><li><strong>magnet</strong>: 协议名</li><li><strong>xt</strong>: eXact Topic，资源定位点</li><li><strong>urn</strong>: Uniform Resource Name，统一资源定位符</li><li><strong>btih</strong>: BitTorrent info hash，哈希值(哈希方法名)，可以使用SHA1、MD5等，是必备参数</li></ul><h4 id="可选参数"><a class="markdownIt-Anchor" href="#可选参数"></a> 可选参数</h4><p>一般来说，一个磁力链接拥有上面的参数即可找到资源，其他可选参数如下：</p><ul><li>dn: display name，向用户显示的文件名</li><li>tr: tracker，表示tracker服务器地址的地址</li><li>kt: 关键字，更笼统的搜索，置顶搜索关键字而不是特定文件</li><li>mt: 文件列表，链接到一个包含磁力链接的源文件</li></ul><p><strong>磁链原文（切分，后半段）</strong>：</p><p>可以看到基本都是tracker服务器地址</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs bash">&amp;dn=[www.domp4.cc]教父3.1990.BD1080p.中文字幕.170分钟版.mp4<br>&amp;<span class="hljs-built_in">tr</span>=https://tracker.iriseden.fr:443/announce<br>&amp;<span class="hljs-built_in">tr</span>=https://tr.highstar.shop:443/announce<br>&amp;<span class="hljs-built_in">tr</span>=https://tr.fuckbitcoin.xyz:443/announce<br>&amp;<span class="hljs-built_in">tr</span>=https://tr.doogh.club:443/announce<br>&amp;<span class="hljs-built_in">tr</span>=https://tr.burnabyhighstar.com:443/announce<br>&amp;<span class="hljs-built_in">tr</span>=https://t.btcland.xyz:443/announce<br>&amp;<span class="hljs-built_in">tr</span>=http://vps02.net.orel.ru:80/announce<br>&amp;<span class="hljs-built_in">tr</span>=https://tracker.kuroy.me:443/announce<br>&amp;<span class="hljs-built_in">tr</span>=http://tr.cili001.com:8070/announce<br>&amp;<span class="hljs-built_in">tr</span>=http://t.overflow.biz:6969/announce<br>&amp;<span class="hljs-built_in">tr</span>=http://t.nyaatracker.com:80/announce<br>&amp;<span class="hljs-built_in">tr</span>=http://open.acgnxtracker.com:80/announce<br>&amp;<span class="hljs-built_in">tr</span>=http://nyaa.tracker.wf:7777/announce<br>&amp;<span class="hljs-built_in">tr</span>=http://home.yxgz.vip:6969/announce<br>&amp;<span class="hljs-built_in">tr</span>=http://buny.uk:6969/announce<br>&amp;<span class="hljs-built_in">tr</span>=https://tracker.tamersunion.org:443/announce<br>&amp;<span class="hljs-built_in">tr</span>=https://tracker.nanoha.org:443/announce<br>&amp;<span class="hljs-built_in">tr</span>=https://tracker.loligirl.cn:443/announce<br>&amp;<span class="hljs-built_in">tr</span>=udp://bubu.mapfactor.com:6969/announce<br>&amp;<span class="hljs-built_in">tr</span>=http://share.camoe.cn:8080/announce<br>&amp;<span class="hljs-built_in">tr</span>=udp://movies.zsw.ca:6969/announce<br>&amp;<span class="hljs-built_in">tr</span>=udp://ipv4.tracker.harry.lu:80/announce<br>&amp;<span class="hljs-built_in">tr</span>=udp://tracker.sylphix.com:6969/announce<br>&amp;<span class="hljs-built_in">tr</span>=http://95.216.22.207:9001/announce<br><br>BASH<br></code></pre></td></tr></table></figure><h2 id="ed2k链接"><a class="markdownIt-Anchor" href="#ed2k链接"></a> eD2k链接</h2><p>wD2k链接是指示在eDonkey网络上存储的文件，eDonkey是分布式、基于服务器的P2P文件分享网络。与magnet类似，但magnet使用的算法不仅限于ed2kHash。ed2k链接同样可以通过迅雷等App下载到资源，ed2k链接在国内俗称电驴。</p><h3 id="ed2k链接格式"><a class="markdownIt-Anchor" href="#ed2k链接格式"></a> eD2k链接格式</h3><p>ed2k://|类型|其他信息|/<br><strong>ed2k://</strong>：协议名，注明该协议是ed2k协议<br><strong>类型</strong>：链接类型，三种链接类型分别是：file(文件)、server(服务器)、serverlist(服务器列表)<br><strong>其他信息</strong>：具体的其他信息，例如文件名、文件大小、文件哈希、IP地址端口等，如存在多个则使用|分开</p><h3 id="ed2k链接格式-2"><a class="markdownIt-Anchor" href="#ed2k链接格式-2"></a> eD2k链接格式</h3><p><strong>典型的</strong>、<strong>基础的</strong>ed2k文件链接需要包含三样信息：</p><p><strong>文件名</strong></p><p><strong>文件大小(单位字节)</strong></p><p><strong>文件的ed2kHash值(MD4算法的变体)</strong></p><p>例如：</p><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">ed2k://|<span class="hljs-string">类型</span>|<span class="hljs-string">文件名</span>|<span class="hljs-string">文件大小</span>|<span class="hljs-string">ed2kHash</span>|<span class="hljs-string">/</span><br><span class="hljs-string">ed2k://</span>|<span class="hljs-string">file</span>|<span class="hljs-string">eMule0.49c.zip</span>|<span class="hljs-string">2868871</span>|<span class="hljs-string">0F88EEFA9D8AD3F43DABAC9982D2450C</span>|<span class="hljs-string">/</span><br><span class="hljs-string"></span><br><span class="hljs-string">GHERKIN</span><br></code></pre></td></tr></table></figure><p>有的ed2k链接<strong>包含了一或多个来源的IP端口</strong>，例如</p><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">ed2k://|<span class="hljs-string">file</span>|<span class="hljs-string">&lt;文件名&gt;</span>|<span class="hljs-string">&lt;文件大小&gt;</span>|<span class="hljs-string">&lt;文件Hash&gt;</span>|<span class="hljs-string">/</span>|<span class="hljs-string">sources,&lt;IP:PORT&gt;</span>|<span class="hljs-string">/</span><br><span class="hljs-string">ed2k://</span>|<span class="hljs-string">file</span>|<span class="hljs-string">eMule0.49c.zip</span>|<span class="hljs-string">2868871</span>|<span class="hljs-string">0F88EEFA9D8AD3F43DABAC9982D2450C</span>|<span class="hljs-string">/</span>|<span class="hljs-string">sources,202.89.123.6:4662</span>|<span class="hljs-string">/</span><br><span class="hljs-string"></span><br><span class="hljs-string">GHERKIN</span><br></code></pre></td></tr></table></figure><p>有的ed2k链接包含<strong>根Hash值</strong>，用于传输文件时纠正恢复，例如</p><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">ed2k://|<span class="hljs-string">file</span>|<span class="hljs-string">&lt;文件名&gt;</span>|<span class="hljs-string">&lt;文件大小&gt;</span>|<span class="hljs-string">&lt;文件Hash&gt;</span>|<span class="hljs-string">h=&lt;根Hash&gt;</span>|<span class="hljs-string">/</span><br><span class="hljs-string">ed2k://</span>|<span class="hljs-string">file</span>|<span class="hljs-string">eMule0.49c.zip</span>|<span class="hljs-string">2868871</span>|<span class="hljs-string">0F88EEFA9D8AD3F43DABAC9982D2450C</span>|<span class="hljs-string">h=SQ7LUTYUSMDBP2TVE2M7T6VUBLU324KF</span>|<span class="hljs-string">/</span><br><span class="hljs-string"></span><br><span class="hljs-string">GHERKIN</span><br></code></pre></td></tr></table></figure><p>少部分链接包含如下几种参数：</p><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs gherkin"><span class="hljs-comment"># 包含完整的Hashset，可确保文件的正确和发布新的/罕见的文件</span><br>ed2k://|<span class="hljs-string">file</span>|<span class="hljs-string">&lt;文件名&gt;</span>|<span class="hljs-string">&lt;文件大小&gt;</span>|<span class="hljs-string">&lt;文件Hash&gt;</span>|<span class="hljs-string">p=&lt;Hash Set&gt;</span>|<span class="hljs-string">/</span><br><span class="hljs-string"></span><br><span class="hljs-string"># 包含兼容HTTP来源的ed2k链接，如</span><br><span class="hljs-string">ed2k://</span>|<span class="hljs-string">file</span>|<span class="hljs-string">&lt;文件名&gt;</span>|<span class="hljs-string">&lt;文件大小&gt;</span>|<span class="hljs-string">&lt;文件Hash&gt;</span>|<span class="hljs-string">s=&lt;文件的HTTP地址&gt;</span>|<span class="hljs-string">/</span><br><span class="hljs-string"></span><br><span class="hljs-string">GHERKIN</span><br></code></pre></td></tr></table></figure><h3 id="ed2k链接案例分析"><a class="markdownIt-Anchor" href="#ed2k链接案例分析"></a> ed2k链接案例分析</h3><p><strong>完整电驴链接</strong><br><code>ed2k://|file|【高清MP4电影www.domp4.cc】慈禧秘密生活.1994.127分钟完整版.DVDRip.国粤双语.中字.mkv|2650427059|50E58646F85EA2EF6CB866969B6C7592|h=NZG53QOLS3CXXT2USAIY6XRPV4V27O77|/</code></p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli">协议名：   ed2k:<span class="hljs-string">//</span><br>文件类型： file<br>文件名：  【高清MP4电影www.domp4.cc】慈禧秘密生活<span class="hljs-string">.1994.127</span>分钟完整版<span class="hljs-string">.DVDRip.</span>国粤双语.中字<span class="hljs-string">.mkv</span><br>文件大小： 2650427059<br>eD2kHash:  50E58646F85EA2EF6CB866969B6C7592<br>根Hash：   h=NZG53QOLS3CXXT2USAIY6XRPV4V27O77<br><br>JBOSS-CLI<br></code></pre></td></tr></table></figure><h3 id="ed2k与magnet磁链"><a class="markdownIt-Anchor" href="#ed2k与magnet磁链"></a> ed2k与magnet磁链</h3><p>ed2k和bt磁链发展这么些年，很多专业名词例如Tracker、server、DHT网络、KAD网络等，不是此处解释的重点，我不再赘述。</p><ul><li><strong>magnet磁链</strong>: 去中心化的BitTorrent，基于DHT网络，文件需要发布者做种，支持IPv6</li><li><strong>ed2k</strong>：描述KAD网络中文件的一段字符，基本中心服务器，文件是基于文件分享的,不支持IPv6</li></ul><h2 id="补充转手搓一个种子"><a class="markdownIt-Anchor" href="#补充转手搓一个种子"></a> (补充,转)手搓一个种子</h2><p>比较简单的方式是直接使用BT(BitTorrent)软件创建，我下面将使用「比特彗星(BitComent)」软件为您演示种子和磁力链的创建方法。</p><p>首先，点击文件、制作Torrent文件。</p><p><a href="https://raw.githubusercontent.com/YuanZhou314/PigRepo/main/imgs/20210113165538.png"><img src="https://raw.githubusercontent.com/YuanZhou314/PigRepo/main/imgs/20210113165538.png" alt="制作Torrent文件"></a></p><p>制作Torrent文件</p><p>然后选择您要共享的文件或文件夹、填写Tracker服务器及DHT网络节点列表：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs awk">https:<span class="hljs-regexp">//</span>tracker.renfei.net:<span class="hljs-number">443</span>/announce<br>udp:<span class="hljs-regexp">//</span>tracker.publicbt.com:<span class="hljs-number">80</span>/announce<br>udp:<span class="hljs-regexp">//</span>tracker.openbittorrent.com:<span class="hljs-number">80</span>/announce<br><br>AWK<br></code></pre></td></tr></table></figure><p>这里我使用了一个我站提供的Tracker服务器「<strong><a href="https://tracker.renfei.net/announce">https://tracker.renfei.net:443/announce</a></strong>」，为了确保种子存活率，您可以为种子添加更多的Tracker服务器，您可以通过网络搜索得到更多Tracker服务器的列表，这里推荐一个Github项目，上面维护了很多Tracker服务器的列表：<a href="https://github.com/XIU2/TrackersListCollection">https://github.com/XIU2/TrackersListCollection</a></p><p>然后您还可以填写发布者的信息，例如名称、网址、说明，这些不是必须的，可以不填。</p><p><a href="https://raw.githubusercontent.com/YuanZhou314/PigRepo/main/imgs/20210113165545.png"><img src="https://raw.githubusercontent.com/YuanZhou314/PigRepo/main/imgs/20210113165545.png" alt="制作Torrent文件信息"></a></p><p>制作Torrent文件信息</p><p>点击制作按钮，就可以生成一个BT(BitTorrent)种子.torrent文件，并且在我们的列表里已经可以看到这个文件的任务，我们还需要点击开始，这样才能加入网络，让别人来下载。我们右击新建的这个任务，选择「复制磁链」就得到了磁力链接。到这里我们就创建了一个BT(BitTorrent)种子和磁力链接，下面是我本次教程创建的种子和磁链，来试试吧。</p><p><a href="https://raw.githubusercontent.com/YuanZhou314/PigRepo/main/imgs/20210113165553.png"><img src="https://raw.githubusercontent.com/YuanZhou314/PigRepo/main/imgs/20210113165553.png" alt="获得磁力链接"></a></p><p>获得磁力链接</p><ul><li>本次教程生成的种子文件：<a href="https://cdn.renfei.net/bt/%E7%AC%AC%E4%B8%80%E4%B8%AABT%E5%88%86%E4%BA%AB%E6%96%87%E4%BB%B6.txt.torrent">https://cdn.renfei.net/bt/第一个BT分享文件.txt.torrent</a></li><li>本次教程生成的磁链：<a href="magnet:?xt=urn:btih:KDHSNAX4IYXOAMC4CBLWJCEJEIF5AMJS&amp;dn=%E7%AC%AC%E4%B8%80%E4%B8%AABT%E5%88%86%E4%BA%AB%E6%96%87%E4%BB%B6.txt&amp;tr=https%3A%2F%2Ftracker.renfei.net%2Fannounce">magnet:?xt=urn:btih:KDHSNAX4IYXOAMC4CBLWJCEJEIF5AMJS</a></li></ul><h3 id="注意事项"><a class="markdownIt-Anchor" href="#注意事项"></a> 注意事项</h3><p>当您创建发布种子以后，全网只有你一个人拥有全部文件，所以你不能下线，需要持续为其他人提供下载，也就是做种，一旦你下线了，这个和种子就暂时死亡了，因为在BT网络上其他人没有这个文件，所以需要等一段时间，下载的人多了，做种的人多了，你就可以离线了，就行成了下载的人越多速度越快的情况。</p><p>同样，别人寻找你的时候，也是通过Tracker服务器，你链接的Tracker服务器越多，就越容易被找到，所以也要链接多一点的Tracker服务器。</p><h3 id="为什么一些-tracker-连不上"><a class="markdownIt-Anchor" href="#为什么一些-tracker-连不上"></a> 为什么一些 Tracker 连不上</h3><p>首先这是正常的，Tracker服务器分布在全球各地，受到网络原因会有一些连不上，另外 HTTPS 的链接成功率更高，HTTP、UDP这种明文的经常被运营商干扰、限制，还有一方面是由于迅雷把中国范围的BT下载名声弄臭了，一些国外 Tracker 服务器屏蔽了国内连接。</p><h3 id="为什么下载没速度"><a class="markdownIt-Anchor" href="#为什么下载没速度"></a> 为什么下载没速度</h3><p>在BT网络中，下载速度是别的用户上传给你的，可能拥有你需要的文件用户比较少，Tracker 可以帮你找到更多的用户，并帮助你们之间建立链接，链接到的用户越多，下载也就越快。</p><p>被迅雷吸血的情况，上面已经说过迅雷把中国范围的BT下载名声弄臭了，主要是因为迅雷在享受其他 BT 软件用户上传提供的速度时，自身却只把上传的速度提供给其他迅雷用户，而不会提供给其他 BT 软件用户 ，所以对于其他客户端来说，迅雷只进不出，俗称吸血雷。</p><h3 id="补充信息"><a class="markdownIt-Anchor" href="#补充信息"></a> 补充信息</h3><p>关于国内BT环境问题，可以转这个<a href="https://zhuanlan.zhihu.com/p/87193566">帖子</a>…………</p><p>BT Tracker服务器列表：<a href="https://github.com/XIU2/TrackersListCollection">https://github.com/XIU2/TrackersListCollection</a></p><p>Python支持的做种库：<a href="https://github.com/rndusr/torf">https://github.com/rndusr/torf</a></p>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>网络</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>欧洲建筑风格小全</title>
    <link href="/post/78bbd203.html"/>
    <url>/post/78bbd203.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>到欧洲旅行一定得对欧洲建筑有一定的了解。但一座又一座不同时期的教堂和古堡，不仅让人看的眼花缭乱，真的要说也说不出个所以然。这里整理了一期欧洲建筑，让大家可以轻松成为欧洲建筑达人。</p><p><a href="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291559918.gif"><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291559918.gif" alt="img"></a></p><p>看到这些图，朋友们反应一定是欧洲的，去过的朋友可以指出，这是索菲亚大教堂，这是伦敦桥等等。那我们经常听到所谓的罗马式、希腊式、哥特式、文艺复兴等等又是如何来区分的？</p><p><a href="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291608988.jpeg"><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291608988.jpeg" alt="img"></a></p><p>所以整个欧洲，不管我们聊什么都可以说：先有希腊文明起其先，后有罗马文明承其后。整个欧洲都是建立在希腊、罗马文明之上。</p><h3 id="希腊式建筑"><a class="markdownIt-Anchor" href="#希腊式建筑"></a> 希腊式建筑</h3><p>欧洲建筑按照年代来划分第一个就是<strong>希腊式建筑</strong>。</p><p><strong>时代关键词</strong>：人才辈出</p><p><strong>建筑关键词</strong>：三角门楣</p><p><strong>形象代言人</strong>：三明治</p><p><a href="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291621094.jpeg"><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291621094.jpeg" alt="img"></a></p><p><a href="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291621184.gif"><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291621184.gif" alt="img"></a></p><p>希腊式的建筑非常容易辨识，三角形的门楣，下面一根根的希腊柱。就像古希腊先贤阿基米德所说：给我一个支点，我就能撬起整个地球。</p><h3 id="罗马式建筑"><a class="markdownIt-Anchor" href="#罗马式建筑"></a> 罗马式建筑</h3><p><strong>时代关键词</strong>：谁征服谁</p><p><strong>建筑关键词</strong>：混凝</p><p><strong>形象代言人</strong>：土包子</p><p><a href="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291621454.jpeg"><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291621454.jpeg" alt="img"></a></p><p>古罗马诗人霍雷斯说过，我们罗马人征服了希腊，可是文化上却被希腊所征服。所以罗马人的的建筑也就是在希腊建筑基础上加上拱。我们看看如果在希腊建筑后面加个包子（拱）就变成了这样：</p><p><a href="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291621318.gif"><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291621318.gif" alt="img"></a></p><p>如果在上面加个包子（拱）就是这样的：</p><p><a href="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291621826.gif"><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291621826.gif" alt="img"></a></p><p>也有单独放个包子（拱）的：</p><p><a href="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291621396.gif"><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291621396.gif" alt="img"></a></p><p>于是因为各种拱，造就了罗马式的建筑：</p><p><a href="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291621581.jpeg"><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291621581.jpeg" alt="img"></a></p><p>重点：罗马人对建筑工程的重大贡献，是发明了一种被称为“黏浆”的万用材料，这是一种用火山灰岩、石灰和水拌成的石浆，再加上碎石或碎砖，用之于建筑业，非常坚固，又增添色彩，这就是世界上第一种足以支撑大跨度建筑的混凝土。罗马人发明了混凝土，从此大拱门、大圆顶、大拱顶就都能独立，而无需像古希腊建筑那样靠许多柱子来支撑了，从而成为世界建筑史上划时代的创举。</p><h3 id="拜占庭式建筑"><a class="markdownIt-Anchor" href="#拜占庭式建筑"></a> 拜占庭式建筑</h3><p><strong>时代关键词</strong>：东西交融</p><p><strong>建筑关键词</strong>：萌萌哒</p><p><strong>形象代言人</strong>：洋葱头</p><p>公元395年，罗马帝国随着君士坦丁大帝的去世，分成东、西罗马帝国。而东罗马帝国随着东进，与东方文明的交融、碰撞，形成了与罗马式大同小异的建筑风格——拜占庭式建筑。</p><p>如何辨认拜占庭风格，主要是看它的顶。和罗马式一样，在建筑上加一个大圆顶，但风格又有所不同。罗马式直接加个半圆，而拜占庭式则是在半圆的底部略微内收，就像是一个洋葱头。</p><p>例如这个洋葱顶：</p><p><a href="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291622984.gif"><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291622984.gif" alt="img"></a></p><p>更东边的俄罗斯人喜欢吃洋葱，他们觉得一个洋葱不够，所以就放了好多个：</p><p><a href="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291622314.gif"><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291622314.gif" alt="img"></a></p><p>重点：因为帝国的分裂而导致两个宗教产生最后影响各自建筑形式的发展。所以在欧洲罗马式建筑与拜占庭建筑可谓泾渭分明。我们把欧洲切一半，罗马式的在西边（法国、意大利），而跑到东边就都变成了拜占庭式建筑（捷克、波黑）。</p><h3 id="哥特式建筑"><a class="markdownIt-Anchor" href="#哥特式建筑"></a> 哥特式建筑</h3><p><strong>时代关键词</strong>：天主教</p><p><strong>建筑关键词</strong>：骨感</p><p><strong>形象代言人</strong>：玉米棒</p><p><a href="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291622391.jpeg"><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291622391.jpeg" alt="img"></a></p><p>罗马帝国覆灭了，基督教却在欧洲生根发芽，到了中世纪天主教成为了西欧的唯一宗教。神权时代来临。绝对的权力带来绝对的腐败，天主教在西欧一家独大之后，所谓的神权大于皇权。出现了赎罪券、十一税等为天主教搜刮了大量的财富，原来希腊式、罗马式风格通通不要，什么三明治、包子、洋葱，都站一边。天主教的风格就是：</p><p><a href="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291622336.gif"><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291622336.gif" alt="img"></a></p><p>于是当时的人们就想把教堂建高，造的高，才能越加的接近上帝。原来希腊、罗马、拜占庭式哪些大圆顶通通不能要。因为顶重，就要用又厚又重的石墙去支撑，从而导致建筑高不起来。改用尖塔，为了让建筑更高，还发明了 飞扶壁。</p><p>飞扶壁（英语：Flying buttresses）是一种起支撑作用的建筑结构部件，凌空跨越下层附属空间（如走道、小祈祷室等）连接到顶部高墙上肋架券的起脚部位，用于平衡肋架拱顶对墙面的侧向推力。由于飞扶壁通常以半个拱券的形式出现，所以又称飞券。</p><p><a href="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291622450.jpeg"><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291622450.jpeg" alt="img"></a></p><p>既然是宗教建筑，当然会与上帝息息相关</p><p><a href="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291622074.gif"><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291622074.gif" alt="img"></a></p><p>哥特式建筑上的玻璃百花窗其功用主要有三：</p><ol><li>减轻建筑的整体重量，可以建的更高。</li><li>透光。花窗玻璃造就了教堂内部神秘灿烂的景象，从而改变了罗马式建筑因采光不足而沉闷压抑的景象，并表达了人们向往天国的内心理想（玻璃着色主要以蓝、红为主，蓝色代表天堂，红色代表基督之血）。</li><li>教化百姓。古时欧洲和我们中国一样，读书识字只是贵族们的权利。老百姓不识字怎么办，好在每个星期都要去教堂，于是就用彩色玻璃在花窗上拼出一幅幅的圣经故事，教徒可以根据图案来理解圣经。</li></ol><h3 id="文艺复兴式建筑"><a class="markdownIt-Anchor" href="#文艺复兴式建筑"></a> 文艺复兴式建筑</h3><p><strong>时代关键词</strong>：复兴文艺</p><p><strong>建筑关键词</strong>：对称次序</p><p><strong>形象代言人</strong>：书</p><p><a href="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291622205.jpeg"><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291622205.jpeg" alt="img"></a></p><p>文艺复兴我们可以简单的理解为复兴文艺，复兴什么时候的文艺？罗马、希腊时期的文化，艺术。文艺复兴式建筑的特点很简单——左右对称。</p><p><a href="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291622709.gif"><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291622709.gif" alt="img"></a></p><h3 id="巴洛克式风格"><a class="markdownIt-Anchor" href="#巴洛克式风格"></a> 巴洛克式风格</h3><p><strong>时代关键词</strong>：炫富争权</p><p><strong>建筑关键词</strong>：无金不巴</p><p><strong>形象代言人</strong>：金子</p><p>请朋友们注意，这里的标题上没有用建筑二字，因为巴洛克式是个统称，更应该把它叫做风格。风格之下有巴洛克式的建筑、巴洛克式的家具、巴洛克式的服装等等。巴洛克式风格源于17世纪的意大利，之前的文艺复兴时期为意大利带来了大量的财富和权势，于是意大利人原本的文艺复兴建筑，添上新的华丽、夸张及雕刻风气，从而形成了巴洛克风格。</p><p><a href="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291622896.jpeg"><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291622896.jpeg" alt="巴黎歌剧院"></a></p><p>巴黎歌剧院</p><p><a href="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291622361.gif"><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291622361.gif" alt="凡尔赛宫"></a></p><p>凡尔赛宫</p><p><a href="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291622382.jpeg"><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291622382.jpeg" alt="圣地亚哥大教堂"></a></p><p>圣地亚哥大教堂</p><h3 id="洛可可风格"><a class="markdownIt-Anchor" href="#洛可可风格"></a> 洛可可风格</h3><p>洛可可式是巴洛克末期风格的代表。洛可可风格其实更应该算是一种室内装饰风格。我们可以把洛可可看做巴洛克2.0版本，更加的奢华、更加的金碧辉煌。</p><p><a href="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291622284.jpeg"><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211291622284.jpeg" alt="img"></a></p>]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>建筑</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>视频弹幕词云图生成器</title>
    <link href="/post/7456a33d.html"/>
    <url>/post/7456a33d.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>根据B站视频链接生成当前视频的弹幕云图。目前只支持B站，后续会添加爱奇艺、腾讯视频等其他平台。</p><p>可在代码中引入调用或命令行调用，也可以直接修改代码使用。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python">引入调用<br><span class="hljs-keyword">import</span> wc_builder <span class="hljs-keyword">as</span> ww<br>ww.main(<span class="hljs-string">&#x27;https://www.bilibili.com/video/BV1EK411o7iV&#x27;</span>)<br><br>命令行调用<br>python .\wc_builder.py https://www.bilibili.com/video/BV1EK411o7iV  <br>Building prefix <span class="hljs-built_in">dict</span> <span class="hljs-keyword">from</span> the default dictionary ...<br>Loading model <span class="hljs-keyword">from</span> cache C:\Users\V\AppData\Local\Temp\jieba.cache<br>Loading model cost <span class="hljs-number">0.532</span> seconds.<br>Prefix <span class="hljs-built_in">dict</span> has been built successfully.<br><br>修改代码调用<br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    main(<span class="hljs-string">&#x27;https://www.bilibili.com/video/BV1EK411o7iV&#x27;</span>)<br>    <span class="hljs-comment"># main(sys.argv[1])</span><br><br></code></pre></td></tr></table></figure><p>初始代码如下。</p><p>代码比较粗糙，有空再研究下弹幕的数量、去重。（B站的弹幕有很多重复的，例如“哈哈哈”和‘哈哈哈哈’这种文本在wordcloud中就是两个词，生成出来的词云图会出现很多重复但字数不同的文本）</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> jieba<br><span class="hljs-keyword">from</span> wordcloud <span class="hljs-keyword">import</span> WordCloud<br><span class="hljs-keyword">import</span> requests<br><br><span class="hljs-comment"># 词云生成器父类</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">wc_builder</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">pass</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">wordcloud_builder</span>(<span class="hljs-params">self, param</span>):<br>        <span class="hljs-keyword">raise</span> Exception(<span class="hljs-string">&#x27;Wordcloud_builder Not Implemented&#x27;</span>)<br><br><br><span class="hljs-comment"># bilibili弹幕词云生成器，video_links为B站视频链接</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">bl_builder</span>(<span class="hljs-title class_ inherited__">wc_builder</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">wordcloud_builder</span>(<span class="hljs-params">self, param</span>):<br>        <span class="hljs-comment"># 检测链接格式</span><br>        <span class="hljs-keyword">if</span> (<span class="hljs-string">&#x27;https://www.bilibili.com/video/&#x27;</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> param) &amp; (requests.get(param).status_code != <span class="hljs-number">200</span>):<br>            <span class="hljs-keyword">raise</span> Exception(<span class="hljs-string">&#x27;The video links is Wrong&#x27;</span>)<br>        <span class="hljs-comment"># 获取视频cid</span><br>        video_context = requests.get(param).text<br>        cid = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">r&#x27;&quot;cid&quot;:(\d&#123;9&#125;),&quot;dimension&quot;&#x27;</span>).findall(<br>            video_context)[<span class="hljs-number">0</span>]<br>        <span class="hljs-comment"># 拼接弹幕地址并获取弹幕文件</span><br>        new_links = <span class="hljs-string">&#x27;https://api.bilibili.com/x/v1/dm/list.so?oid=&#x27;</span>+cid<br>        dm = requests.get(new_links)<br>        dm.encoding = <span class="hljs-string">&#x27;utf-8&#x27;</span><br>        <span class="hljs-comment"># 解析本地弹幕文件，已废弃，直接从接口获取</span><br>        <span class="hljs-comment"># with open(&quot;tools/files/tc.xml&quot;, &quot;rb&quot;) as f:</span><br>        <span class="hljs-comment">#     dm = f.read()</span><br>        <span class="hljs-comment">#     ndm = dm.decode(&#x27;utf-8&#x27;)</span><br>        <span class="hljs-comment"># 过滤弹幕文本</span><br>        <span class="hljs-keyword">match</span> = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">r&quot;&gt;(.*?)&lt;/d&gt;&quot;</span>).findall(dm.text)<br>        mstr = <span class="hljs-string">&#x27;.&#x27;</span>.join(<span class="hljs-keyword">match</span>)<br>        words = jieba.lcut(mstr)<br>        newtext = <span class="hljs-string">&#x27;&#x27;</span>.join(words)<br><span class="hljs-comment"># 去除不可见字符, 这一步可忽略，一般用于过滤带特殊字符的文本</span><br><span class="hljs-comment"># newtext = re.sub(</span><br>    <span class="hljs-string">&#x27;[\001\002\003\004\005\006\007\x08\x09\x0a\x0b\x0c\x0d\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a]+&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, newtext)<br>        <span class="hljs-comment"># 使用黑体字体支持中文</span><br>        wordcloud = WordCloud(<br>            font_path=<span class="hljs-string">&quot;../tools/files/SimHei.ttf&quot;</span>).generate(newtext)<br><span class="hljs-comment">#2种方式查看词云。1：直接在本地生成词云图片</span><br>        wordcloud.to_file(<span class="hljs-string">&#x27;弹幕词云图.png&#x27;</span>)<br>        <span class="hljs-comment"># 2. 通过matplotlib生成图片</span><br>        <span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br>        <br>        plt.imshow(wd, interpolation=<span class="hljs-string">&#x27;bilinear&#x27;</span>) <span class="hljs-comment">#interpolation=&#x27;bilinear&#x27; 表示插值方法为双线性插值</span><br>        plt.axis(<span class="hljs-string">&quot;off&quot;</span>)  <span class="hljs-comment"># 关掉图像的坐标</span><br>        plt.show()<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>(<span class="hljs-params">parm</span>):<br>    ss = bl_builder()<br>    ss.wordcloud_builder(parm)<br><br><br><span class="hljs-comment"># 该方式有待优化。直接运行该文件时会提示缺少参数，外部调用时需手动填入参数</span><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-comment"># main(&#x27;https://www.bilibili.com/video/BV1EK411o7iV&#x27;)</span><br>    main(sys.argv[<span class="hljs-number">1</span>])<br><br><br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211281608218.png" alt="img"></p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python3.8进阶(一)</title>
    <link href="/post/pythonjinjie1.html"/>
    <url>/post/pythonjinjie1.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><h2 id="数据结构"><a class="markdownIt-Anchor" href="#数据结构"></a> 数据结构</h2><h3 id="列表与元素"><a class="markdownIt-Anchor" href="#列表与元素"></a> 列表与元素</h3><h4 id="基本差异"><a class="markdownIt-Anchor" href="#基本差异"></a> 基本差异</h4><ul><li>列表是动态的，长度大小不固定，可任意删减元素</li><li>元组是静态的，长度大小固定，无法增删，只能新建生成</li></ul><h4 id="存储差异"><a class="markdownIt-Anchor" href="#存储差异"></a> 存储差异</h4><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">ls=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">ls</span><br>[1, 2, 3]<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">ls.__sizeof__()</span><br>64<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">tup=<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">tup.__sizeof__()</span><br>48<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span><br>**********初始空元素的占用情况************<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">l=[]</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">l.__sizeof__()</span><br>40<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">tup=()</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">tup.__sizeof__()</span><br>24<br></code></pre></td></tr></table></figure><p>列表与元组相同的3个元素，元组存储空间比列表少了16个字节。这16字节分别代表：</p><ol><li>指向对应元素的指针。列表是动态的，需要存储指针</li><li>额外存储已分配的长度大小，用于追踪列表空间的使用情况，及时分配额外空间</li></ol><h4 id="列表扩容"><a class="markdownIt-Anchor" href="#列表扩容"></a> 列表扩容</h4><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">ls1=[]</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">ls1.append(<span class="hljs-number">1</span>)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">ls1.append(<span class="hljs-number">2</span>)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">ls1.append(<span class="hljs-number">3</span>)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">ls1</span><br>[1, 2, 3]<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">ls</span><br>[1, 2, 3]<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">ls1.__sizeof__()</span><br>72<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">ls.__sizeof__()</span><br>64<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span><br></code></pre></td></tr></table></figure><p>ls1初始化为空列表，追加至3个元素，ls初始化就是3个元素。初始化的3元素比追加的3元素小了8个字节。</p><ul><li><p>初始化的占用情况：初始40+元素大小</p></li><li><p>追加的占用情况：初始+扩容大小。每次扩容新增可存储4个元素的空间</p></li></ul><p>列表追加的机制保证了列表的高效性，其增删操作的时间复杂度均为O(1)。如下是完整版本测试：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs stylus">l = <span class="hljs-selector-attr">[]</span><br>l.<span class="hljs-built_in">__sizeof__</span>() <span class="hljs-comment">// 空列表的存储空间为40字节</span><br><span class="hljs-number">40</span><br>l<span class="hljs-selector-class">.append</span>(<span class="hljs-number">1</span>)<br>l.<span class="hljs-built_in">__sizeof__</span>() <br><span class="hljs-number">72</span> <span class="hljs-comment">// 加入了元素1之后，列表为其分配了可以存储4个元素的空间 (72 - 40)/8 = 4</span><br>l<span class="hljs-selector-class">.append</span>(<span class="hljs-number">2</span>) <br>l.<span class="hljs-built_in">__sizeof__</span>()<br><span class="hljs-number">72</span> <span class="hljs-comment">// 由于之前分配了空间，所以加入元素2，列表空间不变</span><br>l<span class="hljs-selector-class">.append</span>(<span class="hljs-number">3</span>)<br>l.<span class="hljs-built_in">__sizeof__</span>() <br><span class="hljs-number">72</span> <span class="hljs-comment">// 同上</span><br>l<span class="hljs-selector-class">.append</span>(<span class="hljs-number">4</span>)<br>l.<span class="hljs-built_in">__sizeof__</span>() <br><span class="hljs-number">72</span> <span class="hljs-comment">// 同上</span><br>l<span class="hljs-selector-class">.append</span>(<span class="hljs-number">5</span>)<br>l.<span class="hljs-built_in">__sizeof__</span>() <br><span class="hljs-number">104</span> <span class="hljs-comment">// 加入元素5之后，列表的空间不足，所以又额外分配了可以存储4个元素的空间</span><br></code></pre></td></tr></table></figure><h4 id="列表缩容"><a class="markdownIt-Anchor" href="#列表缩容"></a> 列表缩容</h4><p>（确实会缩容）</p><p><strong>TODO</strong></p><h4 id="性能差异"><a class="markdownIt-Anchor" href="#性能差异"></a> 性能差异</h4><p>初始化速度对比</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">ubuntu</span>@VM-<span class="hljs-number">0</span>-<span class="hljs-number">7</span>-ubuntu:~$ python3 -m timeit &#x27;x=(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>)&#x27;<br><span class="hljs-attribute">100000000</span> loops, best of <span class="hljs-number">3</span>: <span class="hljs-number">0</span>.<span class="hljs-number">0113</span> usec per loop<br><span class="hljs-attribute">ubuntu</span>@VM-<span class="hljs-number">0</span>-<span class="hljs-number">7</span>-ubuntu:~$ python3 -m timeit &#x27;y=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>]&#x27;<br><span class="hljs-attribute">10000000</span> loops, best of <span class="hljs-number">3</span>: <span class="hljs-number">0</span>.<span class="hljs-number">0519</span> usec per loop<br><br><span class="hljs-comment"># 代码写法（无法执行多行）：</span><br><span class="hljs-attribute">import</span> timeit<br><span class="hljs-attribute">print</span>(timeit.Timer(&#x27;x=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]&#x27;).timeit())<br></code></pre></td></tr></table></figure><p>索引操作对比</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">ubuntu</span>@VM-<span class="hljs-number">0</span>-<span class="hljs-number">7</span>-ubuntu:~$ python3 -m timeit -s &#x27;x=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>]&#x27; &#x27;y=x[<span class="hljs-number">3</span>]&#x27;<br><span class="hljs-attribute">10000000</span> loops, best of <span class="hljs-number">3</span>: <span class="hljs-number">0</span>.<span class="hljs-number">022</span> usec per loop<br><span class="hljs-attribute">ubuntu</span>@VM-<span class="hljs-number">0</span>-<span class="hljs-number">7</span>-ubuntu:~$ python3 -m timeit -s &#x27;x=(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>)&#x27; &#x27;y=x[<span class="hljs-number">3</span>]&#x27;<br><span class="hljs-attribute">10000000</span> loops, best of <span class="hljs-number">3</span>: <span class="hljs-number">0</span>.<span class="hljs-number">0232</span> usec per loop<br></code></pre></td></tr></table></figure><ul><li>元组比列表更加轻量级，性能速度略优于列表</li><li>列表不被使用时会被回收掉，未被使用且小的元组会被缓存至内存，性能优于列表</li></ul><h4 id="使用场景对比"><a class="markdownIt-Anchor" href="#使用场景对比"></a> 使用场景对比</h4><ul><li>存储数据与数量不变，如返回地点经纬度，优先使用元组</li><li>存储数据获数量需要变动，如用户查看的帖子，优先使用列表</li></ul><h3 id="字典与集合"><a class="markdownIt-Anchor" href="#字典与集合"></a> 字典与集合</h3><h4 id="基本差异-2"><a class="markdownIt-Anchor" href="#基本差异-2"></a> 基本差异</h4><p>字典：键值对格式的元素集合。3.7后的字典有序，便于查、增、删</p><p>集合：与字典类似，没有键值对，无序唯一的元素组合，元素类型可不同</p><h4 id="基本操作"><a class="markdownIt-Anchor" href="#基本操作"></a> 基本操作</h4><p><strong>创建</strong></p><p>注意：字典的key只能是不可变的，因此数字、字符串、元组均可作为key，但列表、字典不能作为key，因为是自动的</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-comment"># 字典</span><br><span class="hljs-attr">d1</span> = &#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;jason&#x27;</span>, <span class="hljs-string">&#x27;age&#x27;</span>: <span class="hljs-number">20</span>, <span class="hljs-string">&#x27;gender&#x27;</span>: <span class="hljs-string">&#x27;male&#x27;</span>&#125;<br><span class="hljs-attr">d2</span> = dict(&#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;jason&#x27;</span>, <span class="hljs-string">&#x27;age&#x27;</span>: <span class="hljs-number">20</span>, <span class="hljs-string">&#x27;gender&#x27;</span>: <span class="hljs-string">&#x27;male&#x27;</span>&#125;)<br><span class="hljs-attr">d3</span> = dict([(<span class="hljs-string">&#x27;name&#x27;</span>, <span class="hljs-string">&#x27;jason&#x27;</span>), (<span class="hljs-string">&#x27;age&#x27;</span>, <span class="hljs-number">20</span>), (<span class="hljs-string">&#x27;gender&#x27;</span>, <span class="hljs-string">&#x27;male&#x27;</span>)])<br><span class="hljs-attr">d4</span> = dict(name=<span class="hljs-string">&#x27;jason&#x27;</span>, age=<span class="hljs-number">20</span>, gender=<span class="hljs-string">&#x27;male&#x27;</span>) <br><span class="hljs-comment"># 集合</span><br><span class="hljs-attr">s1</span> = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>&#125;<br><span class="hljs-attr">s2</span> = set([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br></code></pre></td></tr></table></figure><p><strong>获取</strong></p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-comment"># 字典</span><br><span class="hljs-built_in">print</span>(dic[key])<br><span class="hljs-built_in">print</span>(dic.<span class="hljs-built_in">get</span>(key))<br><span class="hljs-comment"># 集合：不允许索引访问，只允许查询是否存在(字典也可以)</span><br><span class="hljs-built_in">print</span>(v <span class="hljs-keyword">in</span> s)<br></code></pre></td></tr></table></figure><p><strong>删除</strong></p><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs nsis"><span class="hljs-comment"># 字典</span><br>dic.<span class="hljs-keyword">pop</span>(key)<br>dic.<span class="hljs-keyword">pop</span>() <span class="hljs-comment"># 删除末尾元素</span><br><span class="hljs-comment"># 集合</span><br>s.remove(v)<br>s.<span class="hljs-keyword">pop</span>() <span class="hljs-comment"># 谨慎操作，集合无序</span><br></code></pre></td></tr></table></figure><p><strong>排序</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 字典</span><br><span class="hljs-built_in">sorted</span>(d.items(), key=<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-number">0</span>]) <span class="hljs-comment"># 按key</span><br><span class="hljs-built_in">sorted</span>(d.items(), key=<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-number">1</span>]) <span class="hljs-comment"># 按value</span><br><span class="hljs-comment"># 集合（返回的是列表）</span><br><span class="hljs-built_in">sorted</span>(s)<br></code></pre></td></tr></table></figure><h4 id="列表与集合性能比较"><a class="markdownIt-Anchor" href="#列表与集合性能比较"></a> 列表与集合性能比较</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><br><span class="hljs-built_in">id</span> = [x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">10000</span>)]<br>price = [x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">20000</span>, <span class="hljs-number">30000</span>)]<br>products = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">zip</span>(<span class="hljs-built_in">id</span>, price))<br><br><span class="hljs-comment"># list</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">find_unique_price_using_list</span>(<span class="hljs-params">products</span>):<br>    unique_price_list = []<br>    <span class="hljs-keyword">for</span> _, price <span class="hljs-keyword">in</span> products:  <span class="hljs-comment"># A</span><br>        <span class="hljs-keyword">if</span> price <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> unique_price_list:  <span class="hljs-comment"># B</span><br>            unique_price_list.append(price)<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(unique_price_list)<br><br><span class="hljs-comment"># set</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">find_unique_price_using_set</span>(<span class="hljs-params">products</span>):<br>    unique_price_set = <span class="hljs-built_in">set</span>()<br>    <span class="hljs-keyword">for</span> _, price <span class="hljs-keyword">in</span> products:<br>        unique_price_set.add(price)<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(unique_price_set)<br><br><span class="hljs-comment"># 分别计算运行时间</span><br>start_list = time.time()<br><span class="hljs-comment"># find_unique_price_using_list(products)</span><br>find_unique_price_using_set(products)<br>end_list = time.time()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;用时：&#123;&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(end_list-start_list))<br><br>输出(相差<span class="hljs-number">500</span>倍)：<br><span class="hljs-built_in">list</span>用时：<span class="hljs-number">0.5515346527099609</span><br><span class="hljs-built_in">set</span> 用时：<span class="hljs-number">0.0009975433349609375</span><br></code></pre></td></tr></table></figure><h4 id="字典与集合原理"><a class="markdownIt-Anchor" href="#字典与集合原理"></a> 字典与集合原理</h4><p>同一性：二者均由哈希表实现</p><p>差异性：</p><ul><li>字典存储哈希值、key、value 3种元素</li><li>集合只存哈希和元素</li></ul><p><strong>新增原理</strong></p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-comment"># 字典新增</span><br>dic = &#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;mike&#x27;</span>&#125;<br>dic[<span class="hljs-string">&#x27;age&#x27;</span>]=18<br><span class="hljs-comment"># 集合新增</span><br>s = &#123;<span class="hljs-string">&#x27;a&#x27;</span>&#125;<br>s.<span class="hljs-built_in">add</span>(<span class="hljs-string">&#x27;b&#x27;</span>)<br></code></pre></td></tr></table></figure><p>向字典/集合（统称为哈希表）插入元素时，先计算出键的哈希值<code>hash(key)</code>，再和<code>mask = PyDicMinSize - 1 </code>做与操作，计算出插入的位置：<code>index = hash(key) &amp; mask</code>，计算位置后查看该位置是否为空：</p><ul><li><p>若该位置为空则插入</p></li><li><p>若该位置已占用则比较哈希值和键是否相等：</p><ul><li><p>若hash值和key均相等，则该元素已存在，如果值不同则替换</p></li><li><p>若hash值或key有一个不相等，就是哈希冲突，Python将顺位插入其他位置</p></li></ul></li></ul><p>哈希冲突会降低字典/集合操作的速度，因此哈希表内一般保留了1/3剩余空间，元素插入时剩余空间小于1/3时就会进行扩容，扩容时表内所有元素会被重新排放。</p><hr><p><strong>思考</strong></p><ol><li><p>在字典查找过程中，计算出的key的哈希值与已存在的hash值相等，但key值不相等？</p><p>解决：不同的key计算出来的hash相同，属于哈希冲突，在插入阶段就已经避免了这种错误</p></li><li><p>列表的可变和不可变问题。列表是内容可变，但它本身的地址是不变的，为什么不能用来当做字典的key，这里面是否混淆了什么？</p></li></ol><p>（TODO）</p><h3 id="字符串"><a class="markdownIt-Anchor" href="#字符串"></a> 字符串</h3><p>这段没什么说的，简单带过。<a href="https://zhouyinglin.cn/post/python3sutong.html">速通篇</a>也有简单介绍。</p><p><strong>定义</strong></p><p>前两者为了方便区分内容中的引号，第三种方便多行内容</p><ul><li>‘xxx’</li><li>“xxx”</li><li>“”“xxx”“”</li></ul><p><strong>转义</strong></p><table><thead><tr><th>转义字符</th><th>说明</th></tr></thead><tbody><tr><td>\</td><td>表示单引号\</td></tr><tr><td>\n</td><td>表示换行</td></tr><tr><td><code>\&quot;</code></td><td>表示双引号 &quot;</td></tr></tbody></table><p>字符串属于不可变序列，除了拼接方式以外，没有修改字符的方法。一般情况修改都是通过字符串切片或扫描原字符串，修改后放入新字符串。</p><p><strong>+=拼接</strong></p><p>当s1+=s2拼接字符串时，首先检测s1是否有其他引用，若没有则原地扩充字符串buffer大小，此方法时间复杂度为O(n),效率不算太低。</p><p><strong>string.join拼接</strong></p><p>将每个元素按照指定格式连接起来。如下，循环结束后列表中的元素为0~99999，通过空格连接所有元素，并赋值给 <code>l</code></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs stylus">l = <span class="hljs-selector-attr">[]</span><br><span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">100000</span>):<br>    l<span class="hljs-selector-class">.append</span>(<span class="hljs-built_in">str</span>(n))<br>l = <span class="hljs-string">&#x27; &#x27;</span><span class="hljs-selector-class">.join</span>(l) <br></code></pre></td></tr></table></figure><p><strong>其他操作函数</strong></p><p>分割：string.split()常用于路径、链接等切割子串的场景</p><p>去首尾：string.strip(str)</p><h3 id="io流相关"><a class="markdownIt-Anchor" href="#io流相关"></a> IO流相关</h3><p>此处没什么说的，速通篇的文件操作内容基本都有。比较常用的应该是Json相关的一些函数，这里再次重申一遍。</p><p><strong>dump、load和dumps、loads</strong></p><ul><li>dump、load<ul><li>dump用于将一个对象存储至本地文件</li><li>load用于从本地文件中读取内容字符串并转为对象</li></ul></li><li>dumps、loads<ul><li>dumps用于将一个对象转为字符串</li><li>loads用于将字符串转回对象</li></ul></li></ul><p>注意，在实际环境中，IO的应用场景较多适用于文件读写、网络、其他进程等方面。如下使用NLP分析文本的任务用到了多方面的东西。</p><p>文本 in.txt 内容</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs applescript">I have a dream <span class="hljs-keyword">that</span> <span class="hljs-keyword">my</span> four little children will one <span class="hljs-built_in">day</span> live <span class="hljs-keyword">in</span> a nation <span class="hljs-keyword">where</span> they will <span class="hljs-keyword">not</span> be judged <span class="hljs-keyword">by</span> <span class="hljs-keyword">the</span> color <span class="hljs-keyword">of</span> their skin <span class="hljs-keyword">but</span> <span class="hljs-keyword">by</span> <span class="hljs-keyword">the</span> content <span class="hljs-keyword">of</span> their <span class="hljs-built_in">character</span>. I have a dream today.<br><br>I have a dream <span class="hljs-keyword">that</span> one <span class="hljs-built_in">day</span> down <span class="hljs-keyword">in</span> Alabama, <span class="hljs-keyword">with</span> <span class="hljs-keyword">its</span> vicious racists, . . . one <span class="hljs-built_in">day</span> right there <span class="hljs-keyword">in</span> Alabama little black boys <span class="hljs-keyword">and</span> black girls will be able <span class="hljs-keyword">to</span> join hands <span class="hljs-keyword">with</span> little white boys <span class="hljs-keyword">and</span> white girls <span class="hljs-keyword">as</span> sisters <span class="hljs-keyword">and</span> brothers. I have a dream today.<br><br>I have a dream <span class="hljs-keyword">that</span> one <span class="hljs-built_in">day</span> <span class="hljs-keyword">every</span> valley shall be exalted, <span class="hljs-keyword">every</span> hill <span class="hljs-keyword">and</span> mountain shall be made low, <span class="hljs-keyword">the</span> rough places will be made plain, <span class="hljs-keyword">and</span> <span class="hljs-keyword">the</span> crooked places will be made straight, <span class="hljs-keyword">and</span> <span class="hljs-keyword">the</span> glory <span class="hljs-keyword">of</span> <span class="hljs-keyword">the</span> Lord shall be revealed, <span class="hljs-keyword">and</span> all flesh shall see <span class="hljs-keyword">it</span> together.<br><br>This <span class="hljs-keyword">is</span> our hope. . . With this faith we will be able <span class="hljs-keyword">to</span> hew <span class="hljs-keyword">out of</span> <span class="hljs-keyword">the</span> mountain <span class="hljs-keyword">of</span> despair a stone <span class="hljs-keyword">of</span> hope. With this faith we will be able <span class="hljs-keyword">to</span> transform <span class="hljs-keyword">the</span> jangling discords <span class="hljs-keyword">of</span> our nation <span class="hljs-keyword">into</span> a beautiful symphony <span class="hljs-keyword">of</span> brotherhood. With this faith we will be able <span class="hljs-keyword">to</span> work together, <span class="hljs-keyword">to</span> pray together, <span class="hljs-keyword">to</span> struggle together, <span class="hljs-keyword">to</span> go <span class="hljs-keyword">to</span> jail together, <span class="hljs-keyword">to</span> stand up <span class="hljs-keyword">for</span> freedom together, knowing <span class="hljs-keyword">that</span> we will be free one <span class="hljs-built_in">day</span>. . . .<br><br>And when this happens, <span class="hljs-keyword">and</span> when we allow freedom ring, when we let <span class="hljs-keyword">it</span> ring <span class="hljs-keyword">from</span> <span class="hljs-keyword">every</span> village <span class="hljs-keyword">and</span> <span class="hljs-keyword">every</span> hamlet, <span class="hljs-keyword">from</span> <span class="hljs-keyword">every</span> state <span class="hljs-keyword">and</span> <span class="hljs-keyword">every</span> city, we will be able <span class="hljs-keyword">to</span> speed up <span class="hljs-keyword">that</span> <span class="hljs-built_in">day</span> when all <span class="hljs-keyword">of</span> God&#x27;s children, black men <span class="hljs-keyword">and</span> white men, Jews <span class="hljs-keyword">and</span> Gentiles, Protestants <span class="hljs-keyword">and</span> Catholics, will be able <span class="hljs-keyword">to</span> join hands <span class="hljs-keyword">and</span> sing <span class="hljs-keyword">in</span> <span class="hljs-keyword">the</span> <span class="hljs-built_in">words</span> <span class="hljs-keyword">of</span> <span class="hljs-keyword">the</span> old Negro spiritual: <span class="hljs-string">&quot;Free at last! Free at last! Thank God Almighty, we are free at last!&quot;</span><br></code></pre></td></tr></table></figure><p>文本分析：该文本包含多段，每段包含大小写字母、标点符号、空格、换行等</p><p>任务：计算该文本中每个单词出现的频次，按频次高低排列出来并输出到 out.txt</p><p><strong>处理代码</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">parse</span>(<span class="hljs-params">text</span>):<br>    <span class="hljs-comment"># 过滤内容，只保留字母、数字下划线，取出标点符号</span><br>    text = re.sub(<span class="hljs-string">r&quot;[^\w]&quot;</span>, <span class="hljs-string">&quot; &quot;</span>, text)<br>    <span class="hljs-comment"># 转小写并按空白字符切分字符串为列表</span><br>    text = text.lower().split(<span class="hljs-string">&#x27; &#x27;</span>)<br>    <span class="hljs-comment"># 过滤列表中的空白元素</span><br>    text_list = <span class="hljs-built_in">filter</span>(<span class="hljs-keyword">lambda</span> text: text != <span class="hljs-string">&#x27;&#x27;</span>, text)<br>    <span class="hljs-comment"># 新建空字典</span><br>    word_cnt = &#123;&#125;<br>    <span class="hljs-keyword">for</span> word <span class="hljs-keyword">in</span> text_list:<br>        <span class="hljs-comment"># 计算词频,如果这个词不在字典，那么新增该键值对并初始化数量为1，</span><br>        <span class="hljs-comment"># 如果在字典，则次数+1</span><br>        <span class="hljs-keyword">if</span> word <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> word_cnt:<br>            <span class="hljs-comment"># 为字典新增元素</span><br>            word_cnt[word] = <span class="hljs-number">0</span><br>        <span class="hljs-comment"># 为已存在的元素增加频次</span><br>        word_cnt[word] += <span class="hljs-number">1</span><br><br>    <span class="hljs-comment"># 根据词频排序字典</span><br>    sorted_dic = <span class="hljs-built_in">sorted</span>(word_cnt.items(), key=<span class="hljs-keyword">lambda</span> kv: kv[<span class="hljs-number">1</span>], reverse=<span class="hljs-literal">True</span>)<br>    <span class="hljs-keyword">return</span> sorted_dic<br><br><span class="hljs-comment"># 读取文本</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;in.txt&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>) <span class="hljs-keyword">as</span> f:<br>    context = f.read()<br><br><span class="hljs-comment"># 将读取到的文本传入解析函数，得到解析后的结果</span><br>word_cnt = parse(context)<br><br><span class="hljs-comment"># 将解析后的结果写入out.txt</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;out.txt&quot;</span>, <span class="hljs-string">&quot;w&quot;</span>) <span class="hljs-keyword">as</span> f:<br>    <span class="hljs-keyword">for</span> word, cnt <span class="hljs-keyword">in</span> word_cnt:<br>        f.write(<span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;word&#125;</span> <span class="hljs-subst">&#123;cnt&#125;</span>\n&#x27;</span>)<br></code></pre></td></tr></table></figure><p>注意，这里的 parse 函数课分析任意文本数据，但如果文件过大可能会造成内存崩溃。通过给read指定 size 参数或者通过 readline() 来读取少部分文本，减轻内存压力</p><p>该代码用到的一些知识点：</p><ul><li><code>re.sub(r&quot;[^\w]&quot;, &quot; &quot;, text)</code>：提取所需文本</li></ul><p>**（TODO）**这里有个问题：为什么正则用的是\w，匹配所有字母数字下划线，替换成空格。那不是代表匹配到的这些字母数字下划线将替换成空格吗？但替换的结果却是将符号替换成了空格，这不是反了吗？</p><p><strong>操作IO应该注意的点</strong></p><ol><li>应进行充分的错误处理，细心编码防止出现漏洞</li><li>对内存、磁盘占用有充分估计</li><li>代码简介清晰，充分利用JSON序列化</li></ol><h2 id="条件分支与循环"><a class="markdownIt-Anchor" href="#条件分支与循环"></a> 条件分支与循环</h2><h3 id="分支"><a class="markdownIt-Anchor" href="#分支"></a> 分支</h3><p><code>if</code>语句可单独使用，但<code>elif</code>、<code>else</code>必须配合<code>if</code>使用。</p><p><strong>if省略判断语句的写法</strong>、</p><p>除了boolean外，不建议写成省略方式</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">if s:</span> <span class="hljs-comment">#s是一个字符串</span><br>    <span class="hljs-string">……</span><br><span class="hljs-attr">if l:</span> <span class="hljs-comment"># l 是一个列表</span><br>    <span class="hljs-string">……</span><br></code></pre></td></tr></table></figure><p><img src="https://static001.geekbang.org/resource/image/94/45/949742df36600c086c31e399ce515f45.png?wh=1698*653" alt></p><h3 id="循环"><a class="markdownIt-Anchor" href="#循环"></a> 循环</h3><p>只要对象的数据结构是可迭代的，均可以使用<code>for item in &lt;iterable&gt;: ……</code>的方式遍历序列中的所有元素。如需在遍历时获取当前循环的索引，可使用内置<code>enumerate()</code>函数遍历集合，这个函数返回序列的值和对应的索引</p><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs axapta">l = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>]<br><span class="hljs-keyword">for</span> <span class="hljs-keyword">index</span>, item <span class="hljs-keyword">in</span> enumerate(l):<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">index</span> &lt; <span class="hljs-number">5</span>:<br>        <span class="hljs-keyword">print</span>(item)<br></code></pre></td></tr></table></figure><p>关于for循环与while循环的选用：</p><ul><li><p>遍历已知序列寻找元素进行某些操作，使用for循环</p></li><li><p>需要满足某条件前重复执行某些操作，使用while循环</p></li></ul><p>（在效率上，for循环可能更优于while循环）</p><h3 id="分支与循环复用"><a class="markdownIt-Anchor" href="#分支与循环复用"></a> 分支与循环复用</h3><p>很多人写for循环都爱这样写，在没学会之前看这种复用代码是很头疼的，全靠猜。但写的人会觉得很简洁，一行代码搞定，效率upup。如下是一些常见的复用情况</p><p><strong>if、for复用</strong></p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver"><span class="hljs-comment"># 格式</span><br>expression <span class="hljs-keyword">for</span> <span class="hljs-keyword">item</span> <span class="hljs-keyword">in</span> iterable <span class="hljs-keyword">if</span> condition<br><br><span class="hljs-comment"># 等同于如下</span><br><span class="hljs-keyword">for</span> <span class="hljs-keyword">item</span> <span class="hljs-keyword">in</span> iterable:<br>    <span class="hljs-keyword">if</span> condetion:<br>        expression<br><br><span class="hljs-comment"># 例如：循环对text每一行进行去空格、按逗号切分，且过滤小于3个长度的单词</span><br>s.strip() <span class="hljs-keyword">for</span> s <span class="hljs-keyword">in</span> <span class="hljs-keyword">text</span>.<span class="hljs-built_in">split</span>(<span class="hljs-string">&#x27;,&#x27;</span>) <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(s.strip()) &gt; <span class="hljs-number">3</span><br></code></pre></td></tr></table></figure><p><strong>if、else、for复用</strong></p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs applescript"><span class="hljs-comment"># 格式</span><br>expression1 <span class="hljs-keyword">if</span> condition <span class="hljs-keyword">else</span> expression2 <span class="hljs-keyword">for</span> <span class="hljs-built_in">item</span> <span class="hljs-keyword">in</span> iterable<br><br><span class="hljs-comment"># 等同于如下：</span><br><span class="hljs-keyword">for</span> <span class="hljs-built_in">item</span> <span class="hljs-keyword">in</span> iterable:<br>    <span class="hljs-keyword">if</span> condition:<br>        expression1<br>    <span class="hljs-keyword">else</span>:<br>        expression2<br></code></pre></td></tr></table></figure><p><strong>if 、for双循环</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment"># 格式</span><br>expression1 <span class="hljs-keyword">for</span> item1 in <span class="hljs-keyword">iterable</span> <span class="hljs-keyword">for</span> item2 in <span class="hljs-keyword">iterable</span> <span class="hljs-keyword">if</span> condition<br><br><span class="hljs-comment"># 例如：两个列表x、y，返回各自列表中所有元素组成的元祖</span><br>(xx,yy) <span class="hljs-keyword">for</span> xx in x <span class="hljs-keyword">for</span> yy in y <span class="hljs-keyword">if</span> xx != yy<br></code></pre></td></tr></table></figure><p>举例：将下列属性分别压成一个装了3个字典的列表</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">attributes</span> = [<span class="hljs-string">&#x27;name&#x27;</span>, <span class="hljs-string">&#x27;dob&#x27;</span>, <span class="hljs-string">&#x27;gender&#x27;</span>]<br><span class="hljs-attr">values</span> = [[<span class="hljs-string">&#x27;jason&#x27;</span>, <span class="hljs-string">&#x27;2000-01-01&#x27;</span>, <span class="hljs-string">&#x27;male&#x27;</span>],<br>          [<span class="hljs-string">&#x27;mike&#x27;</span>, <span class="hljs-string">&#x27;1999-01-01&#x27;</span>, <span class="hljs-string">&#x27;male&#x27;</span>],<br>          [<span class="hljs-string">&#x27;nancy&#x27;</span>, <span class="hljs-string">&#x27;2001-02-01&#x27;</span>, <span class="hljs-string">&#x27;female&#x27;</span>]]<br><span class="hljs-attr">list</span> = [dict(zip(attributes, value)) for value in values]<br></code></pre></td></tr></table></figure><h2 id="函数"><a class="markdownIt-Anchor" href="#函数"></a> 函数</h2><p>关于函数定义</p><p>def 是可执行语句，函数在调用前是不存在的。因此在调用时需要确保所需函数已经定义过。</p><p>关于传参</p><ul><li>参数可设默认，调用时没传时使用默认，传了就用传入的</li><li>参数可以是任意类型，只要符合代码、语法规则即可（多态）。使用时可以再函数开头添加数据类型检查</li></ul><h3 id="嵌套函数"><a class="markdownIt-Anchor" href="#嵌套函数"></a> 嵌套函数</h3><figure class="highlight isbl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs isbl"><span class="hljs-variable">def</span> <span class="hljs-function"><span class="hljs-title">f1</span>():</span><br><span class="hljs-function">    <span class="hljs-title">print</span>(<span class="hljs-string">&#x27;hello&#x27;</span>)</span><br>    <span class="hljs-variable">def</span> <span class="hljs-function"><span class="hljs-title">f2</span>():</span><br><span class="hljs-function">        <span class="hljs-title">print</span>(<span class="hljs-string">&#x27;world&#x27;</span>)</span><br>    <span class="hljs-function"><span class="hljs-title">f2</span>()</span><br><span class="hljs-function"><span class="hljs-title">f1</span>()</span><br></code></pre></td></tr></table></figure><p><strong>嵌套的优点</strong></p><ul><li>保护内部函数隐私，不会暴露在全局作用域，如函数内部有隐私数据等情况，就可以使用嵌套，外部无法单独调用到它的内部函数</li><li>合理的嵌套有利于提高代码运行效率，当内部函数需递归或多次运行时，只需运行一次的外部函数可以执行某些不必要的其他操作。如下：</li></ul><p>递归计算阶乘，执行循环计算的主体是内部函数，外层函数用于检测输入合法性</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">factorial</span>(<span class="hljs-params"><span class="hljs-built_in">input</span></span>):<br>    <span class="hljs-comment"># validation check</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">isinstance</span>(<span class="hljs-built_in">input</span>, <span class="hljs-built_in">int</span>):<br>        <span class="hljs-keyword">raise</span> Exception(<span class="hljs-string">&#x27;input must be an integer.&#x27;</span>)<br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">input</span> &lt; <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">raise</span> Exception(<span class="hljs-string">&#x27;input must be greater or equal to 0&#x27;</span> )<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">inner_factorial</span>(<span class="hljs-params"><span class="hljs-built_in">input</span></span>):<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">input</span> &lt;= <span class="hljs-number">1</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">input</span> * inner_factorial(<span class="hljs-built_in">input</span>-<span class="hljs-number">1</span>)<br>    <span class="hljs-keyword">return</span> inner_factorial(<span class="hljs-built_in">input</span>)<br><br><span class="hljs-built_in">print</span>(factorial(<span class="hljs-number">5</span>))<br></code></pre></td></tr></table></figure><h3 id="函数变量作用域"><a class="markdownIt-Anchor" href="#函数变量作用域"></a> 函数变量作用域</h3><ul><li>全局变量：定义在整个文件层次上，任意地方均可访问</li><li>局部变量：只在函数内部有效，函数执行完毕后变量被回收。</li><li>如局部变量与全局变量同名，则局部变量生效</li></ul><p><strong>注意</strong></p><p>不能再函数内部随意改变全局变量的值，Python解释器默认函数内部的变量为局部变量，又发现它在内部并未声明，就无法操作变量。</p><p><strong>变量的二次声明</strong></p><ul><li>如需在函数内部修改全局变量的值，在函数内部使用<code>global</code>重新声明该变量</li><li>如需在嵌套函数的内部函数中修改外部函数定义的变量，则需要在内部函数内部使用<code>nonlocal</code>重新声明该变量</li></ul><h3 id="闭包"><a class="markdownIt-Anchor" href="#闭包"></a> 闭包</h3><p>定义：闭包也称闭合函数。在闭合函数中，<strong>内部函数对外部作用域的变量进行引用</strong>，并且一般<strong>外部函数的返回值为内部函数</strong>，那么内部函数就被认为是闭包。</p><p>例如:</p><p>这里的<code>nth_power()</code>的返回值是<code>exponent_of</code>，并不是表达式或具体的数值。</p><p>并且<code>square = nth_power(2)</code>执行完后，2这个参数作为<code>exponent</code>仍然会被记住，相当于提前传入了这个参数进去。再次使用<code>aquare(2)</code>的时候，这里的2传给了内部函数定义的base，这样就可以输出结果。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">nth_power</span>(<span class="hljs-params">exponent</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">exponent_of</span>(<span class="hljs-params">base</span>):<br>        <span class="hljs-keyword">return</span> base ** exponent<br>    <span class="hljs-keyword">return</span> exponent_of <span class="hljs-comment"># 返回值是exponent_of函数</span><br><br>square = nth_power(<span class="hljs-number">2</span>) <span class="hljs-comment"># 计算一个数的平方</span><br>cube = nth_power(<span class="hljs-number">3</span>) <span class="hljs-comment"># 计算一个数的立方 </span><br>square<br><span class="hljs-comment"># 输出</span><br>&lt;function __main__.nth_power.&lt;<span class="hljs-built_in">locals</span>&gt;.exponent(base)&gt;<br><br>cube<br><span class="hljs-comment"># 输出</span><br>&lt;function __main__.nth_power.&lt;<span class="hljs-built_in">locals</span>&gt;.exponent(base)&gt;<br><span class="hljs-comment"># 间接调用</span><br><span class="hljs-built_in">print</span>(square(<span class="hljs-number">2</span>))  <span class="hljs-comment"># 计算2的平方</span><br><span class="hljs-built_in">print</span>(cube(<span class="hljs-number">2</span>)) <span class="hljs-comment"># 计算2的立方</span><br><br><span class="hljs-comment"># 直接调用</span><br><span class="hljs-built_in">print</span>(nth_power(<span class="hljs-number">2</span>)(<span class="hljs-number">8</span>))<br></code></pre></td></tr></table></figure><h3 id="匿名函数"><a class="markdownIt-Anchor" href="#匿名函数"></a> 匿名函数</h3><p><strong>格式</strong></p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gams"><span class="hljs-function"><span class="hljs-title">lambda</span></span> argument1, argument2,... argumentN : expression<br></code></pre></td></tr></table></figure><p><strong>例子</strong></p><figure class="highlight stan"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs stan"><span class="hljs-comment"># lambda写法</span><br><span class="hljs-built_in">square</span> = lambda x: x**<span class="hljs-number">2</span><br><span class="hljs-built_in">square</span>(<span class="hljs-number">3</span>)<br><br><span class="hljs-comment"># 常规写法</span><br>def <span class="hljs-built_in">square</span>(x):<br>    <span class="hljs-keyword">return</span> x**<span class="hljs-number">2</span><br><span class="hljs-built_in">square</span>(<span class="hljs-number">3</span>)<br></code></pre></td></tr></table></figure><p><strong>匿名函数与常规函数的区别</strong></p><ol><li>lambda是一个表达式，并不是语句</li></ol><ul><li><p>表达式类似于<code>x+2</code>、<code>x**2</code>等，类似公式。</p></li><li><p>语句是完成了一定的功能，如<code>x=1</code>完成了赋值功能，<code>print</code>语句完成了打印功能……</p></li></ul><p>常规函数需要通过函数名调用，且必须先定义。但作为表达式的lambda无需名字即可使用，因此lambda可以用在常规函数不能用的地方。</p><p>如列表内：<code>[(lambda x: x*x)(x) for x in range(10)]</code></p><p>如作为函数的参数：<code>ls.sort(key=lambda x: x[1])</code></p><ol start="2"><li>lambda主体只有一行简单表达式，无法扩展成多行代码块</li></ol><p>Python设计之初就是为了让lambda专注于简单任务，常规函数负责复杂的多行逻辑。</p><p><strong>匿名函数的优点</strong></p><p>使用场景：你需要一个简短的函数，且只会在程序中调用一次</p><p>优势：简化代码复杂度，提高代码的可读性，符合Python编程习惯</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 原函数：定义后调用</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">square</span>(<span class="hljs-params">x</span>):<br>    <span class="hljs-keyword">return</span> x**<span class="hljs-number">2</span><br>squared = <span class="hljs-built_in">map</span>(square, [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>])<br><br><span class="hljs-comment"># lambda函数：一行搞定</span><br>squared = <span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: x**<span class="hljs-number">2</span>,[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>])<br></code></pre></td></tr></table></figure><h3 id="函数式编程"><a class="markdownIt-Anchor" href="#函数式编程"></a> 函数式编程</h3><p>（Python支持多种编程范式：过程式、面向对象编程、函数式编程）</p><p>函数式编程指代码中每一块都是不可变的，由纯函数的形式组成。即函数本身互相独立，互不影响。对于相同的输入，总会有相同的输出。例如：一个列表作为参数传递至函数内，函数返回结果后原列表不会变化。</p><p><strong>函数式编程优缺点</strong></p><ul><li>不可变特性使得程序更加健壮、易于调试</li><li>限制较多，比较难写</li></ul><p><strong>例子</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 常规范式：</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">multiply_2</span>(<span class="hljs-params">l</span>):<br>    <span class="hljs-keyword">for</span> index <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(l)):<br>        l[index] *= <span class="hljs-number">2</span><br>    <span class="hljs-keyword">return</span> l<br><br><span class="hljs-comment"># 函数式:重新创建新列表并返回</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">multiply_2_pure</span>(<span class="hljs-params">l</span>):<br>    new_list = []<br>    <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> l:<br>        new_list.append(item * <span class="hljs-number">2</span>)<br>    <span class="hljs-keyword">return</span> new_list<br></code></pre></td></tr></table></figure><p><strong>Python内置的几个相关函数</strong></p><p><strong>map()</strong></p><p>返回一个将 function 应用于 iterable 中每一项并输出其结果的迭代器。即对于每一个序列中的元素，都运行function这个函数，最后返回一个迭代器。</p><p>如下，对列表中每个元素乘以2操作</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">ls</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br><span class="hljs-attr">new_list</span> = map(lambda x: x * <span class="hljs-number">2</span>, ls) <span class="hljs-comment"># [2， 4， 6， 8， 10]</span><br></code></pre></td></tr></table></figure><p>检测运行时间可得map()是最快的，由于map()由C语言写的，无需通过Python解释器间接调用，且内部做了诸多优化，因此运行最快。</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs ada">python3 -mtimeit -s<span class="hljs-symbol">&#x27;xs</span>=<span class="hljs-keyword">range</span>(<span class="hljs-number">1000000</span>)<span class="hljs-string">&#x27; &#x27;</span>map(lambda x: x*<span class="hljs-number">2</span>, xs)&#x27;<br><span class="hljs-number">2000000</span> loops, best <span class="hljs-keyword">of</span> <span class="hljs-number">5</span>: <span class="hljs-number">171</span> nsec per <span class="hljs-keyword">loop</span><br><br>python3 -mtimeit -s<span class="hljs-symbol">&#x27;xs</span>=<span class="hljs-keyword">range</span>(<span class="hljs-number">1000000</span>)<span class="hljs-string">&#x27; &#x27;</span>[x * <span class="hljs-number">2</span> <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> xs]&#x27;<br><span class="hljs-number">5</span> loops, best <span class="hljs-keyword">of</span> <span class="hljs-number">5</span>: <span class="hljs-number">62.9</span> msec per <span class="hljs-keyword">loop</span><br><br>python3 -mtimeit -s<span class="hljs-symbol">&#x27;xs</span>=<span class="hljs-keyword">range</span>(<span class="hljs-number">1000000</span>)<span class="hljs-string">&#x27; &#x27;</span>l = []<span class="hljs-string">&#x27; &#x27;</span><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> xs: l.append(i * <span class="hljs-number">2</span>)&#x27;<br><span class="hljs-number">5</span> loops, best <span class="hljs-keyword">of</span> <span class="hljs-number">5</span>: <span class="hljs-number">92.7</span> msec per <span class="hljs-keyword">loop</span><br></code></pre></td></tr></table></figure><p><strong>filter()</strong></p><p>用 iterable 中函数 function 返回真的那些元素，构建一个新的迭代器。即对序列中每个元素，都是用function判断，并返回True或False，最后量返回True的元素组成一个新的迭代器。</p><p>例如获取列表中的偶数</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">l</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br><span class="hljs-attr">new_list</span> = filter(lambda x: x % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>, l) <br><span class="hljs-comment"># [2, 4]</span><br></code></pre></td></tr></table></figure><p><strong>reduce()</strong></p><p>reduce()函数在functools模块中导入。reduce()将两个参数的 function 从左至右积累地应用到 iterable 的条目，以便将该可迭代对象缩减为单一的值。即对序列中每个元素以及上一次调用后的结果，运用function进行计算，最后返回一个单独的数值。</p><p>例如计算某列表内所有元素的乘积，就是计算：<code>((((1*2)*3)*4)*5)</code>的值</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">ls</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br><span class="hljs-attr">product</span> = reduce(lambda x, y: x * y, ls) <br><span class="hljs-comment"># 1*2*3*4*5 = 120</span><br></code></pre></td></tr></table></figure><p><strong>sorted()</strong></p><p>根据 iterable 中的项返回一个新的已排序列表。具有两个可选参数，它们都必须指定为关键字参数。</p><p><strong>key</strong> 指定带有单个参数的函数，用于从 iterable 的每个元素中提取用于比较的键 (例如 key=str.lower)。 默认值为 None (直接比较元素)。<strong>reverse</strong> 为一个布尔值。 如果设为 True，则每个列表元素将按反向顺序比较进行排序。</p><p>key形参的值一般是一个函数或其他可调用对象，在进行比较前，每个列表元素调用该函数(或可调用对象)。如下，按照字典的value值进行排序。d.items()拿到的是键值对，lambda匿名函数返回键值对的value值，sorted按照value 值进行排序。</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">sorted</span><span class="hljs-params">(d.items()</span></span>, key=lambda x: x<span class="hljs-selector-attr">[1]</span>)<br></code></pre></td></tr></table></figure><p>默认情况下，对字符串排序时是按照ASCII的大小比较的。</p><ul><li><p>list.sort()：直接原地排序列表，只接受列表排序</p></li><li><p>sorted()：构建新的排序列表，不对源列表修改，接受所有可迭代对象</p></li></ul><h3 id="计时函数"><a class="markdownIt-Anchor" href="#计时函数"></a> 计时函数</h3><p>timeit模块是内置用于统计小段代码执行时间的模块，该库默认将语句执行一百万次，并从提供从集合中花费的最短时间。</p><p>官网地址：<a href="https://docs.python.org/zh-cn/3.8/library/timeit.html">https://docs.python.org/zh-cn/3.8/library/timeit.html</a></p><p><strong>语法</strong></p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs applescript"><span class="hljs-comment"># stmt：需要测试的代码（表达式/变量/函数），必填，默认pass</span><br><span class="hljs-comment"># setup: 所执行代码的运行环境，必填，默认pass</span><br><span class="hljs-comment"># timer:当前系统时间单位，默认即可</span><br><span class="hljs-comment"># number:要测试的代码运行测试，默认100万次</span><br>timeit.timeit(stmt, setup,timer, <span class="hljs-built_in">number</span>)<br></code></pre></td></tr></table></figure><p><strong>调用方式</strong></p><ol><li>命令行调用</li></ol><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs maxima">python3 -m timeit &#x27;<span class="hljs-string">&quot;-&quot;</span>.<span class="hljs-built_in">join</span>(str(n) <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">100</span>))&#x27;<br><br># 调用多行<br>python3 -m timeit -s&#x27;xs=<span class="hljs-built_in">range</span>(<span class="hljs-number">1000000</span>)&#x27; &#x27;<span class="hljs-built_in">map</span>(<span class="hljs-built_in">lambda</span> x: x*<span class="hljs-number">2</span>, xs)&#x27;<br></code></pre></td></tr></table></figure><ol start="2"><li>函数接口调用</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> timeit<br><span class="hljs-meta">&gt;&gt;&gt; </span>timeit.timeit(<span class="hljs-string">&#x27;&quot;-&quot;.join(str(n) for n in range(100))&#x27;</span>, number=<span class="hljs-number">10000</span>)<br><br><span class="hljs-comment"># 或者</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>timeit.timeit(<span class="hljs-keyword">lambda</span>: <span class="hljs-string">&quot;-&quot;</span>.join(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">str</span>, <span class="hljs-built_in">range</span>(<span class="hljs-number">100</span>))), number=<span class="hljs-number">10000</span>)<br></code></pre></td></tr></table></figure><h2 id="面向对象"><a class="markdownIt-Anchor" href="#面向对象"></a> 面向对象</h2><h3 id="面向对象编程四要素"><a class="markdownIt-Anchor" href="#面向对象编程四要素"></a> 面向对象编程四要素</h3><p>类：对应class，是一群有着相同属性和函数的对象的集合。</p><p>对象：class实例化生成的东西</p><p>属性：对象的静态特征，如一个人的身高、年龄</p><p>函数：对象的某个动态能力</p><p>类，属性，函数，对象的关系可以总结为：<strong>类是一群具有相同属性和函数的对象的集合</strong>。</p><p>面向对象的一大优势就是将算法的复杂性隔离开，保留街口和其他代码不变。在公司团队协作中，设计好合理分层后，每层的逻辑只需要处理好分内的事即可。</p><p><strong>类常量</strong></p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs makefile"><span class="hljs-comment">#方式一</span><br>p = Pepole()<br>p.WELCOME_STR<br><span class="hljs-comment"># 方式二</span><br>Pepole.WELCOME_STR<br></code></pre></td></tr></table></figure><h3 id="类的三种函数"><a class="markdownIt-Anchor" href="#类的三种函数"></a> 类的三种函数</h3><p><strong>类函数</strong></p><p>在函数上方添加<code>@classmethod</code>装饰器。类函数第一个参数一般是cls，表示必须传一个类进来。</p><p>最常用的功能是实现不同的init构造函数。</p><p><strong>成员函数</strong></p><p>最常用的函数，无需任何装饰器生命，第一个参数为self，代表当前对象的引用。</p><p>常用古语查询、修改类的属性等</p><p>静态函数</p><p>在函数上方添加<code>@staticmethod</code>装饰器</p><p>用于做一些简单独立的任务，便于测试、优化代码结构。</p><h3 id="继承"><a class="markdownIt-Anchor" href="#继承"></a> 继承</h3><p>面向对象学过的话这个应该很简单就能理解。子类拥有父类的特征（函数、属性），也可以拥有自己不同的特征。大概包括以下三个内容：</p><ul><li>继承：继承父类属性&amp;函数。</li><li>重写：子类重写父类函数，补充细节代码。</li><li>新特征：子类可以定义新函数、属性。</li></ul><p><strong>构造函数</strong></p><p>子类生成对象时，不会自动调用父类的构造函数。如果想在子类调用父类的构造函数，必须使用super关键字或类名显式地调用。</p><ul><li>子类需要自动调用父类构造：子类不重写<code>__init__()</code>函数，隐式调用父类构造<ul><li>这种情况下，子类调用继承的函数时，是通过父类对象调用的，并非通过子类本身调用</li></ul></li><li>子类不需要自动调用父类构造：子类重写<code>__init__()</code>函数<ul><li>这种情况下，子类只继承父类的成员函数，不继承构造函数中的私有属性</li></ul></li><li>子类既需重写<code>__init__()</code>又需调用父类构造：在子类构造函数中使用<code>super()</code>显式调用父类构造<ul><li>？？？关于子类调用父类成员函数时到底是通过哪个对象调用的，做个试验观察一下</li></ul></li></ul><p>如下案例：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Document</span>(Entity):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span>, object_type</span>):<br>        print(<span class="hljs-string">&#x27;document class init called&#x27;</span>)<br>        <span class="hljs-comment"># 使用父类类名显示调用父类构造函数</span><br>        Entity.__init__(<span class="hljs-variable language_">self</span>, <span class="hljs-string">&#x27;document&#x27;</span>)<br>        <span class="hljs-variable language_">self</span>.object_type = object_type<br>    <br>    <span class="hljs-comment"># 防止直接通过当前类生成对象调用该函数，让子类重写一遍，覆盖掉继承的函数</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_context_length</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span></span>):<br>        raise Exception(<span class="hljs-string">&#x27;get_context_length not implemented&#x27;</span>)<br>    <br>    <span class="hljs-comment"># 子类无需定义或重写该函数就可使用，继承的优点在于减少重复代码</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">print_title</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span></span>):<br>        print(<span class="hljs-variable language_">self</span>.title)<br></code></pre></td></tr></table></figure><p><strong>访问父类变量的方式</strong></p><ol><li>调用父类中可以访问到本身私有变量的函数</li><li>不推荐的写法，强行访问：<code>self._ParentClass__var</code></li></ol><p><strong>多继承</strong></p><p>多继承又分为两种：一个类同时继承多个类或者一个类单一继承多个类（广度与深度）</p><p>单一继承时，构造执行顺序为子类-&gt; 父类 -&gt; 爷类 -&gt;… 的链式关系</p><p>多重继承(例如菱形继承)时：基于某算法进行查找，可自己查询：<code>className.__mro__</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>bc.Document.__mro__  <br>(&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;bc.Document&#x27;</span>&gt;, &lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;bc.Entity&#x27;</span>&gt;, &lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;object&#x27;</span>&gt;)<br></code></pre></td></tr></table></figure><p><strong>多重继承的构造方法</strong></p><p>如下，这是一个搜索引擎缓存类，继承了搜索引擎类和缓存模块，这里有一些复杂而又经典的调用</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">class</span> <span class="hljs-title class_">BOWInvertedIndexEngineWithCache</span>(BOWInvertedIndexEngine, LRUCache):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span></span>):<br>        <span class="hljs-comment"># 这里的super()指向的是最左侧的父类，类名填的是当前类类名</span><br>        <span class="hljs-variable language_">super</span>(BOWInvertedIndexEngineWithCache, <span class="hljs-variable language_">self</span>).__init__()<br>        <span class="hljs-comment"># 需要调用哪个父类构造器，就直接使用父类名来调用</span><br>        LRUCache.__init__(<span class="hljs-variable language_">self</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">search</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span>, query</span>):<br>        <span class="hljs-keyword">if</span> <span class="hljs-variable language_">self</span>.has(query):<br>            print(<span class="hljs-string">&#x27;cache hit!&#x27;</span>)<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.get(query)<br>            <br>        <span class="hljs-comment"># 在重写后的search中强行调用已被覆盖的父类search函数（因为当前层是辅助作用，功能实现还是在父类）</span><br>        result = <span class="hljs-variable language_">super</span>(BOWInvertedIndexEngineWithCache, <span class="hljs-variable language_">self</span>).search(query)<br>        <span class="hljs-variable language_">self</span>.set(query, result)<br><br>        <span class="hljs-keyword">return</span> result<br></code></pre></td></tr></table></figure><p>多重构造下有两种方式初始化父类</p><ol><li>初始化该类的第一个父类（python2写法）：<code>super(BOWInvertedIndexEngineWithCache, self).__init__()</code></li><li>传统方式（python3写法）：<code> LRUCache.__init__(self)</code></li></ol><p>补充知识：</p><p>检索算法：<a href="https://zh.m.wikipedia.org/zh/%E5%80%92%E6%8E%92%E7%B4%A2%E5%BC%95">倒排索引</a></p><h3 id="抽象类-抽象函数"><a class="markdownIt-Anchor" href="#抽象类-抽象函数"></a> 抽象类、抽象函数</h3><p>一般来说，如果真的需要<code>Entity</code>类不让外界实例化，那就直接把<code>Entity</code>做成抽象类。抽象类使用<code>abstractmethod</code>装饰器来表示，抽象类只能作为父类存在，无法实例化，抽象类中的函数就是抽象函数。子类继承抽象类，必须重写所有抽象函数。</p><p>Java中也有抽象类的语法。抽象类是自上而下的设计风格，类似于接口，用简单的代码定义好规则，然后交给不同的开发人员去开发和对接。</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs scala">from abc <span class="hljs-keyword">import</span> <span class="hljs-type">ABCMeta</span>, abstractmethod<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Entity</span>(<span class="hljs-params">metaclass=<span class="hljs-type">ABCMeta</span></span>)</span>:<br>    <span class="hljs-meta">@abstractmethod</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_title</span></span>(self):<br>        pass<br>        <br>    <span class="hljs-meta">@abstractmethod</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">set_title</span></span>(self, title):<br>        pass<br><br>&gt;&gt;&gt; ee=bc.<span class="hljs-type">Entity</span>()<br><span class="hljs-type">Traceback</span> (most recent call last):<br>  <span class="hljs-type">File</span> <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, in &lt;module&gt;<br><span class="hljs-type">TypeError</span>: <span class="hljs-type">Can</span>&#x27;t instantiate <span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Entity</span> <span class="hljs-keyword">with</span> <span class="hljs-title">abstract</span> <span class="hljs-title">methods</span> <span class="hljs-title">get_title</span>, <span class="hljs-title">set_title</span></span><br>&gt;&gt;&gt;<br></code></pre></td></tr></table></figure><h2 id="模块管理"><a class="markdownIt-Anchor" href="#模块管理"></a> 模块管理</h2><h3 id="简单模块引用"><a class="markdownIt-Anchor" href="#简单模块引用"></a> 简单模块引用</h3><p>在导包时，需要在模块所在的文件夹新建一个<code> __init__.py</code>，内容可以为空，也可以用来表述包对外暴露的模块接口。不过事实上这是 Python 2 的规范。在 Python 3 规范中，<code>__init__.py</code> 并不是必须的，</p><p>在导包时应注意代码的顺序。代码是由上至下逐行运行的。编辑器在保存时有可能会重新对导包进行排序，从而导致包导入失败。</p><p><strong>同路径引用</strong></p><figure class="highlight capnproto"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs capnproto">.<br>├── utils<br>├── class_utils<br>└── main.py<br><br><span class="hljs-comment"># 导入utils中的get_sum函数</span><br><span class="hljs-keyword">from</span> utils <span class="hljs-keyword">import</span> get_sum<br><br><span class="hljs-comment"># 导入class_utils 中所有函数</span><br><span class="hljs-keyword">from</span> class_utils <span class="hljs-keyword">import</span> *<br></code></pre></td></tr></table></figure><p><strong>不同路径引用</strong></p><p>注意，类似PyChrome编辑器会将<code>sys.path[0]</code>也就是路径列表的第一项设置为项目根目录的绝对地址，所以<code>sys.path.append(&quot;..&quot;)</code>是可以正常导入的。但我这里的<code>sys.path[0]</code>是当前模块所在目录，所以无法导入。</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs clean">.<br>├── utils<br>│   └── class_utils.py<br>├── src<br>│   └── sub<br>│   └── sub_ff.py<br>│   └── sub_main.py<br><br># 在 sub_main 中导入 class_utils 模块，需要在路径目录中添加class_utils所在目录<br># 有绝对路径、相对路径两种写法（一般是用两个点表示上级，但我实测没什么用，用其他方式可以）<br><span class="hljs-keyword">import</span> sys<br># 一般写法<br>sys.path.append(<span class="hljs-string">&quot;..&quot;</span>)<br># 我的写法①：相对路径<br>sys.path.append(sys.path[<span class="hljs-number">0</span>]+<span class="hljs-string">&#x27;\\..&#x27;</span>)<br># 我的写法②：绝对路径(mode为src的上层目录)<br>sys.path.append(<span class="hljs-string">&#x27;d:\\xxx\\xxx\\xxx\\modo&#x27;</span>)<br><br><br><span class="hljs-keyword">from</span> utils.class_utils <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">from</span> sub.sub_ff <span class="hljs-keyword">import</span> *<br></code></pre></td></tr></table></figure><h3 id="项目模块化"><a class="markdownIt-Anchor" href="#项目模块化"></a> 项目模块化</h3><p>在大型工程中尽可能使用绝对位置。对于独立项目来说，所有模块的追寻方式最好从项目的根目录开始追溯，这叫相对的绝对路径。</p><p>上面我已经写了如何导入上一层目录下的模块/指定目录模块，其实质就是将当前路径目录中的路径修改成想要的路径，或者直接在列表中添加新的绝对路径。但这并不是最佳方案，是不推荐的写法。最佳写法应该是为该项目设置虚拟环境，并讲根目录以环境变量的方式添加进去。</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-comment"># 创建虚拟环境</span><br>python -m venv <span class="hljs-regexp">/path/</span>to<span class="hljs-regexp">/new/</span>virtual/environment  <span class="hljs-comment"># linux</span><br>python -m venv c:\path\to\myenv  <span class="hljs-comment"># windows</span><br><br><span class="hljs-comment"># 激活虚拟环境</span><br>source &lt;venv&gt;<span class="hljs-regexp">/bin/</span>activate  <span class="hljs-comment"># linux</span><br>C:\&gt; &lt;venv&gt;\Scripts\activate.bat  <span class="hljs-comment"># windows</span><br><br><span class="hljs-comment"># 退出虚拟环境</span><br>deactivate<br><br><span class="hljs-comment"># 删除虚拟环境</span><br>删除虚拟环境所在目录即可<br></code></pre></td></tr></table></figure><p><strong>注意用法</strong>：<strong><code>if __name__=='__main__'</code></strong></p><p><code>__name__</code>属性是Python的一个内置属性，记录了一个字符串</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-section"># utils.py 在本文件中调用时，显示<span class="hljs-strong">__main__</span></span><br>print(<span class="hljs-strong">__name__</span>)<br><span class="hljs-section"># out: <span class="hljs-strong">__main__</span></span><br><br><span class="hljs-section"># main.py 在其他文件中调用utils.<span class="hljs-strong">__name__</span>时，显示的是utils模块名称</span><br>import utils<br>print(utils.<span class="hljs-strong">__name__</span>)<br><span class="hljs-section"># out: utils</span><br></code></pre></td></tr></table></figure><p>这个判断表示当<code>__name__</code>的值为<code>__main__</code>时，才能执行块中的代码，如果不是则不执行。</p><p>Python的<code>import</code>导入其他模块时会自动将暴露在外面的代码全部执行一遍。因此如果需要把某个文件封装成模块以供其他模块调用，就必须将要执行的代码放在<code>if __name__=='__main__':</code>块下面。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># utils_with_main.py</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_sum</span>(<span class="hljs-params">a, b</span>):<br>    <span class="hljs-keyword">return</span> a + b<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;testing&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#123;&#125; + &#123;&#125; = &#123;&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, get_sum(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)))<br></code></pre></td></tr></table></figure><p>总结来说就是</p><ul><li>import文件内的<code>if __name__=='__main__':</code>不会执行</li><li>主程序内的代码<code>if __name__=='__main__':</code>会执行</li></ul>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>文艺复兴文学——从神到人</title>
    <link href="/post/renaissance.html"/>
    <url>/post/renaissance.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>双脉发展的西方文学在中世纪时期，表现出的是宗教文化鼎盛、古希腊文化被压制，处于低谷。中世纪的僵化教义其中之一就是对于人权的剥夺，让人的吃、喝、爱都成了罪过。文艺复兴需要凭借着古希腊文化中的资源来反抗教权统治。凭借古希腊文化对于这些欲望的肯定来实现反禁欲。</p><ul><li><p>希伯来文化到基督教文学：强调宗教理性</p></li><li><p>古希腊文化文学：强调原欲文化和狂欢文化</p></li></ul><p>文艺复兴大约持续了三百年，这三百年时间是一个动态的持续推进的过程，通过<strong>对人权理解的不断深化</strong>，来寻求人的思想解放、寻求人的价值的探索：</p><ol><li><p>第一阶段： 延续反禁欲的命题，主要要吃、要喝、要爱的权力。如但丁的《神曲》</p></li><li><p>第二阶段：主张要求一个美好社会的权力，如《乌托邦》</p></li><li><p>第三阶段：主张追求梦想的权力，如《唐吉坷德》、《哈姆雷特》</p></li></ol><h2 id="第一阶段要吃要喝要爱"><a class="markdownIt-Anchor" href="#第一阶段要吃要喝要爱"></a> 第一阶段：要吃要喝要爱</h2><p>文艺复兴三杰：但丁、薄伽丘、彼特拉克</p><h3 id="薄伽丘十日谈"><a class="markdownIt-Anchor" href="#薄伽丘十日谈"></a> 薄伽丘《十日谈》</h3><p>《十日谈》是写人的欲望的，延续了但丁的命题。薄伽丘认为爱情是人类天然的权力，是自然的力量和规律。对于合理欲望的描写，主要集中在第四天、第五天中</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211081129933.jpg" alt="十日谈"></p><p>《十日谈》中的欲望分为两类：</p><ul><li>有罪的欲望（失控的欲望）：发生在教士身上、利用色情故事来揭开教会的虚伪面纱</li><li>一类是合理的欲望：普通青年男女的爱情故事</li></ul><p>例1、<a href="http://www.millionbook.com/wg/b/bujiaqiu/srt/305.htm">丽莎贝达的故事</a>：对于爱情作为人权核心内容的强烈表达</p><p>例2、<a href="http://www.ft77.com/book/mingzhu/shiritan/srt045.htm">爵士夫人的故事</a>：以“爱情是合理的欲望”作为依据，对民众尊重婚外情的行为表示肯定</p><h4 id="彼特拉克整理十四行诗"><a class="markdownIt-Anchor" href="#彼特拉克整理十四行诗"></a> 彼特拉克整理《十四行诗》</h4><p>彼特拉克的很多诗歌中的主人公都是一个劳拉的女孩，劳拉是彼特拉克现实中的一个普通人。这比之前《神曲》更近了一步<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="《神曲》中的贝亚特丽斯是以仙女的身份出现的，有含着一种爱圣母的情节">[1]</span></a></sup>，表现人和人相爱是合理的，爱情是合理的，是正当的，正常的普通男女的相爱，就是最美好的事情。</p><h4 id="拉伯雷巨人传"><a class="markdownIt-Anchor" href="#拉伯雷巨人传"></a> 拉伯雷《巨人传》</h4><p>《巨人传》中的 三代巨人都是特别能吃（刚出生时每顿喝一万多头牛供应的牛奶）：纠正反禁欲中的食欲是罪的命题，为食欲主张合理性</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211081054465.jpg" alt="巨人"></p><p>发明所有事物的工程师名为卡斯台尔，意为“胃”，象征着人们的食欲是一切发明的源泉、推进社会发展的动力</p><p>巨人生活细节：要奢华、要讲究：享乐同样是人类发明创造的动力之一</p><p>从根本上粉碎教会的禁欲学说，从根本上确立了人欲的合理性。随着时代地发展，文艺复兴对于人的权利和价值的理解也在不断变化——从人的基本欲望到社会的公平正义</p><h2 id="第二阶段寻求社会的公平正义"><a class="markdownIt-Anchor" href="#第二阶段寻求社会的公平正义"></a> 第二阶段：寻求社会的公平正义</h2><p>《乌托邦》：设置了一个公平正义的合理制度社会，成为文艺复兴当中对人权深化的重要命题</p><p><em>课程一句话简单略过，难道是怕审核不给过？笑死</em></p><h2 id="第三阶段追求梦想和掌握自己命运的权利"><a class="markdownIt-Anchor" href="#第三阶段追求梦想和掌握自己命运的权利"></a> 第三阶段：追求梦想和掌握自己命运的权利</h2><h3 id="堂吉诃德"><a class="markdownIt-Anchor" href="#堂吉诃德"></a> 《堂吉诃德》</h3><p><strong>故事概要</strong>：在一个骑士时代早已消失的时代，主角阿隆索·吉哈诺（唐·吉诃德原名）却因为沉迷于骑士小说，时常幻想自己是个中世纪骑士，自封拉曼却地区的守护者，拉着邻居桑丘·潘沙做自己的仆人，“行侠仗义”、游走天下，做出了种种与时代相悖、令人匪夷所思的行径，结果四处碰壁。但最终从梦幻中苏醒过来。回到家乡后死去</p><p><strong>骑士文学</strong>：是欧洲封建骑士的产物,就是一切关于骑士的文学作品，大致包括骑士抒情诗、骑士传奇、骑小说及后来的反骑I小说。骑士文学盛行于西欧，反映了骑士阶层的生活理想。他们的诗作歌唱现世生活和爱情，歌唱骑士的冒险，同时也有浓厚的宗教色彩，弥漫宗教神秘思想，并且往往掺杂着些奇异故事。</p><p><strong>传统骑士美德</strong>：主持民间正义，保护弱者，梦想拯救社会与众生。维护美德，忠于爱情，勇于挑战</p><p>在一个没有骑士的时代去做骑士，有一种时空的混乱感，本身就是一种荒谬。桑丘眼中现实角度与堂吉诃德的魔幻角度交织在一起。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211081054795.webp" alt="堂吉诃德大战风车"></p><p>作者本人为了不让其他人续写本书下半部分，用最后的生命写完本书。为什么用尽一生只为写一个疯子的故事？疯子的定义：疯子是一种从思想到语言到行为，都失去了理性和逻辑，给人—种混乱的荒诞的形象。</p><p>在一些具体的情节上，堂吉诃德在清醒时揭露当时西班牙的一些法律、社会现状和现实，并且一直为自由而战，因此说他是疯子未免过于片面。向往共有、和平、正义、自由、平等，在当时的欧洲是非常先进的思想，这不是一个疯子能够理解到的东西</p><p><code>“诸位很可能是有的届打成招，有的没钱通融，有的没有靠山，最终因为法官的枉判而落难，没有得到公正的待遇”。——堂吉诃德-第一节第22章</code></p><p><code>“我告诉你，桑丘，权贵们所是能够听得到赤裸裸的、未经阿谀包装的真情实话，就不会有眼下随处可见的黑暗世道。” ——堂吉诃德-第二卷</code></p><p><code>幸福的年代和幸福的岁月……那时似的人们还没有‘你的’和‘我的’这两个概念！在那个神圣的时代，一切都为共有 ……那时候，天下太平安宁，人们友善和睦……正义保存着自已的本色，尚未受到私情和利害的公然干扰和亵读，还没像今人这样遭到损坏，践踏和侵犯……——堂吉诃德-第一卷11章</code></p><p><code>“世上有两种高贵的血统：一类繁衍出王候后代………另一类始自贫贱，然后逐步腾达，成为显要。具区别在于，一些人祖辈是，自己不是；一些人祖辈不是，自己是”。</code></p><h4 id="思考"><a class="markdownIt-Anchor" href="#思考"></a> 思考</h4><p><strong>为什么这样一个拥有先进思想的人会被作者写成一个疯子？</strong></p><p>写成了当时的很多思想者的悲哀的处境：当你的思想和见解走在了大部分人前面的时候，当人们无法理解一个超前的思想者的思想的时候，往往就会被视为疯癫。塞万提斯写出了一代又一代具有超前的社会理想的思想家们的孤独感和悲哀感。堂吉诃德带着他的社会理想试图传播，但没有任何人能够理解，把它当做不可思议的东西。堂吉诃德的孤独和痛苦体现的是塞万提斯所体验到的文艺复兴时代那一代知识分子的孤独和痛苦</p><p><strong>为什么堂吉诃德的结局是最终自我“醒悟”，不在允许自己甚至自己的后代看骑士小说？</strong></p><p>文艺复兴时代的思想家们，最大的悲剧并不是不被理解，而是最终的时候自我否定。一代又一代知识分子在现实生活中碰壁，他们的思想不被接受也不被理解，不得不最终实现自我否定的悲伤结局。这就是塞万提斯写出的思想者们碰过的壁、流过的泪。</p><h2 id="哈姆雷特"><a class="markdownIt-Anchor" href="#哈姆雷特"></a> 《哈姆雷特》</h2><p>莎士比亚：十四行诗、喜剧、悲剧</p><p>四大悲剧（有争议）：《哈姆雷特》、《李尔王》、《奥赛罗》、《麦克白》</p><p>哈姆雷特</p><p>包装得最好、难以读懂，看上去就像是个简单的复仇故事。</p><p>故事概要：丹麦王子哈姆雷特的国王父亲突然暴亡，在外求学的哈姆雷特回来参加葬礼。人们都说他的父亲在花园睡觉时被毒蛇咬了去世的。但令哈姆雷特难过的是葬礼刚结束，母亲就要和他的叔叔克劳狄斯举行婚礼。并且在某一天老哈姆雷特的灵魂告诉他，自己是被你的叔叔谋杀的，希望哈姆雷特可以为自己报仇，之后的全篇都在讲哈姆雷特复仇的故事</p><ul><li>成功的复仇故事：《基督山伯爵》。复仇故事的基本规范是善有善报，恶有恶报</li><li>失败的复仇故事：《哈姆雷特》。哈姆雷特在复仇的过程中一直很犹豫，做了许多读者/观众无法理解的事情，最终完成复仇的时候，结局并不完美、不痛快，主要角色基本都死完了。因此并不能带着复仇的方向去读。</li></ul><h3 id="哈姆雷特的怪异行为"><a class="markdownIt-Anchor" href="#哈姆雷特的怪异行为"></a> 哈姆雷特的怪异行为</h3><p>当父亲的灵魂想让哈姆雷特帮他复仇时，哈姆雷特做了两件事：</p><ul><li>装疯：对身边的大臣、喜欢的姑娘、母亲装疯。在装疯之后，克劳狄斯就开始派人监视他，这是对复仇很不利的行为</li><li>排演宫廷戏剧：戏剧的内容是父亲鬼魂告诉他谋杀这件事的场景再现，演给他的叔叔和母亲看。这就相当于在告诉克劳狄斯他已经知道了真相。在戏剧结束后，他的叔叔安排了一系列的阴谋。</li></ul><p>这两件事对复仇这件事都是有害的。第一件事让他引起来敌人的注意，第二件事干脆就暴露了自己，丧失了复仇的主动权。哈姆雷特坐着两件事的原因：</p><p><strong>为什么要装疯</strong>：装疯是需要让别人觉得他的理性混乱。但哈姆雷特的装疯是拙劣的。在这些装疯的过程中，哈姆雷特并未显示他的理性混乱，只要这些人的良知还存在的话，他们都能听懂这些话的意思。</p><p><strong>第一次装疯</strong>：讽刺<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="鱼贩子是很狡猾的，但鱼贩子和你(老臣波洛涅斯)相比，鱼贩子都是老实的">[2]</span></a></sup>老臣波洛涅斯说：<code>我但愿你是一个鱼贩子一样的老实人</code></p><p>波洛涅斯在国王去世前宣誓效忠，但老哈姆雷特死后他们全局投靠了克劳狄斯，没有人为王子主持正义<sup id="fnref:3" class="footnote-ref"><a href="#fn:3" rel="footnote"><span class="hint--top hint--rounded" aria-label="老哈姆雷特死后，合法的继承人应该是哈姆雷特本人。但克劳狄斯公然篡夺了王位">[3]</span></a></sup>，都是墙头草一般。 这句话带有强烈的理性，绝对不是疯癫之人说出来的话，因此是危险发言</p><p><strong>第二次装疯</strong>：面对2个已经投奔新王的好朋友，哈姆雷特称其为海绵，说：<code>……你们这两块海绵，……吸收了很多功名利禄，等你们的网不要你们的时候，他把你们随便一捏，那些功名利禄就没有了</code>。同样是非常清醒、理性的提醒</p><p><strong>第三次装疯</strong>：跟喜欢的女孩（波洛涅斯派来打探是否真疯）说： <code>女人最重要的不是美貌，而是美德</code>，提醒奥菲利亚不要像王后一样。</p><h3 id="哈姆雷特装疯的原因"><a class="markdownIt-Anchor" href="#哈姆雷特装疯的原因"></a> 哈姆雷特装疯的原因</h3><p>与母亲的对话中提到如下发言，哈姆雷特就是想刺痛你们的良知，想唤醒他们，救赎他们。父亲灵魂希望他复仇，杀掉克劳狄斯就可以了。但哈姆雷特的想法是独特的，没有按照父令去做，杀掉一个暴君有什么用呢？还是要拯救众生。所以他先从王公里的众人们开始，<strong>拯救他们的灵魂</strong>。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">让我扭你的心，你的心倘若不是铁石打的，万恶的习惯倘若不曾把它硬化得透不进一点感情，那么我的话一定可以把它刺痛<br></code></pre></td></tr></table></figure><p>装疯这件事反映出哈姆雷特的两个特点：</p><ul><li>基督徒的灵魂救赎是宗教特征。救一个人不能使用暴力，而是进行灵魂救赎</li><li>不盲从的品质、独立思考、独立把握</li></ul><p>装疯的结果：众人陷入太深，无法从只言片语得到救赎，哈姆雷特不得不做第二步计划：目标对准他的叔叔，安排戏剧表演。</p><h3 id="安排戏剧表演的原因"><a class="markdownIt-Anchor" href="#安排戏剧表演的原因"></a> 安排戏剧表演的原因</h3><p>哈姆雷特突然有一个怀疑，不确定他父亲的灵魂是真实的了</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">万一我所看见的幽灵只是魔鬼的化身，借着一个美好的形状出现，看准我的柔弱和忧郁，向我作祟，引我进入沉沦……<br></code></pre></td></tr></table></figure><p>怀疑+宫廷表演计划反应出哈姆雷特另一个特点：不轻信——我不相信权威的结论，我只相信通过我眼睛看到的，然后独立分析独立判断来寻找真相。</p><p><strong>年轻人最大的两个缺点</strong>：面对权威的时候，我们会盲从、会轻信。哈姆雷特避开了这两点。到底克劳狄斯是不是杀人凶手，只能由他自己去观察、分析。安排宫廷表演的用意就是为了观察他叔叔的反应。如果叔叔是真凶，那他看到戏剧一定会有反应。</p><p>哈姆雷特个人品质需要结合时代背景来看。文艺复兴时期，欧洲经历了一千多年教会的驯化，就是一个愚民政策，要求普通人不要去思考，只要听从上帝权威、上帝、教皇、村里的教士的话就可以了，自己思考的东西是不可靠的。经过如此上千年的驯化，普通人已经没有独立思考的习惯了。哈姆雷特在经历如此重大事件时能够做到不轻信，不盲从，<strong>这就是一个思想者的崛起</strong>。<br>因此《哈姆雷特》不仅仅只是一个复仇故事，还是一个年轻的思想者蹒跚学步的故事。在经历了漫长的盲从轻信的神权时代后，《哈姆雷特》所体现的是一种以希腊思维方式<sup id="fnref:4" class="footnote-ref"><a href="#fn:4" rel="footnote"><span class="hint--top hint--rounded" aria-label="独立思考，逻辑思维，通过观察分析判断来总结真相。">[4]</span></a></sup>为资源的新的时代精神，哈姆雷特是追求人类独立理性的一个英雄。欧洲经历了一千多年的神权洗脑，要重新构建人类的主体理性，展开人类的独立思考、分析判断，这条道路是很艰难的。而哈姆雷特就是站在这个道路的起点的一个形象。</p><p><strong>安排戏剧的结果</strong>：克劳狄斯看完后脸色惊慌，脸色苍白走了。哈姆雷特确信他的叔叔就是真凶</p><h3 id="哈姆雷特犯的错误"><a class="markdownIt-Anchor" href="#哈姆雷特犯的错误"></a> 哈姆雷特犯的错误</h3><p><strong>该杀的时候没有杀</strong>：克劳狄斯看完戏后受到良心的刺激，回到皇宫后跪在地上忏悔。哈姆雷特从他的背后过来，并没有在克劳狄斯不知情的情况下将他杀掉。因为基督教的教义就是：不论人犯了多大的罪，只要在忏悔时死掉了，灵魂都会直接上天堂。哈姆雷特相信了这个迂腐的教义。任何的思想资源都有它的局限性，哈姆雷特虽然继承了基督的救赎精神，但也继承了基督教迂腐的僵化教义。于是错过了最好的杀人机会</p><p><strong>误杀波洛涅斯</strong>：哈姆雷特面见母亲，克劳狄斯安排了波洛涅斯在母亲窗帘后偷听，但母子一见面情绪爆发，搞得很不愉快。母亲以为儿子是真疯了，大喊救命。躲在窗帘后的波洛涅斯听到后跟着喊救命，暴怒的哈姆雷特以为窗帘后躲的是国王，于是隔着窗帘一剑刺死了波洛涅斯。</p><h3 id="理解哈姆雷特的两个错误"><a class="markdownIt-Anchor" href="#理解哈姆雷特的两个错误"></a> 理解哈姆雷特的两个错误</h3><p>莎士比亚尊重现实逻辑的表现。一个年轻的思想者想独立做出思考，独立把握自己的行为，一定是艰难的。这就是独立思考的艰难之处。思想资源是独立思考的依据，但思想资源无论是它时代的资源还是人文思想资源，都决定了独立思想资源本身具有复杂性。</p><p>哈姆雷特冲动、没有抑制自己的暴怒：暴怒作为基督教徒是不应该有的，哈姆雷特没有抑制住暴怒，是因为<strong>哈姆雷特身上有希腊的思想资源</strong>，希腊人不认为暴怒是罪。哈姆雷特的理性之路是悲壮的，就是因为他必须踏着错误前行，在付出的代价当中前行，但这些代价就是他成长的重要阶梯。</p><p>误杀的结局：哈姆误杀波洛涅斯事件让国王趁机设计了阴谋，将哈姆雷特派到英国，并让哈姆雷特的朋友带信告诉英王，见到哈姆雷特就杀掉他。</p><p>哈姆雷特在送往英国的途中发现了阴谋，偷偷逃回丹麦，让他的两个好友去见英王，结果被英王杀掉了。哈姆雷特发现在他离开期间，奥菲利亚发疯掉到水里去世了，引起了奥菲利亚的哥哥的愤怒，国王趁机将他父亲和妹妹的死嫁祸给哈姆雷特，于是他决定找哈姆雷特报酬。</p><h3 id="哈姆雷特的惨烈结局"><a class="markdownIt-Anchor" href="#哈姆雷特的惨烈结局"></a> 《哈姆雷特》的惨烈结局</h3><p>哈姆雷特中了国王的圈套，他让哈姆雷特和奥菲利亚的哥哥决斗：</p><ul><li>在奥菲利亚哥哥的剑上抹毒，只要剑刺中哈姆雷特，就会死</li><li>在哈姆雷特的庆功酒下毒，如果哈姆雷特赢了喝了庆功酒，哈姆雷特还是死</li></ul><p>哈姆雷特在决斗中占上风，准备喝庆功酒时被王后喝掉了，然后中毒身亡</p><p>决斗中场休息时，奥菲利亚的哥哥偷袭刺中了哈姆雷特，两人发生了争执，争执过程中不小心换了剑，哈姆雷特也用剑刺中了奥菲利亚的哥哥。奥菲利亚的哥哥最后说出了真相，告诉哈姆雷特剑、酒都有毒，三人都将会身亡。哈姆雷特拿起剑刺中国王，才完成了复仇。</p><p>《哈姆雷特》的后半段，丧失主动权的哈姆雷特面对国王的一个个阴谋，只能被动接受、无所作为。最终的惨烈结局也跟哈姆雷特无所作为是有关系的。作为复仇故事，后半段哈姆雷特的作为没有什么意义，但作为思想者的成长故事，后半段非常重要。</p><p>疑问：<strong>为什么哈姆雷特这样艰难地寻求独立思考，后半段却看上去还是那么被动，难道哈姆雷特的思考失败了吗？</strong></p><h3 id="评价墓地独白片段"><a class="markdownIt-Anchor" href="#评价墓地独白片段"></a> 评价：墓地独白片段</h3><p>哈姆雷特发现有人在掘墓，要安葬奥菲利亚。挖出来了一个骷髅头，哈姆雷特捧着骷髅头独自发问，询问骷髅头的生前身份、职业……最后知道这个骷髅头是老国王生前一个逗乐的小丑。哈姆雷特说：<strong>他生前这么逗乐，死后也成为了泥土</strong>。</p><p>表达人死后会变成什么？答案是一堆泥土。这在中世纪算是非常大逆不道的结论。基督教的重要立论基础是人有彼岸，人死了之后灵魂是不会死的。但哈姆雷特说人死了就会变成一堆泥土，人死后并没有所谓的天堂，这是是非常唯物的看法。在这点上，哈姆雷特打破了思想的禁锢，获得了思想的解放。</p><h3 id="思考者"><a class="markdownIt-Anchor" href="#思考者"></a> 思考者</h3><p>“生存还是毁灭，这是一个问题 ……是默然忍受民运的暴虐的毒箭，或是挺身反抗人世的无涯的苦难，通过斗争把他们扫清，这两种行为，哪一种更高贵？”</p><p>思考人该如何活着，我们应该忍耐还是反抗？在漫长的中世纪这个根本不是一个问题，也有着明确的答案：答案就是忍耐。教会告诉人们现世的一切都是要忍耐的，越忍耐现世的苦难，灵魂才能上天堂，这是已经有结论的东西。但在哈姆雷特这里，他把它重新变成了问题。当人们面对现实社会的矛盾时，我们应该忍耐还是积极对抗？这是一个问题，也是一个思想者的特征</p><p><strong>思想者</strong>：把那些看上去已经有既定答案的问题重新变成了问题。所谓思想者，就是当我们都认为一切都是理所当然得时候，思想者会敏锐地发现其中的不合理，发现其中的疑问，这就叫质疑的精神，也是一种提问题的能力。</p><p>哈姆雷特<strong>推翻了彼岸的价值、推翻了忍耐的态度，追问对追求目标时是否需要择手段</strong><sup id="fnref:5" class="footnote-ref"><a href="#fn:5" rel="footnote"><span class="hint--top hint--rounded" aria-label="哈姆雷特身边这些人就是为了目的不择手段的群体">[5]</span></a></sup>，《哈姆雷特》在后半段向观众/读者扔出了一个有一个的命题，将这些在中世纪已经成结论的东西重新推翻，将它们变成了需要重新思考、重新追问、推论的问题，这就叫思想者。</p><p>《哈姆雷特》讲述的是一个<strong>追求主体理性的思考者的痛苦艰难和成长的故事</strong>。哈姆雷特的魅力不是一个复仇者的魅力，而是一个思考者的魅力</p><p>本人疑问：莎士比亚说<code>一万个读者有一万个哈姆雷特</code>，跟《哈姆雷特》本身这部作品有什么关系？如果按照老师分析得如此透彻，那么哈姆雷特应该是一个固定姿态的形象。或者说这句话跟《哈姆雷特》本身没有什么关系，它只是说读者本身？</p><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>《神曲》中的贝亚特丽斯是以仙女的身份出现的，有含着一种爱圣母的情节<a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:2" class="footnote-text"><span>鱼贩子是很狡猾的，但鱼贩子和你(老臣波洛涅斯)相比，鱼贩子都是老实的<a href="#fnref:2" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:3" class="footnote-text"><span>老哈姆雷特死后，合法的继承人应该是哈姆雷特本人。但克劳狄斯公然篡夺了王位<a href="#fnref:3" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:4" class="footnote-text"><span>独立思考，逻辑思维，通过观察分析判断来总结真相。<a href="#fnref:4" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:5" class="footnote-text"><span>哈姆雷特身边这些人就是为了目的不择手段的群体<a href="#fnref:5" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>历史</tag>
      
      <tag>文学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>《低俗小说》剧透解析</title>
    <link href="/post/disuxiaoshuo.html"/>
    <url>/post/disuxiaoshuo.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p><strong>好电影是一面镜子，你浅它也浅，你深它也深。</strong></p><p>《低俗小说》是1994年的电影，真正的电影爱好者都知道，1994年是个神奇的电影年，好电影一口气数不过来。但是《低俗小说》竟然杀出重围，获得了第47届戛纳电影节金棕榈大奖，至今任然排在IMDB前几名。金棕榈代表专业审美，IMDB代表大众口味，充分说明了电影雅俗共赏的特点。</p><p>但国内的观众，尤其是刚刚接触电影的年轻人，应该是很难体会到它的精彩，所以有很多疑问，然后就有很多胡说八道的，看起来很头疼。</p><p>我们今天就来聊一聊，这个电影到底好在哪里。</p><p>首先要知道一点，这是一部包含大量“抄袭”的拼盘式电影，注意“抄袭”是要打引号的，在电影领域一般叫做致敬。</p><p>对于电影来说，致敬一两个镜头是很正常的事情，可是《低俗小说》在<a href="https://link.zhihu.com/?target=https%3A%2F%2Fwww.imdb.com%2Ftitle%2Ftt0110912%2Fmovieconnections%23references">IMDB</a>上统计出了100多个，致敬老电影和流行文化的桥段，整个是“天下文章一大抄”。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211111652614.png" alt></p><p>镜头致敬我们可以找画面印证，文化习俗的东西却不好说。</p><p>打个比方，中国人喜欢打麻将，你拍个电影用了麻将术语，老外就不懂了吧。</p><p>《让子弹飞》里边张麻子为什么是九筒大哥呢？我们乡下打麻将就把九筒叫“老麻子”，这个估计很多中国人都不知道，你说老外怎么理解。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211111652027.png" alt></p><p>我们说句“不三不四”，中国人都知道啥意思，翻译给老外听听【no three no four】，他要能明白了，我把26个字母都吃了。这就是文化的差异。</p><p><strong>《低俗小说》有三个故事，分五个段落讲完，并没有什么时空的循环，只是简单的插叙倒叙而已，结构很清晰。</strong></p><p>在当年，看惯了一个故事的观众来说，可能有点颠覆，对于现在的观众，叙事结构上反而不会有障碍，比如《权力的游戏》和《西部世界》这种美剧，叙事结构要比电影复杂得多。</p><p>而且这种几个故事的电影早就有了，比如1963年的《黑色安息日》，也叫《吓人三次》 ，所以<strong>瞎吹什么“开创了一种全新的叙事方法”，绝对是撸不到重点假装高潮。</strong></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211111651042.png" alt></p><h3 id="观感"><a class="markdownIt-Anchor" href="#观感"></a> 观感</h3><p>《低俗小说》这个片名，说的就是路边摊上卖的一些低俗的报刊杂志，所以想要从故事里面看出什么内涵来，基本就是走偏了。</p><p>最初看这部电影的感受就真的是“低俗”，它颠覆了所有一本正经的传统电影，镜头关注着传统电影不会关注的细节，啰嗦、尴尬甚至有点恶心，就是不明白好在哪里，那时候什么金棕榈都是没有概念的东西，顶多知道个奥斯卡。</p><p>但是很多场景都印象深刻，主要是因为被恶心到了。直到多年以后，电影看多了，经常发现某些镜头好像在《低俗小说》里出现过，然后会再找出来重看一遍，这种情况重复了无数次，电影竟然越看越好看。</p><p>比如最难忘的扭扭舞片段，可能来自电影《八部半》，动作和感觉都极为相似。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211111651803.png" alt></p><p>马沙和布奇讲道理，分镜头很像1989年的《越战创伤》，马沙的演员也是同一个人。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211111651979.png" alt></p><p>布奇打死了对手，逃跑的出租车，和电影《出租车司机》里面的车型相同，车内的对话分镜头也相似。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211111651683.png" alt></p><p>小女友和布奇调情的戏分，说喜欢他身上的汗味。这个和《愤怒的公牛》里面的情节相同，而且《愤怒的公牛》也是讲的一个拳击手的故事。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211111651089.png" alt></p><p>马沙被爆菊，而布奇被绑在旁边排队等候，这个桥段来自1972年的电影《激流四勇士》，画面太尴尬了。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211111651392.png" alt></p><p>文森开箱子发呆的镜头，和《美国往事》当中面条开帮会箱子的镜头相同，而那个耀眼的黄光可能参考了1955年的电影《死吻》。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211111651706.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211111651140.png" alt></p><p>有很多是是而非的镜头，可能是致敬也可能不是，这就是一种感觉，信就信，不信就不信，并不重要。</p><p>前面说过，流行文化不好验证，有兴趣的搜一下IMDB自己去查证。</p><h3 id="那什么是重要的"><a class="markdownIt-Anchor" href="#那什么是重要的"></a> 那什么是重要的？</h3><p>大量致敬的大杂烩，并不能解释金棕榈大奖的由来，戛纳不会无缘无故，鼓励一个“抄袭”的碎片化电影。</p><p>究其原因，<strong>电影叙事上很完整，而且观影效果很爽，对于专业人士来说，就是镜头语言成熟老练，而形式上又新奇独特；对于普通大众来说，就是越看越好看。</strong></p><p>影片的对白很密集，但是很多时候说的都不是什么重要的信息，就是闲聊和耍贫嘴，感觉像生活录像一样的随意，就算错过几句话照样能接上。</p><p>那么看多了之后就发现，其实我前面说的故事骨架也不重要，它们起的作用只是维持叙事的框架不散，<strong>真正有意思的反而是那些反常规的桥段。</strong></p><p>比如朱斯杀人之前吃了别人的汉堡，还要念一段圣经。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211111651568.png" alt></p><p>比如马沙讲道理，镜头盯着布奇停留了很长时间，完全抛弃了传统的场景交代和对话正反打。</p><p>蜜儿吸白粉昏迷的那一段，剪辑手法也有点反常，连着用了几个蜜儿的面部特写，一个文森的镜头都没有，只有他的旁白，但你完全能想到他是个么神马样子。</p><p>然后就是抢救那场戏，在粉店老板的家里，他老婆被吵醒很不爽，出来吵架，镜头不用正反打，就一直两边瞎摇晃，既紧张又真实，然后旁边沙发还坐着个懵逼的观众，非常搞笑。</p><p>有一个地方更奇怪，就是第三个故事的标题【邦妮的状况】。</p><p>邦妮在片子里面就没有正式出场，只有一个背影镜头还是吉米的想象。但正是因为有这个邦妮的存在，第三个故事的善后才有充分的理由。</p><p>为什废宅吉米不怕警察怕老婆呢？电影里面看到的其实都是不正常现象，社会的主流还是像邦妮一样正常工作的良民，所以见不得人的东西才需要掩盖。</p><p>我们平常看到的黑帮电影，基本都是疯狂的砍杀，或者枪战加飙车，老百姓死有余辜，警察总是最后出来洗地，哪有什么需要善后的情节。</p><p><strong>《低俗小说》就是一部反常规的电影，调侃了很多电影的不合理之处，而他自己关注的角度，都是吃喝拉撒和一些无法回避的生活细节。</strong></p><p>比如文森每次上厕所出来都会出大事，最后还死在厕所里头。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211111651811.png" alt></p><p>比如很多故事发生的时间都是吃早餐的时间。抢劫快餐店是个什么操作？那两个二货研究半天认为抢快餐店最安全的，结果遇到两个杀手，把自己吓得半死。</p><p>屌炸天的黑帮老大被一个小警察给爆了菊。迷死人不偿命的黑帮大嫂，因为吸粉过量搞得死去活来狼狈不堪。</p><p>各种作死的拳击手处处有惊无险，最后还能带着呆萌女友逃出生天。</p><p>这都是来源于导演对电影语言的把握，他知道人们看腻了一本正经的电影，就来个胡说八道的，制造了一个大概率意外事件的大杂烩，顺带着致敬了一百多个老电影，其实有很多也可能是嘲讽。</p><p>关键是他还能HOLD住了，整体观感很流畅，如果是个笑点低的人，小心笑出内伤。</p><p>发现没有，<strong>欣赏这部电影能获得极佳快感的前提是，你要看过很多电影，最好是看腻味了，一说看电影都有点烦，然后突然看到这么个电影，就会特别特别的惊喜。</strong></p><p>这是一部送给真正电影爱好者的礼物。</p><p>比如2018年的火爆大片《头号玩家》，你玩过的游戏越多，看过的电影越多，就越有快感。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211111651542.png" alt></p><p>很遗憾我们现在的观众生晚了，《低俗小说》已经成为被别人模仿致敬的经典。</p><p>首先是从叙事的结构上看，这种几个故事交叉叙事的电影就多了，得奖的也不少。</p><p>比如《撞车》、《通天塔》、《太阳照常升起》等等，各有各的特点，但都是非常优秀的作品。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211111651174.png" alt></p><p>从镜头桥段来看，也有很多。</p><p>比如1999年的《处刑人》，两个年轻的杀手就喜欢念着圣经杀人，其中一个就是年轻的“弩哥”，帅。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211111651339.png" alt></p><p>《西部世界》的两大主角就曾经用对口型的方式，模仿了《低俗小说》的经典打劫片头。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211111651606.png" alt></p><p>还有剧中蜜儿说她曾经拍过的一部剧，后来真的被拍成了电影，就是《杀死比尔》，还是她自己演的。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211111651196.png" alt></p><p>那么有人说，经典我还是看不懂怎么办？</p><p>不着急，谁还没年轻过？继续提高观影量，至少看个三百五百部电影，你才好意思说是个电影爱好者吧。</p><p>注意了，几分钟看电影的那些不能算你看过了！</p><p>然后你再回头细看经典，绝对是不同的东西。</p><p>如果你看电影只图一乐，根本不在乎优劣，那别人为什么要拍得你能看懂？</p><p>比如《邪不压正》好多人说看不懂，人家就入选了多伦多电影节，姜文还受邀请讲大师课，你说是谁的问题？</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211111651945.png" alt></p><p>最后一个，按照中国人的习惯，看个电影必须要找出个中心思想和教育意义，否则高尚的情操无处显摆，这都是九年制义务教育的功德。</p><p>可是《低俗小说》这种电影，还真的可能没什么教育意义。</p><p>比如这么说：<em>三个故事相对独立又相互交织，描绘出一幅惊人的社会大图景，黑暗、暴力、荒诞、颓废，无情揭露了一个罪恶之城洛杉矶，深刻批判了万恶的资本主义。</em></p><p>看起来像那么回事吧，其实就是自带立场的偏执，属于毫无营养的废话。</p><p>真正应该关注的是电影的镜头语言和趣味桥段的编排。**什么是雅俗共赏？**假如你是专业向，电影有很多技术的东西值得研究，假如你是普通观众，就体会它的笑点和视觉冲击力。</p><p><strong>好电影就是一面镜子，你浅它也浅，你深它也深。</strong></p><p>转载自：<a href="https://movie.douban.com/review/9657259/">豆瓣影评</a></p>]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>电影</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python3.8速通</title>
    <link href="/post/python3sutong.html"/>
    <url>/post/python3sutong.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><h3 id="数据类型"><a class="markdownIt-Anchor" href="#数据类型"></a> 数据类型</h3><p>官方文档：<a href="https://docs.python.org/zh-cn/3.8/library/stdtypes.html#">https://docs.python.org/zh-cn/3.8/library/stdtypes.html#</a></p><p>数字、二进制（略）</p><p>字符串</p><p>str对象，即字符串。单引号<code>'xxx'</code>、双引号<code>&quot;xxx&quot;</code>、三重引号<code>&quot;&quot;&quot;xxx&quot;&quot;&quot;</code>表示。由Unicode码构成的不可变序列，实现了所有一般序列的操作（略）</p><h4 id="format函数"><a class="markdownIt-Anchor" href="#format函数"></a> format()函数</h4><p>通过format对字符串进行占位操作。或者使用另一种写法<code>f&quot;xxx……&quot;</code>，注意使用该写法时{}中应使用变量名，而非index</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs routeros">name = <span class="hljs-string">&quot;xiaozhou&quot;</span><br>age = 18<br>height = 1.8<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;我的名字是 &#123;&#125; !我 &#123;&#125; 岁了，我 &#123;&#125; 米高~&quot;</span>.format(name, age, height))<br><br><span class="hljs-comment"># 可以通过index来调整传入的值，甚至可以复用</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;我的名字是 &#123;0&#125; !我 &#123;2&#125; 岁了，我 &#123;1&#125; 米高,我就是&#123;0&#125;&quot;</span>.format(name, height, age))<br><br><span class="hljs-comment"># 可以根据key来传值，也可以设置百分比(如下保留2位小数点)</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;我的名字是 &#123;nm&#125; !我 &#123;age&#125; 岁了，我 &#123;ht:.2f&#125; 米高,我就是&#123;nm&#125;&quot;</span>.format(<span class="hljs-attribute">nm</span>=name, <span class="hljs-attribute">ht</span>=height, <span class="hljs-attribute">age</span>=age))<br><br><span class="hljs-comment"># 另一种写法,在字符串前加 f,&#123;&#125;中可以是运算符</span><br><span class="hljs-built_in">print</span>(f<span class="hljs-string">&quot;我的名字是 &#123;name&#125; !我 &#123;age&#125; 岁了，我 &#123;height&#125; 米高~&quot;</span>)<br><br>ROUTEROS<br></code></pre></td></tr></table></figure><table><thead><tr><th>方式</th><th>内容</th></tr></thead><tbody><tr><td>:,</td><td>每 3 个 0 就用逗号隔开，比如 1,000</td></tr><tr><td>:b</td><td>该数字的二进制</td></tr><tr><td>:d</td><td>整数型</td></tr><tr><td>:f</td><td>小数模式</td></tr><tr><td>:%</td><td>百分比模式</td></tr></tbody></table><h4 id="字符串修改"><a class="markdownIt-Anchor" href="#字符串修改"></a> 字符串修改</h4><table><thead><tr><th style="text-align:left">方式</th><th style="text-align:left">意思</th><th>例子</th></tr></thead><tbody><tr><td style="text-align:left">strip</td><td style="text-align:left">去除两端的空白符</td><td>“ 我不想要前后的空白，但是 中间\n的可以有\n “.strip()</td></tr><tr><td style="text-align:left">replace</td><td style="text-align:left">替换字符，未找到不替换不报错</td><td>“帮我替换掉你好”.replace(“你好”, “Hello”)</td></tr><tr><td style="text-align:left">lower</td><td style="text-align:left">全部做小写处理</td><td>print(“How ABOUT lower CaSe?”.lower())</td></tr><tr><td style="text-align:left">upper</td><td style="text-align:left">全部做大写处理</td><td>print(“And upper CaSe?”.upper())</td></tr><tr><td style="text-align:left">title</td><td style="text-align:left">仅开头的字母大写</td><td>print(“do tiTle For me”.title())</td></tr><tr><td style="text-align:left">split</td><td style="text-align:left">按要求分割</td><td>`print(“你</td></tr><tr><td style="text-align:left">join</td><td style="text-align:left">按要求合并</td><td>`print(“</td></tr><tr><td style="text-align:left">startswith</td><td style="text-align:left">判断是否为某字段开头</td><td>print(“我在街头看到你”.startswith(“我在”))</td></tr><tr><td style="text-align:left">endswith</td><td style="text-align:left">判断是否为某字段结尾</td><td>print(“我在巷尾看到你”.endswith(“看到你”))</td></tr></tbody></table><p><strong>一般序列</strong></p><p>三种基本序列操作：list、tuple、range。大部分序列均支持以下操作</p><table><thead><tr><th><code>x in s</code></th><th>如果 <em>s</em> 中的某项等于 <em>x</em> 则结果为 <code>True</code>，否则为 <code>False</code></th><th>(1)</th></tr></thead><tbody><tr><td><code>x not in s</code></td><td>如果 <em>s</em> 中的某项等于 <em>x</em> 则结果为 <code>False</code>，否则为 <code>True</code></td><td>(1)</td></tr><tr><td><code>s + t</code></td><td><em>s</em> 与 <em>t</em> 相拼接</td><td>(6)(7)</td></tr><tr><td><code>s * n</code> 或 <code>n * s</code></td><td>相当于 <em>s</em> 与自身进行 <em>n</em> 次拼接</td><td>(2)(7)</td></tr><tr><td><code>s[i]</code></td><td><em>s</em> 的第 <em>i</em> 项，起始为 0</td><td>(3)</td></tr><tr><td><code>s[i:j]</code></td><td><em>s</em> 从 <em>i</em> 到 <em>j</em> 的切片</td><td>(3)(4)</td></tr><tr><td><code>s[i:j:k]</code></td><td><em>s</em> 从 <em>i</em> 到 <em>j</em> 步长为 <em>k</em> 的切片</td><td>(3)(5)</td></tr><tr><td><code>len(s)</code></td><td><em>s</em> 的长度</td><td></td></tr><tr><td><code>min(s)</code></td><td><em>s</em> 的最小项</td><td></td></tr><tr><td><code>max(s)</code></td><td><em>s</em> 的最大项</td><td></td></tr><tr><td><code>s.index(x[, i[, j]])</code></td><td><em>x</em> 在 <em>s</em> 中首次出现项的索引号（索引号在 <em>i</em> 或其后且在 <em>j</em> 之前）</td><td>(8)</td></tr><tr><td><code>s.count(x)</code></td><td><em>x</em> 在 <em>s</em> 中出现的总次数</td><td></td></tr></tbody></table><h3 id="列表list"><a class="markdownIt-Anchor" href="#列表list"></a> 列表list</h3><p>list=[‘1’,’2’,’3’]，可存放不同类型元素，支持多维列表</p><p><strong>创建</strong></p><p>list=[]</p><p>list=[1,2,3,4]</p><p>lx for x in iterable迭代器生成</p><p>list()转换</p><p><strong>增</strong></p><p>追加：append()函数</p><p>插入：insert(index, n)函数：将n插入index这个位置</p><p><strong>删</strong></p><p>按下标删除1：pop(index)函数，无参则删除末尾元素</p><p>按下标删除2：del listname[index]，del indexname删除整个变量</p><p>按元素删除：remove(n)函数: n为list中的元素，并非index</p><p><strong>改</strong></p><p>改元素：list[index]=’xxx’</p><p>清空元素：clear()函数</p><p>合并列表：s.extend(list)：将list的内容追加到s后面</p><p>反转列表：reverse()函数，反转元素</p><p>排序列表：sort()函数，对本函数进行原地排序</p><p><strong>查</strong></p><p>查位置：index()函数，元素返回所在下标</p><p>查内容：list(index)，以下标查询元素内容</p><h3 id="字典dict"><a class="markdownIt-Anchor" href="#字典dict"></a> 字典Dict</h3><p>dic={“n1”:1, “n2”:”2”, “n3”:[13,4,5]}。键值对形式存在，key是唯一键，value可不同类型、可重复。键值对保留为插入时顺序</p><p><strong>创建</strong></p><ul><li>空字典：dic={}</li><li>字典：dic={“n1”:’”1”, “m”:”2”}</li><li>字典推导式：<code>&#123;x: x**2 for x in (2, 4, 6)&#125;</code></li><li>dict()转换：dict(spe=123, guido=456,jack=789)</li></ul><p><strong>增</strong></p><p>dic[key]=value，直接添加</p><p>复制其他dic：copy()函数</p><p><strong>删</strong></p><p>删除指定kv：pop(key)函数，key必填，删除前返回value值</p><p>删除指定kv：del dic[key]：若key不存在则报错。</p><p>清空dic: clear()函数</p><p><strong>改</strong></p><p>更新dic的值：update()</p><p>修改指定key的值：dic[‘key’]=xxx</p><p><strong>查</strong></p><p>查字典长度：len(dic)函数</p><p>查是否存在：key in dic 或key not in dic</p><p>查所有key：items()函数</p><p>查所有value：values()函数</p><p>查指定value：get(key)函数</p><p>返回value，若没有则个返回默认值：setdefault(key，default)函数</p><p><strong>其他</strong></p><p>循环方式(1)同时获取键值对：<code>for k, v in knights.items():print(k,v)</code></p><p>循环方式(2)获取指定键值对：<code>for i,v in enumerate(['a', 'b', 'c']):print(i,v)</code></p><p>循环方式(3)多序列循环：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs stylus">questions = <span class="hljs-selector-attr">[<span class="hljs-string">&#x27;name&#x27;</span>, <span class="hljs-string">&#x27;quest&#x27;</span>, <span class="hljs-string">&#x27;favorite color&#x27;</span>]</span><br>answers = <span class="hljs-selector-attr">[<span class="hljs-string">&#x27;lancelot&#x27;</span>, <span class="hljs-string">&#x27;the holy grail&#x27;</span>, <span class="hljs-string">&#x27;blue&#x27;</span>]</span><br><span class="hljs-keyword">for</span> <span class="hljs-selector-tag">q</span>,<span class="hljs-selector-tag">a</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(questions, answers):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;What is your &#123;0&#125;, it is &#123;1&#125;&#x27;</span><span class="hljs-selector-class">.format</span>(<span class="hljs-selector-tag">q</span>,a))<br><br>STYLUS<br></code></pre></td></tr></table></figure><p>…………</p><h3 id="元组"><a class="markdownIt-Anchor" href="#元组"></a> 元组</h3><p>files = (“file1”, “file2”, “file3”)，注意列表用[]，元组用()，也可无需使用()，决定元组的是逗号而不是括号。</p><p>元组是不可变序列，元素定义初始化后不可更改。</p><p><strong>增</strong></p><p>tup=()</p><p>tup=2,3,4或tup=(2,3,4)：此语法是一样的</p><p>tuple()函数转换</p><ul><li>元组打包：tup=1，2，3</li><li>序列解包：x,y,z = tup，tup可分别赋值给x、y、z</li></ul><p><strong>查</strong></p><p>查数量：len()</p><p>查位置：index(n)查询n所在下标</p><p>查指定元素：tup[index]</p><h3 id="set集合"><a class="markdownIt-Anchor" href="#set集合"></a> set集合</h3><p>files = {“file1”, “file3”, “file5”} ， set中的是无序、不重复的，常用于元素检测、消除重复元素、交集并集等操作。</p><p><strong>创建</strong></p><ul><li>创建带元素的集合：files = {“file1”, “file3”, “file5”}</li><li>创建空集：a=set()</li><li>集合推导式：<code>&#123;c for c in 'abracadabra' if c not in 'abc'&#125;</code></li><li>set()函数转换</li></ul><p><strong>增</strong></p><p>add()函数 新增元素</p><p><strong>删</strong></p><p>set.remove(n)：删除n元素</p><p><strong>改</strong></p><p>update()函数 更新</p><p>clear()清空</p><p><strong>数学操作</strong></p><p>交集：set.intersection(set1) 即&amp;，获取共同存在的元素集合</p><p>并集：set.union(set1) 即 | ，获取两者所有元素（不重复）</p><p>补集：set.difference(set1) 即 - ，获取set中set1不存在的元素</p><h3 id="函数"><a class="markdownIt-Anchor" href="#函数"></a> 函数</h3><p><strong>定义</strong></p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">function</span>(<span class="hljs-params">parm1，parm2</span>):<br>……<br><span class="hljs-keyword">return</span> xxx<br><br><span class="hljs-variable constant_">PYTHON</span><br></code></pre></td></tr></table></figure><p><strong>传参</strong></p><p>Python的参数传递既不是值传递也不是引用传递，而是赋值传递。参数传递时，Python让新变量与原变量指向了相同的对象。一个对象是可以被多个变量所指向的，也就是说一个参数传入函数后，会有另一个变量指向它</p><ul><li>当参数为不可变对象时，所有指向该变量的值总是一样的，不会改变（改变之后是一个新对象）</li><li>当参数为可变对象时，在函数中修改时对影响所有指向该对象的变量</li></ul><p>注意：</p><ol><li>变量是可以被删除的，但对象无法被删除</li><li>要想在函数中改变外部传进来的参数，要么重新对其赋值，要么将其return</li></ol><p><strong>参数类型</strong></p><ul><li>必传参数：直接声明</li><li>关键字参数：传参时可设置参数名，防止乱序<code>function(parm1=0, parm2=1)</code></li><li>默认参数，调用时可选填：<code>def function(parm1, parm=1)</code></li><li>不定量参数，调用时可传入更多参数：<code>def function(parm1, *parm2)</code></li></ul><p><strong>匿名函数</strong></p><p>lambda表达式创建，没有代码块，只有一个表达式<code>sum = lambda parm1, parm2 : parm1 + parm2</code></p><p>冒号前表示输入参数，冒号后表示函数输出；</p><p><code>lambda:None</code>表示没有输入参数，且输出None</p><h3 id="类"><a class="markdownIt-Anchor" href="#类"></a> 类</h3><p>创建：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Pepole</span>:<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span></span>):<br><span class="hljs-variable language_">self</span>.name=<span class="hljs-string">&#x27;xxx&#x27;</span><br>……<br>xxx=xxx<br>……<br><br><span class="hljs-variable constant_">RUBY</span><br></code></pre></td></tr></table></figure><p><code>self</code>：在类中获取当前类的功能或属性</p><p><code>__init__()</code>：类被实例化时会自动调用<code>__init__()</code>函数，用于初始化设置</p><p><strong>继承</strong></p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-keyword">class</span> <span class="hljs-symbol">Chinese</span>(<span class="hljs-symbol">Pepole</span>):<br>……<br><br><span class="hljs-symbol">ANGELSCRIPT</span><br></code></pre></td></tr></table></figure><p>Chinese继承了Pepole类，继承了Pepole的函数和属性，在子类中可以复用Pepole的属性和函数，以减少公有属性或功能的开发</p><p><strong>函数和属性的私有化</strong></p><table><thead><tr><th>私有程度</th><th>介绍</th></tr></thead><tbody><tr><td>_ 一个下划线开头，如_age</td><td>弱隐藏，不想让调用者使用。但若必须调用还是可以用的</td></tr><tr><td>__ 两个下划线开头，如__password</td><td>强隐藏，不让调用者使用，自己在内部可以用</td></tr></tbody></table><p><strong>类的特殊方法</strong><br><code>__new__()</code>；构造函数，用于创建对象</p><p><code>__init__()</code>类被实例化后自动调用，用于初始化实例对象，可被继承。若子类需要调用，需显式调用，以确保父类正确初始化</p><p><code>__repr__()</code>输出对象的字符串（正式值），返回的字符串准确、无歧义，尽可能表达出如何创建出来的这个对象</p><p><code>__str__()</code>输出对象的字符串（非正式值），返回的字符串可读性更高，使用更方便</p><p><code>__iter__()</code>创建迭代器时被调用，遍历序列时使用</p><p><code>__next__()</code>从容器中返回下一项</p><p>……</p><p><strong>模块管理</strong></p><p>如下多种引用方式：</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs applescript"><span class="hljs-comment"># 引用其他模块（也可以是同路径下.py文件）</span><br>import <span class="hljs-built_in">file</span> <span class="hljs-comment"># file为文件名，不带py</span><br>print(<span class="hljs-built_in">file</span>.create_name()) <span class="hljs-comment"># create_name是file.py中定义的函数</span><br><br><span class="hljs-comment"># 引用其他模块中的多个函数</span><br><span class="hljs-keyword">from</span> <span class="hljs-built_in">file</span> import get_name, get_age<br><br><span class="hljs-comment"># 引用模块下所有函数</span><br><span class="hljs-keyword">from</span> <span class="hljs-built_in">file</span> import *<br><br><span class="hljs-comment"># 模块重命名，使用 as 关键字</span><br>import <span class="hljs-built_in">file</span> <span class="hljs-keyword">as</span> f<br><br>APPLESCRIPT<br></code></pre></td></tr></table></figure><h2 id="编码风格"><a class="markdownIt-Anchor" href="#编码风格"></a> 编码风格</h2><ol><li>使用4个空格缩进，不使用制表符</li><li>一行代码不超过79字符</li><li>函数和类之间用空行分开</li><li>注释尽量单独放一行</li><li>函数、类明规则命名</li><li>…………</li></ol><h2 id="目录管理"><a class="markdownIt-Anchor" href="#目录管理"></a> 目录管理</h2><p><strong>增</strong></p><p>新增目录：<code>os.mkdir()</code>，多级目录<code>os.makedirs()</code></p><p>复制文件：<code>shutil.copy2()</code></p><p><strong>删</strong></p><p>删除空目录：<code>os.removedirs</code></p><p>删除目录及其所有子目录(需导入) ：<code>shutil.rmtree()</code></p><p><strong>查</strong></p><p>查看当前目录：<code>os.getcmd()</code>、<code>realpath</code></p><p>查看某文件所在的目录名：<code>os.path.dirname()</code></p><p>查看当前目录下的文件列表<code>os.listdir</code></p><p>查看文件或目录是否存在：<code>os.path.exists()</code></p><p>查看是否是文件/目录：<code>os.path.isfile()/isdir()</code></p><p><strong>其他操作</strong></p><p>切分文件全名中的目录和文件：<code>os.path.split()</code></p><h2 id="文件操作"><a class="markdownIt-Anchor" href="#文件操作"></a> 文件操作</h2><p>脚本环境下获取当前工作区目录：<code>os.path.split(os.path.realpath(__file__))[0]</code></p><p>命令环境下获取当前工作区目录：<code>os.getcwd()</code>或<code>os.path.abspath('.')</code></p><p>如果在只写模式中读取，或在只读模式中写入，会报<code>io.UnsupportedOperation</code>错误</p><p><strong>增</strong></p><ul><li><code>w</code>为写入模式，文件不存在则创建，文件已存在则直接会覆盖</li><li><code>w+</code>为可读可写模式，不存在则创建，文件已存在则直接会覆盖</li><li><code>a</code>为写入模式，文件不存在则创建，已存在则不覆盖，追加在文件末尾</li><li><code>a+</code>可读可写，文件不存在则创建，已存在则不覆盖，追加在文件末尾</li></ul><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">f=<span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;new_text.txt&quot;</span>, <span class="hljs-string">&quot;w&quot;</span>):<br>f.<span class="hljs-built_in">write</span>(<span class="hljs-string">&quot;abcdefg&quot;</span>)<br>f.flose()<br><br><span class="hljs-comment"># 或者使用with写法</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;new_text.txt&quot;</span>, <span class="hljs-string">&quot;w&quot;</span>) <span class="hljs-keyword">as</span> f:<br>f.writelines([<span class="hljs-string">&quot;abcdefg\n&quot;</span>,<span class="hljs-string">&quot;123456\n&quot;</span>])<br><br>LIVECODESERVER<br></code></pre></td></tr></table></figure><p>**with：**当使用with时，会自动调用类的<code>__enter__()</code>，然后开始执行with下面的语句，执行结束后会自动调用<code>__exit__()</code></p><p>**writelines：**传入列表格式的数据使用，会分行写入</p><p><strong>删</strong></p><figure class="highlight isbl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs isbl"><span class="hljs-variable">import</span> <span class="hljs-variable">os</span><br><br><span class="hljs-variable"><span class="hljs-keyword">if</span></span> <span class="hljs-function"><span class="hljs-title">exists</span>(<span class="hljs-string">&quot;text.txt&quot;</span>):</span><br><span class="hljs-function"><span class="hljs-variable">os.remove</span>()</span><br><span class="hljs-variable"><span class="hljs-keyword">else</span></span>:<br><span class="hljs-function"><span class="hljs-title">print</span>(<span class="hljs-string">&quot;This file does not exist!&quot;</span>)</span><br><br><span class="hljs-variable">ISBL</span><br></code></pre></td></tr></table></figure><p><strong>查/改</strong></p><ul><li><code>r</code>为读取模式，文件不存在时会报<code>FileNotFoundError</code>错误</li><li><code>r+</code>为可读可写模式，文件不存在时会报<code>FileNotFoundError</code>错误，写操作会覆盖</li></ul><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs haxe"><span class="hljs-meta"># 修改</span><br>with open(<span class="hljs-string">&quot;test.txt&quot;</span>, <span class="hljs-string">&quot;r+&quot;</span>) as f:<span class="hljs-type"></span><br>    <span class="hljs-keyword">new</span><span class="hljs-type">_context</span> = f.read()+<span class="hljs-string">&quot;\n66666666666&quot;</span><br>    f.write(<span class="hljs-keyword">new</span><span class="hljs-type">_context</span>)<br>    print(<span class="hljs-string">&quot;新内容:\n&quot;</span>+<span class="hljs-keyword">new</span><span class="hljs-type">_context</span>)<br><br>HAXE<br></code></pre></td></tr></table></figure><p><strong>读写二进制</strong></p><p><code>wb</code>&amp;<code>rb</code>为读写二进制数据，<code>r</code>读取文件时，读到文档结束符（EOF）就算是读完了，但字节<code>\x1A(26)</code>转成字符后就是文档结束符，因此使用<code>r</code>可能会出现文档读取不全的现象。</p><ul><li>使用<code>r</code>读取，<code>read()</code>返回的是字符串数据</li><li>使用<code>rb</code>读取，<code>read()</code>返回的是bytes数据</li></ul><p><strong>指定编码</strong></p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">with</span> <span class="hljs-keyword">open</span>(&quot;test.txt&quot;,&quot;w&quot;, encoding=&quot;utf-8&quot;)<br>……<br><br>PGSQL<br></code></pre></td></tr></table></figure><h2 id="异常处理"><a class="markdownIt-Anchor" href="#异常处理"></a> 异常处理</h2><p><strong>使用场景</strong></p><p>在不确定某段代码是否能成功执行时，就需要使用异常处理。如文件读取、解析Json文件等，就需要用到<code>FileNotFoundError</code>或者<code>JSONDecodeError</code>等。</p><p><strong>注意！</strong></p><p>不能滥用异常，在流程控制的逻辑中，一般不用异常处理，如：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 如下是错误用法</span><br>d = &#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;jason&#x27;</span>, <span class="hljs-string">&#x27;age&#x27;</span>: <span class="hljs-number">20</span>&#125;<br><span class="hljs-keyword">try</span>:<br>    value = d[<span class="hljs-string">&#x27;dob&#x27;</span>]<br>    ...<br><span class="hljs-keyword">except</span> KeyError <span class="hljs-keyword">as</span> err:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;KeyError: &#123;&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(err))<br> <span class="hljs-comment"># 如下才是合理写法</span><br> <span class="hljs-keyword">if</span> <span class="hljs-string">&#x27;dob&#x27;</span> <span class="hljs-keyword">in</span> d:<br>     value = d[dob]<br></code></pre></td></tr></table></figure><p><strong>捕获单个异常</strong></p><p><code>except</code>：捕获异常</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>: <span class="hljs-comment"># try下面的代码报的FileNotFoundError错误都能被except捕捉到</span><br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;no_file.txt&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>) <span class="hljs-keyword">as</span> f:<br>        <span class="hljs-built_in">print</span>(f.read())<br><span class="hljs-keyword">except</span> FileNotFoundError <span class="hljs-keyword">as</span> e:<br>    <span class="hljs-built_in">print</span>(e)<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;no_file.txt&quot;</span>, <span class="hljs-string">&quot;w&quot;</span>) <span class="hljs-keyword">as</span> f:<br>        f.write(<span class="hljs-string">&quot;I&#x27;m no_file.txt&quot;</span>)  <span class="hljs-comment"># 进行异常处理</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;new file &#x27;no_file.txt&#x27; has been written&quot;</span>)<br><br>PYTHON<br></code></pre></td></tr></table></figure><p><strong>捕获多个异常</strong></p><p>注意：一般情况下难以保证程序覆盖所有异常类型，通常在最后一个except捕获一个Exception基类，这样就可以捕获任意非系统异常。或者直接写except捕获所有异常（包括系统异常）</p><ol><li><code>except(Err1, Err2,Err3……)</code></li></ol><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">d</span> = &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;f1&quot;</span>, <span class="hljs-string">&quot;age&quot;</span>: <span class="hljs-number">2</span>&#125;<br><span class="hljs-attribute">l</span> =<span class="hljs-meta"> [1,2,3]</span><br><span class="hljs-attribute">try</span>:<br>    <span class="hljs-attribute">v</span> = d[<span class="hljs-string">&quot;gender&quot;</span>]<br>    <span class="hljs-attribute">l</span>[<span class="hljs-number">3</span>] = <span class="hljs-number">4</span><br><span class="hljs-attribute">except</span> (KeyError, IndexError) as e:<br>    <span class="hljs-attribute">print</span>(<span class="hljs-string">&quot;key or index error for:&quot;</span>, e)<br><br><span class="hljs-attribute">APACHE</span><br></code></pre></td></tr></table></figure><ol><li>使用多次except，单独处理</li></ol><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs stylus">d = &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;f1&quot;</span>, <span class="hljs-string">&quot;age&quot;</span>: <span class="hljs-number">2</span>&#125;<br>l = <span class="hljs-selector-attr">[1,2,3]</span><br>try:<br>    v = d<span class="hljs-selector-attr">[<span class="hljs-string">&quot;gender&quot;</span>]</span><br>    l<span class="hljs-selector-attr">[3]</span> = <span class="hljs-number">4</span><br>except KeyError as e:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;key error for:&quot;</span>, e)<br>    d<span class="hljs-selector-attr">[<span class="hljs-string">&quot;gender&quot;</span>]</span> = <span class="hljs-string">&quot;x&quot;</span><br>except IndexError as e:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;index error for:&quot;</span>, e)<br>    l<span class="hljs-selector-class">.append</span>(<span class="hljs-number">4</span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(d)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(l)</span></span><br><br><br>STYLUS<br></code></pre></td></tr></table></figure><p><strong>异常处理分支</strong></p><ol><li><code>try-except-else</code>：如果没有捕获到异常，则运行其他代码</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python">l = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>]<br><span class="hljs-keyword">try</span>:<br>    l[<span class="hljs-number">3</span>] = <span class="hljs-number">4</span><br><span class="hljs-keyword">except</span> IndexError <span class="hljs-keyword">as</span> e:<br>    <span class="hljs-built_in">print</span>(e)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;no error, now in else&quot;</span>)<br><br>PYTHON<br></code></pre></td></tr></table></figure><ol><li><code>try-except-finally</code>：不论是否捕获到异常，都需执行<code>finnally</code>中的代码</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python">l = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]<br><span class="hljs-keyword">try</span>:<br>    l[<span class="hljs-number">3</span>] = <span class="hljs-number">4</span><br><span class="hljs-keyword">except</span> IndexError <span class="hljs-keyword">as</span> e:<br>    <span class="hljs-built_in">print</span>(e)<br><span class="hljs-keyword">finally</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;reach finally&quot;</span>)<br><br>PYTHON<br></code></pre></td></tr></table></figure><p><strong>自定义异常</strong></p><p>自定义异常需要继承Eception基类，并定义初始化函数和str函数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyInputError</span>(<span class="hljs-title class_ inherited__">Exception</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;Exception raised when there&#x27;re errors in input&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, value</span>): <span class="hljs-comment"># 自定义异常类型的初始化</span><br>        self.value = value<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__str__</span>(<span class="hljs-params">self</span>): <span class="hljs-comment"># 自定义异常类型的string表达形式</span><br>        <span class="hljs-keyword">return</span> (<span class="hljs-string">&quot;&#123;&#125; is invalid input&quot;</span>.<span class="hljs-built_in">format</span>(<span class="hljs-built_in">repr</span>(self.value)))<br>    <br><span class="hljs-keyword">try</span>:<br>    <span class="hljs-keyword">raise</span> MyInputError(<span class="hljs-number">1</span>) <span class="hljs-comment"># 抛出MyInputError这个异常</span><br><span class="hljs-keyword">except</span> MyInputError <span class="hljs-keyword">as</span> err:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;error: &#123;&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(err))<br></code></pre></td></tr></table></figure><p><strong>手动抛出异常</strong></p><p><code>raise</code>：提示代码中可能出现的异常，供他人调用时debug</p><figure class="highlight isbl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs isbl"><span class="hljs-variable">def</span> <span class="hljs-function"><span class="hljs-title">no_negative</span>(<span class="hljs-variable">num</span>):</span><br><span class="hljs-function">    <span class="hljs-variable"><span class="hljs-keyword">if</span></span> <span class="hljs-variable">num</span> &lt; <span class="hljs-number">0</span>:</span><br><span class="hljs-function">        <span class="hljs-variable">raise</span> <span class="hljs-title">ValueError</span>(<span class="hljs-string">&quot;I said no negative&quot;</span>)</span><br>    <span class="hljs-variable">return</span> <span class="hljs-variable">num</span><br><br><span class="hljs-function"><span class="hljs-title">print</span>(<span class="hljs-title">no_negative</span>(-<span class="hljs-number">1</span>))</span><br><br><span class="hljs-variable">ISBL</span><br></code></pre></td></tr></table></figure><p><strong>可被raise的Error如下表：</strong></p><table><thead><tr><th style="text-align:left">异常名称</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:left">BaseException</td><td style="text-align:left">所有异常的基类</td></tr><tr><td style="text-align:left">SystemExit</td><td style="text-align:left">解释器请求退出</td></tr><tr><td style="text-align:left">KeyboardInterrupt</td><td style="text-align:left">用户中断执行(通常是输入^C)</td></tr><tr><td style="text-align:left">Exception</td><td style="text-align:left">常规错误的基类</td></tr><tr><td style="text-align:left">StopIteration</td><td style="text-align:left">迭代器没有更多的值</td></tr><tr><td style="text-align:left">GeneratorExit</td><td style="text-align:left">生成器(generator)发生异常来通知退出</td></tr><tr><td style="text-align:left">StandardError</td><td style="text-align:left">所有的内建标准异常的基类</td></tr><tr><td style="text-align:left">ArithmeticError</td><td style="text-align:left">所有数值计算错误的基类</td></tr><tr><td style="text-align:left">FloatingPointError</td><td style="text-align:left">浮点计算错误</td></tr><tr><td style="text-align:left">OverflowError</td><td style="text-align:left">数值运算超出最大限制</td></tr><tr><td style="text-align:left">ZeroDivisionError</td><td style="text-align:left">除(或取模)零 (所有数据类型)</td></tr><tr><td style="text-align:left">AssertionError</td><td style="text-align:left">断言语句失败</td></tr><tr><td style="text-align:left">AttributeError</td><td style="text-align:left">对象没有这个属性</td></tr><tr><td style="text-align:left">EOFError</td><td style="text-align:left">没有内建输入,到达EOF 标记</td></tr><tr><td style="text-align:left">EnvironmentError</td><td style="text-align:left">操作系统错误的基类</td></tr><tr><td style="text-align:left">IOError</td><td style="text-align:left">输入/输出操作失败</td></tr><tr><td style="text-align:left">OSError</td><td style="text-align:left">操作系统错误</td></tr><tr><td style="text-align:left">WindowsError</td><td style="text-align:left">系统调用失败</td></tr><tr><td style="text-align:left">ImportError</td><td style="text-align:left">导入模块/对象失败</td></tr><tr><td style="text-align:left">LookupError</td><td style="text-align:left">无效数据查询的基类</td></tr><tr><td style="text-align:left">IndexError</td><td style="text-align:left">序列中没有此索引(index)</td></tr><tr><td style="text-align:left">KeyError</td><td style="text-align:left">映射中没有这个键</td></tr><tr><td style="text-align:left">MemoryError</td><td style="text-align:left">内存溢出错误(对于Python 解释器不是致命的)</td></tr><tr><td style="text-align:left">NameError</td><td style="text-align:left">未声明/初始化对象 (没有属性)</td></tr><tr><td style="text-align:left">UnboundLocalError</td><td style="text-align:left">访问未初始化的本地变量</td></tr><tr><td style="text-align:left">ReferenceError</td><td style="text-align:left">弱引用(Weak reference)试图访问已经垃圾回收了的对象</td></tr><tr><td style="text-align:left">RuntimeError</td><td style="text-align:left">一般的运行时错误</td></tr><tr><td style="text-align:left">NotImplementedError</td><td style="text-align:left">尚未实现的方法</td></tr><tr><td style="text-align:left">SyntaxError</td><td style="text-align:left">Python 语法错误</td></tr><tr><td style="text-align:left">IndentationError</td><td style="text-align:left">缩进错误</td></tr><tr><td style="text-align:left">TabError</td><td style="text-align:left">Tab 和空格混用</td></tr><tr><td style="text-align:left">SystemError</td><td style="text-align:left">一般的解释器系统错误</td></tr><tr><td style="text-align:left">TypeError</td><td style="text-align:left">对类型无效的操作</td></tr><tr><td style="text-align:left">ValueError</td><td style="text-align:left">传入无效的参数</td></tr><tr><td style="text-align:left">UnicodeError</td><td style="text-align:left">Unicode 相关的错误</td></tr><tr><td style="text-align:left">UnicodeDecodeError</td><td style="text-align:left">Unicode 解码时的错误</td></tr><tr><td style="text-align:left">UnicodeEncodeError</td><td style="text-align:left">Unicode 编码时错误</td></tr><tr><td style="text-align:left">UnicodeTranslateError</td><td style="text-align:left">Unicode 转换时错误</td></tr><tr><td style="text-align:left">Warning</td><td style="text-align:left">警告的基类</td></tr><tr><td style="text-align:left">DeprecationWarning</td><td style="text-align:left">关于被弃用的特征的警告</td></tr><tr><td style="text-align:left">FutureWarning</td><td style="text-align:left">关于构造将来语义会有改变的警告</td></tr><tr><td style="text-align:left">OverflowWarning</td><td style="text-align:left">旧的关于自动提升为长整型(long)的警告</td></tr><tr><td style="text-align:left">PendingDeprecationWarning</td><td style="text-align:left">关于特性将会被废弃的警告</td></tr><tr><td style="text-align:left">RuntimeWarning</td><td style="text-align:left">可疑的运行时行为(runtime behavior)的警告</td></tr><tr><td style="text-align:left">SyntaxWarning</td><td style="text-align:left">可疑的语法的警告</td></tr><tr><td style="text-align:left">UserWarning</td><td style="text-align:left">用户代码生成的警告</td></tr></tbody></table><h2 id="json序列化"><a class="markdownIt-Anchor" href="#json序列化"></a> Json序列化</h2><p>内置模块pickle实现了Python对象的二进制序列化和反序列化。序列化即将对象及其层次结构转化为字节流的过程。</p><h3 id="pickle"><a class="markdownIt-Anchor" href="#pickle"></a> pickle</h3><p><strong>序列化对象</strong></p><p><code>pickle.dumps()</code>：将对象序列化，并返回该对象的bytes类型数据</p><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs llvm">import pickle<br><br>data <span class="hljs-operator">=</span> &#123;<span class="hljs-string">&quot;filename&quot;</span>: <span class="hljs-string">&quot;f1.txt&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;create_time&quot;</span>: <span class="hljs-string">&quot;today&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;size&quot;</span>: <span class="hljs-number">111</span>&#125;<br>pickle.dumps(data)<br><br># 结果：b&#x27;\<span class="hljs-keyword">x</span><span class="hljs-number">80</span>\<span class="hljs-keyword">x</span><span class="hljs-number">04</span>\<span class="hljs-keyword">x</span><span class="hljs-number">958</span>\<span class="hljs-keyword">x</span><span class="hljs-number">00</span>\<span class="hljs-keyword">x</span><span class="hljs-number">00</span>\<span class="hljs-keyword">x</span><span class="hljs-number">00</span>\<span class="hljs-keyword">x</span><span class="hljs-number">00</span>\<span class="hljs-keyword">x</span><span class="hljs-number">00</span>\<span class="hljs-keyword">x</span><span class="hljs-number">00</span>\<span class="hljs-keyword">x</span><span class="hljs-number">00</span>&#125;\<span class="hljs-keyword">x</span><span class="hljs-number">94</span>(\<span class="hljs-keyword">x</span><span class="hljs-number">8</span><span class="hljs-keyword">c</span>\<span class="hljs-keyword">x</span><span class="hljs-number">08</span>filename\<span class="hljs-keyword">x</span><span class="hljs-number">94</span>\<span class="hljs-keyword">x</span><span class="hljs-number">8</span><span class="hljs-keyword">c</span>\<span class="hljs-keyword">x</span><span class="hljs-number">06</span>f<span class="hljs-number">1</span>.txt\<span class="hljs-keyword">x</span><span class="hljs-number">94</span>\<span class="hljs-keyword">x</span><span class="hljs-number">8</span><span class="hljs-keyword">c</span>\<span class="hljs-keyword">x</span><span class="hljs-number">0</span>bcreate_time\<span class="hljs-keyword">x</span><span class="hljs-number">94</span>\<span class="hljs-keyword">x</span><span class="hljs-number">8</span><span class="hljs-keyword">c</span>\<span class="hljs-keyword">x</span><span class="hljs-number">05</span>today\<span class="hljs-keyword">x</span><span class="hljs-number">94</span>\<span class="hljs-keyword">x</span><span class="hljs-number">8</span><span class="hljs-keyword">c</span>\<span class="hljs-keyword">x</span><span class="hljs-number">04</span>size\<span class="hljs-keyword">x</span><span class="hljs-number">94</span>Kou.&#x27;<br><br>LLVM<br></code></pre></td></tr></table></figure><p><strong>保存对象至文件</strong></p><p><code>pickle.dump()</code>：将对象序列化并保存至本地</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> pickle<br><span class="hljs-keyword">data</span> = &#123;<span class="hljs-string">&quot;1&quot;</span>: <span class="hljs-string">&quot;xiaozhou&quot;</span>, <span class="hljs-string">&quot;2&quot;</span>: <span class="hljs-string">&quot;xiaoxue&quot;</span>, <span class="hljs-string">&quot;3&quot;</span>: <span class="hljs-string">&quot;xiaoxiaozhou&quot;</span>&#125;<br><br>with <span class="hljs-keyword">open</span>(<span class="hljs-string">&quot;data.txt&quot;</span>, <span class="hljs-string">&quot;wb&quot;</span>) <span class="hljs-keyword">as</span> f:<br>    pickle.dump(<span class="hljs-keyword">data</span>, f)<br>print(os.listdir())<br><br># 结果:[<span class="hljs-string">&#x27;files&#x27;</span>, <span class="hljs-string">&#x27;data.txt&#x27;</span>]<br><br>KOTLIN<br></code></pre></td></tr></table></figure><p><strong>读取文件</strong></p><p><code>pickle.load()</code>：将本地文件读取出来</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> pickle<br><br>with <span class="hljs-keyword">open</span>(<span class="hljs-string">&quot;data.txt&quot;</span>, <span class="hljs-string">&quot;rb&quot;</span>) <span class="hljs-keyword">as</span> f:<br>    <span class="hljs-keyword">data</span> = pickle.load(f)<br>print(<span class="hljs-keyword">data</span>)<br><br># 结果：&#123;<span class="hljs-string">&#x27;1&#x27;</span>: <span class="hljs-string">&#x27;xiaozhou&#x27;</span>, <span class="hljs-string">&#x27;2&#x27;</span>: <span class="hljs-string">&#x27;xiaoxue&#x27;</span>, <span class="hljs-string">&#x27;3&#x27;</span>: <span class="hljs-string">&#x27;xiaoxiaozhou&#x27;</span>&#125;<br><br>KOTLIN<br></code></pre></td></tr></table></figure><p>注意：</p><ol><li>Pickle在反序列化类的时候需要有这个类的class，否则会找不到这个类二失败。</li><li>有些对象例如打开的文件、网络链接、线程进程等，如果将这些对象赋给class的属性上，就不能被打包，因为这些需要依赖外部系统状态。</li></ol><h2 id="json"><a class="markdownIt-Anchor" href="#json"></a> Json</h2><p>不需要转成二进制，在网络中传输相对安全</p><p><code>json.dumps()</code>和<code>json.loads()</code>：将对象转化为json格式的字符串 &amp; 将字符串转换为对象。</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs stylus">import json<br><br>data = &#123;<span class="hljs-string">&quot;filename&quot;</span>: <span class="hljs-string">&quot;f1.txt&quot;</span>, <span class="hljs-string">&quot;create_time&quot;</span>: <span class="hljs-string">&quot;today&quot;</span>, <span class="hljs-string">&quot;size&quot;</span>: <span class="hljs-number">111</span>&#125;<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(type(data)</span></span>)<br>j = json<span class="hljs-selector-class">.dumps</span>(data)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(j)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(type(j)</span></span>)<br><br>#结果：<br>&lt;class <span class="hljs-string">&#x27;dict&#x27;</span>&gt;<br>&#123;<span class="hljs-string">&quot;filename&quot;</span>: <span class="hljs-string">&quot;f1.txt&quot;</span>, <span class="hljs-string">&quot;create_time&quot;</span>: <span class="hljs-string">&quot;today&quot;</span>, <span class="hljs-string">&quot;size&quot;</span>: <span class="hljs-number">111</span>&#125;<br>&lt;class <span class="hljs-string">&#x27;str&#x27;</span>&gt;<br><br>STYLUS<br></code></pre></td></tr></table></figure><p><code>json.dump()</code>和<code>json.load()</code>：与上面类似，一般与文件操作一起用</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python">data = &#123;<span class="hljs-string">&quot;filename&quot;</span>: <span class="hljs-string">&quot;f1.txt&quot;</span>, <span class="hljs-string">&quot;create_time&quot;</span>: <span class="hljs-string">&quot;today&quot;</span>, <span class="hljs-string">&quot;size&quot;</span>: <span class="hljs-number">111</span>&#125;<br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;data.json&quot;</span>, <span class="hljs-string">&quot;w&quot;</span>) <span class="hljs-keyword">as</span> f:<br>    json.dump(data, f)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;直接当纯文本读：&quot;</span>)<br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;data.json&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>) <span class="hljs-keyword">as</span> f:<br>    <span class="hljs-built_in">print</span>(f.read())<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;用 json 加载了读：&quot;</span>)<br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;data.json&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>) <span class="hljs-keyword">as</span> f:<br>    new_data = json.load(f)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;字典读取：&quot;</span>, new_data)<br><br><span class="hljs-comment"># 结果</span><br>直接当纯文本读：<br>&#123;<span class="hljs-string">&quot;filename&quot;</span>: <span class="hljs-string">&quot;f1.txt&quot;</span>, <span class="hljs-string">&quot;create_time&quot;</span>: <span class="hljs-string">&quot;today&quot;</span>, <span class="hljs-string">&quot;size&quot;</span>: <span class="hljs-number">111</span>&#125;<br>用 json 加载了读：<br>字典读取： &#123;<span class="hljs-string">&#x27;filename&#x27;</span>: <span class="hljs-string">&#x27;f1.txt&#x27;</span>, <span class="hljs-string">&#x27;create_time&#x27;</span>: <span class="hljs-string">&#x27;today&#x27;</span>, <span class="hljs-string">&#x27;size&#x27;</span>: <span class="hljs-number">111</span>&#125;<br><br>PYTHON<br></code></pre></td></tr></table></figure><p>注意：json无法序列化class对象</p><table><thead><tr><th style="text-align:center">对比</th><th style="text-align:center">Pickle</th><th style="text-align:center">Json</th></tr></thead><tbody><tr><td style="text-align:center">存储格式</td><td style="text-align:center">Python 特定的 Bytes 格式</td><td style="text-align:center">通用 JSON text 格式，可用于常用的网络通讯中</td></tr><tr><td style="text-align:center">数据种类</td><td style="text-align:center"><strong>类，功能</strong>，字典，列表，元组等</td><td style="text-align:center">基本和 Pickle 一样，但不能存类，功能</td></tr><tr><td style="text-align:center">保存后可读性</td><td style="text-align:center">不能直接阅读</td><td style="text-align:center">能直接阅读</td></tr><tr><td style="text-align:center">跨语言性</td><td style="text-align:center">只能用在 Python</td><td style="text-align:center">可以跨多语言读写</td></tr><tr><td style="text-align:center">处理时间</td><td style="text-align:center">长（需编码数据）</td><td style="text-align:center">短（不需编码）</td></tr><tr><td style="text-align:center">安全性</td><td style="text-align:center">不安全（除非你信任数据源）</td><td style="text-align:center">相对安全</td></tr></tbody></table><h2 id="正则"><a class="markdownIt-Anchor" href="#正则"></a> 正则</h2><p>正则常见字符</p><table><thead><tr><th style="text-align:center">字符</th><th>描述</th></tr></thead><tbody><tr><td style="text-align:center">\d</td><td>代表任意数字，就是阿拉伯数字 0-9 这些玩意。</td></tr><tr><td style="text-align:center"><code>\D</code></td><td>大写的就是和小写的唱反调，\d 你代表的是任意数字是吧？那么我 \D 就代表不是数字的。</td></tr><tr><td style="text-align:center"><code>\w</code></td><td>代表字母，数字，下划线。也就是 a-z、A-Z、0-9、_。</td></tr><tr><td style="text-align:center"><code>\W</code></td><td>跟 \w 唱反调，代表不是字母，不是数字，不是下划线的。</td></tr><tr><td style="text-align:center">\n</td><td>代表一个换行。</td></tr><tr><td style="text-align:center"><code>\r</code></td><td>代表一个回车。</td></tr><tr><td style="text-align:center"><code>\f</code></td><td>代表换页。</td></tr><tr><td style="text-align:center"><code>\t</code></td><td>代表一个 Tab 。</td></tr><tr><td style="text-align:center"><code>\s</code></td><td>代表所有的空白字符，也就是上面这个：\n、\r、\t、\f。</td></tr><tr><td style="text-align:center"><code>\S</code></td><td>跟 \s 唱反调，代表所有不是空白的字符。</td></tr><tr><td style="text-align:center"><code>\A</code></td><td>代表字符串的开始。</td></tr><tr><td style="text-align:center"><code>\Z</code></td><td>代表字符串的结束。</td></tr><tr><td style="text-align:center">^</td><td>匹配字符串开始的位置。</td></tr><tr><td style="text-align:center">$</td><td>匹配字符创结束的位置。</td></tr><tr><td style="text-align:center">.</td><td>代表所有的单个字符，除了 \n \r</td></tr><tr><td style="text-align:center"><code>[...]</code></td><td>代表在 [] 范围内的字符，比如 [a-z] 就代表 a到z的字母</td></tr><tr><td style="text-align:center"><code>[^...]</code></td><td>跟 […] 唱反调，代表不在 [] 范围内的字符</td></tr><tr><td style="text-align:center">{n}</td><td>匹配在 {n} 前面的东西，比如: o{2} 不能匹配 Bob 中的 o ，但是能匹配 food 中的两个o。</td></tr><tr><td style="text-align:center"><code>&#123;n,m&#125;</code></td><td>匹配在 {n,m} 前面的东西，比如：o{1,3} 将匹配“fooooood”中的前三个o。</td></tr><tr><td style="text-align:center"><code>&#123;n，&#125;</code></td><td>匹配在 {n,} 前面的东西，比如：o{2,} 不能匹配“Bob”中的“o”，但能匹配“foooood”中的所有o。</td></tr><tr><td style="text-align:center"><code>*</code></td><td>和 {0,} 一个样，匹配 * 前面的 0 次或多次。 比如 zo* 能匹配“z”、“zo”以及“zoo”。</td></tr><tr><td style="text-align:center"><code>+</code></td><td>和{1，} 一个样，匹配 + 前面 1 次或多次。 比如 zo+”能匹配“zo”以及“zoo”，但不能匹配“z”。</td></tr><tr><td style="text-align:center"><code>？</code></td><td>和{0,1} 一个样，匹配 ？前面 0 次或 1 次。</td></tr><tr><td style="text-align:center">a|b</td><td>匹配 a 或者 b。</td></tr><tr><td style="text-align:center"><code>（）</code></td><td>匹配括号里面的内容。</td></tr></tbody></table><h3 id="匹配字符串"><a class="markdownIt-Anchor" href="#匹配字符串"></a> 匹配字符串</h3><p>例：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br>ptn = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">r&quot;\w+?@\w+?\.com&quot;</span>) <span class="hljs-comment"># 定义正则</span><br><br>matched = ptn.search(<span class="hljs-string">&quot;mofan@mofanpy.com&quot;</span>) <span class="hljs-comment"># 使用正则查找字符串，返回第一个匹配的字符串</span><br><span class="hljs-built_in">print</span>(matched)<br><br><span class="hljs-comment"># 打印结果：&lt;re.Match object; span=(0, 17), match=&#x27;mofan@mofanpy.com&#x27;&gt;</span><br><br>PYTHON<br></code></pre></td></tr></table></figure><p><code>r</code>代表后面的字符串是一个正则</p><p>根据上表，<code>\w</code>匹配字母数字下划线，<code>+?</code>代表匹配多次</p><p>打印结果中的<code>span=(0, 17)</code>表示找到的字符串在原始字符的位置，<code>match</code>表示找到的具体字符串内容</p><p>正则除了<code>search()</code>，还有其他功能：</p><table><thead><tr><th style="text-align:left">功能</th><th style="text-align:left">说明</th><th style="text-align:left">举例</th></tr></thead><tbody><tr><td style="text-align:left">re.search()</td><td style="text-align:left">扫描查找整个字符串，找到第一个模式匹配的</td><td style="text-align:left">re.search(rrun, I run to you) &gt; ‘run’</td></tr><tr><td style="text-align:left">re.match()</td><td style="text-align:left">从字符的最开头匹配，找到第一个模式匹配的<strong>即使用 re.M 多行匹配，也是从最最开头开始匹配</strong></td><td style="text-align:left">re.match(rrun, I run to you) &gt; None</td></tr><tr><td style="text-align:left">re.findall()</td><td style="text-align:left">返回一个不重复的 pattern 的匹配列表</td><td style="text-align:left">re.findall(rr[ua]n, I run to you. you ran to him) &gt; [‘run’, ‘ran’]</td></tr><tr><td style="text-align:left">re.finditer()</td><td style="text-align:left">和 findall 一样，只是用迭代器的方式使用</td><td style="text-align:left">for item in re.finditer(rr[ua]n, I run to you. you ran to him):</td></tr><tr><td style="text-align:left">re.split()</td><td style="text-align:left">用正则分开字符串</td><td style="text-align:left">re.split(rr[ua]n, I run to you. you ran to him) &gt; [‘I ‘, ‘ to you. you ‘, ‘ to him’]</td></tr><tr><td style="text-align:left">re.sub()</td><td style="text-align:left">用正则替换字符</td><td style="text-align:left">re.sub(rr[ua]n, jump, I run to you. you ran to him) &gt; ‘I jump to you. you jump to him’</td></tr><tr><td style="text-align:left">re.subn()</td><td style="text-align:left">和 sub 一样，额外返回一个替代次数</td><td style="text-align:left">re.subn(rr[ua]n, jump, I run to you. you ran to him) &gt; (‘I jump to you. you jump to him’, 2)</td></tr></tbody></table><h3 id="匹配html"><a class="markdownIt-Anchor" href="#匹配html"></a> 匹配HTML</h3><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">re.compile(&#x27;<span class="hljs-variable">&lt;li&gt;</span>.<span class="hljs-symbol">*</span>?list_num.<span class="hljs-symbol">*</span>?(\d+).<span class="hljs-variable">&lt;/div&gt;</span>.<span class="hljs-symbol">*</span>?<span class="hljs-variable">&lt;img src=&quot;(.*?)&quot;.*?class=&quot;name&quot;.*?title=&quot;(.*?)&quot;&gt;</span>.<span class="hljs-symbol">*</span>?class=<span class="hljs-string">&quot;star&quot;</span>&gt;.<span class="hljs-symbol">*</span>?class=<span class="hljs-string">&quot;tuijian&quot;</span>&gt;(.<span class="hljs-symbol">*</span>?)<span class="hljs-variable">&lt;/span&gt;</span>.<span class="hljs-symbol">*</span>?class=<span class="hljs-string">&quot;publisher_info&quot;</span>&gt;.<span class="hljs-symbol">*</span>?target=<span class="hljs-string">&quot;_blank&quot;</span>&gt;(.<span class="hljs-symbol">*</span>?)<span class="hljs-variable">&lt;/a&gt;</span>.<span class="hljs-symbol">*</span>?class=<span class="hljs-string">&quot;biaosheng&quot;</span>&gt;.<span class="hljs-symbol">*</span>?<span class="hljs-variable">&lt;span&gt;</span>(.<span class="hljs-symbol">*</span>?)<span class="hljs-variable">&lt;/span&gt;</span><span class="hljs-variable">&lt;/div&gt;</span>.<span class="hljs-symbol">*</span>?<span class="hljs-variable">&lt;p&gt;</span><span class="hljs-variable">&lt;span\sclass=&quot;price_n&quot;&gt;</span>&amp;yen;(.<span class="hljs-symbol">*</span>?)<span class="hljs-variable">&lt;/span&gt;</span>.<span class="hljs-symbol">*</span>?<span class="hljs-variable">&lt;/li&gt;</span>&#x27;, re.S)<br><br>GHERKIN<br></code></pre></td></tr></table></figure><ul><li><p><code>.*?list_num.*?</code>这里的 <code>.*？</code> 加在了量词 <code>*</code> 的后面，使得该量词 <code>*</code> 变为非贪婪模式，即匹配尽量少的字符。例如，对 “123abc” 使用 <code>/\d+/</code> 将会匹配 “123”，而使用 <code>/\d+?/</code> 则只会匹配到 “1”。</p><ul><li>在当前案例中，使用正则来匹配html字符串，大量使用 <code>.*？</code> 来匹配其他字符串。</li></ul></li><li><p>当前匹配模式为 <code>re.S</code> ，表示跨行匹配。将多行字符串当作一个整体，将换行符 <code>\n</code> 当作一个普通字符加入这个整体中。</p></li><li><p><code>&lt;span\sclass=&quot;price_n&quot;</code> 这里的 <code>\s</code> 代表空白字符，正则中不允许有空格出现</p></li><li><p>建议在写长正则时，先将单个值的正则写出来，最后再拼起来，这样可以省去很多排错时间</p></li><li><p>如正则一直无法匹配，尝试查看源码是否存在该值。如下图这种a标签的内容是计算上去的，并非源码中提供。</p><p><a href="https://zhouyinglin.cn/C:/Users/v_vzylzhou/AppData/Roaming/Typora/typora-user-images/image-20221018101345894.png"><img src="https://zhouyinglin.cn/C:/Users/v_vzylzhou/AppData/Roaming/Typora/typora-user-images/image-20221018101345894.png" alt="img"></a></p></li></ul><p><a href="https://zhouyinglin.cn/C:/Users/v_vzylzhou/AppData/Roaming/Typora/typora-user-images/image-20221018101315765.png"><img src="https://zhouyinglin.cn/C:/Users/v_vzylzhou/AppData/Roaming/Typora/typora-user-images/image-20221018101315765.png" alt="img"></a></p><p><strong>匹配模式</strong></p><table><thead><tr><th>修饰符</th><th>描述</th></tr></thead><tbody><tr><td>re.I</td><td>使匹配对大小写不敏感</td></tr><tr><td>re.L</td><td>做本地化识别（locale-aware）匹配</td></tr><tr><td>re.M</td><td>多行匹配，影响 ^ 和 $</td></tr><tr><td>re.S</td><td>使 . 匹配包括换行在内的所有字符，跨行匹配</td></tr><tr><td>re.U</td><td>根据Unicode字符集解析字符。这个标志影响 \w, \W, \b, \B.</td></tr><tr><td>re.X</td><td>该标志通过给予你更灵活的格式以便你将正则表达式写得更易于理解。</td></tr></tbody></table><h2 id="迭代器生成器与修饰器"><a class="markdownIt-Anchor" href="#迭代器生成器与修饰器"></a> 迭代器，生成器与修饰器</h2><p><strong>迭代器</strong></p><p>某对象实现了<code>__iter__()</code>函数，且该函数返回一个迭代器对象，这个对象就可以成为可迭代对象。可以用for循环遍历的对象均是可迭代对象。</p><p>迭代器协议包括：</p><ol><li>实现了<code>__next__()</code>函数</li><li><code>__next__()</code>函数返回了某个数值</li><li><code>__next__()</code>取值完成后，抛出<code>StopIteration</code>异常</li></ol><p><strong>生成器</strong></p><p>用于在遍历大规模数据时使用的写法，避免内存中数据量过大。生成器调用<code>__next__()</code>函数以<strong>惰性方式</strong>获取下一个值，遍历结束后无法再次遍历。</p><p>优势就在于边迭代边输出，提供了延迟操作。</p><p>（哪儿都没说明白，等用上了再说）</p><p><strong>装饰器</strong></p><p>装饰器的实现前提：函数也是对象，函数可以当做参数传入其他函数。函数也可以当做返回值被return</p><p>装饰器的作用就是为一个函数做额外的事情，如写日志、测试、鉴权等。装饰器一般在多个函数中做同样操作时发挥的作用最大，可以较大限度减少代码量</p><p>举例说明：</p><p>这里的mains函数上方添加了一行<code>@dector</code>，将<code>mains</code>函数作为参数传入了dector中。在<code>dector</code>内部又调用了原函数mains（即参数func），但在调用前后分别执行输出了语句。这就是装饰器dector的作用，<strong>在不改变原函数行为的前提下，改变原函数的行为</strong>。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">dector</span>(<span class="hljs-params">func</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">tests</span>(<span class="hljs-params">*args, **kwargs</span>):  <span class="hljs-comment"># # 如需给原参数传参，这样写可以传任意数量和类型的参数</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;这是触发前的测试&quot;</span>)<br>        res = func(*args, **kwargs)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;这是触发后的操作&quot;</span>)<br>        <span class="hljs-keyword">return</span> res<br>    <span class="hljs-keyword">return</span> tests<br><br><span class="hljs-comment"># 这段代码等价于 mains = dector(mains)</span><br><span class="hljs-meta">@dector</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">mains</span>(<span class="hljs-params">name</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;这是主进程&quot;</span>)<br><br><br>mains(<span class="hljs-string">&quot;小周&quot;</span>)<br><br>输出：<br>这是触发前的测试<br>这是主进程<br>这是触发后的操作<br><br>PYTHON<br></code></pre></td></tr></table></figure><p><strong>自定义参数、保留函数元信息</strong></p><p>除了原函数所需要的参数，装饰器本身也可以定义参数，例如希望指定装饰器内部函数的执行次数，可以在装饰器这里传入。</p><p>需要注意的是，当同一个函数被包装器修饰后，它的名字就已经变成了包装器内部的函数（wrapper），如果需要改成原来的greet，在上面加上一个<code>@functools.wraps(func)</code>就可以了，这会将原函数的元信息拷贝至对应的装饰器函数里。</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">import</span> functools<br><br>def repeat(num):<br>    def my_decorator(func):<br>    @functools.wraps(func) #将原函数的元信息拷贝至装饰器函数中<br>        def <span class="hljs-keyword">wrapper</span>(*args, **kwargs):<br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(num): # <span class="hljs-number">4</span>被传入进来后，按照这个数字循环调用greet<br>                print(<span class="hljs-string">&#x27;wrapper of decorator&#x27;</span>)<br>                func(*args, **kwargs)<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">wrapper</span><br>    <span class="hljs-keyword">return</span> my_decorator<br><br>@repeat(<span class="hljs-number">4</span>)  # 此处是可以允许传参的<br>def greet(message):<br>    print(message)<br>#<span class="hljs-comment">-------------------------------------#</span><br>print(greet.__name__)<br>输出：<span class="hljs-keyword">wrapper</span><br></code></pre></td></tr></table></figure><p><strong>装饰器的嵌套</strong></p><p>允许有多个装饰器，执行顺序是从里到外（有待研究）：</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-variable">@decorator1</span><br><span class="hljs-variable">@decorator2</span><br><span class="hljs-variable">@decorator3</span><br>def <span class="hljs-built_in">func</span>():<br>    ...<br>    <br># 等效于：<br><span class="hljs-built_in">decorator1</span>(<span class="hljs-built_in">decorator2</span>(<span class="hljs-built_in">decorator3</span>(func)))<br></code></pre></td></tr></table></figure><p><strong>类装饰器</strong></p><p>在<code>myDecorator</code>类的<code>__init__()</code>中定义和调用了<code>aFunction</code>函数，在<code>__init__()</code>执行结束后，<code>aFunction</code>函数已经声明且调用完了。然后输出第三句输出。最后执行<code>aFunction()</code>时，实际上是执行了<code>myDecorator</code>的<code>__call__()</code>方法。</p><p>因此，被装饰后的函数<code>aFunction()</code>，已经是类<code>myDecorator</code>的对象了，当再次调用<code>aFunction()</code>时，也就是在调用类<code>myDecorator</code>的对象，所以会调到<code>__call__()</code>函数。</p><p>使用类装饰器来装饰函数来对函数添加一些额外的属性或功能时，一般会在类的<code>__init__()</code>中传入函数，在<code>__call__()</code>调用修饰的函数或者其他额外处理。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs scss">class <span class="hljs-built_in">myDecorator</span>(object):<br>    def <span class="hljs-built_in">__init__</span>(self, f):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;inside myDecorator.__init__()&quot;</span>)<br>        <span class="hljs-built_in">f</span>() <br>    def <span class="hljs-built_in">__call__</span>(self):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;inside myDecorator.__call__()&quot;</span>)<br><br>@myDecorator<br>def <span class="hljs-built_in">aFunction</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;inside aFunction()&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Finished decorating aFunction()&quot;</span>) # 表示aFunction已经调用结束<br><span class="hljs-built_in">aFunction</span>()<br><br>输出：<br>inside myDecorator.<span class="hljs-built_in">__init__</span>()<br>inside <span class="hljs-built_in">aFunction</span>()<br>Finished decorating <span class="hljs-built_in">aFunction</span>()<br>inside myDecorator.<span class="hljs-built_in">__call__</span>()<br></code></pre></td></tr></table></figure><p>补充：</p><p>定义了<code>__call__()</code>方法的类的对象可以像函数一样被调用，此时调用的是对象的<code>__call__()</code>方法。因为按照装饰器语法的涵义，</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-variable">@myDecorator</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">aFunction</span>():<br>    <span class="hljs-comment"># ……</span><br>    <br><span class="hljs-comment"># 等价于</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">aFunction</span>():<br>    <span class="hljs-comment"># ……</span><br>aFunction = myDecorator(aFunction)<br><br></code></pre></td></tr></table></figure><h2 id="进阶用法"><a class="markdownIt-Anchor" href="#进阶用法"></a> 进阶用法</h2><h3 id="lambda表达式"><a class="markdownIt-Anchor" href="#lambda表达式"></a> lambda表达式</h3><p>用于创建匿名函数，语法上限为单个表达式，是正常函数定义的语法糖。如下两种写法是一样的：</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">def <span class="hljs-built_in">add</span>(<span class="hljs-keyword">a</span>, b):<br>    <span class="hljs-literal">return</span> <span class="hljs-keyword">a</span> + b<br><br><span class="hljs-built_in">add</span> = lambda <span class="hljs-keyword">a</span>,b:<span class="hljs-keyword">a</span>+b<br><br>LIVECODESERVER<br></code></pre></td></tr></table></figure><h3 id="遍历缩写"><a class="markdownIt-Anchor" href="#遍历缩写"></a> 遍历缩写</h3><p>如下写法是一样的。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">l</span> =<span class="hljs-meta"> []</span><br><span class="hljs-attribute">for</span> i in range(<span class="hljs-number">10</span>):<br>    <span class="hljs-attribute">l</span>.append(i*<span class="hljs-number">2</span>)<br><br><span class="hljs-attribute">l</span> =<span class="hljs-meta"> [i*2 for i in range(10)]</span><br><br><span class="hljs-comment"># 使用缩写方式创建字典</span><br><span class="hljs-attribute">d</span> = &#123;<span class="hljs-string">&quot;index&quot;</span>+str(i): i*<span class="hljs-number">2</span> fro i in range(<span class="hljs-number">10</span>)&#125;<br><br><span class="hljs-attribute">APACHE</span><br></code></pre></td></tr></table></figure><h3 id="分支缩写"><a class="markdownIt-Anchor" href="#分支缩写"></a> 分支缩写</h3><p>对于简单逻辑，允许如下写法：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs stylus">done = False<br><span class="hljs-keyword">if</span> done:<br>    <span class="hljs-selector-tag">a</span> = <span class="hljs-number">1</span><br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-selector-tag">a</span> = <span class="hljs-number">2</span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(a)</span></span><br><br>done = False<br><span class="hljs-selector-tag">a</span> = <span class="hljs-number">1</span> <span class="hljs-keyword">if</span> done <span class="hljs-keyword">else</span> <span class="hljs-number">2</span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(a)</span></span><br><br>STYLUS<br></code></pre></td></tr></table></figure><h3 id="遍历简写"><a class="markdownIt-Anchor" href="#遍历简写"></a> 遍历简写</h3><p>在for、if中使用简写</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-comment"># 原始for循环中的if判断</span><br><span class="hljs-attribute">l</span> =<span class="hljs-meta"> []</span><br><span class="hljs-attribute">for</span> i in range(<span class="hljs-number">10</span>):<br>    <span class="hljs-attribute">if</span> i % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>:<br>        <span class="hljs-attribute">l</span>.append(i*<span class="hljs-number">2</span>)<br><br><span class="hljs-comment"># for循环+if判断简写，字典同此写法</span><br><span class="hljs-attribute">l</span> =<span class="hljs-meta"> [i*2 for i in range(10) if i % 2 == 0]</span><br><br><span class="hljs-attribute">APACHE</span><br></code></pre></td></tr></table></figure><h3 id="带计数器的序列enumerate函数"><a class="markdownIt-Anchor" href="#带计数器的序列enumerate函数"></a> 带计数器的序列：enumerate()函数</h3><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs fortran"># 这个例子其实逻辑并不算通畅，l[<span class="hljs-built_in">count</span>] = <span class="hljs-keyword">data</span>这行完全可以放到<span class="hljs-keyword">if</span>内，不太能理解为什么要放外面<br><span class="hljs-built_in">count</span> = <span class="hljs-number">0</span><br>l = [<span class="hljs-number">11</span>,<span class="hljs-number">22</span>,<span class="hljs-number">33</span>,<span class="hljs-number">44</span>]<br>for <span class="hljs-keyword">data</span> <span class="hljs-keyword">in</span> l:<br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">count</span> == <span class="hljs-number">2</span>:<br>        <span class="hljs-keyword">data</span> += <span class="hljs-number">11</span><br>    l[<span class="hljs-built_in">count</span>] = <span class="hljs-keyword">data</span> # 当<span class="hljs-keyword">if</span>为Ture时，<span class="hljs-keyword">data</span>的值自增<span class="hljs-number">11</span>，并赋给当此循环的下标所在值，<br>    <span class="hljs-built_in">count</span> += <span class="hljs-number">1</span><br><span class="hljs-built_in">print</span>(l)<br><br># enumerate(l)返回了下标和元素两个值，因此在for循环中可以直接使用<br># 此处的下标可以自定义初始值，如for <span class="hljs-built_in">count</span>, <span class="hljs-keyword">data</span> <span class="hljs-keyword">in</span> enumerate(l， start=<span class="hljs-number">5</span>):<br>l = [<span class="hljs-number">11</span>,<span class="hljs-number">22</span>,<span class="hljs-number">33</span>,<span class="hljs-number">44</span>]<br>for <span class="hljs-built_in">count</span>, <span class="hljs-keyword">data</span> <span class="hljs-keyword">in</span> enumerate(l):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-built_in">count</span>)<br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">count</span> == <span class="hljs-number">2</span>:<br>        <span class="hljs-keyword">data</span> += <span class="hljs-number">11</span><br>    l[<span class="hljs-built_in">count</span>] = <span class="hljs-keyword">data</span><br><span class="hljs-built_in">print</span>(l)<br><br>FORTRAN<br></code></pre></td></tr></table></figure><h3 id="zip遍历"><a class="markdownIt-Anchor" href="#zip遍历"></a> zip遍历</h3><p>zip()将序列作为参数将其打包，可同时迭代多个序列</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs makefile"><span class="hljs-comment"># 普通方式：执行普通遍历，在每次循环中分别获取两个列表的元素</span><br>name = [<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>]<br>score = [1,2,3]<br>d = &#123;&#125;<br>for i in range(3):<br>    d[name[i]] = score[i]<br>print(d)<br><br><span class="hljs-comment"># 同时将两个列表遍历，获得的值直接分配给n、s，空字典d 可直接赋值</span><br><span class="hljs-comment"># 复杂情况下zip()函数的简化程度会更高</span><br>name = [<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>]<br>score = [1,2,3]<br>d = &#123;&#125;<br>for n, s in zip(name, score):<br>    d[n]=s<br>print(d)<br><br>MAKEFILE<br></code></pre></td></tr></table></figure><h3 id="反转序列"><a class="markdownIt-Anchor" href="#反转序列"></a> 反转序列</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python">l = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]<br><span class="hljs-comment"># 最原始的办法：遍历原序列，从最后追个元素追加至新列表</span><br>_l = []<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(l)):<br>    _l.append(l[-i-<span class="hljs-number">1</span>])<br><span class="hljs-built_in">print</span>(_l)<br><br><span class="hljs-comment"># 短for循环反转</span><br>_l = [l[-i-<span class="hljs-number">1</span>] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(l))]<br><br><span class="hljs-comment"># 内置的原地反转函数</span><br>l.reverse()<br><br><span class="hljs-comment"># 迭代时反转</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">reversed</span>(l):<br>    <span class="hljs-built_in">print</span>(i)<br>    <br><span class="hljs-comment"># 拷贝后反转</span><br>_l = l[::-<span class="hljs-number">1</span>]<br><br>PYTHON<br></code></pre></td></tr></table></figure><h2 id="conda使用"><a class="markdownIt-Anchor" href="#conda使用"></a> conda使用</h2><p>安装（略）</p><h3 id="基本操作"><a class="markdownIt-Anchor" href="#基本操作"></a> 基本操作</h3><p>创建独立的虚拟环境</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">conda</span> create --name test python=<span class="hljs-number">3</span>.<span class="hljs-number">8</span><br><br><span class="hljs-attribute">APACHE</span><br></code></pre></td></tr></table></figure><p>查看当前虚拟环境列表</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">conda <span class="hljs-built_in">env</span> list<br><br>BASH<br></code></pre></td></tr></table></figure><p>切换新建的<code>test</code>环境</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs applescript">conda <span class="hljs-built_in">activate</span> test<br><br>APPLESCRIPT<br></code></pre></td></tr></table></figure><p>退出当前虚拟环境</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><br><span class="hljs-attribute">conda deactivate</span><br></code></pre></td></tr></table></figure><p>删除指定虚拟环境</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lua">conda <span class="hljs-built_in">remove</span> -n envname <span class="hljs-comment">--all</span><br></code></pre></td></tr></table></figure><p>依赖迁移</p><p>在cmd或指定的本地路径下执行，导出依赖列表</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">pip <span class="hljs-keyword">freeze</span> &gt; requirements.txt<br><br>PGSQL<br></code></pre></td></tr></table></figure><p>将txt文件放置新项目位置，执行读取</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cmake">pip <span class="hljs-keyword">install</span> -r requirements.txt<br><br>CMAKE<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>人类生活指南</title>
    <link href="/post/fc930271.html"/>
    <url>/post/fc930271.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><h3 id="我的修身要则sup-idfnref1-classfootnote-refa-hreffn1-relfootnotespan-classhint-top-hint-rounded-aria-label原文httpswwwmarxistsorgchinesezhouenlai021htm1spanasup"><a class="markdownIt-Anchor" href="#我的修身要则sup-idfnref1-classfootnote-refa-hreffn1-relfootnotespan-classhint-top-hint-rounded-aria-label原文httpswwwmarxistsorgchinesezhouenlai021htm1spanasup"></a> 我的修身要则<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="原文：https://www.marxists.org/chinese/zhouenlai/021.htm">[1]</span></a></sup></h3><p>一、加紧学习，抓住中心，宁精勿杂，宁专勿多。<br>二、努力工作，要有计划，有重点，有条理。<br>三、习作合一，要注意时间、空间和条件，使之配合适当，要注意检讨和整理，要有发现和创造。<br>四、要与自己的他人的一切不正确的思想意识作原则上坚决的斗争。<br>五、适当的发扬自己的长处，具体地纠正自己的短处。<br>六、永远不与群众隔离，向群众学习，并帮助他们。过集体生活，注意调研，遵守纪律。<br>七、健全自己身体，保持合理的规律生活，这是自我修养的物质基础。</p><p><em>周恩来 一九四三年三月十八日 重庆红岩</em></p><hr><h3 id="我的工作要则"><a class="markdownIt-Anchor" href="#我的工作要则"></a> 我的工作要则</h3><p>接受工作，询问目标；</p><p>研究工作，制定计划；</p><p>请示工作，带上方案；</p><p>执行工作，全力以赴；</p><p>汇报工作，突出重点；</p><p>分享工作，细说流程；</p><p>复盘工作，注重过程。</p><p>遇到冲突：有理有据，客观推进。提前预警，及时上升。</p><hr><h3 id="我曾七次鄙视自己的灵魂纪伯伦"><a class="markdownIt-Anchor" href="#我曾七次鄙视自己的灵魂纪伯伦"></a> 《我曾七次鄙视自己的灵魂》——纪伯伦</h3><p>第一次，当它本可进取时，却故作谦卑;</p><p>The first time when I saw her being meek that she might attain height.</p><p>第二次，当它在空虚时，用爱欲来填充;<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="原文直译：当它在跛足者面前步履蹒跚">[2]</span></a></sup></p><p>The second time when I saw her limping before the crippled.</p><p>第三次，当它在困难和容易之间，选择了容易；</p><p>The third time when she was given to choose between the hard and the easy, and she chose the easy.</p><p>第四次，当它犯了错，却借由别人也会犯错来宽慰自己；</p><p>The fourth time when she committed a wrong, and comforted herself that others also commit wrong.</p><p>第五次，当它因软弱而隐忍，却把它标榜为生命之坚韧；</p><p>The fifth time when she forbode for weakness, and attributed her patience to strength.</p><p>第六次，当它鄙夷一张丑恶的面孔时，却不知那正是自己面具中的一副；</p><p>The sixth time when she despised the ugliness of a face, and knew not that it was one of her own masks.</p><p>第七次，当它侧身于生活的污泥中，虽不甘心，却又畏首畏尾;<sup id="fnref:3" class="footnote-ref"><a href="#fn:3" rel="footnote"><span class="hint--top hint--rounded" aria-label="原文直译：当它吟唱圣歌，却自诩为美德">[3]</span></a></sup></p><p>And the seventh time when she sang a song of praise, and deemed it a virtue.</p><hr><p>从飞机汽车到电脑手机甚至成人影片，生活中几乎所有东西都在追求大规模的标准化量产，毕竟可以降低成本提高效率，为什么不呢？某种程度上讲，现代社会中，“人”这个角色其实也是标准化的，尤其是在东亚国家，每个人在各个年龄段应当做什么事。家庭、社会、国家一起给你定好了一套“最佳模板”，极少有人能够对抗这种扑面而来的标准化叙事。每个人似乎都应该努力学习不早恋，参加高考进大学，实习求职去上班，结婚生育养孩子，之后为祖国健康工作五十年，最后去死。在这种环境下，一个独特的东西就会变得非常稀有。现代社会充斥着的这种标准化，放大了那些具备独特属性的珍贵程度。不管是与众不同的人，还是独树一帜的产品，那些能让我们感到独一无二的东西，会显得无比奢侈。为什么这么多人辗转各个网站翻来覆去也想找到一个能让自己眼前一亮的作品，本质上就是人需要找到一种自己喜欢的独特的东西，来对抗这种标准化叙事的规训。</p><hr><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>原文：<a href="https://www.marxists.org/chinese/zhouenlai/021.htm">https://www.marxists.org/chinese/zhouenlai/021.htm</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:2" class="footnote-text"><span>原文直译：当它在跛足者面前步履蹒跚<a href="#fnref:2" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:3" class="footnote-text"><span>原文直译：当它吟唱圣歌，却自诩为美德<a href="#fnref:3" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Life</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>解决迅雷11最新版下载速度慢一直是0KB问题</title>
    <link href="/post/xunleiDownloadSth.html"/>
    <url>/post/xunleiDownloadSth.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>现在大多数人看电影都会选择在线视频网站观看，冷门片子很少有渠道拿到，只有各大种子网站才会提供下载。但磁力链接在国内属实难以使用，一般就是百度云盘的离线下载，迅雷等等。百度网盘限速就算了，迅雷每次下载都要会员，没有会员就不给下很离谱。</p><p>于是我看了下迅雷的官网准备找客服吐槽一番，没想到找到了下载不了的解决方案……看来迅雷官方也知道存在这个问题又没什么办法解决，只好写在官网让各位闲着蛋疼的人去翻，坑爹呢这是</p><p>官网链接：<a href="https://help.xunlei.com/XL11/72d3">https://help.xunlei.com/XL11/72d3</a></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211011032113.png" alt></p><p>右键将该资源添加到云盘</p><p>1、云盘可添加完成的，直接从云盘取回该资源</p><p>2、云盘无法添加完成的，则说明资源文件缺失或属于冷门资源，建议更换时间段下载；如果是视频文件，可尝试更换下载链接</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211011032794.png" alt></p><p><strong>说明：可通过下载以下资源看问题是否再次出现</strong></p><ul><li><p><a href="http://xmp.down.sandai.net/xmp/XMPSetup_xmpxl11.exe">http://xmp.down.sandai.net/xmp/XMPSetup_xmpxl11.exe</a></p></li><li><p><a href="https://down.sandai.net/thunder11/XunLeiWebSetup11.3.12.1932dl.exe">https://down.sandai.net/thunder11/XunLeiWebSetup11.3.12.1932dl.exe</a></p></li></ul><p>如果测试资源下载问题未复现，说明您之前下载速度慢/没速度的资源文件存在缺失或属于冷门资源，建议可先将文件添加到云盘进行下载，云盘添加成功情况视资源热度</p><p>如果上述方法不行就是本地网络情况有问题了。迅雷作为国内下载器的龙头，居然还需要用户手动处理这种操作，简直是离谱到家了。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211011032817.jpg" alt></p>]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>网络</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>圣经文学、中世纪文学——福音与灾难</title>
    <link href="/post/ffd5daec.html"/>
    <url>/post/ffd5daec.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>西方文化又称两希文化，即古希腊罗马文化和古希伯来文化。二者构成了近代欧洲文学的人文观念和艺术精神的基本内核。它是欧美文学赖以生存和发展的文化传统，是欧洲文化和文学的两大源泉</p><ul><li><strong>古希腊-罗马文化</strong>：古希腊国家虽然被马其顿王国灭掉，但其文明一直被马其顿王国传承，一直传到古罗马帝国。马其顿、古罗马非常积极地继承了古希腊的文化和文学。因此直到古罗马时代，古希腊文化脉络也基本没有断。</li><li><strong>古希伯来文化</strong>：古希伯来人，又被称为犹太人，发源于叙利亚、约旦的古迦南地区，信仰上帝，强调人对上帝的绝对服从。其宗教分支基督教对整个欧洲影响甚大。</li></ul><h3 id="希伯来人的历史"><a class="markdownIt-Anchor" href="#希伯来人的历史"></a> 希伯来人的历史</h3><p>希伯来人是历史悠久的苦难民族，希伯来人的宗教即犹太教。宗教的典籍叫《塔纳赫》，里面的《妥拉》片段就是著名的《摩西五经》，《摩西五经》完整地记载了这个民族的历史，也很清楚地写着他们的苦难：居无定所。</p><p>希伯来人的发源地：<strong>两河流域</strong>。圣经中上帝创造的伊甸园，就是希伯来人对自己祖先居住的记忆。两河流域发生旱灾后，希伯来人被迫往西迁移。他们说他们信奉的神——耶和华把迦南地给他们了，因此要搬到迦南地区（今巴勒斯坦地区）。在此短暂地繁衍了几代后，亚伯拉罕来到迦南，亚伯拉罕的儿子：以撒，他的儿子：雅各做了个与天使摔跤的梦，于是天使让其改名为<strong>以色列</strong>。雅各有个儿子叫约瑟，约瑟的哥哥因为约瑟聪明漂亮而嫉妒，将其卖到了埃及。约瑟在埃及给法老解梦，因此混得还不错， 很多希伯来人追随他的足迹都去了埃及。希伯来人非常聪明、又善于积累财富，因此埃及人很不满这群外来者。于是法老将他们变成修金字塔的奴隶。希伯来人继续请求上帝请求援助，上帝又派了一个人：摩西，带领他们出了埃及，回到两河流域。但这时候两河流域已经全是阿拉伯人。于是他们只能与阿拉伯人打仗，最后在约旦河区域两岸暂时稳定下来。经历了三个王：扫罗、大卫和所罗门，但又分裂成以色列国和犹太国，最后因为国力式微分别被其他国家灭掉。从那以后就一直做奴隶，一直做到古罗马帝国。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202210261600463.png" alt></p><p>希伯来人一直繁衍、生生不息的原因：在犹太教中指示，有一个人终将会来拯救他们，上帝会派来救世主。救世主就是上帝的独生子：弥赛亚。于是<strong>犹太教世世代代都靠着对弥赛亚的期盼存活下来</strong>。即：宗教信仰给了犹太民族期盼。</p><h3 id="基督教的创立"><a class="markdownIt-Anchor" href="#基督教的创立"></a> 基督教的创立</h3><p>公元后二十几年，有一个三十多岁的人就说他就是弥赛亚。有一部分犹太人相信了他，他就带着这些人形成了新的教派：基督教，他就是耶稣。但大部分犹太人是不信的，并且认为基督教是邪教，请求地方上的罗马总督帮助其灭掉邪教。耶稣传教三年就被钉死在十字架上，这段传说也映射了历史上的基督教在刚开始传教是非常艰难的。于是他们就到了罗马帝国的核心：古罗马城。这里宗教众多， 没有宗教的古罗马人在众多宗教中选择了基督教，因为基督教的“来世说”<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="虽然现在的世界很苦，但是我们死了以后灵魂里可以上天堂">[1]</span></a></sup>等很多教义都符合罗马人心意和现状（持续征战，民生艰难），基督教的到来迎合了古罗马人的精神需求。这个奴隶的宗教慢慢发展，最终在公元380年被罗马奉为国教。如此，古希伯来文化通过基督教、圣经文学进入到了欧洲文化和文学中，对欧洲后世文化文学产生了非常深远的影响。西方许多作家例如狄更斯、托尔斯泰都是基督徒<br><em>此处来源存在争议，暂且按照文学课老师的说法记录</em></p><h4 id="基督教带来的福音"><a class="markdownIt-Anchor" href="#基督教带来的福音"></a> 基督教带来的福音</h4><p><strong>基督教主张“原罪说”</strong></p><p>基督宗教中认为任何人天生即是有罪的，在福音书中详细列出了人性的阴暗面，如无知、愚拙、纵欲、不义……因此他要求教民通过忏悔每日反省自己是否有这些阴暗面，这样就大幅提高了普通民众的道德自律，有利于当时的欧洲建设出自己的道德秩序。</p><p><strong>基督教反对暴力</strong></p><p>耶稣对上帝说：“主啊，我求你不要杀掉那些有恶的灵魂，我只要求你拯救他”。反暴力的主张对欧洲的战争、暴乱的环境有很好的警戒作用</p><h4 id="基督教带来的隐患"><a class="markdownIt-Anchor" href="#基督教带来的隐患"></a> 基督教带来的隐患</h4><ul><li><p>原罪说一旦被教会掌控，如果被加以极端化的解释，有可能引向禁欲</p></li><li><p>对神的顺从，不需要自己主动思考，只需听从上帝的话。被教会利用后容易引发愚民，容易使人失去质疑和追问的能力。如亚伯拉罕杀子的故事</p></li></ul><h3 id="最终的灾难黑暗的中世纪"><a class="markdownIt-Anchor" href="#最终的灾难黑暗的中世纪"></a> 最终的灾难：黑暗的中世纪</h3><ul><li><p>历史上的中世纪：公元746年~17世纪文艺复兴结束</p></li><li><p>文学上的中世纪：公元746年~14世纪但丁《神曲》的出世</p></li></ul><p>高文明的西罗马帝国被低文明的各部落蛮族灭亡，对于其他事物蛮族人可以进行烧杀抢掠，但唯独不敢碰修道院。因为<strong>当时的修道院掌握着欧洲最高的文明水平以及令蛮族人敬畏的神灵</strong>，因此教会慢慢地成为了欧洲最大的势力。欧洲那些原始部落慢慢整合成一个个封建小王国，进入封建时代。在这个过程中，教会一直是建设导师、甚至高于国王的存在， 教权逐渐慢慢掌控全欧洲，整个欧洲进入一个前所未有的神权时代。当教权膨胀后，为了维护自己的利益，教会开始曲解圣经，它禁止科学发展，禁止人民歌颂爱情、亲情，只能写神，写圣母、圣子、圣徒这些梦幻题材。连绘画也都带着浓厚的教会色彩，导致了社会、文化等各方面停滞不前。</p><p><em>关于古罗马为何被蛮族入侵，《现代欧洲史》一书有所阐述。由于本人比较懒，去年立下的flag要看完七本书，到现在才看到第三本，读书笔记已经写了2本的了，第三本主讲宗教实在提不起兴趣，因此断了大半年。但目前看文学课上老师讲的，对基督教的整体发展脉络还算清晰，稍微有点兴趣继续看下去。等7本读书笔记全部写完之后我会放到网站上的。</em></p><h3 id="希望的曙光但丁"><a class="markdownIt-Anchor" href="#希望的曙光但丁"></a> 希望的曙光：但丁</h3><p>但丁并非突然从天而降，黑暗的中世纪也并非没有一丝曙光。中世纪潜在的文学：世俗文学。人们渴望讲述自己人类的故事，这些东西汇聚成了世俗文学。一开始以口头方式在民间偷偷流传，经过了三个阶段</p><h4 id="史诗"><a class="markdownIt-Anchor" href="#史诗"></a> 史诗</h4><p>原始部落里的史诗，讲人间英雄的故事，代表着人文主义精神的保留。虽然教会严禁古希腊-罗马文化，但民间依然保留许多古希腊-罗马的传说、文学。例如：《尼伯龙根之歌》里刀枪不入、只在肩膀上有弱点的齐格夫里特，就与《伊利亚特》中的阿基里斯一样，也是刀枪不入之身，只在脚踝处有弱点。这就是古希腊精神的传递，在齐格夫里特的故事中传递着对个人荣誉的尊重。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202210261601013.jpg" alt></p><h4 id="骑士文学"><a class="markdownIt-Anchor" href="#骑士文学"></a> 骑士文学</h4><p>出现了对教会更具挑战性的内容：不仅讲人间英雄，还讲爱情故事。例如《特里斯丹和伊瑟》，两个人因为种种原因不能在一起，最后心碎而死。这个情节折射的就是人是需要爱情的，没有爱情人就会死。折射非常重要的人文的声音，也被传递下来了。</p><h4 id="市民文学"><a class="markdownIt-Anchor" href="#市民文学"></a> 市民文学</h4><p>城市出现后，就出现了市民群体，对教会的讽刺就更明显了。《列那狐传奇》以动物世界的方式讽刺教会、教皇。</p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202210261601408.jpg" style="zoom:80%;"><p>随着这些东西的出现，才能够保留古希腊和古罗马流传下来的人文精神，才能培养出一个中世纪文学的终结者：但丁。但丁的出现跟中世纪的双脉文学结构有密切关系，是整个中世纪宗教文学和世俗文学互相交融形成的。</p><h3 id="但丁和神曲"><a class="markdownIt-Anchor" href="#但丁和神曲"></a> 但丁和《神曲》</h3><p>描述但丁，可以将他比作<strong>桥梁</strong>更合适。但丁出现在中世纪文学和文艺复兴的时间点之间，是宗教文学和世俗文学共同培养出的人才。因此他的身上是带着二重性的，包括《神曲》这个作品本身自然也就带有二重性：</p><p><strong>《神曲》内容概括</strong><br>但丁做了一个梦来到了地狱、炼狱和天堂，在这个空间里面见到了很多灵魂，这些灵魂包括过去已经死去的很多有名的历史人物、文学家、哲学家、数学家、甚至还有神话中的人物。</p><h4 id="神曲的结构与形式"><a class="markdownIt-Anchor" href="#神曲的结构与形式"></a> 《神曲》的结构与形式</h4><p>宗教漫长的中世纪中，官方文学只有宗教文学，写作模式相对固定：例如在梦中遇见圣子圣母……《神曲》同样如此，在梦中游历地狱、炼狱和天堂；整个《神曲》分三部、每部33篇诗、加1篇序曲共100篇，数字3和100都是宗教中的重要数字。因此《神曲》是怀有深深的宗教思想和宗教情怀的。</p><h4 id="神曲的人文内容"><a class="markdownIt-Anchor" href="#神曲的人文内容"></a> 《神曲》的人文内容</h4><p>《神曲》描述梦中场景并不是重点。但丁在分配这些灵魂的时候，并未跟基督教义完全吻合。这些与教义冲突的地方就是人文主义思想的萌芽。提个问题：为什么但丁被视为文艺复兴的先驱？</p><p><strong>《神曲》的创作动机</strong><br>《神曲》的创作动机就是世俗文学，世俗文学是关注世俗人生和世俗的生命的。《神曲》的开头就说：“在我人生的中途，我迷失在一个黑暗的森林中。我做了一个梦，梦中走到了黑森林和豹、狮、狼”。这种设计就是在隐喻普通人会遇到了一些人生阶段，例如中年危机。豹狮狼就代表人生中最常出现的诱惑：权利、情欲和贪财。在他即将堕落之时，古罗马诗人维吉尔的灵魂出现了，对他说你不能沉迷于此，你要走另外一条路……于是后面的剧情就此展开。《神曲》的创作动机是思考人生的困境：当我们对理想不再拥有信心、世俗的诱惑又那么强烈的时候，我们应该怎么办？《神曲》虽然披着宗教的外衣，但思考的却是一个普遍的人生问题。<br>为了解决这个困境，但丁的初恋情人贝亚特丽斯的灵魂让维吉尔过来引领他。古罗马诗人维吉尔出生在耶稣之前，是异教徒。但丁设计让一个异教徒来引领他游历地狱和炼狱，这些都是不符合教义的因素。后世的罗素总结道，但丁指出了通向天堂的道路并不是教会僵化的指导，而是知识+爱+信仰才能走上天堂。</p><h4 id="但丁游历地狱剧情"><a class="markdownIt-Anchor" href="#但丁游历地狱剧情"></a> 但丁游历地狱（剧情）</h4><p>地狱是漏斗状，从上到下一直通往地心，最上方的入口在耶路撒冷。按照罪行安排，越往下罪越重惩罚越重，越往上罪越轻惩罚越轻。</p><p>桑德罗•波提切利1485年为《神曲》所绘的地狱图：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202210261601126.jpg" alt></p><p>人民文学出版社绘制的地狱构造图：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202210261601976.png" alt></p><h4 id="地狱走廊"><a class="markdownIt-Anchor" href="#地狱走廊"></a> 地狱走廊</h4><p><strong>骑墙派</strong><br>地狱走廊在地狱的外面。这里的灵魂在活着的时候过着盲目、平庸的生活，从不曾坚持过什么立场，是随风倒的两面派，他们生前并没有什么罪行，但却因平庸不被地狱所收留。与之相对应的是第八层地狱的奥德修斯：<br>《奥德赛》主角奥德修斯的灵魂在这里。传说因为奥德修斯造成了特洛伊战争最后的木马屠城，最后因教唆罪被打入地狱。但丁对此剧情做了调整，奥德修斯并非找不到回家的路，而是不想回家，希望在世界各地冒险。当手下的士兵老了，他说：细想你们的来源吧！你们生来不能像走兽一样活着，应该追求美德和知识！这里与地狱走廊的骑墙派做了鲜明对比，就算奥德修斯生前有罪，但因为他追求美德和知识，还是会受到作者很高的敬意。</p><h4 id="上层地狱"><a class="markdownIt-Anchor" href="#上层地狱"></a> 上层地狱</h4><p><strong>候判所</strong><br>进入地狱，首先是上层地狱。这里的惩罚是最轻的。上层地狱共分五层，第一圈层有七重门，这个地方就是limbo(候判所)。这个地方没有惩罚，灵魂在此衣冠整洁。他们是古希腊和古罗马的知识分子、学者，如荷马、苏格拉底、柏拉图等等（少数除外[^ 2]）。这些异教徒放在这里，就已经违背了基督教义。但丁在此写道：他们并没有罪过，他们因为没有受过洗礼，因为生在耶稣之前，所以他们待在候判所里，他们的罪有待后人来评说。可以看出这里就表现出<strong>对古希腊、古罗马知识体系极高的尊重</strong>。后期的文艺复兴打着回到希腊的旗号，如果没有但丁给予古希腊古罗马文化的合法性，文艺复兴几乎是不可能的。这就是《神曲》的重要性。</p><p>上层地狱的其他四层，安排着贪色、贪食、贪财、暴怒的几种灵魂。这也与中世纪基督教义不符，基督教义是禁欲的，这些欲望都是罪劣深重的，甚至对犯乱伦罪的偷情者<sup id="fnref:3" class="footnote-ref"><a href="#fn:3" rel="footnote"><span class="hint--top hint--rounded" aria-label="弗朗西斯科和保罗是叔嫂关系，一边是包办婚姻一边是真心相爱">[3]</span></a></sup>，但丁将他们都放在上层地狱。这些包含着但丁对欲望完全不同的看法，同样包含着人文主义的精神。他认为欲望是不应该被禁止的，真正有罪的欲望是失控的欲望，是不能节制之罪。合理的欲望，就算是犯了罪也是值得同情的。这里就在<strong>争取欲望的合理性、合法的基础，以反抗中世纪以来教会的禁欲学说</strong>。——文艺复兴早期的议题就是要吃要喝要爱的权利，而这条道路的开辟者正是但丁。</p><h4 id="中层地狱"><a class="markdownIt-Anchor" href="#中层地狱"></a> 中层地狱</h4><p>很多教士、教皇的灵魂被但丁安排到此。但丁不反对上帝，只反对教会。后期的薄伽丘同样跟随他的命题继续走下去。</p><h4 id="下层地狱地帝城"><a class="markdownIt-Anchor" href="#下层地狱地帝城"></a> 下层地狱：地帝城</h4><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202210261601902.png" alt></p><p>下层地狱环境：火光冲天，由复仇女神把守</p><p>第六层：邪教徒<sup id="fnref:4" class="footnote-ref"><a href="#fn:4" rel="footnote"><span class="hint--top hint--rounded" aria-label="区别于异教徒，邪教徒是耶稣存在后而不信，异教徒是耶稣出生前的人">[4]</span></a></sup>。忍受火坟地的煎熬</p><p>第七层：施暴罪。杀人、自杀、放高利贷、冒犯上帝、破坏大自然……</p><p>第八层：欺诈罪。细分为10个小类。但丁对宗教道德做了重新解释。这些设计的想象均来自《圣经》、古希腊-古罗马传说</p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202210261601458.png" style="zoom: 80%;"><p>第九层：背叛罪。背叛亲友、国家、恩人等。例如背叛耶稣的犹大、谋杀凯撒的布鲁托和凯西奥。此层为寒冰地狱。</p><p>……</p><h4 id="炼狱空间"><a class="markdownIt-Anchor" href="#炼狱空间"></a> 炼狱空间</h4><p>炼狱存在于天堂和地狱之间，具体存在于海面上，是一座炼狱山，共7层，每层关一种罪。因此炼狱山上有七宗罪：骄傲、嫉妒、暴怒、懒惰、贪财、贪食、贪色。——皆为人的欲望。</p><p>炼狱空间使用如下方法让有罪者控制自己欲望</p><ul><li><p>对于骄傲的人——让他背着巨石，匍匐在地上学习谦卑</p></li><li><p>对于贪食的人——让他无法摘到树上快掉下来的果子</p></li><li><p>……</p></li></ul><p>炼狱的设计同样表现了但丁对人的欲望地重新正视，希望树立其合法性。来自欲望的罪也不会下地狱，只会在炼狱。炼狱最重要的并不是惩罚，而是救赎。灵魂经过救赎之后可通过炼狱山顶端的伊甸园进入天堂。因此，炼狱的设计为文艺复兴的反禁欲奠定了基础。整个文艺复兴最重要的一个任务就是反禁欲，而这种反禁欲的任务在《神曲》中几乎随处可见。</p><h4 id="天堂"><a class="markdownIt-Anchor" href="#天堂"></a> 天堂</h4><p>但丁在炼狱山顶端的伊甸园遇到仙女贝亚特丽斯，由贝亚特丽斯带领他继续游历天堂。</p><p>忘川：喝了忘川水就可以忘掉自己的罪恶</p><p>天堂的环境：教会宣传下的天堂到处是宝石黄金，但丁的天堂只有透明气体和来自精神上的愉悦——同样突出人文精神。</p><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>虽然现在的世界很苦，但是我们死了以后灵魂里可以上天堂<a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:2" class="footnote-text"><span>例如伊壁鸠鲁，由于他是无神论者，被但丁打入了下层地狱。这也体现了出他身为信教者的局限性<a href="#fnref:2" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:3" class="footnote-text"><span>弗朗西斯科和保罗是叔嫂关系，一边是包办婚姻一边是真心相爱<a href="#fnref:3" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:4" class="footnote-text"><span>区别于异教徒，邪教徒是耶稣存在后而不信，异教徒是耶稣出生前的人<a href="#fnref:4" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>历史</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>古希腊文学——个人意识以及反思</title>
    <link href="/post/ancient_greek_literature.html"/>
    <url>/post/ancient_greek_literature.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、导购 --><p>举例：《荷马史诗》——西方文化的基因库</p><p>背景：特洛伊战争中发生的故事，属于战争文学。公元前12世纪古希腊城邦组织十万联军侵略特洛伊。战争发生后当地流传了许多短哥，荷马将这些短歌整理后形成了《荷马史诗》。荷马史诗分上下两部</p><ul><li>上部《伊利亚特》：战争最后一年主角阿基里斯在战争中的经历</li><li>下部《奥德赛》：战争结束后主角奥德修斯回家的经历</li><li>传说还有中部：特洛伊失陷，已遗落</li></ul><h2 id="伊利亚特剧情分析"><a class="markdownIt-Anchor" href="#伊利亚特剧情分析"></a> 《伊利亚特》剧情分析</h2><p>伊利亚特的故事发生在十年战争中，第九年的最后几十天。战争虽然打了9年多，但却丝毫没有悬念，特洛伊一直处于被动防御姿态，且未来注定会被攻破，只是时间问题罢了。</p><p>特洛伊能够坚持9年的原因：</p><ol><li><p>特洛伊的大王子赫克托尔，一个温和、善良、宽容、有同情心、带有东方色彩的英雄形象</p></li><li><p>阿波罗太阳神帮特洛伊建筑的城墙，让希腊人无法攀登</p></li></ol><p>战争的变数也就是故事的开始，从主角阿基里斯的愤怒开始。阿基里斯是古希腊十万联军中的第一战神，父亲是佩琉斯，母亲是海参塞拉斯，阿基里斯刚出生就被母亲带去地下冥河浸泡，拥有刀枪不入之身。成年后又被带去古希腊最有名的师傅人马神喀戎那里拜师学徒。因此在十年战争中，阿基里斯是非常重要的。</p><p>阿基里斯愤怒的原因：与十万联军首领阿伽门农的冲突。</p><ul><li><p>阿伽门农：迈锡尼国王，财力雄厚，支撑了许多船只战士，组织了整个战争掌握着领导能力、统筹能力</p></li><li><p>阿基里斯：支持了50多艘船，但是十万联军的战神。掌握着个人能力</p></li></ul><h3 id="冲突的起因"><a class="markdownIt-Anchor" href="#冲突的起因"></a> 冲突的起因</h3><p>阿伽门农在战争中得到了一个美貌的战利品：克鲁塞伊斯，她是太阳神阿波罗的祭司的女儿。在祭司上门请求放过他的女儿遭到拒绝之后，惹怒了阿波罗，阿波罗对希腊人放了几天的箭雨。阿伽门农被迫放弃了他的战利品，释放了克鲁赛伊斯。但阿伽门农认为有损个人荣誉，因此要求部下交出他们的战利品。阿基里斯劝说战利品已经分发完毕，阿伽门农认为阿基里斯顶撞了他，就指名道姓索要阿基里斯的战利品：布里塞伊斯。</p><p>注：<strong>古希腊时代，战利品代表着身份和地位。女性也像武器、牲畜、金银财宝一样，是战利品，代表个人利益</strong></p><p>二者的矛盾：<strong>谁更值得得到这份荣誉/利益？</strong>。也可以说是：一个拥有领导能力的人更重要，还是有用个人能力的人更重要？</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202210251452143.png" alt></p><p>在阿基里斯想杀掉阿伽门农时，女神雅典娜阻止了他。赫拉和军队最有地位的长老都认为，是两个人都重要。</p><p>反映出古希腊一个观点：<strong>在一个群体当中，有领导能力和统筹能力的人，与有个人的奋斗或战斗工作能力的人都是平等的重要，互相合作才能取得最好的结果</strong>。</p><h3 id="悲剧的起点"><a class="markdownIt-Anchor" href="#悲剧的起点"></a> 悲剧的起点</h3><p>阿伽门农没有遵守契约的规定，滥用手中的权力当成个人的能力，执着认为自己比阿基里斯更重要，<strong>强行将阿基里斯的战利品夺走，惹恼了阿基里斯</strong>，决定退出战争。</p><p>变数持续推进：阿基里斯退出战争后，希腊人再无优势，被特洛伊的赫克托尔一直进攻，几乎全军覆没。于是阿伽门农跑去和阿基里斯求和。阿基里斯在退出战争后，让母亲去找宙斯，让宙斯帮助特洛伊赢得战争。母亲和宙斯</p><ul><li>在古希腊的文化中，是非常尊重个人的。个人的利益、荣誉是神圣不可侵犯的。</li><li>古希腊文化的基本单位就是个人。因此需要保障集体中的个人的活力、创造力</li></ul><p>古希腊不仅是个人本位，神也同样如此。在特洛伊战争中，赫拉与雅典娜支持希腊，爱神阿芙洛狄忒支持特洛伊。如此不同支持的原因，也正是这场战争的原因：金苹果的传说。</p><p>金苹果的传说也从侧面体现出：<strong>三位女神也像人类一样，维护自己的个人荣誉和个人利益</strong>。金苹果落到爱神手里，赫拉和雅典娜觉得受到了羞辱，发誓灭掉特洛伊</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs">人类英雄帕琉斯和海洋女神忒提斯的婚礼上。众神均受邀参加婚礼，唯有不和女神厄里斯没有受到邀请。厄里斯怀恨在心，在婚礼上将一个金苹果呈现给宾客，上面写着“送给最美的女神”。女神中地位最高，同时也是最美丽的三位女神——赫拉、雅典娜、阿芙罗狄忒为了这个金苹果争执不下，其他神祇害怕得罪女神都不敢发言，天神宙斯让山上牧羊的漂亮小伙子帕里斯做评判。<br>三位女神为了获得金苹果，分别开出诱人地条件：赫拉他给他无上的权力,并保佑他做一个高高在上的统治者；雅典娜愿意赐给他智慧和力量，鼓励他有勇气去冒险,闯出一条英雄般辉煌的路；阿芙罗狄忒答应让世界上最漂亮的女子爱上他,并做他的妻子。帕里斯想来想去，觉得权力和统治他等以后继承他父亲的王位就可以了，英雄的道路他自己有的是一身好本事大胆去闯，但爱情却不是每天都可以遇到的。于是就将金苹果给了阿芙罗狄忒。后来，帕里斯在阿芙罗狄忒的帮助下拐走了斯巴达的王后——美女海伦，从而成为了特洛伊战争的导火索。<br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202210251452966.png" alt></p><h3 id="个人本位及反思"><a class="markdownIt-Anchor" href="#个人本位及反思"></a> 个人本位及反思</h3><p>《伊利亚特》前半段中这些对个人利益和个人荣誉的尊重，也奠定了西方文学中的个人主义精神。但《荷马史诗》不仅讲个人本位的文化，更重要的是它对个人本位文化进行了反思。</p><p>剧情上来看：在故事的后半段，古希腊人被特洛伊打得节节败退，几乎全军覆没。但阿基里斯以丰厚的礼单、三个女儿、七个城堡以及诚恳的态度向阿基里斯求和，也仍然被拒绝。阿基里斯的愤怒久久不能平息。因此，阿基里斯需要为此付出代价。</p><p>这里就在说明一个问题：<strong>个人本位、个人荣誉确实很值得尊重，但这是否意味着一个人能在这个问题上走向极端？个人是集体的一部分，如果视集体利益不顾，个人是很难保全的。</strong></p><p>阿基里斯固执的代价：阿基里斯最好的朋友帕特洛克勒斯哀求阿基里斯救救战友，但仍被拒绝。于是帕特洛克勒斯借了阿基里斯的战袍，伪装成阿基里斯，以吓退特洛伊人。但毕竟不是阿基里斯，所以在追击过程中被赫克托尔杀死了。</p><p>剧情继续推进：阿基里斯最好的朋友被杀，加上之前的个人荣誉受损，他认为一切怪罪于赫克托尔。阿基里斯与赫克托尔对阵时，赫克托尔提出请求，希望无论谁战死，请把尸体还给对方的父母。但阿基里斯依旧拒接了，认为赫克托尔只是猪狗一样的人，没资格谈条件。阿基里斯杀死赫克托尔后，和士兵侮辱对方的尸体，最后让狗吃掉了。</p><p>注意：<strong>在古希腊文化中，尊重对手是战场上一个无声的规则</strong></p><h3 id="阿基里斯愤怒的平息"><a class="markdownIt-Anchor" href="#阿基里斯愤怒的平息"></a> 阿基里斯愤怒的平息</h3><p>特洛伊的老王——普里阿摩斯去阿基里斯的军账请求还给儿子的尸体。他从另一个角度（他人角度，换位思考）对阿基里斯说：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">神一样的阿基里斯，想想你的父亲，他与我一样老迈，跨站在暮年的门槛……然而他尚能明确你还活在人间，喜悦之情定会在心中荡开，满怀希望，一天一天盼望心爱的儿子从特洛伊返回家园，而我，我的命运却如此凄惨……<br></code></pre></td></tr></table></figure><p>阿基里斯听懂了，并对普里阿摩斯说：啊！<strong>不幸的人</strong>啊，你怎么敢来站我，我曾经杀死你那么多<strong>勇敢的儿男</strong>。<strong>黑铁铸成你坚强的心灵</strong>……</p><p>阿基里斯获得了：<strong>同情、理解和宽容的能力</strong>。与普里阿摩斯互相怜悯、互相同情、抱头痛哭。阿基里斯的愤怒消失了。</p><p>在战争的剧情上，《伊利亚特》并没有写到这个战争的结局，但这并不代表它不是一个完整的故事。一个人在愤怒中成长，从一个偏狭固执极端的个人主义获得一种集体本位的启发、宽容带有温度的他人角度，这个故事就相当完整了。一个真正的理想的英雄，就在阿基里斯和赫克托尔两种精神中诞生。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202210251452490.png" alt></p>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>历史</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>购房指南（一）:珠海&amp;中山地理位置对比</title>
    <link href="/post/buyThehouse.html"/>
    <url>/post/buyThehouse.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、 --><h2 id="中山"><a class="markdownIt-Anchor" href="#中山"></a> 中山</h2><p>位于珠江三角洲中部偏南的西、北江下游出海处，北接广州市南沙区和佛山市顺德区，西邻江门市区、新会区和珠海市斗门区，东南连珠海市，东隔珠江口伶仃洋与深圳市和香港特别行政区相望。</p><h3 id="行政区划总览"><a class="markdownIt-Anchor" href="#行政区划总览"></a> 行政区划总览</h3><p>中山为市镇两级，下辖火炬国家产业级开发区和翠亨新区，共8街道、15镇、150村、137社区</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202210141214823.png" alt></p><h3 id="行政区划具体划分"><a class="markdownIt-Anchor" href="#行政区划具体划分"></a> 行政区划具体划分</h3><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202210141214026.png" alt></p><h3 id="重点地区"><a class="markdownIt-Anchor" href="#重点地区"></a> 重点地区</h3><p>问题：南朗镇与翠亨新区的划分</p><table><thead><tr><th>街道</th><th>优势</th><th>劣势</th><th>价格</th></tr></thead><tbody><tr><td>中山港街道</td><td>离中山港、深中通道近</td><td>价格层次不齐，需挑选</td><td>1~2</td></tr><tr><td>民众/南朗街道</td><td>价格较低</td><td>离深中通道较远</td><td>0.8~1.5</td></tr><tr><td>坦洲镇</td><td>离珠海近</td><td>远离深圳</td><td>0.6~1.2</td></tr><tr><td>翠亨新区</td><td>离深中通道近</td><td>贵贵贵贵贵</td><td>2~3</td></tr></tbody></table><h2 id="珠海"><a class="markdownIt-Anchor" href="#珠海"></a> 珠海</h2><p>珠海市位于广东省南部，北与中山市接壤，西与江门市相连，东南与澳门毗邻，东隔伶仃洋与香港相望，南滨南海。经济特区、珠江口西岸核心城市，以及粤港澳大湾区的涵盖城市之一，是内地唯一同时与香港、澳门以陆路相连的城市。</p><h3 id="标签"><a class="markdownIt-Anchor" href="#标签"></a> 标签</h3><p>“国家园林城市”、“中国优秀旅游城市”、“中国最具幸福感城市”、“国家森林城市”、“中国生态文明奖”等称号</p><p>联合国人居中心颁发的“国际改善居住环境最佳范例奖”、“中国最具有幸福感城市”</p><p>2020年2月被确定为第五批中央财政支持开展居家和社区养老服务改革试点地区</p><h3 id="珠海行政区划总览"><a class="markdownIt-Anchor" href="#珠海行政区划总览"></a> 珠海行政区划总览</h3><ul><li>市辖区：香洲区、斗门区、金湾区</li><li>经济功能区<ul><li>横琴粤澳深度合作区（香洲区横琴镇）</li><li>珠海经济技术开发区（高栏港经济区，国家级，珠海港，金湾区南水镇、平沙镇）</li><li>珠海高新技术产业开发区（国家级，主园区位于香洲区唐家湾镇）</li><li>珠海保税区（香洲区湾仔街道内）</li><li>万山海洋开发试验区（万山群岛）</li></ul></li></ul><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202210141215588.png" alt></p><h3 id="香洲区"><a class="markdownIt-Anchor" href="#香洲区"></a> 香洲区</h3><p>共9街道、6镇、7村、145社区</p><ul><li>南屏镇、所有街道（拱北街道、吉大街道、翠香街道、狮山街道、香湾街道、梅华街道、前山街道、湾仔街道、凤山街道）：由区政府实际管辖</li><li>唐家湾镇：由珠海国家高新技术产业开发区代管</li><li>横琴镇：由珠海横琴新区代管</li><li>桂山镇、万山镇、担杆镇：由珠海万山海洋开发试验区代管</li></ul><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202210141215325.png" alt></p><h3 id="斗门区"><a class="markdownIt-Anchor" href="#斗门区"></a> 斗门区</h3><p>斗门区与金湾区同属西部城区。</p><ul><li>白藤街道</li><li>井岸镇、白蕉镇、斗门镇、乾务镇、莲洲镇：区政府驻井岸镇</li></ul><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202210141215667.png" alt></p><h3 id="金湾区"><a class="markdownIt-Anchor" href="#金湾区"></a> 金湾区</h3><p>金湾区属于西部城区，与高栏港经济区一体化运作。共4镇14村、27个社区居委会</p><ul><li>三灶镇：区政府直接管辖</li><li>平沙镇、南水镇：后调整为高栏港经济区管辖</li><li>红旗镇：区政府直接管辖，区政府所在地。</li></ul><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202210141215839.png" alt></p>]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Life</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>钻石产品基本选购规则以及证书的查验</title>
    <link href="/post/7b9dfca8.html"/>
    <url>/post/7b9dfca8.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、 --><p>本文详细介绍了钻石以及钻戒产品相关的基础知识，以及如何查看GIA证书。可以为你挑选类似产品来带一些帮助。</p><h2 id="钻石的本质"><a class="markdownIt-Anchor" href="#钻石的本质"></a> 钻石的本质</h2><p>化学、工业中称金刚石。是分子排列整齐的无色的碳元素结晶体，是碳的同素异体之一。</p><p>稳定性低于石墨，在高温高压下可转为石墨。但常温常压下转变速度很慢。</p><p>莫氏硬度为10，需使用激光切割。</p><p>导热性极高，常用于钻探、研磨工具或大型集成电路板上。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20221010151359876.png" alt></p><h3 id="钻石产出"><a class="markdownIt-Anchor" href="#钻石产出"></a> 钻石产出</h3><p>约49%的钻石来自非洲中部和南部，每年大约1.3亿克拉（26,000千克）的钻石被开采，总值接近美元90亿美元。每年有100,000千克的钻石被合成。</p><h3 id="合成钻石"><a class="markdownIt-Anchor" href="#合成钻石"></a> 合成钻石</h3><p>利用复制高温高压的环境施加于晶种上，人工制造钻石的生长现象。现主要生产国为美国、俄罗斯、爱尔兰及南非等。2019年央视报导中国科学院突破以籽金片和甲烷气体制造人工钻石，能以每小时0.007毫米的速度生长，每个气体槽中每星期可以长出一克拉大小</p><h3 id="钻石保养"><a class="markdownIt-Anchor" href="#钻石保养"></a> 钻石保养</h3><ul><li><p>忌高温：1克拉的钻石在一般火灾现场（温度1,130度）经过70分钟后就会完全变成二氧化碳。</p></li><li><p>防刮蹭：两颗钻石放在一起会互相刮花，需独立放置</p></li><li><p>防油脂：钻石粘上皮肤油脂、化妆品及厨房油脂的钻石会失去光泽，因此应每月清洗一次</p></li><li><p>防崩裂：钻石虽然硬度最高，但韧性却相对的小，由高处摔落虽不会碎，但会崩裂。</p></li><li><p>防光照：钻石的碳键在紫外线强烈或长期照射下会分解，所以应当保存最实在无阳光或紫外线照射的地方</p></li><li><p>定期维护：每年可以将钻石首饰拿给珠宝商检查一次，查看镶托是否松脱与磨损，重新给它固定和擦亮</p></li></ul><h2 id="钻石质量评估标准"><a class="markdownIt-Anchor" href="#钻石质量评估标准"></a> 钻石质量评估标准</h2><p>4C标准和国际证书。4C标准是GIA创立的标准，即：Carat, Color, Clarity, Cut</p><p>对于普通消费者来说，选择时的比重是：重量＞切工＞颜色＞净度</p><h3 id="重量carat"><a class="markdownIt-Anchor" href="#重量carat"></a> 重量（Carat）</h3><p>单位&quot;ct&quot;，即克拉。该单位来源于地中海地区一种角豆树的种子，不论种在哪里，种子重量都在200多毫克左右。因此在那个没有精确秤具的年代就用来当做宝石计量单位。钻石重量与价格是几何倍数增加的。</p><p>如：0.3、0.4、0.5、0.6、0.7、0.8、0.9、1克拉、2克拉等。</p><p>一般只有大于0.3的钻石才会送至实验室出具GIA证书。</p><h4 id="挑选"><a class="markdownIt-Anchor" href="#挑选"></a> 挑选</h4><p>选择重量大于等于整数的，如51、1.01等，但也不要超过太多。因为当钻石超过特定大小，就可以提高一个报价区间。所以大部分钻石被切割的时候，会尽可能保留其重量。一般来说很少会看到0.39、0.49、0.99的裸石。这样挑选可以避免买到牺牲品质或牺牲重量的钻石，并且在钻石不慎受损还可以补救。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20221010151520545.png" alt></p><h4 id="实拍图"><a class="markdownIt-Anchor" href="#实拍图"></a> 实拍图</h4><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20221010151605699.png" alt></p><h3 id="颜色color"><a class="markdownIt-Anchor" href="#颜色color"></a> 颜色（Color）</h3><p>完美的钻石是跟纯净的水滴一样，没有色彩。如果带黄色则价值低。</p><p>白色到黄色被分为D、E、F、G、H、……、Z色的级别，一般市场上常见的是D、E、F、G、H、I、J区间，H为中间值，H以上都为白，H以下为黄。钻石颜色级等级提升对价格影响为10到15%左右。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20221010151629252.png" alt></p><h3 id="净度clarity"><a class="markdownIt-Anchor" href="#净度clarity"></a> 净度（Clarity)</h3><p>天然矿物宝石中可能含有瑕疵，净度用于衡量钻石的干净程度。净度等级提升影响价格5~15%</p><p>净度标准是在10倍放大镜下观察，等级为：</p><ul><li><strong>FL（无瑕级）</strong>：没有任何内含物或表面瑕疵；</li><li><strong>IF（内无瑕级）</strong>：内部没有任何内含物，而表面有微不足道的瑕疵，可借由磨光去除；</li><li><strong>VVS1 / VVS2（极轻微内含级）</strong>：钻石有极微细的瑕疵，即使专业鉴定师也很难看到；</li><li><strong>VS1 / VS2（轻微内含级）</strong>：钻石含有不易察觉的微小瑕疵；</li><li><strong>SI1 / SI2（微内含级）</strong>：钻石有可见的瑕疵；</li><li><strong>I1 / I2 / I3（内含级）</strong>：瑕疵非常明显，肉眼观察亦可看见，并且影响钻石的坚固度、透明度和闪亮度。</li></ul><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20221010151648004.png" alt></p><p>然而，以上差距用肉眼是看不出来的。因此引出另一个概念：瑕疵种类和位置</p><p>种类：</p><ul><li><p>不可接受的瑕疵：破损、裂痕、空洞、擦伤、磨损、划痕</p></li><li><p>可接受的瑕疵：针点、云状物、羽状物、晶状体、针状物、白点</p></li></ul><h3 id="切工cut"><a class="markdownIt-Anchor" href="#切工cut"></a> 切工（Cut）</h3><p>切工种类：圆形、异形（公主方、梨形、心形、橄榄型、祖母绿、蕾蒂恩、三角形）。圆形切割是最理想的切割方式。</p><p>圆形包括57个刻面，如下图：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20221010151701877.png" alt></p><p>切工包含了三项内容</p><ol><li>切工：是否按照既定比例范围进行切割</li><li>抛光：刻面抛光纹是否明显、光滑度</li><li>对称性：整个钻石的圆度等等</li></ol><p>以上三项各自分为5个等级：</p><ol><li><p>**EXCELLENT（EX）完美：**几乎反射了所有进入的光线，约有3%的钻石能够达到</p></li><li><p><strong>VERY GOOD（VG）很好</strong>：反射出标准切工等级的光线，约有15%的钻石可以达到</p></li><li><p>**GOOD（G）好：**反射了大部分进入钻使内部的光，约有35%的钻石可以达到；</p></li><li><p>**FAIR（F）一般：**也能反射光芒但表现一般，但较GOOD切工更差一些；</p></li><li><p>**POOR（P）差：**所有切工标准都没有达到，意味着切工非常差；</p></li></ol><p>最低标准：切工EX、抛光VG、对称EX</p><p>完美标准：<strong>3EX切工</strong>。指的是切工、抛光、对称三项均达到EX标准的钻石，代表切工的最高等级，也就是常说的“八心八箭”，即：垂直观察钻石的尖底可以看到8颗完全对称的心，观察钻石冠部可以看到8支完全对称的箭</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20221010151719077.png" alt></p><p>不同切工对钻石反射光芒的实际影响：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20221010151732419.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20200728134849_34.jpg" alt><br>△ 左边标准，而中间过深、右边过浅，都会影响钻石的光线导致不亮</p><h3 id="荧光"><a class="markdownIt-Anchor" href="#荧光"></a> 荧光</h3><p>当长波紫外光（阳光中就有）照射这些荧光钻石时，表面就会散发出或白或蓝的蒙蒙光晕。荧光不对人体造成健康危害。</p><p>从物理性质来看，荧光是钻石作为矿物结晶的一种自然现象。但从感官上看，这层光晕会者会遮掩钻石的火彩，因此需要尽可能避免荧光钻石，选择None或者Faint的即可。</p><h4 id="荧光等级"><a class="markdownIt-Anchor" href="#荧光等级"></a> 荧光等级</h4><ul><li>None 无荧光</li><li>Faint 微荧光</li><li>Mediue 中荧光</li><li>Strong 强硬光</li><li>Very Strong 极强荧光</li></ul><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20221010092740126.png" alt></p><h3 id="其他参数"><a class="markdownIt-Anchor" href="#其他参数"></a> 其他参数</h3><h4 id="奶油钻"><a class="markdownIt-Anchor" href="#奶油钻"></a> 奶油钻</h4><p>视觉上有一层白蒙蒙的“雾气”，既非荧光也非颜色，而是一团细小如同尘埃的内含物。最小级别的净度检测也会忽略。奶油钻没有钻石的火彩和纯净通透的感觉，并且成本往往非常低，证书上也没有显示，需要特别注意</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20221010151903602.png" alt></p><h4 id="咖钻绿钻"><a class="markdownIt-Anchor" href="#咖钻绿钻"></a> 咖钻/绿钻</h4><p>部分钻石天然带有的一种色调，它会令钻石颜色偏离、不透亮或发暗。在标准中没有标注它的信息，需避免。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20221010151922681.png" alt></p><p>以上为选购钻石产品的基本参数，作为入门选手可以参考。但这行其实水很深，有太多的点可以供商家做手脚，诸如台宽比、全深比、冠角、亭角、冠高比、亭深比、腰厚、下腰面长度比、星刻面长度比……等等高级参数，我就不放出来了。这些都是专业的从业人员可能会关注的东西。简单放个图在这里，祝大家都能挑选到合适的钻石产品~</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20221010151941830.png" alt></p><h2 id="证书"><a class="markdownIt-Anchor" href="#证书"></a> 证书</h2><p><strong>GIA</strong>（美国宝石学院出具，最权威）</p><p><strong>HRD</strong>（比利时钻石高阶层会议联盟出具）</p><p><strong>IGI</strong>（国际宝石学院出具，总部位于安特卫普）</p><p><strong>NGTC</strong>（国检证书，由中国国家珠宝玉石质量监督检验管理中心出具）</p><p><strong>NJQSIC</strong>（国家首饰质量监督检验中心）</p><p><strong>GIC</strong>（中国地质大学（武汉）珠宝检测中心）</p><p><strong>省检证书</strong>（由中国个省级珠宝检测中心出具，如广东省检、江苏省建、浙江省检等）</p><p>……</p><p>不同的国际/国内检测机构所执行的检测标准会有细微差别，表述方式也各有不同：</p><ul><li>GIA证书的钻石颜色等级分为D-E-F-G-H-I…每个字母代表一个等级</li><li>中国国检证书的颜色等级分为：D-E代表一个等级，F-G代表一个等级，H代表一个等级</li><li>一颗钻石可能带有多个证书</li></ul><h3 id="证书日期"><a class="markdownIt-Anchor" href="#证书日期"></a> 证书日期</h3><p>一颗钻石从切割→国外供应商→国内批发商，大概3到5个月周期。在品牌店中，还要加上制作成品和流通到店内上柜的1到3个月时间。一般购买的钻石，出具的证书在6个月以内，回收钻石的概率几乎为0。超过一年的的钻石，需要注意一下是否为回收钻石。</p><p>回收钻石：钻石买主将钻石重新卖给商家，商家拆改钻石后重新放入市场。</p><p>注：证书日期和回收钻石一般是行业潜规则，没有具体标准。</p><p>物理性质上，钻石并没有什么问题，但作为感情寄托，很多人无法接受别人佩戴过的钻石，但回收钻石一般没有任何标准和方式来检测，基本全凭运气。</p><h3 id="gia证书详细"><a class="markdownIt-Anchor" href="#gia证书详细"></a> GIA证书详细</h3><p>全称：Gemological Institute of America</p><p>中文名：美国宝石学院</p><p>成立时间：1931年</p><p>介绍：GIA是全球最权威的钻石、有色宝石和珍珠研究机构，GIA也是一个非营利的公益性机构，是宝石与珠宝知识、标准和教育的主要来源。上世纪40年代，定义了4C标准。</p><p>查验链接：<a href="https://www.gia.edu/CN/report-check-landing">https://www.gia.edu/CN/report-check-landing</a></p><p>注意：</p><ul><li>一般的品牌珠宝店不带GIA证书，都是配散货的钻石</li><li>GIA只出具裸钻的分级证书</li><li>一张GIA证书的成本大概400多元，证书价格与重量相关</li></ul><p>GIA钻石检定证书模板如下图所示：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20221010143214333.png" alt></p><h4 id="基本信息"><a class="markdownIt-Anchor" href="#基本信息"></a> 基本信息</h4><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20221010143754663.png" alt></p><ul><li><p>January 01，2014：开具证书的时间</p></li><li><p>GIA Report Number：证书编号。与钻石腰棱的镭射刻字编码应该和证书号相同</p></li><li><p>Shape and Cutting Style：切割形状与切割方式。例如Round Brilliant 代表圆形明亮式切割</p></li><li><p>Measurements：钻石的长宽高尺寸</p></li></ul><h4 id="分级信息"><a class="markdownIt-Anchor" href="#分级信息"></a> 分级信息</h4><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20221010143809331.png" alt></p><ul><li><p>Carat Weight：重量</p></li><li><p>Color Grade：颜色</p></li><li><p>Clarity Grade：净度</p></li><li><p>Cut Grade ：切工</p></li></ul><h4 id="备注信息"><a class="markdownIt-Anchor" href="#备注信息"></a> 备注信息</h4><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20221010144043650.png" alt></p><ul><li><p>Polish：抛光</p></li><li><p>Symmetry：对称性</p></li><li><p>Fluorescence：荧光</p></li><li><p>Inscription(s)：钻石腰码，与证书标号一致。</p></li><li><p>Comments：瑕疵种类，或者其他备注信息。</p></li></ul><h4 id="净度特征图"><a class="markdownIt-Anchor" href="#净度特征图"></a> 净度特征图</h4><p>标注出钻石的主要净度特征。净度特征包括内涵晶状物、云状物、羽状物等等。一般小于1克拉的钻石会出具精简版的GIA证书，即不会有净度特征图。挑选时，选择内含物尽量靠边，且越少越好。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20221010144907203.png" alt></p><h4 id="科普信息"><a class="markdownIt-Anchor" href="#科普信息"></a> 科普信息</h4><p>对4C分级的科普信息，下方是防伪标志。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20221010150020450.png" alt></p>]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Life</tag>
      
      <tag>导购</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>国庆七天游——儋州</title>
    <link href="/post/562d3764.html"/>
    <url>/post/562d3764.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、 --><p>我还记得9月30号那天在下雨，就是那种小雨，但又不得不打伞。于是在下班前10分钟我走楼梯下到一楼的711斥39元巨资买了一把小小的伞，真的很小，伞的面积和伞柄长度都属于小朋友使用的，但是在这个节骨眼上，能用就行了。到下班的点，我又重新走楼梯下到一楼赶去深大地铁站。万利达的楼梯很小，走得很快的话会头晕。路上果然是人挤人的，这个时间点很多人都会跟我一样选择去深圳北站赶高铁，我一路小跑来到深大地铁站，此时的深大站已经比平时上下班高峰期流量多了一两倍，又下着小雨，等我进站之后，身上、眼镜都湿完了，跟洗了个澡似的。还好时间还算够。等到了深圳北，开始无尽的火车之旅。</p><p>从深圳北到虎门是我们买的票，上车后补票到了广州南，广州南换乘高铁到湛江西。一路上都蛮快的，半夜2点的时候开始从湛江西到海口。半夜因为诈骗那件事两个人一晚上都没怎么睡好。第二天7点多，火车开始从轮船上卸下，组装回完整的火车。下车后又排长队做核酸啥的，大概8、9点多才正式出站。拼车回了儋州。拼车的另外俩人也是儋州的一对情路，几个人叽叽喳喳讲个不停。太阳很晒，我没过多久就直接睡着了。汽车开了两个小时到那大，下车之后先去了一趟商店，买了一瓶五粮液、一条中支的中华和一条硬盒中华，买了点水果就坐着路边穿校服的载客摩托回去了。</p><p>最开始去的是那大镇上，镇上所在的地方实际上跟沙市很像，房子是一排排的。两个小朋友和两个哥哥在家，随便收拾下就准备回乡下了。大哥在深圳呆过几年，普通话还算不错，二哥人很热情，轩轩人很乖，整个跟小大人一样，是我心目中那种比较优秀的小朋友。小宝是一年级的小孩，很喜欢看抖音和王者荣耀，见着手机就停不下来了，问我最多的问题就是你的手机开锁密码是什么，姑姑的手机开锁密码是什么。反正两个小朋友就是那种天真烂漫的孩子。</p><p>回乡的车子开了半个小时，在路上买了一些炒粉之类的吃的。那家炒粉店把灶台放在自己家里，天花板都熏黑了，地方真的很破烂，卫生条件也很差，附近的店家基本都是这样。等炒粉的时候下了雨，等炒好了雨就停了。那边的炒粉很想家里的河粉，但是比河粉要窄一点。味道嘛也就那样，能吃。</p><p>车子从县道右转进来，还需要开个十几分钟村道才能到。村道路旁就也很想我老家回村的路，这边的路边种了很多辣椒，很奇怪的是这边的土地居然是黑色的。乡下的房子蛮小的，养了一些鸡鸭，两个吊床坐着蛮舒服的。房间里面只有左右两个住的房间，所以我们住的地方没有，只能白天来村里，晚上回镇上，休息一天后再回乡下，如此往复。辣椒地有20亩，国庆在那里呆了6天，干的活不多，就是帮着搬了点木头，铺点薄膜之类的。</p><p>有意思的是，跟二哥干活的时候，很明显能感觉到外省人经常提到的“海南人懒”，我跟轩轩一起数60根木头，二哥搬到很远的地里去。搬了两三次二哥就坐下来休息，看看抖音喝口水。我也尝试搬了两次，确实比我们干的活累，但也不至于干一会儿就休息。我觉得从这个事情上来看，海南人更随心一点，不会给自己太大的压力，想休息的时候就休息。而我更习惯于尽量把事情一次性搞完，累的时候就一直累，休息的时候好好休息，我接受的教育就是如此。因此差距就在这里，也谈不上好与坏。</p><p>村口的马路上，有两颗特别大的榕树，榕树底下支了几根木头，不出意外上面捆着四五张吊床。当地人在干完活之后，很喜欢在这乘凉，很舒服。我也在这旁边一个吊床上趟过，当时正在和我妈打视频电话讨论要不要带点东西去她奶奶家看望一下的事情，结果摇着摇着吊床断了，摔了个屁股蹲，可能撞到了尾椎骨，过了一个礼拜才不疼了，也不知道会不会留下后遗症。</p><p>在离新坊村不远的海边，退潮之后可以去赶海。那真的很有意思，跟淘宝似的。不是手机上的淘宝，是真的在淘宝。大嫂拿着探照灯和桶在前面找，我们带着两个小朋友在后面找。最多的应该是小螃蟹，偶尔会有那种小鱼。小螃蟹虽然小，但也是会夹人的。轩轩呆着手套也被夹了很多次。总之就是非常欢乐，很适合几个人一起去玩。由于我们没有桶，有时候抓到了也要放生了，后悔没有多带几套装备去，下次去就知道了。</p><p>镇上是比村里热闹很多，因为那大是市政府所在地，所以那大镇也算是市中心区了。有很大的市中心区域，热闹的夜市，还有肯德基麦当劳、日月广场，当然优衣库是没有的。 儋州给我的印象就是酒店很多，起初我以为是为了接纳三亚、海口那些溢出的游客，但二哥说并没有，儋州市区就是这样高消费，什么喜来登、维多利亚等有名的酒店有很多。听小薛说还有很多酒吧，但我并没有看到。不过应该是有的，问哪里最热闹的时候，小宝回答：酒吧最热闹。很难想象这是一年级学生嘴里说出来的话。这也能看出来当地的很多问题。</p><p>镇上有很多好吃的，菜市场里面的糯米鸡是跟外面不一样的，很好吃。还有猪肠馍也不错，有点像肠粉卷起来，里面放一些炒熟的豆角啥的，味道是酸酸甜甜的。最常吃的应该是海鲜，这边的大海蟹45/斤，肉特别多，炒的很好吃，就是吃的时候要注意螃蟹壳有刺，扎到了很痛。煮熟的海螺我是吃不惯的，腥味太重，可能只有爱吃海鲜的人才受得了。轩轩爱吃的肠粉嘛，就是普通肠粉的味道。黄皮鸡是回了深圳，在小叔家吃的，并没有觉得好吃，肉质很硬，包括二哥女朋友买的那个鸡也是。</p><p>其他没什么了，祝好。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20221009105203.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20221009105210.jpg" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20221009105215.jpg" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20221009105220.jpg" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20221009105225.jpg" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20221009105229.jpg" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20221009105232.jpg" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20221009105235.jpg" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20221009105244.jpg" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20221009105253.jpg" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20221009105256.jpg" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20221009105302.jpg" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20221009105305.jpg" alt></p>]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Life</tag>
      
      <tag>旅游</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>从交运角度看内循环投资方向：快递物流日新月异，离岛免税异军突起</title>
    <link href="/post/2d556ca7.html"/>
    <url>/post/2d556ca7.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、 --><p>关于国内国际双循环、海南自贸港建设，码住，值得一看。</p><div class="row">    <embed src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/abc.pdf" width="100%" height="550" type="application/pdf"></div>]]></content>
    
    
    
    <tags>
      
      <tag>社会</tag>
      
      <tag>看法</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>将Waline评论系统由Vercel部署变更为独立部署</title>
    <link href="/post/de4d5635.html"/>
    <url>/post/de4d5635.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、 --><p>本来想看一下最近评论系统的后台是否有评论，自从建站以来也有上千的访问量，多少能有点留言吧。没想到一看吓一跳，挂载vercel的评论项目直接打不开了。我以为是vercel出了问了，于是将vercel上的项目删掉重新搭建了一遍，但仍然没有作用。</p><h3 id="检查"><a class="markdownIt-Anchor" href="#检查"></a> 检查</h3><p>项目详情页显示了预览页面，说明项目在正常启动运行。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220921174009881.png" alt></p><p>但点击访问无法打开页面</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220921174156739.png" alt></p><p>于是跑去友链另外一位朋友的评论系统，发现是正常的（当然不排除他是非官方的部署模式）。于是我用手机挂上梯子访问一下，果然是正常的。但是注册和登录页面无法访问，我猜可能是最近的梯子不太稳</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220921174849398.png" alt></p><p>问题到这里似乎无解了，但之前并不是这样的，部署好系统之后可以自行访问，网站的代码托管在github，前端配置好链接直接获取就好，相当于之前也是在国内访问的。那么唯一的解释就是网络或者封锁IP之类的原因，再查看一下<a href="https://www.vercel-status.com/">vercel官方状态页面</a>，9月19号有一次DNS延迟问题，但这个事件显示已经解决了。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220921180001490.png" alt></p><h3 id="发现问题"><a class="markdownIt-Anchor" href="#发现问题"></a> 发现问题</h3><p>突然想起来有网站可以检测网络，随手打开看了下……整个就是大无语。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220921180538836.png" alt></p><p>然后想了想终归部署在国外还是比较虚，还不如就放在自己机器，缺点就是到时候云服务器到期了迁移数据可能会有问题。但比起服务无法访问，还是值得冒险一试的。</p><h3 id="替换方案"><a class="markdownIt-Anchor" href="#替换方案"></a> 替换方案</h3><p>Waline官网评论区已经有很多人在吐槽最近vercel的问题，直接看<a href="https://waline.js.org/guide/server/vps-deploy.html">独立部署</a>。docker不太熟的可以往下翻，评论区有人分享了<a href="https://www.tj520.top/views/articles/back-end/waline-service.html#%E6%96%B9%E6%A1%88%E4%BA%8C-%E5%BC%BA%E7%83%88%E6%8E%A8%E8%8D%90">一键部署方式</a>，看起来很多人部署成功了，尝试一下里面的方案二。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220927115531247.png" alt></p><p>注意</p><ul><li><p>这个教程是需要自己创建数据库并且初始化，这些步骤官网文档都有，因此只是一句带过。按照文档一步步来就没错。</p></li><li><p>使用时建议把node版本升级到16或者以上，我在12时使用这个方法搞了半天再发现是版本问题，最后用nvm切换了node版本才成功。</p></li><li><p>如果存在多个node环境，注意 sudo 模式下可能会切换node版本导致上面的问题。</p></li></ul><p>执行如下代码：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-comment"># 安装nvm，如果下不来就多试几次</span><br><span class="hljs-attribute">wget</span> -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.<span class="hljs-number">39</span>.<span class="hljs-number">1</span>/install.sh | bash<br><br><span class="hljs-comment"># 刷新下bashrc</span><br><span class="hljs-attribute">source</span> ~/.bashrc<br><br><span class="hljs-comment"># 查看mvn是否安装成功</span><br><span class="hljs-attribute">nvm</span> -h <br><br><span class="hljs-comment"># 安装指定版本node</span><br><span class="hljs-attribute">nvm</span> install <span class="hljs-number">16</span>.<span class="hljs-number">17</span>.<span class="hljs-number">0</span><br><br><span class="hljs-comment"># 切换node</span><br><span class="hljs-attribute">nvm</span> use <span class="hljs-number">16</span><br><br><span class="hljs-comment"># 查看下node版本,前面没出错的话就ok了</span><br><span class="hljs-attribute">node</span> -v<br></code></pre></td></tr></table></figure><p>重新跑一下项目</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220927120547770.png" alt></p><p>然后访问，默认端口是8360，如果是云服务器需要去安全组开端口，否则无法访问。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220927120647226.png" alt></p><h3 id="恢复使用"><a class="markdownIt-Anchor" href="#恢复使用"></a> 恢复使用</h3><p>访问<code>http://IP:8360/ui/register </code>注册，登录后访问<code>http://IP:8360/ui/</code>查看后台评论</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220927121611870.png" alt></p><p>在Hexo的配置中，只要把主题配置文件中原先的vercel链接替换成新的访问地址即可</p><p>即xxx.vercel.app改成新的访问地址</p><p>Ps: 直接用IP+端口可能有安全风险, 可以在将本地启动的waline-service通过二级域名映射到外网。在腾讯云域名解析处即可配置<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220928175104583.png" alt></p><p>Ps：可能还需要设置一下nginx，but我之前配置了nginx、ssl之类的都没有成功,还搞出来跨域的问题。后来重新配置了个二级域名之后突然就可以了。原理我也懒得追究了，有机会后面再复盘一下。<br>9.29更新：<br>在短暂地允许访问后，由于域名没有备案，又重新关闭了。现在的情况就是：</p><ul><li>使用二级域名，但没备份无法访问</li><li>使用IP+端口，不安全且跨域，同样无法访问<br>懒得折腾了，没有什么意义，等二十大过去之后vercel应该会恢复。</li></ul>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Fluid</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>互联网坑场二三事</title>
    <link href="/post/e3f8607f.html"/>
    <url>/post/e3f8607f.html</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="密码不对哦,你确定是这几位数吗?" data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.">  <script id="hbeData" type="hbeData" data-hmacdigest="6eb330ff37b22f8e9a8e09200cbbc151921a7f32fb966c4406c6db4d99e78ca6">420d3ca12bf59a35043bb99f892ce748d3aaf9eb46ac81027c1f7f7c6e8522da3249fcd9f54cc7b103792902f0de76bebf7890b4da2a29cddd69d19957021ec6e878bbfb70d83a4ecda3b1afd860b55f7e458ad294b78ea5270ffd48d3e3ba495c117a6bc609d133fd24e35163ad0743f908030d1b34a14bef85846d744b5fa8dd036d2ddf0c87947e6124712945b0a924d8bf3ce64addeb66d05ff54b53770efca84bdf06c8d4bddffce598fe736cf0332cebde841d4666e254cc1f2a769e22ba8327b220079617bb9fc010af3eda5138a61d437a5c9fd30101f027c3c63b6ebc917aa44ca1477436ec01423d3865bdb6bf51f68c219358352375f83246b0fbb76279d6289974abffd17268ccef0e67ad326022a9742911c2197a01e569032e7f848663f51b9e643b32eb701558c5866fcfa5d8d4076a2c71070beb993a8d069a15ff17a10e3a1bcdd3d7e2303b6482a67bd13f993617bc328457c3d2f9d2234cd24d48b6c5893e383f8ca3bb7c28008459dff90fdad5e34bd4c0b1a11299cca94edde03258e4357693576e42692b3a6d484117740e7f9368ccc3fe719eef5c4443b0d3d991cf7bcbb037bc43d3634998d62b4bba79552f6a4405700c6cce5a32749a4a1afac4707bd5c3d0e8fa17a0274cfe74367c8cc66111126a18dbcaaa80638393cac6fdb734cee7e32c88f90a18144e3f8174f3f75a62a02a760d1d4c21d1732eaa16d37c9c23ffd67cbab54549813e38c7b3a24e02214413445e21c2dcbe9d85e504d4410de20f8a9fb11ed4b3ca409142c115e5660a60d71bbf519a91d386873c442eabb7442657d3e3cdde89d899286ff652147c79df8d0cb7d88a093bf87c55f67321f0c953f2ea5c158850d32686164e963179a8d79f741f2cc5a393d4b1e4368cffc41bc57983b25191af5276e26944fcadc016177e141a8df63809dbe7054b3f5e45a28f6e0e12f02bdc69f03b4157340ff5e5954fdb803e86e27d29c22201bfb26066f41e51c94a3b704c45086b1b900d9bff64960c4b31b648b618184c4cc3dc564fe17d836a150df0d07d4c806d489958c303459526fe1ce83aec54b89a3c9edc3d4b878e8780fca580cbfb12d5aef3af75cc9d458cdeb47ce684e5f04b425384167e7a201cd0589c765bfc57335bf19a008e13d374f10ea6b4fea028159fec26a7d1dcfc4d065f0a760cc047015d22a4e016a09884d5271ee29b616374c8ae1980b8d97697443ce34e0193e82bf44fb8600be229c466952129ffabbcedad3519efc436ba878192c02bdc1348e881617fc0fbfd0396090ec758c8ffee02ea27a4e42ddabd4434d4df471ac6f58aac419f02422f38ccc726d9188e5a18e64bb8190d9f1f4e09dab71c882ce5de090a21d3491ea3ed900b9c2478dd8f16067452d8aeb911317f84591d2d5d94bb5e66f0866e36bdc4db5dcf9e88002ef91b383ac9e4a4a9635b1c809eb06ddffde63180729de872ef0d0f9b71254798a64268c1040882dabbe36840324ec1d1ce87afac024bff580628f362476e0e620c5cc440f9c43601b92c66f8bfd357784f0b403f0aa7f43fa5d80b8e450b1de4ce956611a3eeb2142a3e0c92469e25eaa205890908e83c23b38ab2fe3cb887eb8f90a427657922b30439ac7d01db6784a93193637b0a7f5866bcb6a6694829d8ee7efd632af06bca62ab0d932d594099efee551234ae5f99a67cea33393fe97359b952c4b2268222a07cdbb72ab8b967d3d4d67e9b65ac855d3ca00eb05add8b34560c8494c6db404a8608466ba05578624babacd618fc2e00e9cc5391392314810adcb327bca5736de6f14e9eac3db77500bd81c3969e27338a6cade0c97533f7f4a31eae1db62158bc14509ec6f4a446d235f648e38ce48c55b8c85a671be082dd30ac41223496949ffabbd209aa03574f388e4f62ffc20663cfe9f42c34c7c17f7c0598fa9611841b2058ae25d94e8857858fe328a4c78b9f507af96baf834393db1cdd67c45250908a90a712e29bdac66ea3395f784a84324454f22762197c8aa907c7305ad129e4471218aa21518ffdecad9dbf910a3273ada351246abe8e21a6f5fe62e2927ea02bff176ed4822fcd1573d13e2e828b509c677a1fb058efdf253355686557e0a9afca34fd9ab8b2c54b868d4dba4bd2a329006b6d7cd6696a9538539977f2d33d056089a1d53f45b4868c6556a75397208bc106059fe9cc720a57cadb5355e10ee3f4fd96a7d672d56e8d6c21ed6c4f35310f383298910c1c091068849a19c08462302c68b7008be55308b6eb8da0f78eee76792faf1f9055b2f561b2f516f03e0f96b2c0857ab1e85fbcb2fcc909116dfa330645e760e030c877db4ca00ca62f4df9261ca1b32e046ddba3433e669e4be48e7b4aa663c0099ca873e59a1bc2505536b33bf6d2508a87c9369fdbb00d93137c249104bd4a87d866c2741305200b40093d116f2c8855c9d52c6abcf2ea034599558c3316dad22d5ec7ef1c301479c6853b3f8beb86ec50bba76d22b76e2e49d18bdc723ed34387567db0e9afedab14df4f175c5af177cf1103feed0a5421621492b2f5730cce1060637af220dacaa07208015e7c2cf3a0fdd2e17395808917f5865a84e3776ce8da8377d60475f95ad2a5e7dbfb3735fb4edc84651ac9c5c130e16a8e33a9d28a6dbbc8cc77e2cb7bf41732ddda6ddc9c3567a7ba680ceb382618ad90faedea0e4ce2832bfe23e2a9807878f073ddbf27e5d520a6ce51d417507bde88a1f050a7876107fabe370f45c01bbf93f4bd850b290dae29a1441db175c14ebe3274421f41b19aed6f182d69c6d34ce459b85b6bb25f86d6815c562930d223f52bd300e1d8c205e337cc05e21fa586f883425164472bb4437b27377a41b44e1954467b9d6905fe40cca08a6b3f70234964037f33999d69be033fd7eac564d7e5cdb300640c071565b7e68c6506e82c2877771c91165ecd5a21925fabebaf822a45530e97b5bcd63bb09915fb9a4495b3d5091f1a00999a9d2160be3de652da27e4d9ba1a4b231625c4d35253bc06b99c9a505d743d00f54136f469bdfdfd4d4ecfe56f52846bcf3b373e38b1bdd098e7c15c810b87efbda59d9a1243d0733c15cf21dc48b4bc93832cffa3d78f61963732e540976a64f0343f801b4e51f103e62313c62043da9dbbd35b08a3b7044a08926f792abbbec93fac4983b7e4591483cd40f091719b5821d75d0972ddbf923cefb9d91df0b753dbbb99d684a50b9dadc4bb68cc38c0d18f8bdaf7f642875bf8de0387a22458f686b75cfb5369a1dadab671d0f4f39517b7c6d58693db955f45bcb1d2a0ba26bf59aab7860f4ebbf4d431d6364fe52305bcd6256f42286059912c2ee977db480ad26f08c5707d7afac4450c63ce682215203dd5e89a42072f47d362aa5614a03dfc762f8e99fb706c5d2decea8d3b33a4d68dfbfd2e14bc866ca220d71773ef4ffeab6dc21345f33b8e286fe6759e8a1d2d0cead9836e0dd64571f785c15401fb478032b48cb3cb00fc81d9c67343a041a45e1a4412603a87b6860572e1080ec18d5ca12d423e63e94ce8808b4eecea17c7a5a2f951a7494114c9f5fc78618ce8f31ff01da847744b4049603e05e12be80c2c0d5d7fa7b671b27e6c12730e44996cb5e6d654f6277f782c5223b5c0f7f111c9a2401c70b9f92975b625ad389f0cfb7dcd216adeb1461c17c992608376ae179b6732d7110435fe2f3809c83d3fa90bb8cdccbdf601ba9dfefd3b75bf33e3cf5d74b549f268bb5a60ca72588c859e232c8834c6d92781a06f7de1330662b97a98ecc77592ed4396ad56b449cedc31f352dfdb3b7084be92e713db5fce931605c0813f555b5078c58766cbdfdab26545037c39af071a3cf5ed1b4b12651f0287e68a555871ff837fbd07b1ffe9e09df73d38bdcd5540812067e5bba1d1bcbf90f2859e25857fc18a9855cf67d77dfc74082d9bc8f60bf0e257a66eb76e212c1a911b2c955dac99ad5dd334de9529a8a332414e1a4a21c6c5766cffcf923b8fee1974f1c1875bda958653b297903f3cec83c98e06784da76ea200574e249b70fcdad0b1be8f36cd35fbd6ecd386db5056822ef9b2b1abced1d50918236f36e5e413eac69ebf1d4f760ac8033a39c1b6cbf9a734664114f10b45f33aaeb301d7faa2f3bec3c14c44a24c9b59a5680ac0c0b967cf9242973ce75fbb1f17fb64a999283d031b9f8f9b3b40351df184096e356fa6891f242c9ab3a84ac1555eb886d3878ecde7c7358829f6c93b501ffa05ed8c255a0ab2f79d3bcdc6a6eb4b346175d475003ab0afe99b5702b2d5aa95ac0400194fbc22ac527af96a619795cd13ca4867e1fdb8eea2eec7fd5074de4579a5371831e4463606eac65bc6ca513a4be619c0a4c5514fb8f1a6e5bd87f54db964b9037f8909b79bd7e82624cc516b41256b6c30e83a71e7ac9cdaff909384bdfe5f845359b779ae3e0a2e0dd948e9a1256d8c5074f59cc2e14f30922ca093dfecd20710b76e37ae2706b260610798a2644c8492bef3bee15af5757bffd69e1c4f65c34e35e50fa2b6f62e6a71e125c05d2bc0fed91059326118a500e03d125e4659f627d6bd78e224d743bce2d1647eb0f75db82f83c0d994a55459220a0e87949ef5d9e3c5e4d8f92566336d2bb47728198d247d25d0fbac008ffa031676159c57786852ba75a1915e69e7e17f4cb08f410ca2c16d06a8b649a5741abc7d3277c39dcf73c9dd2e8081f62d6f63c22190b6506d1403f53e4fb0682a9957176d8c447c452b0d009bc4c98808cce5cef867db54f7dbcd7d35de0286a24e660f881371d1631be8312aa5725d47c841fc77e6199940399ac60d4d975b60a26eb77e4ec2a6b63b6407e8b4cd303727721cd97daacefcdfe487a9d597b72f931bdbdb40cf339f3b0840332d986ebf295ddc5cfef21ea5d129500996a7d7b1980d18f41e5997abb8bb61ba7581f409c09b953d565eeed255d4669434d5ac729ae8c3d27121d6136ee23e2a201b17ec60651a13f201673fb246ac1f1c5d08ff1ef24ee403b6524dcc995cfb512479f4eaf664f2434fc708971eaca49295c4914ead0d2b3955107b8d07c9ee8412515ee92483682257f634b9d29647f627fffb4ac0d711cc3845f4ccb0302c995291975f5609bccddd988a3d46a215788aa1e0783196ecc2ba3f6d5c93f640ceed3856cd3bfa20c1ce21d08e4dee1d018eb4caae56143ed7ea43743529e5d0fcf5a0d86f84b294106a1f1b2271ceb2abd4766defb99099ccae5c76f67581ec058c97da62e099fff41b2e929243ef9f25cad7c07672380a379f86ddd3fe762ed30b72b81ae0ad74a3dc3be45ffb5701f0c74a981e5512acc046b4fd3dcc6ff03fe921bdaa672cd7f73a0f46cce21493a7a67d755707cf80881bd91318387130792b8653d864c7a6544338f5a653193575458c51ff2819327feb259fa99019ae6fddc591b9386da1bc826956ae1d592597a95fef42e127fc9a0dab5ee1e7ed81f3162ba917cd00c9995f098bc43424bff17114ebfa747dc0f0008081658bbd089068142115220b400121873c7085aadfe1bca027d9947c81fa48acc8e40e8d0769b96998613b498da30cb3049c347e0bb8a5cef5094d7d6d94d21728175d71b5bb7826fc699903409d85b6ec181b56e399e00e707ffec2e710407ed462ed5c82a786b5bc877bc4e944b431653ef66f60082188f9df87355549f52d668f81247c7f77dd7298b4adc70685ad80bcd3b6ca4062420405bc9d58691ed96ef0d9828f9994dcad6f7651eaf81c3a5ea656a276f7ba70439bec5a5d13f91bd3d57af3d54e4a8695f01e9c4b5384f4bb09cad8a2268cab7cf2b6ee560d95540480ca33e2a97563f5a5581a01412aed3e7ec169a82f3a2fc1c83fa6522e8bf05d0220dd0c1c6ef1f55fea59122256587803e6894a46a8fd027bf07309f26dd78e080145f71304dfdab842d9120c705671542cfba6082d9a3dfc10ce74927bc82c382ca1aec50102cdd2f5a2ed90c8fd2f11e35d086f9587049ac99e8215e30fe254ff2daa1d6f2455e9208e26f1d15f6fce1fba70a3a8f2c6ca64441e9f6badb11a0e05c7bec54690b4a7030fb5a3ae13c5df5f0b1d6e42604545a3b663b906a99e741addcd288c57664daecf5825c655386afca635f4432b9a042d01e190fd15225a6f815c2d08f598fe8a1788be099e7935d0006fcf268b01ae226583ae2287f69ebd60d4ba3c88914f4911f0ac2e6008b2d945b07ff6649f476936b8360db3f632d7c110d3f2daa8e236762cccbdc707d24ed9d40482c9214c4223ef196d5fad11f1c613b5b636d39e2f3f62db3be8eb798594bb729cea7fe9091ed4262a57990069f660ac917bc9ad8e67083b1c8796a3e0baa4a308f57f088f92b1952f9ff4a6b60eaf5d6987b232fd904b436e1cfcca643674dd962c4fba83ba4563bfc566306ab2e4d7a83df965baf78a3d03b7f54fd5f1138a45dc9d36fdfd4cafd5100dbefee9496398b12a222d91d48d2c37b9ba443f72e892ffe495da90e20608b13e543c1133470cef27a8e7bc5ae77e417ca12073331fcdc769a070ee5b39f8d1aca575f0913f9f7616344222bb8dad2af8dab29ad660d5209135cdf083739a03ebd9704e99051726be6ae408f8666de3eaa2c4b26b70173ca4484b68ae5f703dcd5c30f779e9f9d194ce47108de206a3fef712b3c359ff084b3af2d4dd05b6c2589c71f6616acd8b33cc9d41c8594485b3445171548ad23289eaf762f37cdc9da97fe6dab788dc9af06aab8e18f2f32081473ed3e3c6e489a874c6814ebd6796295a000e43b66e3991c7384135888c3f0d2d24ab585e5d3768c34ffd4ef3ec91e49128249db2acf832bb3b390f06e52f1293225a80e231f2f5b5a76640f7f3bbe7443ea380e6537889dc371241b5f638d529b2785c82340eb2fe8fa48124ce3f8559841a1cf048071b98961c9e6135f03d51b0e94ca101c0acac848c58520298b163b698a9c3d29a912bb9dea482a4e7c51d7750f2d63f25d3a55ab048cbd6acac3b3f2ab7b5028e8497eaae1419173d7e2b9e93f07f7f56e15eb08530bd99dcddf9b5a601acbfae3712da45173682fa20fc98b8d542053ddd6e2b485c54b82292971df0c84fd732f59140d33d7535c320594cb52578f131dff3fea0803bb3f75e90f71e4301a3404af5b24ad5bff1d003305f9ddd0a6f6a9a393fa28d2b6874a5be99a33a50bc3abe653fe7b05128c02a0066a6a988fefc7d0828665c7460f797b46faddb0823138b4aff6c0fb2c7d53809002da566d57f293eca5e7bdd6cd03de77703d0b9bf8e12ddfbf1b832235ce6e8a2dc4125d75e4c8dda2170b333e4f19ad39051a7cfd6a1cb23a7e92412737093071ab6a4ca6a14ed4b2a51c39e72d3ac95178f9e1451a06e2d6c5571fef04ac1b32140f9e8d6ecd7249adcddbeeb30f0bf17f153b03f2658886097ffb7b11dcb30f2f59e4b339cad638d8de1dcf115a6ae15036355f78ad009dc1e159c540aad9c4c83c6424a31bca8d65f04bdd616ee028ea6ef8a24c3e21fb305eb5b5f815de951a11ba2c41614e61effe6ffaf92235c1d2aedc002cc9ee2bcedb126d28f653d2757caf296acebb513d61baf2315cff84cf791ec002744ea58299d6250d83546e2a76d8751179f8a6d66d50e72b91b5e4c2202f831968581c011fdb81f398c25468e9933d961376c9e48a92475d1ff3892d1a9427f8943b064826e6ab446ec6e2c17c74665ea0b3a35c5bdf92dda204c6f6f39bfcaa48ae3f8ba69c8cc5add231257458cc620e3cd7f6493685c50a3b0ce676c973ae224f3f9279ea22a4388fa99d145960b6202ccb2cacf49b3b2d55bdfd129a595e85d13af968d7ec6c8a2a51f8984e8495d477f5ab35bb7242c6e405791a77d4ec2cd5a09f1010eca0cb25ecd91ce03c2a446b1340e48f7f8e41fa7ee9ccc51ecf77c9c4d3ab8be9f5f0a4020b4fdb9457d262b07e3adfe5d874b95de0742e923d0e332e16f0765316fec75b5fe29431569b55ed3a23e78b4265f3b6cdfe1776795ced120fb44ba3ad194ac41279d89a3f21f9086639619939ce5f7a4794c5275bab3ffe4cfdf871cb95e830438ab87109659b3759a171ba38fa364a7479c4fb8553684c732c74fe418ab42673b6dc43cc23d28f172cc45a62027f8eaf090d34c6dacb39e9c4e0ea5f7f780781ac3e5fa966b092e8bebe69dce8db801ac405291939961462eac7f74dddb2637d68ae2586bb05b91c55739abc871ec19f1820831d9dc88c9ae80333422c47ee7e6ddc84ff3309d5f322ff065e2c74b988188ab7e1d8ce60012871001ab73722dde91bb23cdb052897d36ccef248ba4256b3fb54756ec3da13ff93fe5f93e9e241f4f798ea251e87292382e612fd3c194ecc2ecf7b84115c57de8ef9eda4f117a2c97f39e180b9f9b22ce1d9a5c2dfc8a582c748e8c7090c096636d25f2444c9ad3fb282bb7b04492ef53835bfc3d0696f61170e50f665130bc694a6e7a42fcb1ab16d4a89c70b74370759a8622fda215fb4b6b8af31e3712a37b1ced1a2d9dc4a65f83785234e9cf49f45c5f8e73e29506d0e147a18f04c7a8746a1698a934f0f720de02a3ac6400aafa5a1a9f289de5b5db761fd4216f923422b69cb136d186751991c2b4d406788e9c4019cc6bcb7e20415c3b672c8138c0fe9978ee02d88f22e969b587b7d59de132d7d768d64d56482833e4ec4aed0bc94187559a7570933ddac4efcae547870b3de92856aa62ee1391e18f66e1450fb33273cfe61e35b26d8c0656b3adb4973bcd5cd8f16e2ff70293cba22db8e00dcfe1763a362278176aad4570fc15ab950c16583d6bd5885f147e8243666754381bf7da25906b9e3dc73c7d23093c7586fe5a780688bd5e2c85b8c5b6921eba3a27b5bce13aa84a415886383b9a4a9874f42aeb24c4c55d41a3680c9ba84732ce846e19e106563425bbb2777f5019578f852a89c3acf1d4cf0585a5810a70182d8b21de1063007a4bed037c85d1145cc0c5eda38088aaffb8dbbe2887f0425b7a38dd9c2527f4a4553c46519d705c14ec9de87b8b11b6a7bc95b10ba95bea7b91fe479df53e2713804a87849cb7a9d8d1c80f3d40d024114b0ef4dce388a91a7ddb53ddc492a5df928665a3f1450d17cd9f84f0e73770b30d2f0d595d02756a92943a64c6a983fa95a64c5eec69ec05725994aadf512876c556f89cad3701a8fb7d59296b9e9c4eeeb72ea873d3f719cca0620843651b3f666f4bc0171f5934a5b717b51ef5c8106a7ac9f4482d61797825875e42c176aa8817f3b37d5874d32dfe9784c0cf73a7f1b6c359fb6d79bf029cf002dee2ade2ce757f26608168ce89316cb9a6bae92899ea619f306ce2f0abbb71e271aaa977b6f406d4b599dab7f9bb192d3a5e125b8bd7d9e5978ba6e0c9facf570a59133d687d5b170fbc30caf5ae558f421fa7328f5fafeade1dca1214e0517c8c47c930b463f895262f92c16f4cc75c7f3fcd97bc927593afa5df9743c2b51ad590bde2ee366481d95c411d545c09b63551cd9b6376d092892810908504732545a3697651c684d0c6adf3334c5e205fc01321c5b7e22d04838fe0bdb27040cd1441cab617f048a8d48c10be3484c9633a208addc7c16a351ffb7154543d5118ae2e7699c7fbb509bba00875c3446be3b6fda8280591ccc41edf864b00e6de08a12e6be5803ffc9402a7de4c405584e2b3bd7d95123b147b3bcbb7df905138aa13517026f6f1921cad5a19f6889bb4991bb85795a0c8fbc7e567f91e813486fa27811dee810ca36e52d12178637497cb03fdd2dc5ded11674cf7202f6f4f72c90dcf3bf771fe77e34649cfc7520cdac49648a04122e5829bb79e1576aea7055cdceb4f307b78c5844b4cf2eb15ea850e08830907dc044d95812b597d05a7eea24b796b541697b7c2bef0bc931f3da6fcd095d983918d0f73fbe2c9df7a67db22a092ac051824a753f6825c2ed177ed110860b2e544d82881331a8619322ddc9b3e9789b703429377b6c9f579c10f64368073e8</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">请输入圆周率第724位~730位查看!</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>看法</tag>
      
      <tag>职场</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>深圳保洁员的残酷职场生活</title>
    <link href="/post/60da413f.html"/>
    <url>/post/60da413f.html</url>
    
    <content type="html"><![CDATA[<p>北上广深的职场故事，一般都站在群体广泛的青年人视角来写。这里写的是父辈那个年代的人在深圳保洁行业的点点滴滴。前面一大片都是当新奇故事看，直到最后一个片段很戳我：</p><blockquote><p>母亲再次在电梯间碰到那个年轻人的时候，他已经不记得她了，母亲反复提示，我们是老乡啊，年轻人还是想不起。<br><strong>妈妈啊，我提醒她，这里是深圳，每个人最终都要相忘于江湖。</strong></p></blockquote><p>PS：文章配图很美</p><hr><span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、 --><p>春天过完了，母亲依然还在那座叫XX国际的写字楼里做保洁。</p><p>4月23日。吃完中午饭的时候，母亲说，她的同事韦阿姨被开除了。59岁，四川人，被老乡带到深圳来做保洁有20年了。</p><p>被开除的缘由是，她把电饭锅插头插在了她所打扫的一家公司门口的插板上，刚好被来看房的客户撞见。客户反馈给物业，物业在群里艾特管理保洁员的主管，然后经理就出现了。</p><p>这是发生在22号中午的事情。</p><p>12:23分，经理在群里艾特主，问，查一下是谁，如果是我们的人，追责，谢谢！还不如把老板的办公室当饭堂呢（愤怒的表情包）。</p><p>母亲把手机递给我，让我看群聊记录。我用调侃的语气问她，你在公司的时候不说话？为什么回家的时候如此愤怒？那你说你是不是很虚伪？</p><p>她有些不好意思地辩解，“他没有说我，所以才没有管。”我问，那你是不是就是事不关己高高挂起。</p><p>母亲没有正面回答。她说，这个经理做事太绝了，从一开始就不喜欢他，不跟他正面打交道。</p><p>当天下午快下班的时候，经理跑到母亲工作的17楼检查，卫生间的马桶边沿有一点点烟灰，他拍了个照片发到群里。“那时候已经六点多了，我都下班了，我理都没理他，也没在群里回他。”这是母亲表达愤怒的一种方式。</p><p>下班的时候，按照惯例，主管要开一天的总结会，本来都要散会了。会场就在地下车库，经理坐了顺风车来，专门为了批评韦阿姨。“直接开除，这是死人做的事”经理在会上骂人。母亲把同事中间比她大的老人都称呼为奶奶。“奶奶气‘瞎’了，奶奶当时没作声。奶奶哭得一抽一抽的，没吭一声。”</p><p>“那你们有规章制度说不准在中午时间热饭吗？”</p><p>“强调了，好几次开会都说了。”</p><p>“开除可能是违法的，即使开除，也不能这么骂人啊”</p><p>下班回家后，母亲做了馍，做了土豆片汤。吃完饭，下楼做完核酸后，就一直坐在沙发上等我。也许当天晚上，她就想跟我倾诉一下她所遭遇的被开除事件。但那天是周五，我跟朋友们约了聚餐，一起去吃衡东土菜，还去逛了夜市，回家的时候已经快十二点了。</p><p>“我从八点开始等，等到九点四十四分，就上床睡觉了。”</p><p>“你怎么不问问我，什么时候回来？”</p><p>“你们两个都没回来，肯定是一起，我不担心”。</p><p>“十二点多的时候，我醒了，发现家里的灯是亮着的，你们开门我都不知道。”</p><p>“那你等我们的时候想了什么没有”</p><p>“什么都没想”</p><p>“你也没看电视？”</p><p>“没有，不想看，啥都没想。”</p><p>几秒过后，母亲说，她其实想了很多。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/p90558765-_1_.jpeg" alt></p><p>我想打工的奶奶，经理说话那么气人，奶奶为什么泪流满面却不说话，以我的脾气，我当场就要跟他吵起来，我娘都没这么骂过我，轮到你这么骂人，你XX经理可要在这里当人老几十代的经理。恶人还要恶人磨，离了我们这些保洁你还就真过不了光景。</p><p>我没有当面说，我还得呆在那儿干活，他要说了我，我肯定反抗，我们所有人都走，看你们管事的能做成什么样，你说我们找不到工作，成千上万的人离了你们照样找到工作。</p><p>要有一个厉害的人治治他，他会善一点。谁给他下的命令，让他可以说罚钱就罚钱。我们劳动人民是光荣的，我们刷马桶挣的是光荣的钱。气气他！把他气得好好的！真的 ！</p><p>但这些话，母亲一句也没有当着经理的面说出来。</p><p>23号上午，韦阿姨离开之前，在工作群里连发了五条语音。大意是说，她谁也不怪，走就走，但受不了这种侮辱人的方式。又不是杀人放火，不应该被如此对待。</p><p>我妈说，我本来想在群里点几个大赞。说得好，说得好， 想想还是要不得，我还在这儿干活 。要不是，我肯定点几个大拇指，说得好，我看你在这里当一辈子官不成。</p><p>我问，经理为什么这么容易动怒呢？</p><p>嘿嘿，上面也有人找他的麻烦，经理说他来这边非要把这里管好。但他在工人面前那么大个经理却是住在车库里，没有办公桌，也没有电脑。四五月份人员充足，他威风大，今天说让这个滚蛋，明天说让那个滚蛋。</p><p>最近经理的发泄矛头是一个叫圆福团的保洁。</p><p>圆福团，72岁，被老乡从四川带到深圳打工，目前在负责母亲所在写字楼外围的清洁。他的实际年龄是62岁，早年，他托人改了身份证上的年龄，托头一个书记，给五千，事情还没办完，书记死了，又花五千托新上任的书记，才把新身份证办好。</p><p>经理一开会就当着所有清洁工的面说，首先要开除的就是年龄最大的圆福团，他心里惶惶然，只能做一天工赚一天钱。他没有结过婚，是个光棍。他的名字与他的生活形成了巨大的反差。</p><p>“你看，你妈妈打工也是有情绪劳动的”我室友插嘴。</p><p>一家人都笑了。</p><p>母亲感叹，你在哪里打工都是一样的，做一天工有一天钱。没有十全十美的。有时候，把人气得要死，大岗位小岗位一样多钱，有些人啥也干不了还得表扬，活儿多的还挨骂。</p><p>但后来，我却从母亲那里得知，这位身高一米八身材魁梧、看着像当官的、脾气暴躁、被工人称作“河南头子”的经理，曾经在开会的时候对工人说，自己在外面欠债很多，前几年，他的老婆瘫了，借了亲戚不少钱。</p><p>我安慰母亲，你姑且就将他对工人的残酷理解为他对生活不如意的发泄。他本能选择了挥刀向更弱的弱者。生活将他变成了一个“恶人”。这位经理的微信头像是一家三口的自拍照，他的老婆看起来文静秀气，温温柔柔的样子。</p><p>被开除的阿姨在离职前发的语音，没几个人回复。经理也没说话，母亲将此理解为经理不敢回复，我提醒她，“他更多是不屑于回复”。</p><p>“你应该加一下阿姨的微信，私下给她点赞”室友建议。母亲表示认可。</p><p>“如果他要是这么对我，我一定把他好好说一顿再走，不然这口气怎么能出。我的岗位没有被照顾，有些人岗位小，年龄也大，他们讨好经理。”</p><p>“奶奶说得我心里很痛快，就应该这么说说经理。”韦阿姨被开除，当月的工资还扣了一百块。</p><p>我曾经碰到过这位叫韦先池的阿姨。</p><p>一个周六，我去帮母亲打扫完厕所卫生，下楼的时候，在电梯口碰到了她。她叫住我，说自己的手机出了问题，下滑的时候，看不到流量和WiFi使用的标志。那是一个运行很缓慢的小米手机，我尝试了很久，也没能帮她解决问题，她又急着要去干活，就放弃了。</p><p>我妈说，在深圳打了两年工，还是在政府大楼的时候，最轻松，那个姓胡的经理挺好，主管也挺好。那个胡经理从来不说脏话，一直对我们这些保洁说，你们岗位大，你们辛苦了，争取明年给我们加工资。实在做得不好了，有时候还给工人们说好话，不会说让你滚，主管也基本不投诉工人。衣服工牌都是免费的。</p><p>即使是在商场里，也不用像现在这样天天开会。也没有像现在这样，动不动就让人滚蛋，工衣60块一件，工牌要20块一个，洗手间里什么都不让放，有一点水渍就要拍照投诉，你前面搞完后面就有人要上厕所，怎么可能没有一点水。工人捡一点纸皮卖、打卡迟到、都要罚钱投诉，在会上不允许任何人插嘴，别人都是错的，一说就是，闭嘴！</p><p>在商场工作的时候，有一次，我站在银灰色的大垃圾桶旁边，商场的陈经理一只手打电话，一只手拿个白手机，我看到他对着我咔嚓一下，我并没有害怕，我没有违反任何规定，我没有喝水，也没有坐在那里，只是他看到我的时候，我站在垃圾桶旁边，我不怕他投诉。</p><p>但当我要我妈离职的时候，我妈从来都是拒绝。她说服自己的理由是，这些活可比她年轻时在农村务农，中年时在矿山、工地打工轻松多了。</p><p>“那后来你被经理投诉了吗？”我问</p><p>“没有，他没呆多久就离开了商场。”</p><p>在政府大楼的时候，父亲经常帮着母亲干活，因为姑姑病重，两人一起回老家，送走姑姑，这份工作就丢了。</p><p>“你爸再也找不到那么好的工作了，其实当时应该回去一个人……”想到我当初再三催促父母回老家照顾姑姑，现在想来，心里有一些内疚，当初的我没有站在父母的角度去考虑，只觉得父母冷血，迟迟不动身，而忽略了一份轻松的工作在他们心里有多么重要。更忽略了他们再找到一份相同工作的难度。</p><p>“那我再去找找原来在政府大楼的经理？哪怕给他送点礼？”母亲却拒绝了。</p><p>她在现在的写字楼，算上加班一个月最多可以拿到3500左右的工资。政府大楼周末节假日没有班加，工资固定在2800左右。虽然辛苦点，但也赚得多一些了。</p><p>我后来其实私下去问了政府大楼的经理，他说政府大楼今年换了供应商，他也已经离开那里去了别的环境公司上班了。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/p90558766.jpg" alt></p><p>母亲常常在写字楼的电梯间遇到一个保安，通过对方的口音，她判断这个年轻人应该是一个陕西人。闲聊之后，她了解到对方老家在蓝田。</p><p>差不多十年前，母亲曾经和父亲一起去蓝田打工。印象中，那里的人很穷，穷到家里没有压面机，吃面条要去“岭上”人家专门压，压完拿回来在院子里晾干，一顿吃一点。稍微富裕一点的几家人，都是用柿子来制作食用醋卖钱。</p><p>父母那年的主要工作是去山上栽树，老板用了个人承包的方式，谁栽得多就挣得多，栽一棵树四毛钱，父亲早出晚归，两个月挣了一万多块，栽了三万多棵树。母亲在那里负责做饭，五十多个工人，她一个厨师。他们租住在当地人的房子里，一个老奶奶常来找我母亲聊天，两个月的工期结束，离别之际，老奶奶送给了母亲一双手套，跟她说要保护好自己的双手。</p><p>母亲再次在电梯间碰到那个年轻人的时候，他已经不记得她了，母亲反复提示，我们是老乡啊，年轻人还是想不起。</p><p>妈妈啊，我提醒她，这里是深圳，每个人最终都要相忘于江湖。</p><p>韦阿姨离开后，母亲再也没见过她，也没加上微信（或许是手机问题）。不知道她是不是回四川了，亦或在别的写字楼找到了新工作。</p><p>转载自豆瓣：张小满</p>]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>社会</tag>
      
      <tag>看法</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>科学冲浪:手动搭建ShadowSocksR酸酸乳全流程</title>
    <link href="/post/eeaa690d.html"/>
    <url>/post/eeaa690d.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、 --><p>写在前面：这是一篇2019年之前的教程，各阶段应该会有更新，总体思路是不变的。目前自己用的梯子还算不错，按量收费很舒服。希望能一直用下去，这个只是码一下，防止哪天无了应急。</p><h2 id="客户端下载"><a class="markdownIt-Anchor" href="#客户端下载"></a> 客户端下载</h2><p>第一次电脑系统使用SSR/SS客户端时，需要安装NET Framework 4.0，不然无法正常使用，<a href="https://www.microsoft.com/zh-cn/download/details.aspx?id=17718">微软官网下载</a>。</p><p>NET Framework 4.0是SSR/SS的运行库，没有这个SSR/SS客户端无法正常运行。有的电脑系统可能会自带NET Framework 4.0。</p><ul><li><p>Windows SSR客户端 <a href="https://github.com/shadowsocksr-backup/shadowsocksr-csharp/releases">下载地址</a> <a href="https://nofile.io/f/6Jm7WJCyOVv/ShadowsocksR-4.7.0-win.7z">备用下载地址</a></p></li><li><p>MAC SSR客户端 <a href="https://github.com/shadowsocksr-backup/ShadowsocksX-NG/releases">下载地址</a> <a href="https://nofile.io/f/jgMWFwCBonU#ab0d3c3b6ac54482">备用下载地址</a></p></li><li><p>Linux客户端一键安装配置 <a href="https://github.com/YuanZhou314/GithubCloudDisk/blob/369655544de495571d3a6ef95c61c91568cd86b5/ssr-linux-script.sh">使用脚本</a> (使用方法见注释) 或者采用图形界面的<a href="https://github.com/erguotou520/electron-ssr/releases">linux ssr客户端</a></p></li><li><p>安卓 SSR客户端 <a href="https://github.com/shadowsocksr-backup/shadowsocksr-android/releases">下载地址</a> <a href="https://nofile.io/f/rvTJoj0h5GC/shadowsocksr-release.apk">备用下载地址</a></p></li><li><p>苹果手机SSR客户端：Potatso Lite、Potatso、shadowrocket都可以作为SSR客户端，但这些软件目前已经在国内的app商店下架，可以用美区的appid账号来下载。但是，如果你配置的SSR账号兼容SS客户端，或者协议选择origin且混淆选择plain，那么你可以选择苹果SS客户端软件（即协议和混淆可以不填），APP商店里面有很多，比如：openwingy、superwingy、bestwingy、wingy+、greatwingy等。</p></li></ul><p><strong>有了客户端后我们需要自己搭建服务器创建ss/ssr账号才能翻墙。提供ss/ssr免费账号 有需求的人可以使用。</strong></p><h2 id="搭建教程"><a class="markdownIt-Anchor" href="#搭建教程"></a> 搭建教程</h2><p><strong>为什么不怕被封ip？因为vultr可以随时删除和创建服务器，新服务器就是新的ip，所以不怕被封ip。</strong></p><p><strong>教程很简单，整个教程分三步：</strong></p><p>第一步：购买VPS服务器</p><p>第二步：一键部署VPS服务器</p><p>第三步：一键加速VPS服务器 （谷歌BBR加速，推荐）</p><hr><h3 id="第一步购买vps服务器"><a class="markdownIt-Anchor" href="#第一步购买vps服务器"></a> 第一步：购买VPS服务器</h3><p>VPS服务器需要选择国外的，首选国际知名的vultr，速度不错、稳定且性价比高，按小时计费，能够随时开通和删除服务器，新服务器即是新ip。</p><p>vultr注册地址： <a href="http://www.vultr.com/?ref=7048874">http://www.vultr.com/?ref=7048874</a> （全球15个服务器位置可选，KVM框架，最低2.5美元/月）</p><p>虽然是英文界面，但是现在的浏览器都有网页翻译功能，鼠标点击右键，选择网页翻译即可翻译成中文。</p><p>注册并邮件激活账号，充值后即可购买服务器。充值方式是paypal（首选）或支付宝，使用paypal有银行卡（包括信用卡）即可。paypal注册地址：<a href="https://www.paypal.com/">https://www.paypal.com</a> （paypal是国际知名的第三方支付服务商，注册一下账号，绑定银行卡即可购买国外商品）</p><p>2.5美元/月的服务器配置信息：单核 512M内存 20G SSD硬盘 带宽峰值100M 500G流量/月</p><p>5美元/月的服务器配置信息： 单核 1G内存 25G SSD硬盘 带宽峰值100M 1000G流量/月</p><p>10美元/月的服务器配置信息： 单核 2G内存 40G SSD硬盘 带宽峰值100M 2000G流量/月</p><p>20美元/月的服务器配置信息： 2cpu 4G内存 60G SSD硬盘 带宽峰值100M 3000G流量/月</p><p>40美元/月的服务器配置信息： 4cpu 8G内存 100G SSD硬盘 带宽峰值100M 4000G流量/月</p><p><strong>vultr实际上是折算成小时来计费的，比如服务器是5美元1个月，那么每小时收费为5/30/24=0.0069美元 会自动从账号中扣费，只要保证账号有钱即可。如果你部署的服务器实测后速度不理想，你可以把它删掉（destroy），重新换个地区的服务器来部署，方便且实用。因为新的服务器就是新的ip，所以当ip被墙时这个方法很有用。当ip被墙时，为了保证新开的服务器ip和原先的ip不一样，先开新服务器，开好后再删除旧服务器即可。</strong></p><p>计费从你开通服务器开始算的，不管你有没有使用，即使服务器处于关机状态仍然会计费，如果你没有开通服务器就不算。比如你今天早上开通了服务器，但你有事情，晚上才部署，那么这段时间是会计费的。同理，如果你早上删掉服务器，第二天才开通新的服务器，那么这段时间是不会计费的。在账号的Billing选项里可以看到账户余额。</p><p>温馨提醒：同样的服务器位置，不同的宽带类型和地区所搭建的账号的翻墙速度会不同，这与中国电信、中国联通、中国移动国际出口带宽和线路不同有关，所以以实测为准。可以先选定一个服务器位置来按照教程进行搭建，熟悉搭建方法，当账号搭建完成并进行了bbr加速后，测试下速度自己是否满意，如果满意那就用这个服务器位置的服务器。如果速度不太满意，就一次性开几台不同的服务器位置的服务器，然后按照同样的方法来进行搭建并测试，选择最优的，之后把其它的服务器删掉，按小时计费测试成本可以忽略。</p><p>如图：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919152052977.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919152128730.png" alt></p><p><strong>vps服务器系统推荐选择CentOS 6.X64位的系统（系统版本不要选centos7！centos7默认的防火墙会阻止ssr的正常连接！）。完成购买后，找到系统的密码记下来，部署服务器时需要用到。</strong></p><p>如图：<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919152201182.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919152221360.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919152238433.png" alt></p><p><strong>不要选centos7系统！点击图中的CentOS几个字，会弹出centos6，然后选中centos6！entos7默认的防火墙可能会干扰ssr的正常连接！</strong></p><blockquote><p>接下来这一步是开启vps的ipv6 ip，选填项。如果你的电脑系统可以用ipv6，那么可以勾选此项。大多数用户没有这个需求，但有一些用户可能会用到，所以补充了这部分内容。</p></blockquote><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919152301774.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919152319935.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919152410842.png" alt></p><blockquote><p>如果你开启了vps的ipv6，那么在后台的settings选项可以找到服务器的ipv6 ip。在部署SSR账号时，你用ipv6 ip就行。整个部署及使用过程中，记得把电脑系统开启ipv6喔。</p></blockquote><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919152434786.png" alt></p><hr><h3 id="第二步部署vps服务器"><a class="markdownIt-Anchor" href="#第二步部署vps服务器"></a> 第二步：部署VPS服务器</h3><p>购买服务器后，需要部署一下。因为你买的是虚拟东西，而且又远在国外，我们需要一个叫Xshell的软件来远程部署。Xshell 在官网可以下载社区教育免费版。</p><p>如果你是苹果电脑操作系统，更简单，无需下载xshell，系统可以直接连接VPS。打开<strong>终端</strong>（Terminal），输入ssh root@ip 其中“ip”替换成你VPS的ip, 按回车键，然后复制粘贴密码，按回车键即可登录。粘贴密码时有可能不显示密码，但不影响， <a href="http://www.cnblogs.com/ghj1976/archive/2013/04/19/3030159.html">参考设置方法</a> 如果不能用MAC自带的终端连接的话，直接网上搜“MAC连接SSH的软件”，有很多，然后通过软件来连接vps服务器就行，具体操作方式参考windows xshell。</p><hr><p>部署教程：</p><p>下载xshell软件并安装后，打开软件</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919152710111.png" alt></p><p>选择文件，新建</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919152729469.png" alt></p><p>随便取个名字，然后把你的服务器ip填上</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919152742316.png" alt></p><p>连接国外ip即服务器时，软件会先后提醒你输入用户名和密码，用户名linux系统默认都是root，密码是购买服务器后的cent系统的密码。</p><p><strong>如果开好了服务器，发现xshell死活连不上，多半是开的服务器ip被墙了，遇到这种情况，把服务器删掉，重新开个新的服务器即可，可以是同地区的也可以选择其它地区。</strong></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919152755489.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919152807468.png" alt></p><p>连接成功后，会出现如上图所示，之后就可以复制粘贴代码部署了。</p><p>CentOS6/Debian6/Ubuntu14 ShadowsocksR一键部署管理脚本：</p><hr><p>yum -y install wget</p><p>wget -N –no-check-certificate <a href="https://softs.fun/Bash/ssr.sh">https://softs.fun/Bash/ssr.sh</a> &amp;&amp; chmod +x <a href="http://ssr.sh">ssr.sh</a> &amp;&amp; bash <a href="http://ssr.sh">ssr.sh</a></p><p>备用脚本：</p><p>yum -y install wget</p><p>wget -N –no-check-certificate <a href="https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/ssr.sh">https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/ssr.sh</a> &amp;&amp; chmod +x <a href="http://ssr.sh">ssr.sh</a> &amp;&amp; bash <a href="http://ssr.sh">ssr.sh</a></p><p>———————————————————代码分割线————————————————</p><p>复制上面的代码到VPS服务器里，按回车键，脚本会自动安装，以后只需要运行这个快捷命令就可以出现下图的界面进行设置，快捷管理命令为：bash <a href="http://ssr.sh">ssr.sh</a></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919152826432.png" alt></p><p>如上图出现管理界面后，<strong>输入数字1来安装SSR服务端</strong>。如果输入1后不能进入下一步，那么请退出xshell，重新连接vps服务器，然后输入快捷管理命令bash <a href="http://ssr.sh">ssr.sh</a> 再尝试。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919152840943.png" alt></p><p>根据上图提示，依次输入自己想设置的<strong>端口和密码</strong> (<strong>密码建议用复杂点的字母组合，端口号为1-65535之间的数字</strong>)，回车键用于确认</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919152856400.png" alt></p><p>如上图，选择想设置的<strong>加密方式</strong>，比如10，按回车键确认</p><p>接下来是选择<strong>协议插件</strong>，如下图：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919152911806.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919152926045.png" alt></p><p>选择并确认后，会出现上图的界面，提示你是否选择兼容原版，这里的原版指的是SS客户端（SS客户端没有协议和混淆的选项），可以根据需求进行选择，演示选择y</p><p>之后进行混淆插件的设置。<br><strong>注意：有的地区需要把混淆设置成plain才好用。因为混淆不总是有效果，要看各地区的策略，有时候不混淆（plain）让其看起来像随机数据更好。（注意：tls 1.2_ticket_auth容易受到干扰！请选择除tls开头以外的其它混淆！！！）</strong></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919153020428.png" alt></p><p>进行混淆插件的设置后，会依次提示你对设备数、单线程限速和端口总限速进行设置，默认值是不进行限制，个人使用的话，选择默认即可，即直接敲回车键。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919153034685.png" alt></p><p>之后代码就正式自动部署了，到下图所示的位置，提示你下载文件，输入：y</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919153048221.png" alt></p><p>耐心等待一会，出现下面的界面即部署完成：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919153103334.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919153116205.png" alt></p><p>根据上图就可以看到自己设置的SSR账号信息，包括IP、端口、密码、加密方式、协议插件、混淆插件，这些信息需要填入你的SSR客户端。如果之后想修改账号信息，直接输入快捷管理命令：bash <a href="http://ssr.sh">ssr.sh</a> 进入管理界面，选择相应的数字来进行一键修改。例如：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919153131367.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919153146454.png" alt></p><p><strong>脚本演示结束。</strong></p><p>此脚本是开机自动启动，部署一次即可。最后可以重启服务器确保部署生效（一般情况不重启也可以）。重启需要在命令栏里输入reboot ，输入命令后稍微等待一会服务器就会自动重启，一般重启过程需要2～5分钟，重启过程中Xshell会自动断开连接，等VPS重启好后才可以用Xshell软件进行连接。如果部署过程中卡在某个位置超过10分钟，可以用xshell软件断开，然后重新连接你的ip，再复制代码进行部署。</p><hr><h3 id="第三步一键加速vps服务器"><a class="markdownIt-Anchor" href="#第三步一键加速vps服务器"></a> 第三步：一键加速VPS服务器</h3><p>此加速教程为谷歌BBR加速,Vultr的服务器框架可以装BBR加速，加速后对速度的提升很明显，所以推荐部署加速脚本。该加速方法是开机自动启动，部署一次就可以了。</p><p>按照第二步的步骤，连接服务器ip，登录成功后，在命令栏里粘贴以下代码：</p><p>【谷歌BBR加速教程】</p><p>yum -y install wget</p><p>wget –no-check-certificate <a href="https://github.com/teddysun/across/raw/master/bbr.sh">https://github.com/teddysun/across/raw/master/bbr.sh</a></p><p>chmod +x <a href="http://bbr.sh">bbr.sh</a></p><p>./bbr.sh</p><p>把上面整个代码复制后粘贴进去，不动的时候按回车，然后耐心等待，最后重启vps服务器即可。</p><p>演示开始，如图：</p><p>复制并粘贴代码后，按回车键确认</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919153202489.png" alt></p><p>如下图提示，按任意键继续部署</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919153216615.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919153229772.png" alt></p><p>部署到上图这个位置的时候，等待3～6分钟</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919153244968.png" alt></p><p>最后输入y重启服务器，如果输入y提示command not found ，接着输入reboot来重启服务器，确保加速生效，bbr加速脚本是开机自动启动，装一次就可以了。</p><hr><p>购买vps服务器后，ip有了，通过部署，端口、密码、加密方式、协议和混淆也有了，最后将这些信息填入SSR客户端就可以翻墙啦。</p><p><strong>有了账号后，打开SSR客户端，填上信息，这里以windows版的SSR客户端为例子</strong>：<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919153300307.png" alt></p><p>在对应的位置，填上服务器ip、服务器端口、密码、加密方式、协议和混淆，最后将浏览器的代理设置为（http）127.0.0.1和1080即可。账号的端口号就是你自己设置的，而要上网的浏览器的端口号是1080，固定的，谷歌浏览器可以通过 SwitchyOmega 插件来设置。</p><p>启动SSR客户端后，右键SSR客户端图标，选择第一个“系统代理模式”，里面有3个子选项，选择”全局模式“，之后就可以用浏览器设置好了的代理模式（http）127.0.0.1和1080翻墙，此模式下所有的网站都会走SSR代理。（适合新手）</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220919153313886.png" alt></p><hr><h2 id="常见问题参考解决方法"><a class="markdownIt-Anchor" href="#常见问题参考解决方法"></a> 常见问题参考解决方法</h2><p>1、用了一段时间发现ssr账号用不了了</p><p>首先ping一下自己的ip，看看能不能ping的通，ping不通那么就是ip被墙了，ip被墙时，xshell也会连接不上服务器，遇到这种情况重新部署一个新的服务器，新的服务器就是新的ip。关于怎么ping ip的方法，可以自行网上搜索，或者用xshell软件连接服务器来判断，连不上即是被墙了。vultr开通和删除服务器非常方便，新服务器即新ip，大多数vps服务商都没有这样的服务，一般的vps服务商可能会提供免费更换1次ip的服务。</p><p>2、刚搭建好的ssr账号，ip能ping通，但是还是用不了</p><p>首选排除杀毒软件的干扰，尤其是国产杀毒软件，比如360安全卫生、360杀毒软件、腾讯管家、金山卫生等。这些东西很容易干扰翻墙上网，如果你的电脑安装了这样的东西，建议至少翻墙时别用，最好卸载。其次，检查下SSR信息是否填写正确。浏览器的代理方式是否是ssr代理，即（HTTP）127.0.0.1 和1080。如果以上条件都排除，还是用不了，那么可以更换端口、加密方式、协议、混淆，或者更换服务器位置。另外，如果你的vps服务器配置的是SSR账号，即有协议和混淆且没有兼容原版(SS版），那么你必须使用SSSR客户端来使用账号，因为SS客户端没有填写协议和混淆的选项。</p><p>3、有的地区需要把混淆参数设置成plain才好用。因为混淆不总是有效果，要看各地区的策略，有时候不混淆（plain）让其看起来像随机数据更好。</p><p>4、电脑能用但手机用不了</p><p>如果你的手机用的是SS客户端，SS客户端没有填协议和混淆的地方，如果你部署的协议和混淆的时候没有选择兼容原版（SS版），因此手机是用不了的。这个时候你把协议弄成兼容原版、混淆也设置成兼容原版即可。或者直接将协议设置成origin，混淆设置成plain。</p><p>5、vps的服务器操作系统不要用的太高，太高可能会因为系统的防火墙问题导致搭建的SSR账号连不上，如果你用的centos系统，建议用centos6，不要用centos7。如果你前面不小心装了centos7系统，那么只能重装系统或者重新部署新的vps服务器。</p><p>6、vultr服务商提供的vps服务器是单向流量计算，有的vps服务商是双向流量计算，单向流量计算对于用户来说更实惠。因为我们是在vps服务器上部署SSR服务端后，再用SSR客户端翻墙，所以SSR服务端就相当于中转，比如我们看一个视频，必然会产生流量，假如消耗流量80M，那么VPS服务器会产生上传80M和下载80M流量，vultr服务商只计算单向的80M流量。如果是双向计算流量，那么会计算为160M流量。</p><p>7、如果你想把搭建的账号给多人使用，不用额外设置端口，因为一个账号就可以多人使用。一般10美元的服务器可以同时支持100人在线使用。</p><p>如果想实现支持每个用户(端口)不同的加密方式/协议/混淆等，并且管理流量使用，可以参考多用户配置脚本：wget -N –no-check-certificate <a href="https://softs.fun/Bash/ssrmu.sh">https://softs.fun/Bash/ssrmu.sh</a> &amp;&amp; chmod +x <a href="http://ssrmu.sh">ssrmu.sh</a> &amp;&amp; bash <a href="http://ssrmu.sh">ssrmu.sh</a> 备用脚本：wget -N –no-check-certificate <a href="https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/ssrmu.sh">https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/ssrmu.sh</a> &amp;&amp; chmod +x <a href="http://ssrmu.sh">ssrmu.sh</a> &amp;&amp; bash <a href="http://ssrmu.sh">ssrmu.sh</a> 安装后管理命令为：bash <a href="http://ssrmu.sh">ssrmu.sh</a><br>注意：这个多用户配置脚本和教程内容的脚本无法共存！要想用这个脚本，把之前的脚本卸载，输入管理命令bash <a href="http://ssr.sh">ssr.sh</a> ，选择3，卸载ShadowsocksR即可卸载原脚本。</p><p>8、vultr服务器每月有流量限制，超过限制后服务器不会被停止运行，但是超出的流量会被额外收费。北美和西欧地区的服务器超出流量后，多出的部分收费为0.01美元/G。新加坡和日本东京（日本）为0.025美元/G，悉尼（澳大利亚）为0.05美元/G。把vultr服务器删掉，开通新的服务器，流量会从0开始重新计算。</p><p>9、vultr怎样才能申请退款呢？</p><p>vultr和其他的国外商家一样，都是使用工单的形式与客服联系，如果需要退款，直接在后台点击support，选择open ticket新开一个工单，选择billing question财务问题，简单的在文本框输入你的退款理由。比如：Please refund all the balance in my account。工单提交以后一般很快就可以给你确认退款，若干个工作日后就会退回你的支付方式。（全额退款结束后，账号可能会被删除）</p><p>如果英语水平不好，但是想和客服进行交流，可以用百度在线翻译，自动中文转英文和英文转中文。</p><p>10、路由器也可以配置ssr，关键的是路由器刷固件，华硕路由器刷梅林改版固件最简单，下载固件直接刷，梅林改版固件自带软件中心，然后再软件中心点离线安装就可以了（原版梅林不带软件中心 <a href="http://asuswrt.lostrealm.ca/download">下载</a>）。路由器刷merlin_8wan_firmware（八万）的固件就行<a href="http://firmware.koolshare.cn/">KoolShare固件下载</a><br>其他的路由器也可以刷梅林。有问题或者对路由器配置ssr感兴趣的，可以在这些网站上自学：<a href="http://koolshare.cn/forum.php">koolshare</a> <a href="http://www.52asus.com/forum.php">华硕路由爱好者社区</a> <a href="https://nap6.com/portal.php">NAP6</a></p><hr><blockquote><p>转接自：<a href="https://github.com/getlantern/forum/issues/5620">https://github.com/getlantern/forum/issues/5620</a></p><p>原出处也已经被删除了</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>网络</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>深入了解JavaScript代码执行流程</title>
    <link href="/post/e499bf57.html"/>
    <url>/post/e499bf57.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、 --><p>前一篇文章简单了解了一下 JS 代码运行时的编译和执行的两个阶段。这里再着重看看执行上下文相关的一些东西。</p><p>之前讲，当一段代码被执行时，JS 引擎会先对它进行编译，然后创建上下文，再去执行代码。那么到底什么时候才会开始创建上下文呢？总不能每行代码都创建一个上下文吧？</p><p>这里可以理解成，JS 代码只有两个维度，一个是全局维度，一个是函数维度，这样就很好理解了。<br>(注：这里忽略了块级作用域，因为块级作用域不会创建执行上下文)<br>一般有如下几种情况会创建执行上下文：</p><ul><li>当 JS 执行全局代码时，会编译全局代码并创建全局执行上下文，整个页面的生存周期内，全局执行上下文只有一份</li><li>当调用一个函数时，函数内的代码会被编译，并创建函数执行上下文，<strong>一般来说</strong>函数执行结束后，函数执行上下文会被销毁</li><li>当使用eval()函数时，eval内的代码也会被编译，并创建执行上下文。</li></ul><h2 id="调用栈"><a class="markdownIt-Anchor" href="#调用栈"></a> 调用栈</h2><p>跟Java的内存溢出相似，JavaScript也会出现类似的情况。在运行一段没有终止条件的递归函数时，就会出现栈溢出的情况。</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs ada"><span class="hljs-keyword">function</span> <span class="hljs-title">runStack</span> (n) &#123;<br>  if (n === 0) <span class="hljs-keyword">return</span> <span class="hljs-type">100</span>;<br>  <span class="hljs-keyword">return</span> runStack( n- <span class="hljs-number">2</span>);<br>&#125;<br>runStack(<span class="hljs-number">50000</span>)<br>VM656:<span class="hljs-number">2</span> Uncaught RangeError: Maximum call stack size exceeded<br>    <span class="hljs-keyword">at</span> runStack (&lt;anonymous&gt;:<span class="hljs-number">2</span>:<span class="hljs-number">3</span>)<br>    <span class="hljs-keyword">at</span> runStack (&lt;anonymous&gt;:<span class="hljs-number">3</span>:<span class="hljs-number">10</span>)<br>    <span class="hljs-keyword">at</span> runStack (&lt;anonymous&gt;:<span class="hljs-number">3</span>:<span class="hljs-number">10</span>)<br>    <span class="hljs-keyword">at</span> runStack (&lt;anonymous&gt;:<span class="hljs-number">3</span>:<span class="hljs-number">10</span>)<br></code></pre></td></tr></table></figure><h3 id="函数调用"><a class="markdownIt-Anchor" href="#函数调用"></a> 函数调用</h3><p>函数调用就是运行一个函数。如下就是先声明了一个add()函数，然后运行了该函数。</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-tag">var</span> <span class="hljs-selector-tag">a</span> = <span class="hljs-number">2</span><br>function <span class="hljs-built_in">add</span>()&#123;<br><span class="hljs-selector-tag">var</span> <span class="hljs-selector-tag">b</span> = <span class="hljs-number">10</span><br>return  a+<span class="hljs-selector-tag">b</span><br>&#125;<br><span class="hljs-function"><span class="hljs-title">add</span><span class="hljs-params">()</span></span><br></code></pre></td></tr></table></figure><p>分析：在执行add()之前（注意是之前），JS 引擎为上面的代码创建了全局执行上下文，包含声明的函数和变量，如下：</p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/7fa2ed18e702861890d767ea547533da.png" style="zoom:50%;"><p>可以看到所有声明的对象都在全局执行上下文的变量环境中。接着开始执行全局代码，从<code>var a = 2</code>开始，执行到add()。JS 判断这是一个函数调用，那么会执行以下操作：</p><ol><li>从全局执行上下文中取出这段add函数的代码</li><li>对add函数这段代码进行编译，并创建该函数的执行上下文和可执行代码。</li><li>执行该函数的可执行代码。</li></ol><p>也就是说，当执行到add函数后，会存在两个执行上下文：全局和add函数</p><p>图在下方：</p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/537efd9e96771dc50737117e615533ca.png" style="zoom:50%;"><p>那这跟栈有什么关系？当然有，执行 JS 代码时，不仅会调用一个函数，而是会调用多个，也就会存在多个执行上下文，JS 引擎使用栈这种数据结构来管理这些执行上下文。</p><h3 id="栈stack"><a class="markdownIt-Anchor" href="#栈stack"></a> 栈(stack)</h3><p>栈也称堆栈，是一种只能在一端进行插入和删除操作的特殊的线性表。按照先进后出的方式存储数据。先进入的数据被压入栈底，最后进入的数据在栈顶。读取时从栈顶开始弹出数据，最后一个进入的数据将最先被读取。说得形象一点就跟羽毛球筒一样，最开始筒是空的。往里面放羽毛球直至放满，拿出来的时候，最后放进去的羽毛球会最先拿出来。图来了：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/5e2bb65019053abfd5e7710e41d1b405.png" alt></p><p>JS 引擎利用栈来管理执行上下文。如下 JS 代码，这里定义了变量 a 和两个函数，最后调用了addAll()</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-tag">var</span> <span class="hljs-selector-tag">a</span> = <span class="hljs-number">2</span><br>function <span class="hljs-built_in">add</span>(<span class="hljs-selector-tag">b</span>,c)&#123;<br>  return b+c<br>&#125;<br>function <span class="hljs-built_in">addAll</span>(<span class="hljs-selector-tag">b</span>,c)&#123;<br><span class="hljs-selector-tag">var</span> d = <span class="hljs-number">10</span><br>result = <span class="hljs-built_in">add</span>(<span class="hljs-selector-tag">b</span>,c)<br>return  a+result+d<br>&#125;<br><span class="hljs-function"><span class="hljs-title">addAll</span><span class="hljs-params">(<span class="hljs-number">3</span>,<span class="hljs-number">6</span>)</span></span><br></code></pre></td></tr></table></figure><p>调用栈变化分析：</p><p><strong>第一步:</strong> 编译全局代码，创建全局上下文，此时全局变量 a、函数的声明(add、addAll)都保存到全局上下文的变量环境中，全局上下文会被压入栈底。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/a5d7ec1f8f296412acc045835b85431d.png" alt></p><p>然后运行全局可执行代码，首先执行<code>a = 2</code>，那么全局变量环境中的 a 的值从undefined改为2</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/1d50269dbc5b4c69f83662ecdd977b1d.png" alt></p><p><strong>第二步:</strong> 执行完<code>a=2</code>的赋值操作后，就该执行<code>addAll()</code>了，这是一个函数调用，JS 引擎会编译该函数，并为其创建一个执行上下文，声明的变量 d 和 result 提升到顶部并赋值为undefined。该函数执行上下文会被继续压入调用栈中，如下图：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/7d6c4c45db4ef9b900678092e6c53652.png" alt></p><p>然后运行函数内的可执行代码，首先执行<code>d=10</code>，addAll函数执行上下文中的 d 的值由undefined变成了10。</p><p><strong>第三步:</strong> 当执行到<code>result=add(b,c)</code>，这里调用了add函数，同样继续为add函数创建执行上下文，并将其压入调用栈，此时的调用栈就有三个执行上下文：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/ccfe41d906040031a7df1e4f1bce5837.png" alt></p><p>add()函数执行完毕返回时，该函数的执行上下文就会从栈顶弹出，result 的值会设置为add函数的返回值，也就是 9</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/03ca801a5372f941bf17d6088fee0f96.png" alt></p><p>然后addAll执行到最后一行代码<code>return  a+result+d</code>并返回，addAll的执行上下文也会从栈顶弹出，addAll函数的返回值就是最终的输出结果。此时的调用栈只剩下全局执行上下文。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/d0ac1d6e77735338fa97cc9a3f6c717b.png" alt></p><p>至此，整个 JS 流程执行就结束了。调用栈是 JS 引擎追踪函数执行的机制，当一次有多个函数被调用时没通过调用栈就可以追踪到哪个函数在被执行以及各函数之间的调用关系。</p><p>在Chrome中，开发者工具里的 sources &gt; Snippets 允许在浏览器的环境下运行一小段代码，在第三行处打上断点，运行该文件即可看到运行到断点时就暂停了，通过右边的调试可以继续查看运行情况，call stack处即可查看当前的调用栈情况</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220918094622958.png" alt></p><p>从右侧展示的信息来看，栈的最底部是anonymous，即全聚德函数入口，中间是addALl，最顶部是add函数，跟上面分析的是一样的。</p><h2 id="栈溢出"><a class="markdownIt-Anchor" href="#栈溢出"></a> 栈溢出</h2><p>栈是有大小的。当入栈的执行上下文超过一定数量，JS 引擎就会报错，如下运行的递归函数，这种错误就是栈溢出。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">division</span>(<span class="hljs-params">a,b</span>)&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-title function_">division</span>(a,b)<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">division</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>))<br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220918095332890.png" alt></p><p>尝试分析一下这段代码：</p><p>首先定义了一个 division 函数，JS 引擎创建函数执行上下文，压入栈中。然后执行里面的可执行代码，发现这个函数又调用了 division 函数，即递归调用。并且没有任何终止条件，那么它就会一直创建新的函数执行上下文，并且压入栈中，但调用栈容量有限制，超过最大数量后就会出现栈溢出的错误。</p><p>栈溢出的解决方案：</p><ul><li>避免递归</li><li>使用定时器</li></ul>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
      <tag>前端</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JavaScript代码的简单执行流程</title>
    <link href="/post/91f14fed.html"/>
    <url>/post/91f14fed.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、 --><p>在讲 JS 代码的执行流程之前，不可避免地要讲到 JS 的变量提升机制。</p><h2 id="变量提升"><a class="markdownIt-Anchor" href="#变量提升"></a> 变量提升</h2><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs actionscript"><span class="hljs-keyword">var</span> myname = <span class="hljs-string">&#x27;极客时间&#x27;</span><br></code></pre></td></tr></table></figure><p>在变量提升机制下会改为先声明、后赋值的两步，如下：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">var myname    <span class="hljs-regexp">//</span>声明部分<br>myname = <span class="hljs-string">&#x27;极客时间&#x27;</span>  <span class="hljs-regexp">//</span>赋值部分<br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/ec882f2d9deec26ce168b409f274533c.png" alt></p><p>不仅变量，函数的声明也同样遵循此规则：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;foo&#x27;</span>)<br>&#125;<br><br><span class="hljs-keyword">var</span> bar = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;bar&#x27;</span>)<br>&#125;<br></code></pre></td></tr></table></figure><p>如上代码，foo() 函数是一个完整的函数声明，没有赋值操作。bar() 函数是先声明变量 bar ，再将后面的函数赋值给变量 bar 。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/611c09ab995b9b608d9c0db193266777.png" alt></p><p>这就是变量提升。它指的是 JS 代码执行过程中，JS 引擎将变量、函数的声明部分提升到代码开头的行为。变量被提升后会给它设置默认值，即undefined。下方图示可以很清楚的看到提升后的代码</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/cefe564dbff729e735a834fd9e3bd0d5.png" alt></p><p>但是变量提升并非物理层面讲代码移动，而是在编译阶段 JS 引擎放入内存中发生的。JS代码在运行时，需要先经过编译阶段，然后再去执行。</p><h2 id="javascript的执行流程"><a class="markdownIt-Anchor" href="#javascript的执行流程"></a> JavaScript的执行流程</h2><p>之前说了，一段 JS 代码的执行流程大概长下面这样。这里详细说明一下这几个流程</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/649c6e3b5509ffd40e13ce9c91b3d91e.png" alt></p><h3 id="编译阶段"><a class="markdownIt-Anchor" href="#编译阶段"></a> 编译阶段</h3><p>如有以下代码：</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs arcade">showName()<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(myname)<br><span class="hljs-keyword">var</span> myname = <span class="hljs-string">&#x27;极客时间&#x27;</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">showName</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&#x27;函数showName被执行&#x27;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>将这段代码模拟 JS 引擎执行变量提升，得到如下：</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-comment">//第一部分：变量提升部分的代码</span><br><span class="hljs-keyword">var</span> myname = <span class="hljs-literal">undefined</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">showName</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&#x27;函数showName被执行&#x27;</span>);<br>&#125;<br><br><span class="hljs-comment">//第二部分：执行部分的代码</span><br>showName()<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(myname)<br>myname = <span class="hljs-string">&#x27;极客时间&#x27;</span><br></code></pre></td></tr></table></figure><p>图来了：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/0655d18ec347a95dfbf843969a921a13.png" alt></p><p>从上图可以看出，输入一段代码经过编译后，会生成两部分内容：执行上下文（Execution context）和可执行代码。很明显，提升变量后的两部分代码，分别对应变量环境和可执行代码。</p><p>执行上下文是 JS 执行代码时的运行环境，例如调用一个函数时，就会进入该函数的执行上下文，确定该函数在执行期间使用的this、变量、对象、函数等。执行上下文后面有文章会讲到【TODO】。执行上下文中存在一个变量环境的对象，这个对象就保存了变量提升的内容。</p><p>变量环境中保存的变量提升内容，可以看成是以下结构：</p><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xl">VariableEnvironment:<br>     <span class="hljs-function"><span class="hljs-title">myname</span> -&gt;</span> undefined, <br>     <span class="hljs-function"><span class="hljs-title">showName</span> -&gt;</span>function : &#123;console.<span class="hljs-built_in">log</span>(myname)<br></code></pre></td></tr></table></figure><p>JS 引擎执行完整代码的方式如下：</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs arcade">showName()  <span class="hljs-comment">//非声明操作，JS 引擎不做任何处理</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(myname)  <span class="hljs-comment">//非声明操作，JS 引擎不做任何处理</span><br><span class="hljs-keyword">var</span> myname = <span class="hljs-string">&#x27;极客时间&#x27;</span>  <span class="hljs-comment">//在环境对象中创建一个名为myname的属性，并使用undefined对其初始化</span><br><span class="hljs-comment">// JS引擎发现一个通过function定义的函数，将函数定义存储到堆(HEAP)中，并在环境对象中创建一个showName属性，将该属性值指向堆中函数的位置。</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">showName</span>(<span class="hljs-params"></span>) &#123; <br>    <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&#x27;函数showName被执行&#x27;</span>);<br>&#125;<br><span class="hljs-comment">//然后，JS 引擎将生命以外的代码编译成字节码，准备执行。</span><br></code></pre></td></tr></table></figure><h3 id="执行阶段"><a class="markdownIt-Anchor" href="#执行阶段"></a> 执行阶段</h3><p>还是相同的代码，我们来看 JS 引擎是如何执行的</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs arcade">showName()  <span class="hljs-comment">//JS引擎在变量环境对象中查找该函数，由于变量环境存在该函数的引用，因此JS引擎开始执行该函数，并输出“函数showName被执行”结果</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(myname)  <span class="hljs-comment">//JS引擎在变量环境对象中查找myname对象，由于对象环境中存在该值，且值为undefined，所以输出 undefined</span><br><span class="hljs-keyword">var</span> myname = <span class="hljs-string">&#x27;极客时间&#x27;</span> <span class="hljs-comment">//将“极客时间”赋给myname变量，赋值后变量环境中的myname属性值改为&quot;极客时间&quot;</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">showName</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&#x27;函数showName被执行&#x27;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>注意：如果代码中存在相同的变量或者函数，那么最终生效的是最后一个函数，因为按编译顺序，后面的变量/函数会覆盖前面的。</p><p>有点意思的题目，如下代码输出什么？</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs arcade">showName()<br><span class="hljs-keyword">var</span> showName = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-number">2</span>)<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">showName</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-number">1</span>)<br>&#125;<br></code></pre></td></tr></table></figure><p>分析：先开始变量提升，将所有声明提升到顶端，编译结束后生成执行上下文，变量环境对象中存在着变量提升后的对象，如下：</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">var</span> showName<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">showName</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-number">1</span>)<br>&#125;<br></code></pre></td></tr></table></figure><p>然后 JS引擎将其他代码编译成字节码，并开始执行阶段。首先执行第一行<code>showName()</code>，JS引擎在变量环境对象中寻找<code>showName</code>，发现是有的，是一个函数的引用。即使用function声明的函数，那么 JS 引擎执行这段函数，输出 <code>1</code>。</p><p>然后就是第二行<code>var showName = function() &#123;console.log(2)&#125;</code>，这是一个赋值操作，将showName的引用换成了输出2的函数，那么后面如果还调用showName的话，就是输出2了。</p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
      <tag>前端</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JavaScript中var、let和const</title>
    <link href="/post/f7bf57ee.html"/>
    <url>/post/f7bf57ee.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、 --><h2 id="var声明"><a class="markdownIt-Anchor" href="#var声明"></a> var声明</h2><p>var在全局范围声明或函数/局部范围内声明。</p><ul><li><p>当在最外层函数的外部声明var变量时，作用域全局的，代码的任何地方都可以访问，变量的生命周期伴随页面的生命周期。</p></li><li><p>当在函数中声明var时，作用域是局部的，只能在函数内部访问，函数执行结束后，变量销毁。</p></li></ul><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">var</span> tester = <span class="hljs-string">&#x27;hey hi&#x27;</span>; <br><span class="hljs-keyword">function</span> <span class="hljs-title function_">newFunction</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> hello = <span class="hljs-string">&#x27;hello&#x27;</span>;<br>&#125;<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(hello); <span class="hljs-comment">// 提示error: hello is not defined，因为hello是函数中定义外部无法访问</span><br></code></pre></td></tr></table></figure><h3 id="var变量允许重新声明和修改"><a class="markdownIt-Anchor" href="#var变量允许重新声明和修改"></a> var变量允许重新声明和修改</h3><p>var变量被定义后，允许在相同的作用域下执行重新声明或赋值</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">var greeter</span> = <span class="hljs-string">&#x27;hey hi&#x27;</span>;<br><span class="hljs-attribute">var greeter</span> = <span class="hljs-string">&#x27;say Hello instead&#x27;</span>;<br><span class="hljs-attribute">greeter</span> = <span class="hljs-string">&#x27;say World instead&#x27;</span>;<br></code></pre></td></tr></table></figure><h3 id="var允许变量提升"><a class="markdownIt-Anchor" href="#var允许变量提升"></a> var允许变量提升</h3><p>在代码执行之前，变量和函数声明会移至其作用域顶部。</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(zero)<br>    <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(one)<br>    <span class="hljs-keyword">var</span> one = <span class="hljs-string">&quot;abc&quot;</span><br>&#125;<br>test()<br></code></pre></td></tr></table></figure><p>例如，上面的函数中定义了一个one，但没有定义zero。因此先执行第一行打印zero，结果如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Process</span> exited <span class="hljs-keyword">with</span> code <span class="hljs-number">1</span><br><span class="hljs-title class_">Uncaught</span> <span class="hljs-title class_">ReferenceError</span> <span class="hljs-title class_">ReferenceError</span>: zero is not defined<br></code></pre></td></tr></table></figure><p>但如果将没有定义过的zero注释掉，就会执行打印出变量one的值：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">//console.log(zero)</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(one)<br>    <span class="hljs-keyword">var</span> one = <span class="hljs-string">&quot;abc&quot;</span><br>&#125;<br><span class="hljs-title function_">test</span>()<br><br><span class="hljs-literal">undefined</span><br></code></pre></td></tr></table></figure><p>console.log()打印出了one的值，但此时one并没有定义出来。原因就在于变量提升：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stata">console.<span class="hljs-built_in">log</span>(<span class="hljs-keyword">one</span>)<br><span class="hljs-keyword">var</span> <span class="hljs-keyword">one</span> = <span class="hljs-string">&quot;abc&quot;</span><br></code></pre></td></tr></table></figure><p>以上代码被解释为：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> one;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(one);<br>one = <span class="hljs-string">&quot;abc&quot;</span><br></code></pre></td></tr></table></figure><p>变量被提升到作用域的顶部后，使用undefined值对其初始化</p><p>变量提升是设计之初的缺陷，存在以下几个问题：</p><h4 id="1-变量容易被覆盖掉"><a class="markdownIt-Anchor" href="#1-变量容易被覆盖掉"></a> 1. 变量容易被覆盖掉</h4><p>如下，全局作用域中有一个myname变量，showName函数中也定义了一个myname，执行以下代码，打印出来是 undefined 。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> myname = <span class="hljs-string">&quot;zhou&quot;</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">showName</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myname)<br>    <span class="hljs-keyword">var</span> myname = <span class="hljs-string">&quot;xue&quot;</span><br>&#125;<br><span class="hljs-title function_">showName</span>()<br></code></pre></td></tr></table></figure><p>执行过程：JS 引擎在函数内部执行代码时，从<code>console.log(myname);</code>先开始执行，这里需要用到myname变量，此时调用栈中有2个变量，一个是全局的myname,一个是函数中的myname，因此优先使用当前执行上下文中的变量，即值是undefined的。所以取到的值就是undefined。</p><h4 id="2-本应该销毁的变量没有被销毁"><a class="markdownIt-Anchor" href="#2-本应该销毁的变量没有被销毁"></a> 2. 本应该销毁的变量没有被销毁</h4><p>如下，这是一个常用的循环语句。一般而言，for循环结束后，变量 i 就销毁了，但在JS中 i 的值并未销毁。打印结果为7。因为在创建foo函数上下文阶段，变量 i 就已经被提升，所以for循环结束后，变量 i 也不会被销毁。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs scss">function <span class="hljs-built_in">foo</span>()&#123;<br>  for (var i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">7</span>; i++) &#123;<br>  &#125;<br>  console<span class="hljs-selector-class">.log</span>(i); <br>&#125;<br><span class="hljs-built_in">foo</span>()<br></code></pre></td></tr></table></figure><h2 id="let声明"><a class="markdownIt-Anchor" href="#let声明"></a> let声明</h2><p>let声明的变量可以被修改，但不可被重复声明。let可以生成块级作用域（这是ES6带来的）。块级作用域就是在其他语言中常见的，在if、for循环这种块中可以单独定义变量而不受外部干扰。</p><p>例如以下代码使用var声明变量，在变量提升的影响下，x的值会受到干扰，两次打印都是 2</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">varTest</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> x = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-literal">true</span>) &#123;<br>        <span class="hljs-keyword">var</span> x = <span class="hljs-number">2</span>;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x)<br>    &#125;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x)<br>&#125;<br><span class="hljs-title function_">varTest</span>()<br></code></pre></td></tr></table></figure><p>将var换成let，则打印结果符合平时的逻辑</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">varTest</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">let</span> x = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-literal">true</span>) &#123;<br>        <span class="hljs-keyword">let</span> x = <span class="hljs-number">2</span>;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x)<br>    &#125;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x)<br>&#125;<br><span class="hljs-title function_">varTest</span>()<br></code></pre></td></tr></table></figure><p>至于JS是如何支持块级作用域的，这就要谈到 JS 的执行上下文了，后面会有文章详解【TODO】</p><p>let 与 var 一样，let 声明也被提升到作用域顶部，但 let 作用域提升上去之后，不会被值进行初始化。</p><h2 id="const声明"><a class="markdownIt-Anchor" href="#const声明"></a> const声明</h2><p>const 声明的变量保持常量，支持块级作用域，值不能被修改也不能重新声明，所以每个const必须在声明时进行初始化。</p><p>注意：const声明的对象不可更改，但可以修改对象的属性，如下代码是可行的：</p><figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sas">const greeting = &#123;<br>    <span class="hljs-keyword">message</span>: <span class="hljs-string">&#x27;say Hi&#x27;</span>,<br>    times: 4,<br>&#125;;<br><br>greeting.<span class="hljs-keyword">message</span> = <span class="hljs-string">&#x27;say Hello instead&#x27;</span>;<br></code></pre></td></tr></table></figure><p>let也跟let一样，声明会被提升到顶部，但不会被初始化。</p><p>网上有的文章说let和const会被提升到作用域顶端，有的文章说不用。这其实是把问题搞复杂了，这也没办法，东西多了就容易复杂。实际上，JS 中所有声明都会被提升，包括函数、var、let、const、和class，而var在提升后初始值赋值为undefined，但let和const声明不会被初始化。</p><p>这里涉及到一个概念：<strong>暂时性死区</strong>。let 和 const 声明只有在运行期间被 JS 引擎评估词法绑定(赋值)时才会被初始化，在此之前并不能访问它。（即变量创建和初始化之间的时间段不可访问）</p><p>如下，在块级作用域中，从作用域顶端到myname变量被定义这段代码之间形成一个暂时性死区，在这里访问myname会报初始化之前不能访问myname的错误</p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220917161901697.png" style="zoom:50%;"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Uncaught</span> <span class="hljs-title class_">ReferenceError</span> <span class="hljs-title class_">ReferenceError</span>: <span class="hljs-title class_">Cannot</span> access <span class="hljs-string">&#x27;myname&#x27;</span> before initialization<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
      <tag>前端</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>关于COVID-19疫情防控政策</title>
    <link href="/post/54df5254.html"/>
    <url>/post/54df5254.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、 --><p>关于COVID-19疫情问题，已经一段时间没有写东西。</p><p>现在，在北上广深与朋友见面，每每会讨论的一个问题是：“现在的疫情防控政策，什么时候会调整放开？”</p><p>说说笔者的一些判断。</p><h3 id="疫情政策的发展"><a class="markdownIt-Anchor" href="#疫情政策的发展"></a> 疫情政策的发展</h3><p>与在特定时间点发生的政治活动或事件并没有必然的关系——比如大多人所关心的党代会和两会。原因是：<strong>这个决策本质上还是一个围绕公共卫生问题的决策，首先依赖的是公共卫生专家的专业考虑与判断。政治考量是不能逾越或凌驾专业判断的</strong>。当然：</p><ul><li>在公共卫生问题上，政治考量也很重要，帮助提供必要的输入，使得决策过程中将经济、社会、民生影响充分纳入</li><li>疫情防控政策是一定会有高度的延续性的，政策延续性的效应、影响会远远高于换届或人事更替的效应。在这种重大公共政策问题上，政策的一贯性、延续性、持续性、稳定性、长期性是最重要的</li></ul><h3 id="进返京-弹窗管理问题"><a class="markdownIt-Anchor" href="#进返京-弹窗管理问题"></a> 进返京、弹窗管理问题</h3><p>北京的弹窗管理是有一定的灵活调整的可能性的，肯定会受制于特定政治事件的影响。北京所公开宣示的政策也已明确说明，要考虑北京实际情况，“适度从严”。要理解的是：北京是这个14亿人口大国的政治心脏。<strong>国家中枢机构因疫情问题出现停摆的代价是不可估量的，所以北京必定会从严</strong>。这肯定会影响在京人员，也会影响赴京办事人员。我们只能期望治理依据现实情况，适时动态调整政策。</p><h3 id="疫苗接种问题"><a class="markdownIt-Anchor" href="#疫苗接种问题"></a> 疫苗接种问题</h3><p>《第九版防治方案》主要是建立在核酸检测、动态清零基础上的方案，但对推进疫苗接种的举措还是不够的。就这个问题，作者的看法是：</p><ol><li>疫苗接种率是一个我们可以观察到的最直观的量化指标，<strong>如果疫苗接种率上不去，那就不具备讨论“放开”的任何前提</strong>。</li><li>根据官方披露，今年3月数据显示，我国还有5,200万60岁以上的老年人没有完成全程接种，其中占比例最大的是80岁以上的老年人。香港有700多万人口，老人的疫苗接种比例也很低，“放开”后立即导致近万人死亡。<strong>以中国目前的接种情况，一旦“放开”，必然对高危群体产生巨大的健康安全冲击，同时挤兑医疗资源</strong>。</li><li>如果当下我们没有观察到周边出现了大规模的、全面的、系统的、积极的推进疫苗接种比例的举措，那么放开也是缺乏前提的</li><li>此外，针对这个问题，还需指出，中国虽有举国体制，大政府家长主义，但恰恰缺乏推动强制接种疫苗的社会基础及政治动力。一旦谈及强制或半强制推行疫苗接种，就会导致巨大的反制。所以，疫苗接种面临瓶颈障碍；疫苗接种率提不上去，也无从谈及进一步调整防控政策</li></ol><h3 id="城乡差距及农村医疗资源落后问题"><a class="markdownIt-Anchor" href="#城乡差距及农村医疗资源落后问题"></a> 城乡差距及农村医疗资源落后问题</h3><p>城市居民及“经营”占据互联网舆论平台，能够影响和主导关于疫情防控的话语。但<strong>疫情的高危群体是农村，因为这里的医疗基础设施和资源远远落后于城市，而且农村的老龄化人口也远远高于城市</strong>（根据第七次人口普查，乡村60岁、65岁及以上老人的比重分别为23.81%、17.72%，比城镇分别高出7.99百分点及6.61个百分点）。一旦疫情爆发，农村医疗资源匮乏的问题将变得极为严重，使得这些区域遭受巨大打击。前些天，中央纪委国家监委网站发布了一篇公众号，《面对疫情，躺平没有出路》，列示了以下的数据：</p><p><u>记者查阅《2021年我国卫生健康事业发展统计公报》《2021年安徽省卫生健康事业发展统计公报》《寿县2021年国民经济和社会发展统计公报》发现：2021年末，全国医疗卫生机构床位944.8万张，每千人口医疗卫生机构床位数6.70张；安徽省医疗卫生机构床位41.1万张，每千人口医疗卫生机构床位数为6.72张；寿县常住人口83.78万人，医疗卫生机构床位4599张，每千人口医疗卫生机构床位数为5.48张。</u></p><p>由此可见，安徽寿县医疗卫生机构人均床位比全国平均水平低18.2%。如果将统计情况聚焦到农村，医疗资源只会更紧张。以安徽省为例，2021年每千农村人口乡镇卫生院床位数仅2.85张。试想，倘若放任疫情蔓延，基层医疗资源遭到挤兑，生产生活停摆，进而势必会危害国家粮食安全。</p><p>如果“放开”、“共存”，中国的一线城市和高能级二线城市大概可以勉强应付一下，但乡村将面临重大打击。这里将是医疗资源挤兑最为严重、大概率面临全线崩溃的地方。</p><h3 id="近期其他发达国家的情势"><a class="markdownIt-Anchor" href="#近期其他发达国家的情势"></a> 近期其他发达国家的情势</h3><p>日本、德国、美国、英国等国的疫情发展态势——特别是疫情对公共资源的占用及挤兑情况，以及COVID-19后遗症的情况，肯定会让我们的决策者认为，绝对不能贸然放开、还好坚持了之前的政策。</p><h3 id="关于世卫组织who"><a class="markdownIt-Anchor" href="#关于世卫组织who"></a> 关于世卫组织(WHO)</h3><p>会不会修改对COVID-19“大流行病”（pandemic）的定义呢？对中国有什么影响？</p><ul><li>WHO并没有宣布“大流行”结束， 负责对此进行评定的专家委员会也许会有分歧和讨论，但肯定是支持维持“大流行”的判定的；</li><li>中国肯定在这个决策流程之内，不会脱离这个流程；</li><li>WHO调整定义一定会是我们调整防疫政策的前提；</li><li>如果WHO调整了定义，我们会不会陷入被动？其实也并没有什么被动之说，我国政府首要是考虑中国的现实国情，没有必要充当先锋，但是可以容忍一定的“滞后”。</li></ul><h3 id="疫情对经济的影响"><a class="markdownIt-Anchor" href="#疫情对经济的影响"></a> 疫情对经济的影响</h3><p>不少人认为疫情防控政策会影响经济。但决策者考虑的肯定不只是现行政策对经济造成的折损，而是“放开”、“共存”后所导致的经济代价，以及社会、公共卫生代价及所对应的政治风险。如果这个事情非常的简单，如一些人所认为的，“放开”的收益明显大于成本，经济形势是欣欣向荣，人民的健康安全丝毫无碍，政治气象也一片大好——如果有这么好的结果，那决策者早就选择“放开”了。当下选择不放开，肯定是经过慎重分析后，认为代价远远大于收益，还不能“放开”。对这个问题，我们需要相信：</p><ul><li>决策者和全体国民（但非个别国民）的利益完全是一致的，如果“放开”的收益大于代价，就会选择放开；而如果“放开”的代价大于收益，就会继续延续当前的政策</li><li>决策者一定掌握比我们更多的信息。<strong>所以不要认为自己比决策者更聪明</strong>。</li></ul><h3 id="中国当下的疫情防控有没有进一步优化的空间"><a class="markdownIt-Anchor" href="#中国当下的疫情防控有没有进一步优化的空间"></a> 中国当下的疫情防控有没有进一步优化的空间？</h3><p>肯定是有进一步优化空间的，但这个优化只可能是以科技和治理手段改善目前的“动态清零”，寻求更好地平衡疫情防控与经济社会代价，但不会是取消“动态清零”</p><h3 id="公共卫生决策的形成过程问题"><a class="markdownIt-Anchor" href="#公共卫生决策的形成过程问题"></a> 公共卫生决策的形成过程问题</h3><p>决策是需要时间的，广泛收集信息，深入论证，形成决策。目前第九版防治方案是今年六月末出台的，迄今刚刚两个多月，再改进、迭代肯定是需要时间的。十四亿人口大国无小事。防疫模式的发展不可能很快，一定是循序稳步推进。所以要对决策时间有现实预期</p><h3 id="如何提升群众对现行防疫政策的理解和支持"><a class="markdownIt-Anchor" href="#如何提升群众对现行防疫政策的理解和支持"></a> 如何提升群众对现行防疫政策的理解和支持？</h3><p>疫情经过近三年，大部分人都已经很疲惫。其实这个问题本质上还是一个宣传问题：领导人需要积极宣讲，发出声音。要适时出来讲，可能不能单靠官方媒体发表书面文章了：</p><ol><li><p>我们防疫政策内核是什么；</p></li><li><p>我们为什么要坚持现在的防疫政策，我们为什么与其他国家不同；</p></li><li><p>一方面要承认防疫政策对经济的影响，感谢国民的付出，一方面要说明如果不坚持现有的防疫政策，后果会有多严重；</p></li><li><p>我们的防疫政策将如何发展演变；决策者的考量因素是什么；一年、两年甚至更长时间以后，我们的防疫政策会是什么样的；</p></li><li><p>对人民群众的付出表示感谢，激励民众继续配合现有的防疫政策；</p></li></ol><p>最后，总体而言，作者以为“放开”是没有现实基础的，现在：</p><ul><li><p>不用去尝试猜测甚至“博弈”防疫政策的“放开”；</p></li><li><p>要更好地理解中国现行防疫政策的逻辑；</p></li><li><p>如果有时间，不妨提出有建设性的优化建议。</p></li></ul><p>转载自微信公众号：tuzhuxi</p>]]></content>
    
    
    <categories>
      
      <category>News</category>
      
    </categories>
    
    
    <tags>
      
      <tag>社会</tag>
      
      <tag>看法</tag>
      
      <tag>COVID-19</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python-Tkinter组件实践</title>
    <link href="/post/cb8c1ce4.html"/>
    <url>/post/cb8c1ce4.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、历史、政治、社会、 --><p>Tkinter一般用于界面设计，是Python自带的模块。它在实际开发中可能并不常用，用python写一些小工具时会用到。实际开发一般用的是Qt ，但Tkinter也可以很好地帮助理解GUI开发的逻辑。</p><p>以下是Tkinter的常用组件说明：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/1372069-20180805235412647-270287964.png" alt></p><h3 id="窗口组件"><a class="markdownIt-Anchor" href="#窗口组件"></a> 窗口组件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span> *<br><br><span class="hljs-comment"># 创建窗口实例</span><br>window = Tk()<br><br><span class="hljs-comment"># 窗口标题</span><br>window.title(<span class="hljs-string">&quot;创建窗口&quot;</span>)<br><br><span class="hljs-comment"># 主窗口循环显示。同一个窗口只需要执行一次</span><br><span class="hljs-comment"># 创建窗口并等待与用户交互，直到用户手动关闭为止</span><br><span class="hljs-comment"># 此处的mainloop是一个很大的while循环，每点击一次就会更新一次。因此必须有循环</span><br>window.mainloop()<br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220914121437808.png" alt></p><h3 id="按钮组件"><a class="markdownIt-Anchor" href="#按钮组件"></a> 按钮组件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span> *<br><br>window = Tk()<br>window.title(<span class="hljs-string">&quot;按钮组件&quot;</span>)<br>window.geometry(<span class="hljs-string">&#x27;315x315&#x27;</span>)<br><br><span class="hljs-comment"># 新建一个标签组件</span><br>lbtext = Label(window, text=<span class="hljs-string">&#x27;点下面，有惊喜&#x27;</span>)<br>lbtext.pack()<br><br><span class="hljs-comment"># 定义点击事件</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">clicked</span>():<br>    lbtext.configure(text=<span class="hljs-string">&quot;哈哈哈你被骗到啦，想屁吃&quot;</span>)<br><br><br><span class="hljs-comment"># 新建一个按钮组件</span><br>btn = Button(window, text=<span class="hljs-string">&quot;万元好礼，点击就送&quot;</span>, command=clicked)<br>btn.pack()<br><br>window.mainloop()<br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220914121155891.png" alt></p><h3 id="标签组件"><a class="markdownIt-Anchor" href="#标签组件"></a> 标签组件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span> font<br><br>window = Tk()<br>window.title(<span class="hljs-string">&quot;标签组件&quot;</span>)<br><span class="hljs-comment"># 设置窗口大小，乘号是小写x字母</span><br>window.geometry(<span class="hljs-string">&#x27;315x315&#x27;</span>)<br><br><span class="hljs-comment"># bg:背景颜色, font:字体, width、height:字符/背景的高宽，fg是组件前景色，gb是组件后景色</span><br>lbtext = Label(window, text=<span class="hljs-string">&quot;月摇江湄，你回首花落梦碎。&quot;</span>,<br>               font=(<span class="hljs-string">&#x27;Arial Bold&#x27;</span>, <span class="hljs-number">50</span>), fg=<span class="hljs-string">&#x27;red&#x27;</span>, bg=<span class="hljs-string">&#x27;green&#x27;</span>, width=<span class="hljs-number">10</span>, height=<span class="hljs-number">1</span>)<br><br><span class="hljs-comment"># 配置放置标签，配置内容文字区域放置位置，窗口部件有以下三种放置方式：</span><br><br><span class="hljs-comment"># 1. grid:内容放置在规律的方格中，row和colum是行、列；padx是单元格左右间距；pady是单元格上下间距；ipadx是单元格内部元素与单元格的左右间距；ipady是单元格内部元素与单元格的上下间距</span><br><span class="hljs-comment"># lbtext.grid(column=1, row=0, padx=10, pady=10, ipadx=10, ipady=10)</span><br><br><span class="hljs-comment"># 2. pack:自适应排列.配置参数side时可按top、bottom、laft、right方式排列，如lbtext.pack(side=&#x27;top&#x27;)</span><br>lbtext.pack()<br><br><span class="hljs-comment"># 3. place:通过精确坐标来定位。x、y代表部件放置的位置，anchor=&#x27;nw&#x27;表示锚定点的西北角，锚定点在内容顶端中间的位置。锚定点的位置参考图：https://raw.githubusercontent.com/YuanZhou314/PigRepo/main/imgs/maodingdian.png</span><br><span class="hljs-comment"># lbtext.place(x=50, y=100, anchor=&#x27;nw&#x27;)</span><br><br>window.mainloop()<br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220914121326146.png" alt></p><h3 id="输入框组件"><a class="markdownIt-Anchor" href="#输入框组件"></a> 输入框组件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span> *<br><br>window = Tk()<br>window.title(<span class="hljs-string">&quot;文本框组件&quot;</span>)<br>window.geometry(<span class="hljs-string">&#x27;315x315&#x27;</span>)<br><br>lbtext = Label(window, text=<span class="hljs-string">&#x27;输入内容后请按下按钮&#x27;</span>)<br>lbtext.pack()<br><br><span class="hljs-comment"># 添加一个文本输入框</span><br>txt = Entry(window, width=<span class="hljs-number">10</span>)<br>txt.pack()<br><br><span class="hljs-comment"># 自动设置焦点，无需点击文本框再输入</span><br>txt.focus()<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">clicked</span>():  <span class="hljs-comment"># 添加按钮点击事件，将所填写的内容简单判断后，赋值给标签组件</span><br>    res = <span class="hljs-string">&quot;Welcome to &quot;</span> + txt.get()<br>    <span class="hljs-keyword">if</span> txt.get() != <span class="hljs-string">&quot;&quot;</span>:<br>        lbtext.configure(text=res)<br><br><br><span class="hljs-comment"># 此处可直接在后面添加放置方式。</span><br>btn = Button(window, text=<span class="hljs-string">&quot;走你！&quot;</span>, command=clicked).pack()<br><br>window.mainloop()<br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220914122132449.png" alt></p><h3 id="单选框组件"><a class="markdownIt-Anchor" href="#单选框组件"></a> 单选框组件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span> font<br><br>window = Tk()<br>window.title(<span class="hljs-string">&quot;标签组件&quot;</span>)<br><span class="hljs-comment"># 设置窗口大小，乘号是小写x字母</span><br>window.geometry(<span class="hljs-string">&#x27;315x315&#x27;</span>)<br><br><span class="hljs-comment"># bg:背景颜色, font:字体, width、height:字符/背景的高宽，fg是组件前景色，gb是组件后景色</span><br>lbtext = Label(window, text=<span class="hljs-string">&quot;月摇江湄，你回首花落梦碎。&quot;</span>,<br>               font=(<span class="hljs-string">&#x27;Arial Bold&#x27;</span>, <span class="hljs-number">50</span>), fg=<span class="hljs-string">&#x27;red&#x27;</span>, bg=<span class="hljs-string">&#x27;green&#x27;</span>, width=<span class="hljs-number">10</span>, height=<span class="hljs-number">1</span>)<br><br><span class="hljs-comment"># 配置放置标签，配置内容文字区域放置位置，窗口部件有以下三种放置方式：</span><br><br><span class="hljs-comment"># 1. grid:内容放置在规律的方格中，row和colum是行、列；padx是单元格左右间距；pady是单元格上下间距；ipadx是单元格内部元素与单元格的左右间距；ipady是单元格内部元素与单元格的上下间距</span><br><span class="hljs-comment"># lbtext.grid(column=1, row=0, padx=10, pady=10, ipadx=10, ipady=10)</span><br><br><span class="hljs-comment"># 2. pack:自适应排列.配置参数side时可按top、bottom、laft、right方式排列，如lbtext.pack(side=&#x27;top&#x27;)</span><br>lbtext.pack()<br><br><span class="hljs-comment"># 3. place:通过精确坐标来定位。x、y代表部件放置的位置，anchor=&#x27;nw&#x27;表示锚定点的西北角，锚定点在内容顶端中间的位置。锚定点的位置参考图：https://raw.githubusercontent.com/YuanZhou314/PigRepo/main/imgs/maodingdian.png</span><br><span class="hljs-comment"># lbtext.place(x=50, y=100, anchor=&#x27;nw&#x27;)</span><br><br>window.mainloop()<br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220914121516705.png" alt></p><h3 id="对话框组件"><a class="markdownIt-Anchor" href="#对话框组件"></a> 对话框组件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span> font<br><br>window = Tk()<br>window.title(<span class="hljs-string">&quot;标签组件&quot;</span>)<br><span class="hljs-comment"># 设置窗口大小，乘号是小写x字母</span><br>window.geometry(<span class="hljs-string">&#x27;315x315&#x27;</span>)<br><br><span class="hljs-comment"># bg:背景颜色, font:字体, width、height:字符/背景的高宽，fg是组件前景色，gb是组件后景色</span><br>lbtext = Label(window, text=<span class="hljs-string">&quot;月摇江湄，你回首花落梦碎。&quot;</span>,<br>               font=(<span class="hljs-string">&#x27;Arial Bold&#x27;</span>, <span class="hljs-number">50</span>), fg=<span class="hljs-string">&#x27;red&#x27;</span>, bg=<span class="hljs-string">&#x27;green&#x27;</span>, width=<span class="hljs-number">10</span>, height=<span class="hljs-number">1</span>)<br><br><span class="hljs-comment"># 配置放置标签，配置内容文字区域放置位置，窗口部件有以下三种放置方式：</span><br><br><span class="hljs-comment"># 1. grid:内容放置在规律的方格中，row和colum是行、列；padx是单元格左右间距；pady是单元格上下间距；ipadx是单元格内部元素与单元格的左右间距；ipady是单元格内部元素与单元格的上下间距</span><br><span class="hljs-comment"># lbtext.grid(column=1, row=0, padx=10, pady=10, ipadx=10, ipady=10)</span><br><br><span class="hljs-comment"># 2. pack:自适应排列.配置参数side时可按top、bottom、laft、right方式排列，如lbtext.pack(side=&#x27;top&#x27;)</span><br>lbtext.pack()<br><br><span class="hljs-comment"># 3. place:通过精确坐标来定位。x、y代表部件放置的位置，anchor=&#x27;nw&#x27;表示锚定点的西北角，锚定点在内容顶端中间的位置。锚定点的位置参考图：https://raw.githubusercontent.com/YuanZhou314/PigRepo/main/imgs/maodingdian.png</span><br><span class="hljs-comment"># lbtext.place(x=50, y=100, anchor=&#x27;nw&#x27;)</span><br><br>window.mainloop()<br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220914121550065.png" alt></p><h3 id="复选框组件"><a class="markdownIt-Anchor" href="#复选框组件"></a> 复选框组件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span> font<br><br>window = Tk()<br>window.title(<span class="hljs-string">&quot;标签组件&quot;</span>)<br><span class="hljs-comment"># 设置窗口大小，乘号是小写x字母</span><br>window.geometry(<span class="hljs-string">&#x27;315x315&#x27;</span>)<br><br><span class="hljs-comment"># bg:背景颜色, font:字体, width、height:字符/背景的高宽，fg是组件前景色，gb是组件后景色</span><br>lbtext = Label(window, text=<span class="hljs-string">&quot;月摇江湄，你回首花落梦碎。&quot;</span>,<br>               font=(<span class="hljs-string">&#x27;Arial Bold&#x27;</span>, <span class="hljs-number">50</span>), fg=<span class="hljs-string">&#x27;red&#x27;</span>, bg=<span class="hljs-string">&#x27;green&#x27;</span>, width=<span class="hljs-number">10</span>, height=<span class="hljs-number">1</span>)<br><br><span class="hljs-comment"># 配置放置标签，配置内容文字区域放置位置，窗口部件有以下三种放置方式：</span><br><br><span class="hljs-comment"># 1. grid:内容放置在规律的方格中，row和colum是行、列；padx是单元格左右间距；pady是单元格上下间距；ipadx是单元格内部元素与单元格的左右间距；ipady是单元格内部元素与单元格的上下间距</span><br><span class="hljs-comment"># lbtext.grid(column=1, row=0, padx=10, pady=10, ipadx=10, ipady=10)</span><br><br><span class="hljs-comment"># 2. pack:自适应排列.配置参数side时可按top、bottom、laft、right方式排列，如lbtext.pack(side=&#x27;top&#x27;)</span><br>lbtext.pack()<br><br><span class="hljs-comment"># 3. place:通过精确坐标来定位。x、y代表部件放置的位置，anchor=&#x27;nw&#x27;表示锚定点的西北角，锚定点在内容顶端中间的位置。锚定点的位置参考图：https://raw.githubusercontent.com/YuanZhou314/PigRepo/main/imgs/maodingdian.png</span><br><span class="hljs-comment"># lbtext.place(x=50, y=100, anchor=&#x27;nw&#x27;)</span><br><br>window.mainloop()<br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220914121638001.png" alt></p><h3 id="进度条组件"><a class="markdownIt-Anchor" href="#进度条组件"></a> 进度条组件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span> ttk<br><span class="hljs-keyword">from</span> tkinter.ttk <span class="hljs-keyword">import</span> Progressbar<br><br>window = Tk()<br>window.title(<span class="hljs-string">&quot;对话框组件&quot;</span>)<br>window.geometry(<span class="hljs-string">&#x27;315x315&#x27;</span>)<br><br><span class="hljs-comment"># 创建style实例绘制进度条</span><br>style = ttk.Style()<br>style.theme_use(<span class="hljs-string">&#x27;default&#x27;</span>)<br><br><span class="hljs-comment"># 设置进度条颜色</span><br>style.configure(<span class="hljs-string">&#x27;black.Horizontal.TProgressbar&#x27;</span>, background=<span class="hljs-string">&#x27;red&#x27;</span>)<br>bar = Progressbar(window, length=<span class="hljs-number">200</span>, style=<span class="hljs-string">&#x27;black.Horizontal.TProgressbar&#x27;</span>)<br><br><span class="hljs-comment"># 设置当前进度条的值，100分是拉满</span><br>bar[<span class="hljs-string">&#x27;value&#x27;</span>] = <span class="hljs-number">50</span><br>bar.grid(column=<span class="hljs-number">0</span>, row=<span class="hljs-number">1</span>)<br>window.mainloop()<br><br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220914121704705.png" alt></p><h3 id="数值调整组件"><a class="markdownIt-Anchor" href="#数值调整组件"></a> 数值调整组件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span> *<br><br>window = Tk()<br>window.title(<span class="hljs-string">&quot;对话框组件&quot;</span>)<br>window.geometry(<span class="hljs-string">&#x27;315x315&#x27;</span>)<br><br><span class="hljs-comment"># 创建范围值，从0~100</span><br><span class="hljs-comment"># spin = Spinbox(window, from_=0, to=100, width=5)</span><br><br><span class="hljs-comment"># 或者设置某些特定的值</span><br><span class="hljs-comment"># spin = Spinbox(window, values=(3, 6, 9), width=5)</span><br><br><span class="hljs-comment"># 如需设置默认值，需要通过IntVar的set函数设置，无法直接使用 &#x27;textvariable=10&#x27;</span><br>var = IntVar()<br>var.<span class="hljs-built_in">set</span>(<span class="hljs-number">10</span>)<br>spin = Spinbox(window, from_=<span class="hljs-number">0</span>, to=<span class="hljs-number">10</span>, width=<span class="hljs-number">5</span>, textvariable=var)<br>spin.grid(column=<span class="hljs-number">0</span>, row=<span class="hljs-number">0</span>)<br><br>window.mainloop()<br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220914122225120.png" alt></p><h3 id="文本区组件"><a class="markdownIt-Anchor" href="#文本区组件"></a> 文本区组件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span> scrolledtext<br><br>window = Tk()<br>window.title(<span class="hljs-string">&quot;文本区组件&quot;</span>)<br>window.geometry(<span class="hljs-string">&#x27;315x315&#x27;</span>)<br><br><span class="hljs-comment"># 创建本文区实例，并设置区域宽高</span><br>txt = scrolledtext.ScrolledText(window, width=<span class="hljs-number">50</span>, height=<span class="hljs-number">10</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">addtext</span>():<br>    txt.insert(INSERT, <span class="hljs-string">&quot;当代价不再重要，人们也会对恐惧有所遗忘。&quot;</span>)  <span class="hljs-comment"># 在文本区插入文本,此处为追加</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">deltext</span>():<br>    txt.delete(<span class="hljs-number">1.0</span>, END)  <span class="hljs-comment"># 将文本区内容删除</span><br><br><br>btn1 = Button(window, text=<span class="hljs-string">&#x27;点击加入&#x27;</span>, command=addtext)<br>btn2 = Button(window, text=<span class="hljs-string">&#x27;点击清空&#x27;</span>, command=deltext)<br><br>txt.grid(column=<span class="hljs-number">0</span>, row=<span class="hljs-number">0</span>)<br>btn1.grid(column=<span class="hljs-number">0</span>, row=<span class="hljs-number">1</span>)<br>btn2.grid(column=<span class="hljs-number">0</span>, row=<span class="hljs-number">2</span>)<br><br>window.mainloop()<br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220914121803360.png" alt></p><h3 id="下拉框组件"><a class="markdownIt-Anchor" href="#下拉框组件"></a> 下拉框组件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">from</span> tkinter.ttk <span class="hljs-keyword">import</span> Combobox<br><br>window = Tk()<br>window.title(<span class="hljs-string">&quot;下拉框组件&quot;</span>)<br>window.geometry(<span class="hljs-string">&#x27;315x315&#x27;</span>)<br>lbtext = Label(window, text=<span class="hljs-string">&#x27;点下面，有惊喜&#x27;</span>)<br>lbtext.pack()<br><br><span class="hljs-comment"># 新建组合框实例</span><br>combo = Combobox(window)<br><span class="hljs-comment"># 使用元组配置组合框内容</span><br>combo[<span class="hljs-string">&#x27;values&#x27;</span>] = (<span class="hljs-string">&#x27;香辣虾&#x27;</span>, <span class="hljs-string">&#x27;烤鸡翅&#x27;</span>, <span class="hljs-string">&#x27;螃蟹粥&#x27;</span>, <span class="hljs-string">&#x27;流心月饼&#x27;</span>, <span class="hljs-string">&#x27;豆芽菜&#x27;</span>)<br><span class="hljs-comment"># 默认选项</span><br>combo.current(<span class="hljs-number">0</span>)<br>combo.pack()<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">clicked</span>():  <span class="hljs-comment"># 设置点击事件，将选中的内容赋给标签组件</span><br>    comtxt = combo.get()<br>    lbtext.configure(text=comtxt)<br><br><br>btn = Button(window, text=<span class="hljs-string">&#x27;点我点我！！&#x27;</span>, command=clicked)<br>btn.pack()<br><br>window.mainloop()<br><br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220914121831793.png" alt></p><h3 id="文件对话框组件"><a class="markdownIt-Anchor" href="#文件对话框组件"></a> 文件对话框组件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span> filedialog<br><br>window = Tk()<br>window.title(<span class="hljs-string">&quot;对话框组件&quot;</span>)<br>window.geometry(<span class="hljs-string">&#x27;315x315&#x27;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">opendir</span>():<br>    <span class="hljs-comment"># askopenfilename 选择单个文件,initialdir 参数指定打开的初始目录</span><br>    <span class="hljs-comment"># files = filedialog.askopenfilename(initialdir=os.path.dirname(__file__))</span><br><br>    <span class="hljs-comment"># askopenfilenames 选择多个文件</span><br>    <span class="hljs-comment"># files = filedialog.askopenfilenames(initialdir=os.path.dirname(__file__))</span><br><br>    <span class="hljs-comment"># filetypes 参数指定文件类型</span><br>    files = filedialog.askopenfilenames(filetypes=(<br>        (<span class="hljs-string">&quot;Text files&quot;</span>, <span class="hljs-string">&quot;*.txt&quot;</span>), (<span class="hljs-string">&quot;all files&quot;</span>, <span class="hljs-string">&quot;*.*&quot;</span>)), initialdir=os.path.dirname(__file__))<br><br><br>btn = Button(window, text=<span class="hljs-string">&#x27;选择文件&#x27;</span>, command=opendir)<br>btn.pack()<br><br>window.mainloop()<br><br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220914121903912.png" alt></p><h3 id="菜单组件"><a class="markdownIt-Anchor" href="#菜单组件"></a> 菜单组件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> re <span class="hljs-keyword">import</span> sub<br><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span> *<br><br>window = Tk()<br>window.title(<span class="hljs-string">&quot;菜单组件&quot;</span>)<br>window.geometry(<span class="hljs-string">&#x27;315x315&#x27;</span>)<br>lbtext = Label(window, text=<span class="hljs-string">&#x27;菜单显示&#x27;</span>)<br>lbtext.pack()<br><br><span class="hljs-comment"># 功能的实现入口在这里</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">do_job</span>():<br>    <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-comment"># 创建菜单栏容器</span><br>menubar = Menu(window)<br><br><span class="hljs-comment"># 创建File菜单项</span><br>filemenu = Menu(menubar, tearoff=<span class="hljs-number">0</span>)<br><br><span class="hljs-comment"># 给菜单项命名为File，并放入菜单栏容器</span><br>menubar.add_cascade(label=<span class="hljs-string">&#x27;File&#x27;</span>, menu=filemenu)<br><br><span class="hljs-comment"># 在File菜单项中加入New、Open、Save等效菜单</span><br>filemenu.add_cascade(label=<span class="hljs-string">&#x27;New&#x27;</span>, command=do_job)<br>filemenu.add_cascade(label=<span class="hljs-string">&#x27;Open&#x27;</span>, command=do_job)<br>filemenu.add_cascade(label=<span class="hljs-string">&#x27;Save&#x27;</span>, command=do_job)<br>filemenu.add_separator()  <span class="hljs-comment"># 添加一条分隔线</span><br><span class="hljs-comment"># 退出使用tkinter的自带quit()函数</span><br>filemenu.add_cascade(label=<span class="hljs-string">&#x27;Exit&#x27;</span>, command=window.quit)<br><br><span class="hljs-comment"># 创建Edit菜单，与File一样，需要创建菜单项、并放入容器，然后给菜单项创建功能单元</span><br>editmenu = Menu(menubar, tearoff=<span class="hljs-number">0</span>)<br>menubar.add_cascade(label=<span class="hljs-string">&#x27;Edit&#x27;</span>, menu=editmenu)<br>editmenu.add_cascade(label=<span class="hljs-string">&#x27;Cut&#x27;</span>, command=do_job)<br>editmenu.add_cascade(label=<span class="hljs-string">&#x27;Copy&#x27;</span>, command=do_job)<br>editmenu.add_cascade(label=<span class="hljs-string">&#x27;Paste&#x27;</span>, command=do_job)<br><br><span class="hljs-comment"># 创建二级菜单,在filemenu的基础上创建菜单项，并命名为“Import”,再给二级菜单项创建功能单元“Submenu_1”</span><br>submenu = Menu(filemenu)<br>filemenu.add_cascade(label=<span class="hljs-string">&#x27;Import&#x27;</span>, menu=submenu, underline=<span class="hljs-number">0</span>)<br>submenu.add_command(label=<span class="hljs-string">&#x27;Submenu_1&#x27;</span>, command=do_job)<br><br><span class="hljs-comment"># 配置菜单栏显示</span><br>window.config(menu=menubar)<br><br>window.mainloop()<br><br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220914122022227.png" alt></p><p>参考文章</p><p><a href="https://www.cnblogs.com/shwee/p/9427975.html">https://www.cnblogs.com/shwee/p/9427975.html</a></p><p><a href="https://likegeeks.com/python-gui-examples-tkinter-tutorial/">https://likegeeks.com/python-gui-examples-tkinter-tutorial/</a></p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>从英女王的去世，看向往且需要君主/王室的人类之子们</title>
    <link href="/post/9dc1e00a.html"/>
    <url>/post/9dc1e00a.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、算法、电影、美学、写作、哲学、文档、绘画、前端、 --><p>英国女王伊丽莎白二世去世及后续查尔斯继位，引发全球热烈报道。当然，最关注此事的还是英语世界及英联邦国家（Commonwealth of Nations）。</p><h3 id="关注英国王室的美国人们"><a class="markdownIt-Anchor" href="#关注英国王室的美国人们"></a> 关注英国王室的美国人们</h3><p>其中值得注意的是美国。现任政府、前任总统、各种政客都发出悼词，穷极文采表达对伊丽莎白二世的赞誉。各大主流媒体，这时似乎不分左右了，看不出价值观上谁是共和，谁是保皇：无论是自由主义/进步主义的左派媒体，还是民族主义/保守主义的右派媒体，所有人都在按最高规格报道此事，生怕有所遗漏。</p><p>乍一看美国媒体，以为死的是他们的女王，或以为美国是英联邦成员国呢。有个成语叫“<strong>如丧考妣</strong>”，这个词，似乎很可用来形容美国（及许多英国及或英联邦以外人士）对伊丽莎白二世去世唏嘘感慨的心情。</p><p>但不要忘记，美国是从大英帝国手里赢得政治独立的——这，才是美国的立国之“本”。</p><p>那么美国媒体为什么要高调追踪报道英国王室的新闻呢？自然是因为大多数美国观众一直以来都非常关注英国王室新闻，这种关注已经超越了政治党派和意识形态的。</p><p>英语世界舆论场上确实有一些不和谐的声音，例如一些人称绝对不会为一个犯下累累罪行的殖民帝国的首脑的离世表示哀悼——但这些声音是少数派，多止于社交媒体。绝大多数人是认可及欣赏伊丽莎白二世的为人的，并且对她抱有不少好感。至少在英语世界里，她已经是成为一种超越政治党派和意识形态分歧的政治符号，为人们提供身份认同、确定性、安全感甚至存在的意义。</p><p>再说说，为什么美国媒体如此关注伊丽莎白二世的去世呢？</p><p>（本文仅以美国为例，但这个说法也不同程度地适用于不少其他英语国家）</p><p>因为美国是一个没有“根”的国家。现在的它，还是一个 “撕裂之国”。民主党和共和党正在为定义美国的文化、身份认同、核心价值观、未来要走的路，以及国家的根本目标与方向陷入政治内战。</p><p>作为一个多民族的移民大国，美国的政治是靠什么维系的呢？宪法、对美国政治制度的认可，对民主和个人价值的向往……但宪法只是一篇文字。它是生活在几百年前的白种男人思想的“石化”。它已经没有温度、没有生命力了。共和党/右派和民主党/左派忙着通过布局最高法院，为如何诠释这部“石化的思想”打得不可开交。</p><p>美国民主、美国制度、美国价值、美国文化——共和党/右派和民主党/左派分别都认为自己在代表正统、正宗、正确，把对方的立场、取态、理念全盘否定，并将对方上纲上线，扣上“反美”的最大帽子。</p><p>所谓的政治价值，看来也是任政治诠释和打扮的“小姑娘”而已。</p><p>所以，美国人一定也暗中羡慕英国王室这样的稳定存在的。</p><p>但共和是美国立国的根基，这里没有君主和贵族的传统与土壤，不可能再建立君主立宪。所以，他们只能隔海相望，围观羡慕一下英国的王室了，看看能不能从中也找到某种安慰和力量。</p><p>接下来说说英国王室的特性与价值。</p><h3 id="英国王室的特性和价值"><a class="markdownIt-Anchor" href="#英国王室的特性和价值"></a> 英国王室的特性和价值</h3><h4 id="去政治化-非政治性而摆脱了政治争议"><a class="markdownIt-Anchor" href="#去政治化-非政治性而摆脱了政治争议"></a> “去政治化”、“非政治性”，而摆脱了政治争议</h4><p>英国的君主作为国家首脑纯粹是名誉性、象征性的，基本做到了完全的“去政治化”，确保了王室的“非政治性”，与政治切割得非常干净。人们通常会担心君主制/世袭制带来的个人专制、专断、非民主，但在英国的君主立宪制中这些是完全不存在的。据此，人们不需要，也不会因政治政策去评判王室。王室更多的是一个道德存在、精神存在，历史存在、文化存在、经济存在；</p><h4 id="成为可以平衡-消解政府负面形象的资产asset"><a class="markdownIt-Anchor" href="#成为可以平衡-消解政府负面形象的资产asset"></a> 成为可以平衡、消解政府负面形象的“资产”（“asset”）</h4><p>英国的政治制度很特殊，根本不存在美国及许多中国人理解的“权力分立”、“三权分立”：几乎所有的权力都集中在内阁政府一身（the Cabinet Government），内阁的核心成员本来就是选举出来的下院议员（立法者），完全主导政府的立法工作，并以阁员/大臣身份领导各行政部门工作。美国出现的立法行政司法扯皮、国会两党、联邦与地方扯皮等在英国都是不存在的，在权力与责任对等的情况下，如果政治政策出了问题，内阁政府会把所有的责任都“背”走。民众总会对政府不满意，这时政府在政治上吸纳了所有负能量和指责，变成了一项“负债”（“liability”），而起到平衡稳定作用的则是王室。所以，王室在英国政治里可以扮演“资产”（“assets”）的角色，总能给人以确定性、安慰和信心；</p><h4 id="代表传统价值traditional-values"><a class="markdownIt-Anchor" href="#代表传统价值traditional-values"></a> 代表传统价值（traditional values）</h4><p>英国王室既然是非政治的，自然要超脱政治意识形态与政党的，主要功能是宣示和弘扬的主流价值。这里的主流价值并不是最新最潮的价值，而是英国各地方、不同年龄段、不同阶层人士的价值“中值”或共识。所以，它肯定又是滞后于年轻人及国际化、大都会价值的；它必须滞后但不能超前于潮流价值。当时代性与历史性发生张力和冲突时，王室的选择需要更加偏向历史，为社会提供一个联系传统价值的坚实纽带。这里可以做个比喻，中国的春晚，春晚里的内容和价值一定是代表中国主流的，是普罗大众能够接受的。英国王室的个人、家庭和社会生活是放在公众聚光灯下的，也是唱一台大戏。当年查尔斯和卡米拉的不伦关系，以及王室对待戴安娜的态度，从不同方向偏离了英国主流价值观，也使得伊丽莎白二世及王室面临空前压力。</p><p>不过要补充一条，前面说王室是“非政治”的，如果王室代表传统价值，那它肯定是偏保守主义的，相对来说更偏向或有利于保守党。这也部分解释了为什么二战以来，有约六成以上的时间（将近50年）是由保守党政府执政的，并且布莱尔是在不得不放弃左倾路线，寻找迎合中产的“第三条”路线才为工党获得十多年的执政期。</p><h4 id="弘扬传统价值理念塑造社会价值标准norms-驱动共识consensus"><a class="markdownIt-Anchor" href="#弘扬传统价值理念塑造社会价值标准norms-驱动共识consensus"></a> 弘扬传统价值理念，塑造社会价值标准（norms）、驱动共识（consensus）</h4><p>王室需要超越政治意识形态，因此只能弘扬非政治的价值，看女王/君主惯用的措辞，剔除宗教（英国国教）部分外，往往是一些放之四海皆准、关乎个人及社会生活的世俗行为准则与价值，譬如各种大词：尊重，承诺、奉献，投入，忠诚、爱（对家人、家庭、家族、社会和国家的爱）、努力、和平、牺牲、平等、坚持、毅力等等。这些都是能够唤醒正能量的概念。承担王室责任的王室家族成员需要被塑造为或活成道德楷模，私生活总被放在聚光灯下，而且与职业政客不同，一旦承担下来，往往是终身职责，没有什么退出的通路，因此也是一个很累的生存方式。</p><p>这里还要提一提，<strong>王室其实已经是一种世俗化的国家宗教</strong>。和许多西欧国家一样，英国是一个高度世俗化的国家，真正信教的人已不多。本土最热诚的信教者恐怕都是穆斯林及来自其他地方的移民（或后代）。英国君主本身是有宗教角色的，兼任英国国教（Church of England）的最高领袖。但除了礼仪性、符号性的宗教活动及职能外，君主/王室还能做什么呢？自然是回到以身作则，在行为规范上尝试担当楷模。在这个世俗化的现代社会里，君主/王室作为有血有肉的人，比宗教远要来得“真实”。从这个角度讲，君主王室本身就是一种“世俗化的宗教”，甚至在取代宗教：它的世俗在于，一是君主/王室的肉身存在；二是他们所倡导和实践的世俗化的个人、生活及社会价值；三是将基督教转变为对英国国家的信仰；</p><h4 id="代表历史延续性-稳定性-确定性帮助确立国家的文化与身份认同"><a class="markdownIt-Anchor" href="#代表历史延续性-稳定性-确定性帮助确立国家的文化与身份认同"></a> 代表历史延续性、稳定性、确定性，帮助确立国家的文化与身份认同</h4><p>这条，比较美国就可以了，美国的国民身份认同到底是什么呢？就一部没有生命力的宪法，一套政治体系，一些务虚的、任人打扮的政治价值（自由、平等、民主……），然后一些建筑物（自由女神像、国会大厦、帝国大厦……），凭借这些，真的可以塑造一套稳定的国民身份\文化认同么？一说到国家就想到一本打印出来的宪法？还是想到美元钞票？从美国目前撕裂的状态看来，所有这些都是不足够的。对那些保守主义者来说，没有什么比一本圣经和一杆枪来得实在。说来说去，美国还是缺乏历史，有今生没有前世，缺乏真正共享的文化、传统、价值、共识。社会经济顺风顺水时看到不矛盾，很容易取得表面的共识；社会经济不顺时，矛盾就显现出来了。政治的作用不是弥合，而是撕裂。</p><p>而这些，就是王室对于英国的价值。它是英国统治秩序（“统绪”）的具象；</p><ul><li><p>它帮助找寻、回忆、链接、引入历史，确立现代与过去的关系（这里看伊丽莎白二世与从杜鲁门到特朗普的历任美国总统合影即可知道。美国换了多少首脑，已经没有人能够把他们联系起来；但英女王能够把所有的历史经验串联到一起。这就是一个不经选举产生的终身制政府首脑联系历史的特殊能力）</p></li><li><p>它为人们提供“根”的感觉，建立国民的身份认同、定义英国的文化与传统；</p></li><li><p>当国家走到历史十字路口，遭遇政治纷争、冲突乃至迷茫时，它可以给人们提供信心、安慰，为现实存在找寻历史“意义”（meaning）。</p></li></ul><p>以上描述并不适用于每个英国国民，毕竟总有三到四成的人是共和派，要求废除君主制。但要看到，大多英国人（大约六到七成）支持维持君主立宪制——他们看到了王室存在的价值，也需要王室的存在。</p><p>英国新任首相Liz Truss在大学时是一个激进的左翼：她要求废除君主制，认为王室是国家的“耻辱”（disgraceful）。但现在，她是两个孩子的母亲。我想，两个孩子的母亲的视角很可能是不同的：有一个和蔼、慈眉善目、带有正能量、“无害”的女王/国王存在，为孩子提供某种榜样，帮助建立某种对国家的信仰，不是很好的一件事么？</p><h4 id="英国的君主是对外宣传英国国家形象的活的化身"><a class="markdownIt-Anchor" href="#英国的君主是对外宣传英国国家形象的活的化身"></a> 英国的君主是对外宣传英国国家形象的“活的化身”</h4><p>君主是终身制的，当君主超越了政党政治选举更替后，经历时日，就成为了国家的形象化身，变成了国体的“肉身”。这就是伊丽莎白二世的形象。她确实是一个和蔼、慈眉善目的女性，且颇为风趣幽默；想到她一辈子也是辛勤和隐忍的，做的工作确实不容易，她的身上也凝聚了智慧和阅历。慢慢的，人们就会对她心生好感；这时，她四处旅行，会见外国的客人，就会变成一个颇具正面形象的国家代言人。实事求是说，温莎王室经营的还是不错的，除却戴安娜一段非常被动外，总体上把工作做得相当不错，以至于女王已经成为英国文化“软力量”的重要组成部分。</p><h3 id="普通人对王室的尊崇和向往说明了人类的某种朴素追求"><a class="markdownIt-Anchor" href="#普通人对王室的尊崇和向往说明了人类的某种朴素追求"></a> 普通人对王室的尊崇和向往，说明了人类的某种朴素追求</h3><p>美国人是最讲民主、共和的（以至于两党，一个叫民主党，一个叫共和党）。在美国的土地上，没有君主和贵族（这里所指不含印第安人/原住民）。君主立宪制不可能出现在美国。</p><p>但实际上，至少有四成到一半的美国人对强人政治、权威主义、家长主义又是非常向往的（民主党拜登称他们为特朗普/MAGA共和党人及“准法西斯主义者）。而对英国王室和尊崇、向往、说不出的迷恋情结，又是横跨两党，超越了政治光谱的。这还是说明美国人看到了英国制度里存在的一些美国无法获取的宝贵东西。美国人既然得不到它，大概也只能通过播报英国王室新闻，“蹭”一点“正面外部性”。</p><p>但作者以外，还有更为重要的一点，就是大多数人其实是向往（或者并不抗拒）君主/王室的存在的。当然了，前提很重要：要把君主/王室限定在一定的范围内，例如不让君主/王室接触政治，强迫君主及王室成员做道德楷模，给他们施加许多的有形和无形压力以平衡、消解他们享受的特权。</p><p>只要君主/王室被限定在一定的范围内，变得“无害”了，人们就愿意接受它了。这时，人们对君主及王室成员会有很多的想象、向往甚至执念。这是一种极为复杂的情绪，从浪漫主义的、到追求和信奉权威、到找寻信仰，到神秘主义的都有。</p><p>现代君主立宪制下，君主/王室其实是一个全国乃至全世界可以围观、窥探的真人版“国家吉祥物”，每天在上演“真人秀”（饰演“吉祥物”就是君主/王室的全职工作）。不同的人出于不同的理由而喜欢（或不喜欢）这个吉祥物。由于是有活体真身的“真人秀”，君主/王室比一切务虚的政治理念、价值、原则、主义都来得真实和具象。人们与君主/王室的关系，不是人与理论或原则的关系，而是一种人与人的关系。</p><p>君主立宪制一旦搞得好，相较共和制，确实是有一些特定优势的。所以说，一个好的君主，一个好的王室，确实就是国家政治的“资产”。但这些都是历史形成的，“可遇不可求”。查尔斯三世能不能做一个好的国王呢？可能很难超越伊丽莎白二世，但并不重要，这里要探讨的是普罗大众对君主和旧制的向往和信仰。</p><p>作者也思考过这个问题。最终，大概不是从政治学、社会学、人类学找答案，而是进化心理学。人们对君主、王室、旧制的信仰，和对宗教、对信仰的认知和向往本质上大概是一回事。对君主或宗教的信仰可能可以给个体和群体带来一些“进化优势”，使其更容易生存下来。然后，经过不断的“自然选择”，这种心理机制就保留下来了，成为大多数人都共有的认知倾向。</p><p>对君主、旧制乃至宗教的向往与信仰会有啥优势呢?</p><ul><li><p><strong>规避风险，沿袭旧的实践</strong>：在认知上偏于保守，厌恶风险，倾向于延续过去的实践做法，因为这样可能更加安全，更有利于生存。这就是为什么很多人愿意相信古人的做法，奉从旧制和保守，而警惕革新。君主就是旧制的一部分；</p></li><li><p><strong>通过神秘主义和权威解释难以解释的现象，并给出方向</strong>：人类在进化历程中要看到无数无法解释的自然现象（譬如打雷闪电），以及在不断复杂化的社会里，还要面对社会现象。发现、解释、理解、应对不确定性是人类生存的重要组成部分。君主、宗教、权威主义、家长主义、神秘主义，都是能够为万事万物给出解释说法和方向，在不确定性中提供最终的确定性的东西，满足人们的心理需求；</p></li><li><p><strong>团结就是力量，构建更大的社会群体</strong>：人类社会只有团结、友爱、互助才能稳定的生存与发展，无论是对抗自然环境，还是对抗其他的族群。不仅如此，这种团结、友爱、互助还必须超越小家庭和亲族，只有在更大范围的社会群体里建立团结、互助、友爱和利他主义，才能获得更大的生存发展。宗教就是提供共同理念、共同信仰、增强团结性的工具。为此，人们甚至不惜付出物质甚至生命代价（例如各种宗教仪式）。君主也是一样的，君主在构建更大的政治共同体，给人们提供身份、认同、存在的意义，并使得社群可以稳定存续与发展；</p></li><li><p><strong>寻找秩序解决资源分配的问题</strong>：人类在生存与进化发展过程中，始终面临资源分配问题。要解决资源分配，就需要提供秩序。君主、贵族，社会等级，家长主义、权威主义，都是社会秩序，都可以帮助分配资源。大多数人在心理上不是天生的“叛逆者”，而愿意找寻和接受资源分配的秩序。</p></li></ul><p>这些因素，都是有利个体和社群生存与繁衍的。它们构成了进化优势。这些因素混杂在一起，经历了数万年，数十万年，甚至更长时期，就形成了人类今天的心理机制。</p><p>所以，我们超越时代，在任何的人类社会里如果发现了人群对君主、宗教有认可和向往，都不要吃惊，因为这就是人类的天性。在人类历史里——至少在人类社会发展成规模，形成了文字记载以来——大多时候、大多地方都有宗教、都有君主。共和、世俗的历史非常短暂，只是人类大历史的一瞬间。</p><p>由上可见，君主制诉诸了人类最传统、最本原、最简单、最朴素、最真实的东西。请注意：这里并不是说它是“更高级”或“更先进”，只是说它更能符合大多人的认知水平。</p><p>相比之下，过去数百年里兴起的透过政治理念、主义、价值、政党、运动驱动的共和政治，远比君主制要智性、高级、文明，但对于一般的普罗大众来说，它也“复杂”和“陌生”得多，更加难以理解、难以驾驭，并且看上去纷乱和浮躁。在大变局下——尤其是社会遭遇困难，陷入撕裂的时候，这样的体制也不容易找到将人们团结、凝聚起来的支点和力量。这就是美国的情况。</p><p>这么看，君主立宪制确实是一个比较能够融合传统与现代的制度。我们比较英国和美国会发现，越是陷入大变局，面临不确定性，越能看到君主立宪制提供的持久韧性。</p><p>另外，当一个社会遭遇大的危机和困难时，往往也会催生一些酝酿大变革的政治运动与意识形态——激情、斗志、革命，推翻旧制，推翻旧阶层，建立新世界、新秩序。但从大历史看，一个保持稳定发展的社会是很难建立在持久革命及自我推翻的逻辑基础上的——可持续性、稳定性、可预测性、确定性、与历史的传承、联系，在历史的基础上的延绵发展（“继往开来”），为过去、现在、将来找到一套彼此链接的终极意义，才是最重要的。在中国，其实已经有了答案，中国的体制虽是共和，但却是中华统绪的继承与发展；国民与国家的使命，是追求民族的伟大复兴。</p><p>习总书记说过一句话，“<strong>人民有信仰，国家有力量，民族有希望</strong>”，总结得极为精辟。结合今天对英国王室及美国政治的比较与分析，其实也可以帮助我们进一步思考这个问题。</p><p>转载自微信公众号：tuzhuxi</p>]]></content>
    
    
    <categories>
      
      <category>News</category>
      
    </categories>
    
    
    <tags>
      
      <tag>看法</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python的赋值、浅拷贝与深拷贝</title>
    <link href="/post/2c296012.html"/>
    <url>/post/2c296012.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、算法、电影、美学、写作、哲学、文档、绘画、前端、 --><h3 id="python基本类型分类"><a class="markdownIt-Anchor" href="#python基本类型分类"></a> Python基本类型分类</h3><p>可变类型：List、Dict、Set。在保持地址固定的情况下可改变取值</p><p>不可变类型：Number、String、Tuple。改变值的情况下必须新建一个对象。</p><p>结论：Python存储的数据类型中，指挥存储基本类型的数据，如不可变类型。如果需要重新存储已存在的对象，则使用引用的方式，指向原来的值。</p><h3 id="python中的集中复制方式"><a class="markdownIt-Anchor" href="#python中的集中复制方式"></a> Python中的集中复制方式</h3><ul><li><p>赋值：对象引用</p></li><li><p>copy：浅拷贝，拷贝父对象，不拷贝对象内部的子对象</p></li><li><p>deepcopy：深拷贝，copy模块的deepcopy函数，完全拷贝父对象和子对象</p></li></ul><h3 id="赋值"><a class="markdownIt-Anchor" href="#赋值"></a> 赋值</h3><p>当给一个变量赋值时，其实就是将对象的引用复制了一份给 a 和 b ，可以看到数字 5 原本的地址就是<code>140716710627120</code>，不管赋给哪个变量，地址都是同一个，也就是指向同一个对象。</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">a=<span class="hljs-number">5</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">b=a</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">id</span>(a) </span><br>140716710627120<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">id</span>(b) </span><br>140716710627120<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">id</span>(<span class="hljs-number">5</span>) </span><br>140716710627120<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span><br></code></pre></td></tr></table></figure><h3 id="浅拷贝"><a class="markdownIt-Anchor" href="#浅拷贝"></a> 浅拷贝</h3><p>可以看到这里的 cd 和之前的 ad 地址不同，因为开启了新的内存空间。就算去修改 cd 的值，不会影响 ad 。但仅限于 cd 和 ad 两个对象，其各自的子对象还是指向同一个对象。</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">ad = &#123;<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;qiwsir&quot;</span>, <span class="hljs-string">&quot;lang&quot;</span>:<span class="hljs-string">&quot;python&quot;</span>&#125;</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">cd = ad.copy()</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">cd</span><br>&#123;&#x27;name&#x27;: &#x27;qiwsir&#x27;, &#x27;lang&#x27;: &#x27;python&#x27;&#125;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">id</span>(ad) </span><br>2191309359104<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">id</span>(cd) </span><br>2191309359168<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">cd[<span class="hljs-string">&#x27;name&#x27;</span>]=<span class="hljs-string">&#x27;baidu&#x27;</span> </span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">cd</span><br>&#123;&#x27;name&#x27;: &#x27;baidu&#x27;, &#x27;lang&#x27;: &#x27;python&#x27;&#125;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">ad</span><br>&#123;&#x27;name&#x27;: &#x27;qiwsir&#x27;, &#x27;lang&#x27;: &#x27;python&#x27;&#125;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">id</span>(ad[<span class="hljs-string">&#x27;name&#x27;</span>])  <span class="hljs-comment"># 由于str是不可变对象，指向同一个字符串的地址是相同的</span></span><br>2191309705072<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">id</span>(cd[<span class="hljs-string">&#x27;name&#x27;</span>]) </span><br>2191309705072<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span><br></code></pre></td></tr></table></figure><p>然而，如果需要完全赋值一份真正的“副本”，浅拷贝是不能完成任务的。</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">x = &#123;<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;qiwsir&quot;</span>, <span class="hljs-string">&quot;lang&quot;</span>:[<span class="hljs-string">&quot;python&quot;</span>, <span class="hljs-string">&quot;java&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>]&#125;</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">y = x.copy()</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">id</span>(x) </span><br>2191309704384<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">id</span>(y) </span><br>2191309416128<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span><br></code></pre></td></tr></table></figure><p>在 x 这个字典中，有 2 个键值对。一个是字符串<code>name</code>，一个是列表<code>lang</code>。通过copy()得到了两个不同地址的对象。</p><p>将 y 中列表其中一个值删除。你会发现连 x 中列表的值也发生了改变。</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs stylus">&gt;&gt;&gt; y<span class="hljs-selector-attr">[<span class="hljs-string">&#x27;lang&#x27;</span>]</span><span class="hljs-selector-class">.remove</span>(<span class="hljs-string">&#x27;c&#x27;</span>) <br>&gt;&gt;&gt; y<br>&#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;qiwsir&#x27;</span>, <span class="hljs-string">&#x27;lang&#x27;</span>: <span class="hljs-selector-attr">[<span class="hljs-string">&#x27;python&#x27;</span>, <span class="hljs-string">&#x27;java&#x27;</span>]</span>&#125;<br>&gt;&gt;&gt; x<br>&#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;qiwsir&#x27;</span>, <span class="hljs-string">&#x27;lang&#x27;</span>: <span class="hljs-selector-attr">[<span class="hljs-string">&#x27;python&#x27;</span>, <span class="hljs-string">&#x27;java&#x27;</span>]</span>&#125;<br>&gt;&gt;&gt;<br></code></pre></td></tr></table></figure><p>如果一个变量的值修改了，另一个变量也跟着改变，那么它们很可能是同一个地址，因此用id()看一下，果然是。</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">id</span>(x[<span class="hljs-string">&#x27;lang&#x27;</span>]) </span><br>2191309704128<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">id</span>(y[<span class="hljs-string">&#x27;lang&#x27;</span>]) </span><br>2191309704128<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span><br></code></pre></td></tr></table></figure><p>如果修改各自字典中的字符串，那么二者互不影响</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs prolog">&gt;&gt;&gt; x[<span class="hljs-string">&#x27;name&#x27;</span>]=<span class="hljs-string">&#x27;baidu&#x27;</span> <br>&gt;&gt;&gt; x<br>&#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;baidu&#x27;</span>, <span class="hljs-string">&#x27;lang&#x27;</span>: [<span class="hljs-string">&#x27;python&#x27;</span>, <span class="hljs-string">&#x27;java&#x27;</span>]&#125;<br>&gt;&gt;&gt; y<br>&#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;qiwsir&#x27;</span>, <span class="hljs-string">&#x27;lang&#x27;</span>: [<span class="hljs-string">&#x27;python&#x27;</span>, <span class="hljs-string">&#x27;java&#x27;</span>]&#125;<br>&gt;&gt;&gt;<br></code></pre></td></tr></table></figure><h3 id="深拷贝"><a class="markdownIt-Anchor" href="#深拷贝"></a> 深拷贝</h3><p>使用copy模块下的 deepcopy() 函数来实现深拷贝。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> copy<br><span class="hljs-meta">&gt;&gt;&gt; </span>z = copy.deepcopy(x) <br><span class="hljs-meta">&gt;&gt;&gt; </span>z<br>&#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;baidu&#x27;</span>, <span class="hljs-string">&#x27;lang&#x27;</span>: [<span class="hljs-string">&#x27;python&#x27;</span>, <span class="hljs-string">&#x27;java&#x27;</span>]&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span>x<br>&#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;baidu&#x27;</span>, <span class="hljs-string">&#x27;lang&#x27;</span>: [<span class="hljs-string">&#x27;python&#x27;</span>, <span class="hljs-string">&#x27;java&#x27;</span>]&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span>z[<span class="hljs-string">&#x27;lang&#x27;</span>].append(<span class="hljs-string">&#x27;javascript&#x27;</span>) <br><span class="hljs-meta">&gt;&gt;&gt; </span>z<br>&#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;baidu&#x27;</span>, <span class="hljs-string">&#x27;lang&#x27;</span>: [<span class="hljs-string">&#x27;python&#x27;</span>, <span class="hljs-string">&#x27;java&#x27;</span>, <span class="hljs-string">&#x27;javascript&#x27;</span>]&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span>x<br>&#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;baidu&#x27;</span>, <span class="hljs-string">&#x27;lang&#x27;</span>: [<span class="hljs-string">&#x27;python&#x27;</span>, <span class="hljs-string">&#x27;java&#x27;</span>]&#125;<br>&gt;&gt;&gt;<br></code></pre></td></tr></table></figure><p>Python官方文档有对此说明：<a href="https://docs.python.org/3/library/copy.html">https://docs.python.org/3/library/copy.html</a></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220909154519977.png" alt></p><p>这里说到，浅拷贝和深拷贝的区别仅与符合对象有关：</p><ul><li>浅拷贝在复制复合对象时，在尽可能的范围内寻找被复制对象的对象的引用插入其中</li><li>深拷贝在复制复合对象时，递归地将被复制对象的副本插入其中。</li></ul>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>数据结构</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>外来物种的善与恶</title>
    <link href="/post/e53d949f.html"/>
    <url>/post/e53d949f.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、算法、电影、美学、写作、哲学、文档、绘画、前端、杂谈 --><p>早上看深圳卫健委公众号，里面有一张配图，写了一些鸡汤文字，如下图：</p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220908095726605.png"><p>其实乍一看没有什么问题，直到我翻到评论区才看到一些神仙言论，并且还有4000+的点赞。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220908095936838.png" alt="img"></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220908100042502.png" alt="img"></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220909091300411.png" alt></p><p>看，他们连蜗牛和螺都分不清，就大喊“xxx是非法入侵，有毒千万不能摸”。众所周知，蜗牛与螺都是软体动物，二者同属腹足纲，外观看上去也有点像。我暂且认为是不小心看错了。</p><p>然而深小卫本意是配一张蜗牛(或者螺，以下统称蜗牛了)+草丛+美文的图，也许是想起到激励、鼓舞向上的作用，完全是正能量的一件事。而评论区“善意地提醒”，真的没有必要。人家把这张图片拿出来配图，不是让你在野外看到了去摸、去玩它，只是单纯觉得图文比较匹配。在这个疫情肆虐的年代，每个人都非常艰难地在生存。但尽管如此，也仍然要继续前行。虽然蜗牛爬得很慢，但只要不放弃，一步一步地往上爬，最后总会有收获。</p><p>20多年前，周董尚未出道，整天帮别人写歌，因此创作了一首《蜗牛》用来勉励自己。后来这首歌甚至被收录到国内教科书中。我想，深小卫也只是想表达这么一个观点吧。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs">该不该搁下重重的壳<br>寻找到底哪里有蓝天<br>随着轻轻的风轻轻的飘<br>历经的伤都不感觉疼<br>我要一步一步往上爬<br>等待阳光静静看着它的脸<br>小小的天 有大大的梦想<br>重重的壳裹着轻轻的仰望<br>……<br></code></pre></td></tr></table></figure><h3 id="关于外来物种"><a class="markdownIt-Anchor" href="#关于外来物种"></a> 关于外来物种</h3><p>还有一个点就是，现在很多人对”外来物种“这个词有很大的抵触心理。尤其是当某个外来物种有一些奇怪的性质，例如有毒、会伤人、无法商业化处理时，就犹如老鼠过街人人喊打。甚至不惜花上一两个月时间，将某湖水抽干了去抓，简直是现代版的”叫魂“。</p><p>没错就是上次的鳄雀鳝事件。当我在朋友圈发表一些自己观点的时候，果不其然收获了几个老同事的阴阳怪气。另外奇怪的是，我一个经常看书的朋友也对此事件表示认同。我原以为这样爱看书、有思想的人是不会这样随大流的，没过多久我便将该动态删除了。</p><p>可能有人会说，官方只是想借这个事件引起大众对外来入侵物种的重视，但事情往往不会朝着人们想的方向发展，官方作妖直播抽水干鳄雀鳝，下面老百姓有样学样，开始大肆宣传并妖魔化，最后发展鳄雀鳝必须死，抓到了就要剥其肉，抽其筋，挫骨扬灰。</p><p>不想在这里科普鳄雀鳝或者蜗牛的好与坏，这些科普早就有人做过<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="鳄雀鳝科普：https://www.bilibili.com/video/BV14a411G7hG">[1]</span></a></sup>。随着互联网的逐渐普及，网民群体逐渐扩大，一个真相慢慢浮出了水面，那就是：<strong>国内很大一部分人的知识储备不够，没有自主思考的能力</strong>。你跟他们谈科学、谈实际，他们跟你谈立场、谈站队、谈阴谋，谈<a href="https://www.baike.com/wikiid/7037727633761654020?prd=mobile&amp;view_id=4w28pc7jars000">50w</a>。他们没有鉴别事情的真伪，也没有探索真相的勇气和能力。用自己<br>浅薄甚至错误的中学知识试图理解这个世界，并且犟得跟头驴一样。但终究，真理会给她们一个响亮的大嘴巴子。</p><h3 id="作者观点"><a class="markdownIt-Anchor" href="#作者观点"></a> 作者观点</h3><p>不管是蜗牛还是鳄雀鳝，都是自然环境中的成员。如果有可能对本地环境或者人造成伤害的，我们都应按照法律科学处理。这种几万、几十万人围观捞鱼的场景，我仿佛看到过去那十年，真是可怕的年代，我不愿再看到。</p><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>鳄雀鳝科普：<a href="https://www.bilibili.com/video/BV14a411G7hG">https://www.bilibili.com/video/BV14a411G7hG</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>杂谈</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>index.ejs与index.html</title>
    <link href="/post/2c97014e.html"/>
    <url>/post/2c97014e.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、算法、电影、美学、写作、哲学、文档、绘画、前端、 --><p>EJS是一个高效的嵌入式JavaScript模板引擎。</p><h3 id="html是什么"><a class="markdownIt-Anchor" href="#html是什么"></a> HTML是什么？</h3><p>HTML(超文本标记语言)用于设计网页的结构及其内容。从技术上讲，HTML 实际上不是 C++、JAVA 或 python 等编程语言。它是一种标记语言，它最终向浏览器提供声明性指令。加载网页时，浏览器首先读取 HTML 并从中构造 DOM(文档对象模型)树。 HTML 由一系列元素组成。</p><h3 id="ejs是什么"><a class="markdownIt-Anchor" href="#ejs是什么"></a> EJS是什么？</h3><p>EJS 仅代表嵌入式 JavaScript。它是一种简单的模板语言或引擎。 EJS 有自己定义的语法和标签。它提供了一种更简单的动态生成 HTML 的方法。</p><h3 id="为什么需要使用模板引擎"><a class="markdownIt-Anchor" href="#为什么需要使用模板引擎"></a> 为什么需要使用模板引擎？</h3><p>如果服务器以静态HTML+JS渲染的方式将页面发送至客户端，那么加载、渲染的时间会让用户体验大打折扣。模板引擎将HTML文档与业务数据分离，通过特定语法动态渲染出HTML，再将渲染后的页面相应给客户端，浏览器加载完立即展示，减少在客户端渲染的时间。</p><h3 id="为什么用ejs"><a class="markdownIt-Anchor" href="#为什么用ejs"></a> 为什么用EJS？</h3><p>EJS可以在不破坏HTML文档结构的情况下直接在标签内书写JS代码，可以保持明确的、维护性良好的HTML代码结构。在用法上更简单，直接像写HTML代码一样去写就好了，只是文件的后缀不再是.html，而是.ejs。这样的.ejs文件就是模板文件了。将模板字符串和数据作为参数传给EJS文件，HTML就出来了。</p><p>吐槽：<a href="https://ejs.bootcss.com/">EJS官方文档</a>写的跟shit一样，对小白很不友好，有基础的除外。</p><h3 id="参考一下原生js渲染的写法古早"><a class="markdownIt-Anchor" href="#参考一下原生js渲染的写法古早"></a> 参考一下原生JS渲染的写法（古早）</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;div id=<span class="hljs-string">&quot;scan&quot;</span>&gt;&lt;/div&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//原生JS渲染HTML字符串</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">var</span> names = [<span class="hljs-string">&#x27;炭之郎&#x27;</span>, <span class="hljs-string">&#x27;祢豆子&#x27;</span>, <span class="hljs-string">&#x27;义勇&#x27;</span>, <span class="hljs-string">&#x27;无惨&#x27;</span>]</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">var</span> html = <span class="hljs-string">&quot;&lt;h1&gt;Names&lt;/h1&gt;&quot;</span></span></span><br><span class="language-javascript"><span class="language-xml">    html += <span class="hljs-string">&quot;&lt;ul&gt;&quot;</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; names.<span class="hljs-property">length</span>; i++) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        html += <span class="hljs-string">&quot;&lt;li&gt;&quot;</span> + names[i] + <span class="hljs-string">&quot;&lt;/li&gt;&quot;</span></span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml">    html += <span class="hljs-string">&quot;&lt;/ul&gt;&quot;</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;scan&quot;</span>).<span class="hljs-property">innerHTML</span> = html</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>效果</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220907115044139.png" alt></p><p>以上代码确实实现了功能，但JS和HTML交杂在一起，看起来不太美观，如果代码长一点更加难看。</p><h3 id="在web项目中使用ejs"><a class="markdownIt-Anchor" href="#在web项目中使用ejs"></a> 在web项目中使用EJS</h3><p>names.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;express&quot;</span>);<br><span class="hljs-keyword">var</span> app = <span class="hljs-title function_">express</span>();<br><span class="hljs-comment">//指定模板</span><br>app.<span class="hljs-title function_">set</span>(<span class="hljs-string">&quot;virew engine&quot;</span>, <span class="hljs-string">&quot;ejs&quot;</span>);<br><span class="hljs-keyword">const</span> names = [<span class="hljs-string">&#x27;炭之郎&#x27;</span>, <span class="hljs-string">&#x27;祢豆子&#x27;</span>, <span class="hljs-string">&#x27;义勇&#x27;</span>, <span class="hljs-string">&#x27;无惨&#x27;</span>]<br><br>app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/names&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>    res.<span class="hljs-title function_">render</span>(<span class="hljs-string">&#x27;names.ejs&#x27;</span>, &#123; names, names &#125;);<br>&#125;)<br><br>app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">req, res</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Connected on port:3000&quot;</span>)<br>&#125;)<br></code></pre></td></tr></table></figure><p>view/names.ejs</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>names<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Names<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>            &lt;% names.forEach(item=&gt;&#123; %&gt;<br>                <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><br>                    &lt;%= item %&gt;<br>                <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>                &lt;% &#125;); %&gt;<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>本地导入express和ejs包，执行<code>node names.js </code>后访问<code>http://127.0.0.1:3000/names</code>，效果如下。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220907115421339.png" alt></p><p>效果是一样的，但是把JS和HTML代码分开了，只在需要的地方传入数据，可能就是解耦吧</p><p>看一下成品——Hexo中的post.ejs页面，可以看到直接就是HTMl代码加上一些逻辑控制语句。比之前在JS写HTML好一点，这个可能就是在HTML里写JS了……从这个角度来看，好像没差。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220907121143665.png" alt></p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>前端</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>B站权限受限视频下载</title>
    <link href="/post/44afc870.html"/>
    <url>/post/44afc870.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、算法、电影、美学、写作、哲学、文档、绘画 --><p>众所众知阿B的视频一般是不允许离线下载的，尤其是大会员资源。就算客户端有下载功能，也只会将其缓存成.m4s格式，没有办法直接用其他视频播放器播放。缓存后的视频和音频还是分离的，想要转成通用格式很难，也很复杂。</p><p>早年间有个叫“三叔”的出过一款在线转码下载器，只需在B站视频的地址域名前加一个&quot;i&quot;就可以跳转至三叔的下载界面，但后期基本用不了了，因为有版权的视频它统统下不来。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220905115156742.png" alt></p><p>But！这点xiu困难不倒广大劳动人民的智慧。早在n年前you-get就已经开发出来了，惭愧的是我现在才用上，以下是使用说明。</p><ul><li><p>github地址：<a href="https://github.com/soimort/you-get">https://github.com/soimort/you-get</a></p></li><li><p>pip地址：<a href="https://pypi.org/project/you-get/">https://pypi.org/project/you-get/</a></p></li><li><p>Python环境：3.7.4+</p></li></ul><p>安装完Python后直接pip安装you-get即可然后找一个空目录，在空目录下执行下载命令</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">D:</span>\E-disk\bilidown_Bilibili&gt;you-get <span class="hljs-string">&quot;https://www.bilibili.com/video/BV1g54y1C7rD&quot;</span><br><span class="hljs-symbol">site:</span>                Bilibili<br><span class="hljs-symbol">title:</span>               每天一遍，防止早恋<br><span class="hljs-symbol">stream:</span><br>    - format:        flv<br><span class="hljs-symbol">      container:</span>     flv<br><span class="hljs-symbol">      quality:</span>       高清 <span class="hljs-number">1080</span>P<br><span class="hljs-symbol">      size:</span>          <span class="hljs-number">72.2</span> MiB (<span class="hljs-number">75680949</span> bytes)<br>    <span class="hljs-meta"># download-with: you-get --format=flv [URL]</span><br><br>Downloading 每天一遍，防止早恋.flv ...<br> <span class="hljs-number">100</span>% ( <span class="hljs-number">72.2</span>/ <span class="hljs-number">72.2</span>MB) ├████████████████████████████████████████┤[<span class="hljs-number">1</span>/<span class="hljs-number">1</span>]  <span class="hljs-number">801</span> kB/s<br><br>Downloading 每天一遍，防止早恋.cmt.xml ...<br><span class="hljs-symbol"></span><br><span class="hljs-symbol"></span><br><span class="hljs-symbol">D:</span>\E-disk\bilidown_Bilibili&gt;<br></code></pre></td></tr></table></figure><p>不仅版权保护的视频可以下载，连大会员新番也可以。如下JOJO石之海的part2是9月1日上架的，现在是9月5日，说它是热乎的也正常吧？</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220905115413183.png" alt></p><p>下载后的视频长这样。PotPlayer（地球最强播放器）可以直接播放。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220905115544048.png" alt></p><p>注意，缓存后的视频没有站点的资源好，以下是参数对比。但其实完全可以看，免费的还要啥自行车呢？</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220905115936115.png" alt></p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo-Fluid添加心知天气插件</title>
    <link href="/post/eb18c99.html"/>
    <url>/post/eb18c99.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、算法、电影、美学、写作、哲学、文档、绘画 --><p>心知天气的UI还是不错的，作为插件的话免费版功能也是够用的。注册一下<a href="https://www.seniverse.com/api">心知天气</a>然后进入控制台，使用免费版套餐。免费用户可以查看国内370个主要城市天气，包括：</p><ul><li>天气实况、气象文字、代码和气温</li><li>未来3天天气预报，晚间天气、最高&amp;最低温温度、风向风速等</li><li>6项基本生活指数，如穿衣、紫外线强度、运动指数等</li></ul><p>需要注意的是，目前的心知天气分为V3和V4两个版本，白嫖用户使用的是老的V3版本。并且不知道什么原因，官网的插件功能并未显示在控制台，我在<a href="https://docs.seniverse.com/widget/start/get.html">官网语雀文档</a>中找到了相关的描述</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220904093749942.png" alt></p><p>点击【新版插件】，进入<a href="https://www.seniverse.com/widgetv3">生成插件界面</a>，选择你想要的悬浮窗效果</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220904093943684.png" alt></p><p>点击生成代码，将JS代码复制。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220904094058305.png" alt></p><p>在<code>themes/fluid/layout/_partials</code>目录下新建<code>weather.ejs</code>文件，将上面的JS代码复制进去，为了方便控制，我们在前面添加一个逻辑控制，中间的代码可自定义替换。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;% <span class="hljs-keyword">if</span> (theme.<span class="hljs-property">weather</span> &amp;&amp; theme.<span class="hljs-property">weather</span>.<span class="hljs-property">enable</span>)&#123; %&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;tp-weather-widget&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">        (<span class="hljs-keyword">function</span> (<span class="hljs-params">a, h, g, f, e, d, c, b</span>) &#123; b = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123; d = h.<span class="hljs-title function_">createElement</span>(g); c = h.<span class="hljs-title function_">getElementsByTagName</span>(g)[<span class="hljs-number">0</span>]; d.<span class="hljs-property">src</span> = e; d.<span class="hljs-property">charset</span> = <span class="hljs-string">&quot;utf-8&quot;</span>; d.<span class="hljs-property">async</span> = <span class="hljs-number">1</span>; c.<span class="hljs-property">parentNode</span>.<span class="hljs-title function_">insertBefore</span>(d, c) &#125;; a[<span class="hljs-string">&quot;SeniverseWeatherWidgetObject&quot;</span>] = f; a[f] || (a[f] = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123; (a[f].<span class="hljs-property">q</span> = a[f].<span class="hljs-property">q</span> || []).<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">arguments</span>) &#125;); a[f].<span class="hljs-property">l</span> = +<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(); <span class="hljs-keyword">if</span> (a.<span class="hljs-property">attachEvent</span>) &#123; a.<span class="hljs-title function_">attachEvent</span>(<span class="hljs-string">&quot;onload&quot;</span>, b) &#125; <span class="hljs-keyword">else</span> &#123; a.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;load&quot;</span>, b, <span class="hljs-literal">false</span>) &#125; &#125;(<span class="hljs-variable language_">window</span>, <span class="hljs-variable language_">document</span>, <span class="hljs-string">&quot;script&quot;</span>, <span class="hljs-string">&quot;SeniverseWeatherWidget&quot;</span>, <span class="hljs-string">&quot;//cdn.sencdn.com/widget2/static/js/bundle.js?t=&quot;</span> + <span class="hljs-built_in">parseInt</span>((<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">getTime</span>() / <span class="hljs-number">100000000</span>).<span class="hljs-title function_">toString</span>(), <span class="hljs-number">10</span>)));</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-variable language_">window</span>.<span class="hljs-title class_">SeniverseWeatherWidget</span>(<span class="hljs-string">&#x27;show&#x27;</span>, &#123;</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-attr">flavor</span>: <span class="hljs-string">&quot;slim&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-attr">location</span>: <span class="hljs-string">&quot;WKJ1F428HH2F&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-attr">geolocation</span>: <span class="hljs-literal">true</span>,</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-attr">language</span>: <span class="hljs-string">&quot;zh-Hans&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-attr">unit</span>: <span class="hljs-string">&quot;c&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-attr">theme</span>: <span class="hljs-string">&quot;auto&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-attr">token</span>: <span class="hljs-string">&quot;5089001e-aa9f-41c5-862d-e416aabf81f7&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-attr">hover</span>: <span class="hljs-string">&quot;enabled&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-attr">container</span>: <span class="hljs-string">&quot;tp-weather-widget&quot;</span></span></span><br><span class="language-javascript"><span class="language-xml">        &#125;)</span></span><br><span class="language-javascript"><span class="language-xml">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br>&lt;% &#125; %&gt;<br></code></pre></td></tr></table></figure><p>然后进入<code>themes/fluid/layout/_partials/header</code>目录，编辑<code>navigation.ejs</code>，在此处引入新添加的weather.ejs。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220904095714573.png" alt></p><p>最后在<code>themes/fluid/_config.yml</code>文件，添加显示天气的开关。注意添加的位置不能再其他配置之下，应另起一行，注意缩进。</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs dts"> <span class="hljs-meta">#显示天气</span><br><span class="hljs-symbol">weather:</span><br><span class="hljs-symbol">        enable:</span> ture<br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220904100354308.png" alt></p><p>OK，显示成功！</p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Les Nymphéas(睡莲)——Claude Monet.1899</title>
    <link href="/post/c5d7a32d.html"/>
    <url>/post/c5d7a32d.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、算法、电影、美学、写作、哲学、文档 --><p>莫奈认为他“最伟大的艺术作品”实际上并不是一幅画，而是他在吉维尼家中创造的美丽花园。晚年，这成为他唯一的题材。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/%E7%9D%A1%E8%8E%B2%E6%B1%A0-%E8%8E%AB%E5%A5%88.jpg" alt></p><p>这座桥是莫奈自己设计的，展示了日本艺术对他作品的影响。这是莫奈在 1899 年夏天开始在不同光照条件下创作的 18 幅画布之一，同年他开始画滑铁卢桥和查令十字桥。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220830170930775.png" alt></p><p>午后的太阳在桥上投射了一束光，以淡绿色照亮右侧，与普遍的深蓝绿色形成鲜明对比。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220830171017093.png" alt></p><p>桥的粗线条和芦苇的较长笔触与睡莲的小涂色形成鲜明对比。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220830171052730.png" alt></p><p>莫奈的睡莲是粉红色和黄色以及白色的混合品种</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220830171115241.png" alt></p><p>睡莲的底面是深红色的，与莫奈在这幅画上签名时使用的颜色相同。红色与主导绘画的绿色位于色轮的另一侧；这种对比符合莫奈对互补色的兴趣。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220830171138834.png" alt></p><p>一大片睡莲中，还可以看到柳树倒影在池塘的水面上。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220830171229926.png" alt></p><p>这幅画目前收藏于<a href="https://www.nationalgallery.org.uk/">伦敦国家美术馆网站</a>中，成立于1824年，收藏了13世纪中叶至1900年的 2300 多幅画作。著名藏品有</p><ul><li>扬·范·艾克的《阿尔诺非尼夫妇》</li><li>梵高的《向日葵 — 花瓶里的十五朵向日葵》</li><li>达芬奇的《岩间圣母》和《圣母子与圣安妮、施洗者圣约翰》</li><li>桑德罗·波提切利的《维纳斯与战神》</li><li>……</li></ul><p>Google Arts &amp; Culture与其合作并以超高像素拍摄馆内名画，供用户全球用户在线观看，这是该画作在网站的<a href="https://artsandculture.google.com/story/SgUR72lKcegxJQ">主页</a>。</p>]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>美学</tag>
      
      <tag>绘画</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Self-portrait with Monkey(与猴子的自画像)——Frida Kahlo.1945</title>
    <link href="/post/2f32848a.html"/>
    <url>/post/2f32848a.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、算法、电影、美学、写作、哲学、文档 --><p>Frida Kahlo 于 1945 年创作了这幅自画像，此时她著名的艺术和技术表现力已得到充分发展。那时，她的职业生涯所带来的满足感被一种特别困难的个人处境所玷污。她与迭戈·里维拉的关系非常复杂，她的身体健康状况明显恶化。疼痛、痛苦和极度疲劳是难以忍受的；以至于 1946 年 6 月，弗里达在纽约接受了脊柱手术。不幸的是，手术没有成功，标志着所谓的“结束的开始”。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20220829095455.png" alt></p><p><strong>作为面具的自画像</strong>。弗里达的脸本身并没有公开地表现出她作品中潜藏的痛苦和痛苦。她僵硬的表情掩盖了所有的感觉。在<em>The Mask</em> (1945) 中，Frida 选择将痛苦描绘在她的脸上，但她巧妙地使用了一个悲伤的面具，它哭泣着苦涩、哽咽的泪水</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220829100208912.png" alt></p><p><strong>枯死的树桩</strong>。有一个非常黑暗的背景，上面覆盖着树叶，上面画着一棵干枯的大树。它实际上是一个树桩，当树木被砍伐时，树干的一部分仍然附着在树根上。光秃秃的，剩下的几根树枝都折断了，它暗指弗里达的脊椎骨折，最重要的是，暗指死亡。在 1945 年的另一幅画布上，<em>摩西或太阳核</em>，干枯的树干也有特色，但有嫩芽，仿佛生命从老年中重新萌芽。在<em>与猴子的自画像中</em>，弗里达是那些树之一，与上面提到的不同，它仍然没有新的树枝来提供新的生命。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220829100250915.png" alt></p><p><strong>Tehuana 连衣裙</strong>。按照习俗，她选择的服装是刺绣的 Tehuana huipil，这是土著妇女的传统服饰。这个例子是由黑色天鹅绒制成的。 Tehuana 连衣裙是 Diego 的最爱，它本身就将穿着者传达为一个坚强的女人，与任何男人都具有同等或优越的社会地位。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220829100332041.png" alt></p><p><strong>发型</strong>。弗里达的头发像面纱一样松散地落在她身后，而其余的头发则聚集在她的头顶上，用一条绿色的丝带编成辫子</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220829100754157.png" alt></p><p><strong>绿丝带</strong>。沉闷的绿色色调反映了她的树叶和悲伤的颜色：弗里达正在哀悼。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220829101001258.png" alt></p><p><strong>一字鸟</strong>。在她紧张的五官之上，过度克制，是弗里达最显着的特征之一：她的单眉。它是如此突出，以至于它像一只鸟：她自己就像一只张开翅膀的鸟，终于自由了。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220829101032935.png" alt></p><p><strong>猴子</strong>。弗里达有一只蜘蛛猴作为她的伙伴。 1937年，她自豪地展示了她的<em>浮朗</em>场，并继续与猴子一起出现在8张自画像中。这些生物陪伴着她，将她包裹起来，将长长的手臂交叉在她的胸前，与她在身体上交叉的披肩或墨西哥革命中 Adelitas 佩戴的弹带相映成趣。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220829102734144.png" alt></p><p><strong>笔触和颜色</strong>。每一次精致的笔触，Frida 都会一个一个地记录下她自己和周围环境的每一个细节。她的调色板以悲伤、黑暗、柔和和朴实的色调为主，而她裙子上的色彩爆发则描绘了痛苦：装饰品的鲜红，以及与她的嘴唇颜色相同的丝带的紫色</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220829103022700.png" alt></p><p><strong>签名</strong>。唯一使用的充满活力的笔触是她的签名。这不是偶然的细节。弗里达没有任何机会。在整幅画中，她表现出自己的黑暗、悲伤、僵硬和坚硬，而她最后的笔触则是火红色，唤起生命，但也痛苦。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220829103055473.png" alt></p><p><strong>弗里达倍增</strong>。随着树桩、猴子、裙子、头饰，甚至脸，像魅力一样管理，弗里达繁殖，蔓延到画的每个角落，扩大。所有这一切共同创造了她最具破坏性、悲伤和痛苦的形象之一。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220829103206549.png" alt></p><p>这幅画由收藏家罗伯特·布雷迪 (Robert Brady) 购得，他是一位真正的面部表情和形式各异的爱好者。布雷迪在他位于库埃纳瓦卡的 Casa de la Torre 的黄色房间（通往约瑟芬贝克专用卧室的房间）展示了它。它的装饰包括女性或女性绘画、非洲部落作品和拟人化的木制家具，使其成为赋予弗里达肖像新生命的理想场所。</p>]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>美学</tag>
      
      <tag>绘画</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>中文技术文档的写作规范</title>
    <link href="/post/270b3f43.html"/>
    <url>/post/270b3f43.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、算法、电影、美学、 --><h2 id="标题"><a class="markdownIt-Anchor" href="#标题"></a> 标题</h2><h3 id="层级"><a class="markdownIt-Anchor" href="#层级"></a> 层级</h3><p>标题分为四级。</p><ul><li>一级标题：文章的标题</li><li>二级标题：文章主要部分的大标题</li><li>三级标题：二级标题下面一级的小标题</li><li>四级标题：三级标题下面某一方面的小标题</li></ul><p>下面是示例。</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs clean"># 一级标题<br><br>## 二级标题<br><br>### 三级标题<br><br>#### 四级标题<br></code></pre></td></tr></table></figure><h3 id="原则"><a class="markdownIt-Anchor" href="#原则"></a> 原则</h3><p>（1）一级标题下，不能直接出现三级标题。</p><p>示例：下面的文章结构，缺少二级标题。</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs clean"># 一级标题<br><br>### 三级标题<br></code></pre></td></tr></table></figure><p>（2）标题要避免孤立编号（即同级标题只有一个）。</p><p>示例：下面的文章结构，<code>二级标题 A</code>只包含一个三级标题，完全可以省略<code>三级标题 A</code>。</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs clean">## 二级标题 A<br><br>### 三级标题 A<br><br>## 二级标题 B<br></code></pre></td></tr></table></figure><p>（3）下级标题不重复上一级标题的名字。</p><p>示例：下面的文章结构，二级标题与下属的三级标题同名，建议避免。</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs clean">## 概述<br><br>### 概述<br></code></pre></td></tr></table></figure><p>（4）谨慎使用四级标题，尽量避免出现，保持层级的简单，防止出现过于复杂的章节。</p><p>如果三级标题下有并列性的内容，建议只使用项目列表（Item list）。</p><p>示例：下面的结构二要好于结构一。结构一适用的场景，主要是较长篇幅的内容。</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs clean">结构一<br><br>### 三级标题<br><br>#### 四级标题 A<br><br>#### 四级标题 B<br><br>#### 四级标题 C<br><br>结构二<br><br>### 三级标题<br><br>**（<span class="hljs-number">1</span>）A**<br><br>**（<span class="hljs-number">2</span>）B**<br><br>**（<span class="hljs-number">3</span>）C**<br></code></pre></td></tr></table></figure><h2 id="文本"><a class="markdownIt-Anchor" href="#文本"></a> 文本</h2><h3 id="字间距"><a class="markdownIt-Anchor" href="#字间距"></a> 字间距</h3><p>（1）全角中文字符与半角英文字符之间，应有一个半角空格。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs">错误：本文介绍如何快速启动Windows系统。<br><br>正确：本文介绍如何快速启动 Windows 系统。<br></code></pre></td></tr></table></figure><p>（2）全角中文字符与半角阿拉伯数字之间，有没有半角空格都可，但必须保证风格统一，不能两种风格混杂。</p><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs tap">正确：2011年5月15日，我订购了5台笔记本电脑与10台平板电脑。<br><br>正确：2011 年<span class="hljs-number"> 5 </span>月<span class="hljs-number"> 15 </span>日，我订购了<span class="hljs-number"> 5 </span>台笔记本电脑与<span class="hljs-number"> 10 </span>台平板电脑。<br></code></pre></td></tr></table></figure><p>半角的百分号，视同阿拉伯数字。</p><figure class="highlight erlang-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs erlang-repl">正确：今年我国经济增长率是<span class="hljs-number">6.5</span><span class="hljs-comment">%。</span><br><br>正确：今年我国经济增长率是 <span class="hljs-number">6.5</span><span class="hljs-comment">%。</span><br></code></pre></td></tr></table></figure><p>（3）英文单位若不翻译，单位前的阿拉伯数字与单位符号之间，应留出适当的空隙。</p><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs tap">例1：一部容量为<span class="hljs-number"> 16 </span>GB 的智能手机<br><br>例2：1 h =<span class="hljs-number"> 60 </span>min = 3,600 s<br></code></pre></td></tr></table></figure><p>（4）半角英文字符和半角阿拉伯数字，与全角标点符号之间不留空格。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs">错误：他的电脑是 MacBook Air 。<br><br>正确：他的电脑是 MacBook Air。<br></code></pre></td></tr></table></figure><h3 id="句子"><a class="markdownIt-Anchor" href="#句子"></a> 句子</h3><p>（1）避免使用长句。</p><p>不包含任何标点符号的单个句子，或者以逗号分隔的句子构件，长度尽量保持在 20 个字以内；20～29 个字的句子，可以接受；30～39 个字的句子，语义必须明确，才能接受；多于 40 个字的句子，任何情况下都不能接受。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs">错误：本产品适用于从由一台服务器进行动作控制的单一节点结构到由多台服务器进行动作控制的并行处理程序结构等多种体系结构。<br><br>正确：本产品适用于多种体系结构。无论是由一台服务器（单一节点结构），还是由多台服务器（并行处理结构）进行动作控制，均可以使用本产品。<br></code></pre></td></tr></table></figure><p>逗号分割的长句，总长度不应该超过 100 字或者正文的 3 行。</p><p>（2）尽量使用简单句和并列句，避免使用复合句。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs">并列句：他昨天生病了，没有参加会议。<br><br>复合句：那个昨天生病的人没有参加会议。<br></code></pre></td></tr></table></figure><p>（3）同样一个意思，尽量使用肯定句表达，不使用否定句表达。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs">错误：请确认没有接通装置的电源。<br><br>正确：请确认装置的电源已关闭。<br></code></pre></td></tr></table></figure><p>（4）避免使用双重否定句。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs">错误：没有删除权限的用户，不能删除此文件。<br><br>正确：用户必须拥有删除权限，才能删除此文件。<br></code></pre></td></tr></table></figure><h3 id="写作风格"><a class="markdownIt-Anchor" href="#写作风格"></a> 写作风格</h3><p>（1）尽量不使用被动语态，改为使用主动语态。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs">错误：假如此软件尚未被安装，<br><br>正确：假如尚未安装这个软件，<br></code></pre></td></tr></table></figure><p>（2）不使用非正式的语言风格。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs">错误：Lady Gaga 的演唱会真是酷毙了，从没看过这么给力的表演！！！<br><br>正确：无法参加本次活动，我深感遗憾。<br></code></pre></td></tr></table></figure><p>（3）不使用冷僻、生造或者文言文的词语，而要使用现代汉语的常用表达方式。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs">错误：这是唯二的快速启动的方法。<br><br>正确：这是仅有的两种快速启动的方法。<br></code></pre></td></tr></table></figure><p>（4）用对“的”、“地”、“得”。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs">她露出了开心的笑容。<br>（形容词＋的＋名词）<br><br>她开心地笑了。<br>（副词＋地＋动词）<br><br>她笑得很开心。<br>（动词＋得＋副词）<br></code></pre></td></tr></table></figure><p>（5）使用代词时（比如“其”、“该”、“此”、“这”等词），必须明确指代的内容，保证只有一个含义。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs">错误：从管理系统可以监视中继系统和受其直接控制的分配系统。<br><br>正确：从管理系统可以监视两个系统：中继系统和受中继系统直接控制的分配系统。<br></code></pre></td></tr></table></figure><p>（6）名词前不要使用过多的形容词。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs">错误：此设备的使用必须在接受过本公司举办的正式的设备培训的技师的指导下进行。<br><br>正确：此设备必须在技师的指导下使用，且指导技师必须接受过由本公司举办的正式设备培训。<br></code></pre></td></tr></table></figure><h3 id="英文处理"><a class="markdownIt-Anchor" href="#英文处理"></a> 英文处理</h3><p>（1）英文原文如果使用了复数形式，翻译成中文时，应该将其还原为单数形式。</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli">英文：<span class="hljs-string">...information</span> stored in random access memory <span class="hljs-params">(RAMs)</span><span class="hljs-string">...</span><br><br>中文：⋯⋯存储在随机存取存储器（RAM）里的信息⋯⋯<br></code></pre></td></tr></table></figure><p>（2）外文缩写可以使用半角圆点(<code>.</code>)表示缩写。</p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs erlang">U.S.A.<br>Apple, Inc.<br></code></pre></td></tr></table></figure><p>（3）表示中文时，英文省略号（<code>...</code>）应改为中文省略号（<code>⋯⋯</code>）。</p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs erlang">英文：<span class="hljs-number">5</span> minutes later...<br><br>中文：<span class="hljs-number">5</span> 分钟过去了⋯⋯<br></code></pre></td></tr></table></figure><p>（4）英文书名或电影名改用中文表达时，双引号应改为书名号。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs stata">英文：<span class="hljs-keyword">He</span> published <span class="hljs-keyword">an</span> article entitled <span class="hljs-string">&quot;The Future of the Aviation&quot;</span>.<br><br>中文：他发表了一篇名为《航空业的未来》的文章。<br></code></pre></td></tr></table></figure><p>（5）第一次出现英文词汇时，在括号中给出中文标注。此后再次出现时，直接使用英文缩写即可。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">IOC（International Olympic Committee，国际奥林匹克委员会）。这样定义后，便可以直接使用“IOC”了。<br></code></pre></td></tr></table></figure><p>（6）专有名词中每个词第一个字母均应大写，非专有名词则不需要大写。</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs applescript">“American Association <span class="hljs-keyword">of</span> Physicists <span class="hljs-keyword">in</span> Medicine”（美国医学物理学家协会）是专有名词，需要大写。<br><br>“online <span class="hljs-keyword">transaction</span> processing”（在线事务处理）不是专有名词，不应大写。<br></code></pre></td></tr></table></figure><h2 id="段落"><a class="markdownIt-Anchor" href="#段落"></a> 段落</h2><h3 id="原则-2"><a class="markdownIt-Anchor" href="#原则-2"></a> 原则</h3><ul><li>一个段落只能有一个主题，或一个中心句子。</li><li>段落的中心句子放在段首，对全段内容进行概述。后面陈述的句子为核心句服务。</li><li>一个段落的长度不能超过七行，最佳段落长度小于等于四行。</li><li>段落的句子语气要使用陈述和肯定语气，避免使用感叹语气。</li><li>段落之间使用一个空行隔开。</li><li>段落开头不要留出空白字符。</li></ul><h3 id="引用"><a class="markdownIt-Anchor" href="#引用"></a> 引用</h3><p>引用第三方内容时，应注明出处。</p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs inform7">One <span class="hljs-keyword">man</span>’s constant <span class="hljs-keyword">is</span> another <span class="hljs-keyword">man</span>’s variable. — Alan Perlis<br></code></pre></td></tr></table></figure><p>如果是全篇转载，请在全文开头显著位置注明作者和出处，并链接至原文。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">本文转载自 WikiQuote<br></code></pre></td></tr></table></figure><p>使用外部图片时，必须在图片下方或文末标明来源。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">本文部分图片来自 Wikipedia<br></code></pre></td></tr></table></figure><h1 id="数值"><a class="markdownIt-Anchor" href="#数值"></a> 数值</h1><h3 id="半角数字"><a class="markdownIt-Anchor" href="#半角数字"></a> 半角数字</h3><p>阿拉伯数字一律使用半角形式，不得使用全角形式。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">错误：这件商品的价格是１０００元。</span><br><br><span class="hljs-string">正确：这件商品的价格是</span> <span class="hljs-number">1000</span> <span class="hljs-string">元。</span><br></code></pre></td></tr></table></figure><h3 id="千分号"><a class="markdownIt-Anchor" href="#千分号"></a> 千分号</h3><p>数值为千位以上，应添加千分号（半角逗号）。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">XXX</span> 公司的实收资本为 ￥<span class="hljs-number">1</span>,<span class="hljs-number">258</span>,<span class="hljs-number">000</span> 人民币。<br></code></pre></td></tr></table></figure><p>对于 4 位的数值，千分号是选用的，比如<code>1000</code>和<code>1,000</code>都可以接受。对于 4 位以上的数值，应添加千分号。</p><h3 id="货币"><a class="markdownIt-Anchor" href="#货币"></a> 货币</h3><p>货币应为阿拉伯数字，并在数字前写出货币符号，或在数字后写出货币中文名称。</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs gams"><span class="hljs-meta"><span class="hljs-keyword">$1</span>,000</span><br><span class="hljs-number">1</span>,<span class="hljs-number">000</span> 美元<br></code></pre></td></tr></table></figure><p>英文的货币名称，建议参考国际标准 <a href="https://en.wikipedia.org/wiki/ISO_4217">ISO 4217</a>。</p><h3 id="数值范围"><a class="markdownIt-Anchor" href="#数值范围"></a> 数值范围</h3><p>表示数值范围时，用波浪线（<code>～</code>）或一字线（<code>—</code>）连接。参见《标点符号》一节的“连接号”部分。</p><p>带有单位或百分号时，两个数字建议都要加上单位或百分号。</p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">132 </span>kg～<span class="hljs-number">234</span> kg<br><br><span class="hljs-number">67</span>%～<span class="hljs-number">89</span>%<br></code></pre></td></tr></table></figure><h3 id="变化程度的表示法"><a class="markdownIt-Anchor" href="#变化程度的表示法"></a> 变化程度的表示法</h3><p>数字的增加要使用“增加了”、“增加到”。“了”表示增量，“到”表示定量。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs">增加到过去的两倍<br>（过去为一，现在为二）<br><br>增加了两倍<br>（过去为一，现在为三）<br></code></pre></td></tr></table></figure><p>数字的减少要使用“降低了”、“降低到”。“了”表示增量，“到”表示定量。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs">降低到百分之八十<br>（定额是一百，现在是八十）<br><br>降低了百分之八十<br>（原来是一百，现在是二十）<br></code></pre></td></tr></table></figure><p>不能用“降低 N 倍”或“减少 N 倍”的表示法，要用“降低百分之几”或“减少百分之几”。因为减少（或降低）一倍表示数值原来为一百，现在等于零。</p><h2 id="原则-3"><a class="markdownIt-Anchor" href="#原则-3"></a> 原则</h2><p>（1）中文语句的标点符号，均应该采取全角符号，这样可以与全角文字保持视觉的一致。</p><p>（2）如果整句为英文，则该句使用英文/半角标点。</p><p>（3）句号、问号、叹号、逗号、顿号、分号和冒号不得出现在一行之首。</p><p>（4）点号（句号、逗号、顿号、分号、冒号）不得出现在标题的末尾，而标号（引号、括号、破折号、省略号、书名号、着重号、间隔号、叹号、问号）可以。</p><h2 id="标点符号"><a class="markdownIt-Anchor" href="#标点符号"></a> 标点符号</h2><h3 id="句号"><a class="markdownIt-Anchor" href="#句号"></a> 句号</h3><p>（1）中文语句的结尾处应该用全角句号（<code>。</code>）。</p><p>（2）句子末尾用括号加注时，句号应在括号之外。</p><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs tap">错误：关于文件的输出，请参照第 1.3 节（见第<span class="hljs-number"> 26 </span>页。）<br><br>正确：关于文件的输出，请参照第 1.3 节（见第<span class="hljs-number"> 26 </span>页）。<br></code></pre></td></tr></table></figure><h3 id="逗号"><a class="markdownIt-Anchor" href="#逗号"></a> 逗号</h3><p>（1）逗号（<code>，</code>）表示句子内部的一般性停顿。</p><p>（2）注意避免“一逗到底”，即整个段落除了结尾，全部停顿都使用逗号。</p><h3 id="顿号"><a class="markdownIt-Anchor" href="#顿号"></a> 顿号</h3><p>（1）句子内部的并列词，应该用全角顿号(<code>、</code>) 分隔，而不用逗号，即使并列词是英语也是如此。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs">错误：我最欣赏的科技公司有 Google, Facebook, 腾讯, 阿里和百度等。<br><br>正确：我最欣赏的科技公司有 Google、Facebook、腾讯、阿里和百度等。<br></code></pre></td></tr></table></figure><p>（2）英文句子中，并列词语之间使用半角逗号（<code>,</code>）分隔。</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arcade">例句：Microsoft Office <span class="hljs-built_in">includes</span> Word, Excel, PowerPoint, Outlook and other components.<br></code></pre></td></tr></table></figure><p>（3）中文句子内部的并列词，最后一个尽量使用（<code>和</code>）来连接，使句子读起来更加连贯，下面两个句子都可以，第二个更优。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs">正确：我最欣赏的科技公司有 Google、Facebook、腾讯、阿里，以及百度等。<br><br>正确：我最欣赏的科技公司有 Google、Facebook、腾讯、阿里和百度等。<br></code></pre></td></tr></table></figure><h3 id="分号"><a class="markdownIt-Anchor" href="#分号"></a> 分号</h3><p>（1）分号（<code>；</code>）表示复句内部并列分句之间的停顿。</p><h3 id="引号"><a class="markdownIt-Anchor" href="#引号"></a> 引号</h3><p>（1）引用时，应该使用全角双引号（<code>“ ”</code>），注意前后双引号不同。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">例句：许多人都认为客户服务的核心是“友好”和“专业”。<br></code></pre></td></tr></table></figure><p>（2）引号里面还要用引号时，外面一层用双引号，里面一层用单引号（<code>‘ ’</code>），注意前后单引号不同。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">例句：鲍勃解释道：“我要放音乐，可萨利说，‘不行！’。”<br></code></pre></td></tr></table></figure><h3 id="括号"><a class="markdownIt-Anchor" href="#括号"></a> 括号</h3><p>（1）补充说明时，使用全角圆括号（<code>（）</code>），括号前后不加空格。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">例句：请确认所有的连接（电缆和接插件）均安装牢固。<br></code></pre></td></tr></table></figure><p>（2）几种括号的中英文名称。</p><table><thead><tr><th></th><th>英文</th><th>中文</th></tr></thead><tbody><tr><td><code>&#123; &#125;</code></td><td>braces 或 curly brackets</td><td>大括号</td></tr><tr><td><code>[ ]</code></td><td>square brackets 或 brackets</td><td>方括号</td></tr><tr><td><code>&lt; &gt;</code></td><td>angled brackets</td><td>尖括号</td></tr><tr><td><code>( )</code></td><td>parentheses</td><td>圆括号</td></tr></tbody></table><h3 id="冒号"><a class="markdownIt-Anchor" href="#冒号"></a> 冒号</h3><p>（1）全角冒号（<code>：</code>）常用在需要解释的词语后边，引出解释和说明。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">例句：请确认以下几项内容：时间、地点、活动名称和来宾数量。<br></code></pre></td></tr></table></figure><p>（2）表示时间时，应使用半角冒号（<code>:</code>）。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">例句：早上 8:00<br></code></pre></td></tr></table></figure><h3 id="省略号"><a class="markdownIt-Anchor" href="#省略号"></a> 省略号</h3><p>（1）省略号（<code>⋯⋯</code>）表示语句未完、或者语气的不连续。</p><p>（2）省略号占两个汉字空间、包含六个省略点，不要使用<code>。。。</code>或<code>...</code>等非标准形式。</p><p>（3）省略号不应与“等”这个词一起使用。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs">错误：我们为会餐准备了香蕉、苹果、梨…等各色水果。<br><br>正确：我们为会餐准备了各色水果，有香蕉、苹果、梨⋯⋯<br><br>正确：我们为会餐准备了香蕉、苹果、梨等各色水果。<br></code></pre></td></tr></table></figure><h3 id="感叹号"><a class="markdownIt-Anchor" href="#感叹号"></a> 感叹号</h3><p>（1）应该使用平静的语气叙述，尽量避免使用感叹号（<code>！</code>）。</p><p>（2）不得多个感叹号连用，比如<code>！！</code>和<code>!!!</code>。</p><h3 id="破折号"><a class="markdownIt-Anchor" href="#破折号"></a> 破折号</h3><p>（1）破折号<code>————</code>一般用于进一步解释。</p><p>（2）破折号应占两个汉字的位置。如果破折号本身只占一个汉字的位置，那么前后应该留出一个半角空格。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs">例句：直觉————尽管它并不总是可靠的————告诉我，这事可能出了些问题。<br><br>例句：直觉 —— 尽管它并不总是可靠的 —— 告诉我，这事可能出了些问题。<br></code></pre></td></tr></table></figure><h3 id="连接号"><a class="markdownIt-Anchor" href="#连接号"></a> 连接号</h3><p>（1）连接号用于连接两个类似的词。</p><p>（2）以下场合应该使用直线连接号（<code>-</code>），占一个半角字符的位置。</p><ul><li>两个名词的复合</li><li>图表编号</li></ul><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs subunit">例句：氧化-还原反应<br><br>例句：图 1<span class="hljs-string">-1</span><br></code></pre></td></tr></table></figure><p>（3）数值范围（例如日期、时间或数字）应该使用波浪连接号（<code>～</code>）或一字号（<code>—</code>），占一个全角字符的位置。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">例句：2009 年～2011 年<br></code></pre></td></tr></table></figure><p>注意，波浪连接号前后两个值都建议加上单位。</p><p>（4）波浪连接号也可以用汉字“至”代替。</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mathematica">例句：周围温度：<span class="hljs-operator">-</span><span class="hljs-number">20</span> °<span class="hljs-built_in">C</span> 至 <span class="hljs-operator">-</span><span class="hljs-number">10</span> °<span class="hljs-built_in">C</span><br></code></pre></td></tr></table></figure><h2 id="文档体系"><a class="markdownIt-Anchor" href="#文档体系"></a> 文档体系</h2><h3 id="结构"><a class="markdownIt-Anchor" href="#结构"></a> 结构</h3><p>软件手册是一部完整的书，建议采用下面的结构。</p><ul><li><p><strong>简介</strong>（Introduction）：[必备] [文件] 提供对产品和文档本身的总体的、扼要的说明</p></li><li><p><strong>快速上手</strong>（Getting Started）：[可选] [文件] 如何最快速地使用产品</p></li><li><p>入门篇</p><p>（Basics）：[必备] [目录] 又称“使用篇”，提供初级的使用教程</p><ul><li><strong>环境准备</strong>（Prerequisite）：[必备] [文件] 软件使用需要满足的前置条件</li><li><strong>安装</strong>（Installation）：[可选] [文件] 软件的安装方法</li><li><strong>设置</strong>（Configuration）：[必备] [文件] 软件的设置</li></ul></li><li><p><strong>进阶篇</strong>（Advanced)：[可选] [目录] 又称“开发篇”，提供中高级的开发教程</p></li><li><p><strong>API</strong>（Reference）：[可选] [目录|文件] 软件 API 的逐一介绍</p></li><li><p><strong>FAQ</strong>：[可选] [文件] 常见问题解答</p></li><li><p>附录</p><p>（Appendix）：[可选] [目录] 不属于教程本身、但对阅读教程有帮助的内容</p><ul><li><strong>Glossary</strong>：[可选] [文件] 名词解释</li><li><strong>Recipes</strong>：[可选] [文件] 最佳实践</li><li><strong>Troubleshooting</strong>：[可选] [文件] 故障处理</li><li><strong>ChangeLog</strong>：[可选] [文件] 版本说明</li><li><strong>Feedback</strong>：[可选] [文件] 反馈方式</li></ul></li></ul><p>下面是两个真实范例，可参考。</p><ul><li><a href="https://redux.js.org/introduction/getting-started">Redux 手册</a></li><li><a href="http://flight-manual.atom.io/">Atom 手册</a></li></ul><h3 id="文件名"><a class="markdownIt-Anchor" href="#文件名"></a> 文件名</h3><p>文档的文件名不得含有空格。</p><p>文件名必须使用半角字符，不得使用全角字符。这也意味着，中文不能用于文件名。</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs dos">错误：名词解释.<span class="hljs-built_in">md</span><br><br>正确：glossary.<span class="hljs-built_in">md</span><br></code></pre></td></tr></table></figure><p>文件名建议只使用小写字母，不使用大写字母。</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs dos">错误：TroubleShooting.<span class="hljs-built_in">md</span><br><br>正确：troubleshooting.<span class="hljs-built_in">md</span><br></code></pre></td></tr></table></figure><p>为了醒目，某些说明文件的文件名，可以使用大写字母，比如<code>README</code>、<code>LICENSE</code>。</p><p>文件名包含多个单词时，单词之间建议使用半角的连词线（<code>-</code>）分隔。</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs dos">不佳：advanced_usage.<span class="hljs-built_in">md</span><br><br>正确：advanced-usage.<span class="hljs-built_in">md</span><br></code></pre></td></tr></table></figure><h2 id="参考链接"><a class="markdownIt-Anchor" href="#参考链接"></a> 参考链接</h2><ul><li><a href="https://www.taodocs.com/p-51273.html">产品手册中文写作规范</a>, by 华为</li><li><a href="http://guide.daocloud.io/dcs/%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83%E5%92%8C%E6%A0%BC%E5%BC%8F%E8%A7%84%E8%8C%83-9153803.html">写作规范和格式规范</a>, by DaoCloud</li><li><a href="http://www.hitachi-tc.co.jp/company/thesis/thesis.pdf">技术写作技巧在日汉翻译中的应用</a>, by 刘方</li><li><a href="https://www.lengoo.de/documents/styleguides/lengoo_styleguide_ZH.pdf">简体中文规范指南</a>, by lengoo</li><li><a href="https://open.leancloud.cn/copywriting-style-guide.html">文档风格指南</a>, by LeanCloud</li><li><a href="https://docs.google.com/document/d/1R8lMCPf6zCD5KEA8ekZ5knK77iw9J-vJ6vEopPemqZM/edit">豌豆荚文案风格指南</a>, by 豌豆荚</li><li><a href="https://github.com/sparanoid/chinese-copywriting-guidelines">中文文案排版指北</a>, by sparanoid</li><li><a href="http://w3c.github.io/clreq/">中文排版需求</a>, by W3C</li><li><a href="http://www.ruanyifeng.com/blog/2017/02/filename-should-be-lowercase.html">为什么文件名要小写？</a>, by 阮一峰</li><li><a href="https://developers.google.com/style/">Google Developer Documentation Style Guide</a>, by Google</li><li><a href="http://www.moe.gov.cn/ewebeditor/uploadfile/2015/01/13/20150113091154536.pdf">出版物上数字用法的规定（国家标准GBT15835－2011）</a></li><li><a href="https://zh.wikisource.org/zh-hans/GB_3100-1993_%E5%9B%BD%E9%99%85%E5%8D%95%E4%BD%8D%E5%88%B6%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8">GB 3100-1993 国际单位制及其应用</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>work</category>
      
    </categories>
    
    
    <tags>
      
      <tag>写作</tag>
      
      <tag>文档</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>简单理解后现代主义</title>
    <link href="/post/cb5d7817.html"/>
    <url>/post/cb5d7817.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、算法、电影、美学、 --><!-- more --><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、算法、电影、美学、 --><h2 id="概述sup-idfnref1-classfootnote-refa-hreffn1-relfootnotespan-classhint-top-hint-rounded-aria-label下文来自wiki1spanasup"><a class="markdownIt-Anchor" href="#概述sup-idfnref1-classfootnote-refa-hreffn1-relfootnotespan-classhint-top-hint-rounded-aria-label下文来自wiki1spanasup"></a> 概述<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="下文来自WiKi">[1]</span></a></sup></h2><p>后现代主义(Postmodernism)是一个以“难以下定论”为特点的主义，主要发生在20世纪中期到21世纪前期，后现代主义的追随者有意识的跳脱出约定俗成的框架之外，热衷于把自己的作品塑造为一种前所未闻的新形式。在后现代主义之后，世界各地的哲学、艺术、建筑、文学就分裂成各种流派，再无一个统一的风潮。</p><p>因为现代主义的作品本身就是在回避“定义”，其后续作品又会去反对去前代作品的理念，导致无法传承，所以想对后现代主义进行一个界限精确的描述是不可能的。依据现有的资料，这股艺术风潮最早可以追溯到20世纪的1960～1990年代，随后就在在多项领域中百花齐放，例如：建筑学、文学批评、心理分析学、法律学、教育学、社会学、人类学、政治学等，其中每个领域都对后现代主义有一套自己的论述，而这些论述又互相矛盾，可以得知的是，后现代主义是由多个更小的、完全不同的艺术流派集合而成的大分类。</p><p>若以单纯的历史发展角度来说，最早出现后现代主义的是哲学和建筑学。当中领先其他范畴的，尤其是六十年以来的建筑师，由于反对国际风格<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="1920~1930年代之间现代主义建筑风格，强调匀质、适用性、三维连续的几何化空间特征。例如位于美国纽约的联合国秘书处大楼">[2]</span></a></sup>缺乏人文关注，引起不同建筑师的大胆创作，发展出既独特又多元化的后现代式建筑方案。而哲学界则先后出现不同学者就相类似的人文境况进行解说，其中能够为后现代主义大略性表述的哲学文本，可算是法国的解构主义<sup id="fnref:3" class="footnote-ref"><a href="#fn:3" rel="footnote"><span class="hint--top hint--rounded" aria-label="60年代缘起于法国的批评学派，代表人物为雅克·德里达">[3]</span></a></sup>了。排斥“整体”的观念，强调异质性、特殊性和唯一性。不同于文学批评家，较严肃的哲学家可能不喜欢使用后现代主义这个术语，因为这个术语过于模糊，后现代主义可能指女性主义、解构主义、后殖民主义中的一个或几种。</p><p>后现代主义的主要特征通常包括对样式、引文和叙事水平的讽刺性的戏弄，对西方文化的宏大叙事的形而上学怀疑主义或是虚无主义，或是不惜牺牲真实追求虚在性（或者更准确地说，是对“真实”构成的根本质疑）</p><h2 id="简单理解"><a class="markdownIt-Anchor" href="#简单理解"></a> 简单理解</h2><p>后现代主义的内涵很大、涉及面广，并不能简单地对其下定义。要讲清楚其中的逻辑并不是简单的事情。学术上关于后现代主义的论说不少，但由于太学术化，不少读者并不想读这些书。于是，我想尝试把后现代主义通俗化，将我的一点见解与读者分享，有兴趣的你就随便看看吧。</p><p>首先必需声明，后现代主义是一个西方的术语，对其阐述最透彻的作家之一是<a href="https://baike.baidu.com/link?url=mRH3PYYR_7R-ieTHefk7rG8_6g7gosyGuxx7DIrR7QdW_J8X_aXEObQt-g1PdbA_dTEh3DUvKSRNGEVhaaVSlmCGg4KngMg4HSnYSKGvMK7jNpnaW_sZpGAXafl3uhKjI91fneFNZTZUPXsnq5MT-thSK6BVIW2ZAvywYz5AYG1wFXz1z28u1qFGUnhN4Hes">詹姆森（Fredric Jameson）</a>，有兴趣的读者可以读他写《<a href="https://book.douban.com/subject/3254246/">后现代主义，后资本主义的文化逻辑</a>》。在中国，后现代主义这个术语在坊间被误用，意指比现代主义更加现代，是现代主义的递进。这种理解或许已获得普通的认同，但显然很片面。我要解释的后现代主义，是指它的本义，是一种文化艺术思潮。了解这个本义能帮助我们更清楚地认识国内的和国际的文化现象。不少人认为后现代主义仅属于那些追求先锋艺术的艺术家，实则不然。<strong>活在当今多元文化的现代人，都自觉或不自觉地，或多或少地受到这种思潮的影响，做出有后现代特征的行为。</strong></p><p>后现代主义是继现代主义之后，与之并存的一种艺术化思考系统与行为特征。要解释后现代主义必需先说一说现代主义。现代主义是很好理解的。从欧洲十七世纪的启蒙运动（Enlightenment）开始，随着科学在欧洲日新月异的发展，现代主义也随之诞生。蒸气机的发明了，牛顿的万有引力定律的出现等等，现代科学发展起来促进了社会的现代化大变革：在政治上促进了法国早期资产阶级革命的启蒙思想家的诞生，如洛克、卢梭等人；在经济上，促进了资本主义大规模地向全世界开拓新殖民地；在文化艺术上，则是形成了现代主义。现代主义的高锋期是十九世纪末二十世纪初，其特征表现在几个方面：</p><p>首先，现代主义的倡导者认为，人类社会是呈线性向前发展的：从愚暖走向文明，从落后走向先进。决定这股发展的力量，是科学技术的昌明发展。许多社会学家和艺术家都认同技术决定论（Technological Determinism）。他们赞美技术带来的巨大的社会变革。譬如，英国的工业革命，大大地提高了生产效率。艺术家以及建筑师对于新技术的热爱达到了最高峰（他们当时还没有预见到技术所带来的负面效应）。巴黎艾裴尔铁塔的建成，就是源于这种热情；前苏联艺术家塔特林（Vladimir Tatlin）“第三国际纪念工程”的设计蓝图则是另外一个好例子。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/tatlin.jpg" alt="第三国际纪念碑: 塔特林塔"></p><p>从这些现代艺术建筑的设计中可以看出，现代主义艺术家的共性，就是对传统艺术的背叛。打破旧的单一的艺术语言，取代之的是全新的艺术表现形式：马提斯的野善派，毕加索的立体主义，蒙德里安（Piet Mondrian）的抽象主义等等。他们反对写实，他们强调的是艺术的形式（Form），而不是内容。随着弗洛依德的心理分析学说和爱因思坦的相对论的出现，艺术家的现代思想受到很大的冲击。对于人类社会环境的全新认识，艺术家们的艺术出现了很大的变化。譬如达利最出名的那副画，就是描写时间空间的相对性，同时又把梦境当成画的主题，认为梦是比现代更为真实的东西，就是弗洛依德的最主要观点之一。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/The-Persistence-of-Memory-canvas-collection-Salvador-1931.jpg" alt></p><p>本来，现代主义似乎已经说明一切了：我们的社会不是在不断的发展吗？我们生活水平不是在不断地进步吗？艺术已经发展到了抽象的地步，还有什么能比抽象画更为深层次了呢？后现代主义是如何在现代主义的基础上发展起来的呢？</p><p>我所理解的后现代主义，形成于两次世界大战之后。尤其是第二次世界大战，改变了世界格局，同时更说明了一个问题：人类社会并不是线性地向前发展的。技术的进步，把人类的生活变得更美好，但同时，技术的进步，也能够造成人类社会的退步。两次世界大战的灾难可以说是与技术的进步有关的。技术的进步造就了先进的武器，结果让人类社会生灵涂炭。除此之外，技术的进步、现代化的生产，需要对能源市场进行竞争，也是造成欧洲各列强之间大战的原因之一。现代化还造成了其他许多的社会问题，如失业，贫穷、经济危机，不一而足。二战之后，西方文化开始反省自身，在政治经济的层面的反省自然引起了对现代主义的反省，后现代主义随着这些反省而随渐出现。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/pomo.jpg" alt></p><p>然而，二战之后，现代主义并没有消亡。现代主义仍在不断的加大，上海新建的摩天楼，杜拜（Dubai）豪华宾馆，这些都是现代主义思潮的体现。因为现代化，虽然存在着种种的问题，但是，人类社会并有代替它的其他选择。二战后，不管是资本主义阵营，还是社会主义阵营，都在搞现代化。虽然技术进步会造成更大的灾难，但是先进的武器仍然在不断地被制造出来。但是，二战后的人们，与二战前不同，他们知道怀疑现代化，虽然无法停止现代化的方向，但是，至少他们不再完全相信现代化的光明前景，这点怀疑，促成了后现代主义的产生。<strong>后现代主义可以理解为包裹在现代主义之外的一层皮，其内里仍然是现代主义，而外部是后现代主义。后现代主义既拥护现代主义，同时又是反现代主义的，是对现代主义的怀疑。因为后现代主义的内核仍然是现代主义，所以也可以说，后现代主义是一种自我怀疑，自我审视。</strong></p><p>对现代主义的思想体系进行怀疑，后现代主义提供了一套不同于现代主义的思考方式。那么，具体的不同在哪里呢？这是一个很大的话题，我只提及其中的一小部分，让读者有个大概的印象。其中很重要的一个，就是<strong>现代主义相信大叙事（Meta-narrative），而后现代主义将其推翻</strong>。大叙事是一种认识论，认为社会有一种固定的形态和目标，我们可以通过一些科学文化体系来解释所有的社会现象及社会规律，这些体系包括科学技术，医学，心理分析学等等，当然也包括马克思的政治经济学说。后现代主义则认为，社会是复杂多变的，没有一种固定的形态，不可能完全解释清楚。科学理论能解释一切的自然规律吗？马克思的理论、洛克的理论，就能解释人类社会的规律吗？</p><p>现代主义的一个代表人物笛卡儿，说“我思故我在”，是相当理性地认为人类不断地向前进步。孙中山先生的“世界潮流浩浩荡荡，顺者则倡逆者则亡”，都是表达一种不断前进的意识，激励着人们不断地寻求真理。但是到了后现代主义者手中，对于这些格言式的警句，他们会觉得挺可笑。“对与错”“好与坏”其实并不那么简单。在西方，人们把现代主义称为“旧时好时光”(good old days)，那时候，人们知道什么是道德什么是不道德，对错很明显，社会价值很清晰。但是，后现代主义者则不再相信这些结构性的论调了。后现代主义的世界里，要说清楚一件事情都是不容易的，对错是非比较模糊，要下一个社会结论是很困难的事情。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/graffiti_hip_hop_2-1024x768.jpg" alt></p><p><strong>后现代主义的另一个特征，是对一切权威的怀疑</strong>。在维多利亚时代，如果有科学家发明了一件东西，有社会学家发明了一种理论，那么人们就鹜信不疑。医院、学术机构等，很少受到大众的质疑。然而，后现代主义的人们则不迷信权威。在前期的资本主义社会，高等教育还是比较稀缺的资源，知识的落差，强化了权威的阶层的权威。在后现代社会里，高等教育已不再神圣，准入很低。大部分老百姓都获得高等教育。知识不再是区分权威阶层的因素了。进入互联网时代之后，知识就更加大众化了，文化艺术上的结构等级，自然就被打破了。</p><p><strong>后现代主义喜欢把权威与非权威同等看待</strong>。譬如说，在上世纪初，西方的文化学者把文化分成“高雅文化”和“通俗文化”，前者指油画、芭蕾舞、歌剧、交响乐等，后者指电视节目、电影、通俗书刊等。前者是受过良好教育的精英才能欣赏，后者则是受大众传媒影响的被动接受信息的社会大多数。但是，六十年代之后在美国兴起的波普艺术，则否定这两者的界限。有的文化学者提出了社会共造（social construction)的文化概念。这是概念强调文化的形成是自下而上，而不是现代主义者认为的自上而下的。自上而下，即是精英主义：精英主义者，引领社会潮流，大众就跟进。社会共造则认为文化的形成来自于社会上不同的个体，他们都在各自的层次影响着文化的演变，文化是不断地在变化着的。爵士乐、HIP-HOP等等，就是例子。这些艺术形式本来只在黑人社区中流行，被上流上社所不齿，但后来渐渐形成了主流文化。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/Mondrian-Dress.jpg" alt></p><p>因此，后现代主义也可以理解成一种消灭阶级的平等思想。作为一个钢琴师，用后现代的眼光来看，没有理由看低一个K厅歌手。这种逻辑，在现代主义的语境里是不可能成立的，但在后现代主义的语境里，却屡见不鲜。</p><p><strong>后现代主义还有另一个特征，称为多元主义（Pluralism）</strong>。这也是很积极的。多元主义意味着宽容。后现代主义的艺术家认为，艺术品放在艺术展上展出后，观众如何看待同一件艺术品是因人而异，很不相同的，而且很可能与艺术家的本意相差甚远。如果按照传统的艺术观念，这则意味着作品的沟通出问题了。但后现代主义者认为这是正常现象：人的文化艺术思考，没有必要追求相同。相反，不同的思考才令社会更加精彩。</p><p>后现代主义很包容。我认为这种思潮是从美国出现的。因为美国是一个移民国家，不同文化背景的人居住在一起，于是会出现了许多不同的文化冲突，而后现代主义则是承认这种不同的存在，并尊重这种差异性。大一统、思想高度统一，是反后现代主义的。</p><p>后现代主义注重“表面”，他们相信“所见则是所得”，这与现代主义是完全相反的。我们大多数人都认为，一件文化产品或文化现象有两层意思，表面的意思和内在的象征的意思。简单地说，这种看法就是所谓的结构主义，是现代主义的产物。后现代主义的近义词则是后结构主义，即是说，对结构主义进行推翻。文化产品或现象不再是分为表面的和内里，而只是一个整体。这一层概念的实用性在日常生活中并不强，但在当代艺术中却尤其重要。在以前，我们分析一件艺术作品，总要分析形式的美，以及思想意义。在后结构主义时代，我们不再执着于那一深层的意义了。我们不把作品分为两为表象和意义个层面，我们不再相信深层的思想意义了，所以并不把作品看得那么严重和严肃……</p><p>转载自：<a href="http://www.sudongyue.com/">蘇東悅</a></p><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>下文来自WiKi<a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:2" class="footnote-text"><span>1920~1930年代之间现代主义建筑风格，强调匀质、适用性、三维连续的几何化空间特征。例如位于美国纽约的联合国秘书处大楼<a href="#fnref:2" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:3" class="footnote-text"><span>60年代缘起于法国的批评学派，代表人物为雅克·德里达<a href="#fnref:3" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>哲学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>江苏部分城市不愿接收海南滞留旅客引发关注 官媒促疫情期间破除地方保护主义</title>
    <link href="/post/5af5f840.html"/>
    <url>/post/5af5f840.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、算法、电影、美学、 --><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/ZB_0817_CJ_doc7mbgaeohysl103e37e4x_16204928_leesuehp.jpg" alt="海南三亚凤凰国际机场8月15日起逐渐恢复国内商业客运航班，乘客当天在机场离境前，出示核酸检测阴性证明。（新华社）"></p><p><strong>网上流传的文件显示，海南省人民政府总值班室称，因江苏省部分城市不愿接收滞留旅客，导致航班无法起飞，大量滞留旅客聚集在海口机场。海南省政府在信中恳请江苏省“紧急协调相关城市放行航班”。</strong></p><p>这份特急文件15日开始在网上流传，令各省在疫情期间力求“自保”的问题引发舆论关注。中共中央机关报《人民日报》16日发表评论文章，提醒各地“破除地方保护主义”。</p><p>中国度假胜地海南省8月初暴发新一轮疫情，并在海口、三亚等城市临时实施静态管理，导致约15万名旅客滞留当地。当地旅客返程工作进展缓慢，根据海南疫情发布会的消息，截至星期二（8月16日）早上8时，当地保障滞留旅客返程人数仅达4万8539人。</p><p>截至8月15日，中国大陆本土感染者仍处于2368例的高位，其中过半来自海南。</p><p>网上流传的文件显示，海南省人民政府总值班室称，因江苏省部分城市不愿接收滞留旅客，导致航班无法起飞，大量滞留旅客聚集在海口机场。海南省政府在信中恳请江苏省“紧急协调相关城市放行航班”，并表明若江苏省迟迟不接收滞留旅客或限制航班架次，海南省政府将报告中国国务院联防联控机制综合组，并“如实告知对应旅客”。</p><p>江苏省政府电话值班人员回应凤凰网询问时，确认文件属实，但称并非江苏不接收滞留旅客，被限制的航班是临时增加的班次，人员组织上存在问题，所以未能起飞。值班人员说：“我们正在处理了”。</p><h3 id="地方政府间隔阂进一步浮上台面"><a class="markdownIt-Anchor" href="#地方政府间隔阂进一步浮上台面"></a> 地方政府间隔阂进一步浮上台面</h3><p>过去两年多来，中国部分城市为防止输入病例，对外来人员防疫措施层层加码的案例屡现，此次海南疫情令中国地方政府之间的隔阂进一步浮上台面。</p><p>上海媒体澎湃新闻在海南疫情暴发初期，曾因报道当地旅客滞留的乱象，8月8日被海南官媒《海南日报》客户端转载自媒体文章间接批评。</p><p>这篇源自微信公众号“职场观知局”的文章直批“对三亚疫情防控带节奏，某媒体澎湃得太‘离谱’”，但在引发舆论热议后，《海南日报》客户端撤下这篇文章。</p><p>《人民日报》16日发表署名“申少铁”的评论文章，呼吁各地加快落实核酸检测结果全国互认。评论指出，一些地方不承认外地的核酸检测结果，要求重新检测，不仅给跨地区出行的人带来很大不便，还增加核酸检测的工作量和支出。</p><p>评论强调，推动核酸检测结果全国互认，技术上完全可行，关键是要站在疫情防控“全国一盘棋”的高度，破除地方保护主义。</p><p>新加坡国立大学李光耀公共政策学院助理教授陆曦接受《联合早报》访问时分析，此次海南和江苏的事件凸显跨省协调的问题。</p><p>他指出，地方保护主义是中国整个政治体制结构的折射，若要实现防疫“全国一盘棋”，中国必须先解决制度上更深层次的不足，以及相关的操作问题。例如跨省病例的疫情源头界定、如何分担政治和财政责任等；但疫情引发的一系列地方官员问责行动，将增加跨省协调的难度。</p><p>转载自：<a href="https://www.zaobao.com/news/china/story20220817-1303698">联合早报</a></p>]]></content>
    
    
    <categories>
      
      <category>News</category>
      
    </categories>
    
    
    <tags>
      
      <tag>社会</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>美学原理笔记（八）审美意识形态-阶级</title>
    <link href="/post/41e54c0a.html"/>
    <url>/post/41e54c0a.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、算法、电影、美学、 --><p>案例1：</p><p>不论是年薪多少的人都能感受到贫困感</p><p>《在北京年薪50万根本不够花》</p><p>《年入50万仍觉得自己一无所有》</p><p>《身份的焦虑》</p><p>案例2：伪文青</p><p>《即使变成甲壳虫卡夫卡还是进不去城堡》 ，一部不存在的电影</p><h4 id="代表作品"><a class="markdownIt-Anchor" href="#代表作品"></a> 代表作品</h4><p><strong>凡勃仑《有闲阶级论》</strong></p><p>有闲阶级：一个社会中的上层阶级——脱离了劳役性工作</p><p>有闲阶级产生原因：私有制</p><p>为了证明自身地位，就将炫耀性休闲和炫耀性消费作为自己的生活方式</p><p>这种将金钱与高贵画等号——塑造了全社会的生活标准、审美趣味和文化风尚</p><h4 id="炫耀性休闲"><a class="markdownIt-Anchor" href="#炫耀性休闲"></a> 炫耀性休闲</h4><p>特别强调礼仪教养和高级学识的素养</p><p>礼仪和高级学识本身是没有生产性的，甚至明显是无用的</p><p>都需要花费大量时间和金钱来做反复训练</p><p>发展出了休闲代理制度：有闲阶级的女性（贵妇）</p><h4 id="社会的审美观被金钱标准所建构"><a class="markdownIt-Anchor" href="#社会的审美观被金钱标准所建构"></a> 社会的审美观被金钱标准所建构</h4><p>凡是价格不高的艺术品，就不可能被认为是美的</p><p><strong>保罗福塞尔《格调》</strong></p><p>上层阶级三个阶层：顶层，上层和中上层</p><p>中层阶级四个等级：中产阶级，上层贫民，中层贫民和下层贫民</p><p>如何判断一个人来自什么阶层</p><p><strong>皮埃尔布尔迪厄《区隔——趣味判断的社会批判》</strong></p><p>趣味判断的普遍有效性问题</p><p>康德从主体审美判断出发，建设了审美判断的普遍有效性</p><p>布尔迪厄通过社会实际案例证明这种普遍有效性在现实中不可实现</p><p><strong>趣味</strong></p><p>基本含义：味道、味觉、滋味等与饮食有关的词义</p><p>引申：判断力、鉴赏力、审美判断等词义</p><p>“任何文化实践的参与都带着阶级属性的色彩”</p><h4 id="文化资本"><a class="markdownIt-Anchor" href="#文化资本"></a> 文化资本</h4><p>人际交往技巧、习惯、态度、语言风格、教育素质、品味与生活方式</p><p>资本：审美趣味产生的基础</p><p>马克思：经济资本即物质财富的占有</p><p>布迪厄：资本是现代人审美趣味的基础</p><p>资本是关系型的产物，不是单独的经济财富象征，包含了广泛的社会关系构成</p><p>资本是权力产物，是在特定社会场中所分配的社会地位所能调动某些特定资本的能力</p><h4 id="资本的三种形式"><a class="markdownIt-Anchor" href="#资本的三种形式"></a> 资本的三种形式</h4><p>经济资本：指行动者的物质财富，即财产多少</p><p>文化资本：包括教育文凭在内的文化商品和服务，并在某些条件下可以转化为经济资本。文化资本的三种状态：</p><ul><li>身体化的状态</li><li>客体的客观化形势存在</li><li>文化资本以制度化、机构化的形式存在（高等大学）</li></ul><p>另参考：鲍德里亚《景观社会》《消费社会》</p><hr><p>本文自B站杨宁老师《美学原理》系列课程做笔记而成</p><p>源视频：<a href="https://www.bilibili.com/video/BV177411u7j8">https://www.bilibili.com/video/BV177411u7j8</a></p>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>美学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>美学原理笔记（七）审美意识形态-后殖民主义</title>
    <link href="/post/45f55971.html"/>
    <url>/post/45f55971.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、算法、电影、美学、 --><p><strong>举例</strong></p><p>杜嘉班纳辱华事件</p><p>西方影视剧中的花木兰</p><p><strong>背景</strong></p><p>1978年哥伦比亚大学教授：爱德华赛义德《东方学》</p><h3 id="殖民主义分类"><a class="markdownIt-Anchor" href="#殖民主义分类"></a> 殖民主义分类</h3><h4 id="旧殖民主义"><a class="markdownIt-Anchor" href="#旧殖民主义"></a> 旧殖民主义</h4><p>标志：殖民地国家在政治经济、军事、文化等各方面受到宗主国的控制</p><p>理论：列宁的帝国主义理论</p><h4 id="新殖民主义"><a class="markdownIt-Anchor" href="#新殖民主义"></a> 新殖民主义</h4><p>时间：20世纪60年代初期~1961年3月开罗召开的第三届全非人民大会</p><p>著作：1965年恩克鲁玛《新殖民主义：帝国主义的最后阶段》</p><p>标志：</p><p>殖民地国家开始独立，但经济、军事各方面无法摆脱宗主国的影响</p><p>殖民地国家空有“独立”之名，无“独立”之实</p><p>发达资本主义国家是世界经济的中心，发展中国家长期处于世界经济外围，受发达国家控制</p><p>理论：萨米尔阿明的“依附”理论</p><h4 id="后殖民主义"><a class="markdownIt-Anchor" href="#后殖民主义"></a> 后殖民主义</h4><p>强调殖民关系的审美文化方面，又叫“文化殖民主义”</p><p>文化主体性、文化自信的丧失的殖民文化是殖民主义留下的深刻后遗症</p><h3 id="赛义德东方学"><a class="markdownIt-Anchor" href="#赛义德东方学"></a> 赛义德《东方学》</h3><p>对西方中心主义的批判</p><p>空间上——文化登记结构（二元对立）：</p><p>西方——非西方</p><p>中心——边缘</p><p>文明——野蛮</p><p>先进——落后</p><p>国家——部落</p><p>科学——迷信</p><p>民主——专制</p><p>时间上——历史目的论叙事</p><p>历史始于西方也终于西方</p><p>世界的发展是非西方世界按照西方模式逐渐进化发展的历史</p><p>西方文化普遍化</p><p>把西方的发展完全看成是西方文明的先进性：市场经济、民主政治、科学技术</p><h4 id="东方主义"><a class="markdownIt-Anchor" href="#东方主义"></a> 东方主义</h4><p>东方：不是一个地理概念，而是殖民活动兴起产生的一种概念</p><p><strong>东方主义的理论基础</strong></p><p>借助拉廉的理论：自我/他者的两元逻辑</p><p>确定差异——通过他者证明自我</p><p>得出“西方陷阱，东方落后”的结论——西方文明固化的二元对立思维</p><p>问题：忽视东方内部的差异（中、印、日、犹认为都差不多）</p><p>借助福柯的理论：话语理论。用各种权力建构了“东方主义”这个概念，使东方的形象弱化，目的的为了实现帝国主义的扩张和殖民</p><p>借助葛兰西的理论：文化霸权</p><p><strong>东方学的内涵</strong></p><p>从拿破仑入侵埃及以来，西方殖民者为了深入了解东方，发起一个专门的研究项目，即东方学</p><p>表面上：研究亚洲和非洲地区的历史、经济、语言、文学和艺术</p><p>实际上：站在殖民视角上的一种就建构</p><p><strong>含义</strong></p><p>作为一门学科的东方主义，所有从事此类研究的都是东方学家</p><p>作为一种思维方式的东方主义，任何以“二元对立”思考东西方的，都是“东方主义”</p><p>作为驾驭和控制东方的权力话语机制的东方主义</p><p><strong>后殖民主义的主要观点</strong></p><p>东方主义被剥夺了主体的地位，是欧洲的一个“发明”</p><p>东方主义者建构了一套东方的话语和知识，不是为了认识东方，而是为了确证自我</p><p>东方主义成了西方人出于对东方的无知、偏见和猎奇而虚构出来的东方神话</p><h3 id="中国学术界对东方主义的反思和批判"><a class="markdownIt-Anchor" href="#中国学术界对东方主义的反思和批判"></a> 中国学术界对《东方主义》的反思和批判</h3><p><strong>自我东方主义</strong></p><p>将“东方主义”内化，用西方人的东方视野看自己的历史和民族，导致其艺术作品虽然是中国作家的，实际上是东方主义的偏见</p><p>例：</p><p>张艺谋的雅典奥运会八分钟——为迎合国外观众，展示东方化的中国</p><p>张艺谋的《大红灯笼高高挂》开头：锤脚、点灯——落后旧中国形象</p><p>为了迎合西方观众，展示中国人的落后民宿，迎合西方人对中国的看法——在西方获奖</p><p>展示对男权社会的一种批判——男人的形象始终没有出现——把中国本质化</p><p><strong>作为权利主体构建“他者”</strong></p><p>例子</p><p>吴京《战狼2》——对非洲地区的认知陌生</p><p>吴京《流浪地球》</p><h3 id="评价后殖民主义"><a class="markdownIt-Anchor" href="#评价后殖民主义"></a> 评价后殖民主义</h3><ul><li>有助于中国知识界对现实语境的再认识，并将对中国文化价值重构的方向定位保持清醒的头脑</li><li>偏见是存在的，但也并不全是偏见，有些认识是深刻的，值得我们反思，如史密斯《支那人的性格》</li><li>西方学者对中国偏见有贬低性的偏见，也有拔高式的偏见</li><li>站在一个比民族情感更高的立场来看待西方人对待中国的认识</li></ul><hr><p>本文自B站杨宁老师《美学原理》系列课程做笔记而成</p><p>源视频：<a href="https://www.bilibili.com/video/BV177411u7j8">https://www.bilibili.com/video/BV177411u7j8</a></p>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>美学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>美学原理笔记（六）审美意识形态-女性主义</title>
    <link href="/post/ba4645f8.html"/>
    <url>/post/ba4645f8.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、算法、电影、美学、 --><p>观看行为无法摆脱背后的文化、政治、经济结构</p><p>艺术：传统人们是从形式上单纯的欣赏艺术（色彩、结构、线条）</p><p>但事实上现在是：</p><p>艺术家：创作艺术作品时不可能抛开自己的社会和政治背景</p><p>欣赏者：也是透过自己的社会政治背景，给艺术品不同的解释</p><p>结论：影像从来都是不客观的</p><h3 id="性别"><a class="markdownIt-Anchor" href="#性别"></a> 性别</h3><p>“女性自身的观察者是男性，而被观察者为女性，因此她把自己当做对象——而且还是一个极特殊的视觉对象——景观”</p><p>案例1：新周刊</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/640" alt></p><p><strong>女人是男性目光的奴隶</strong></p><p>案例2：三八妇女节——女生节</p><p>女生的价值：在外貌、年龄（而非学识、修养）</p><p><img src="/data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="图片"></p><p><strong>公开的集体调情而不是关注女性实际的权益</strong></p><p>案例3：《奇葩说》男朋友不喜欢我穿热裤出门，我需要改吗？</p><p>问题：热裤的美，到底是谁规定的？</p><h3 id="女权主义"><a class="markdownIt-Anchor" href="#女权主义"></a> 女权主义</h3><p>对立面：父权——指的是有一种男性掌握主要权利与资源分配的分配的社会家长制度</p><p>女性主义缘起：可追溯至公元前7世纪古希腊女诗人萨福的作品</p><h4 id="女性主义抬头"><a class="markdownIt-Anchor" href="#女性主义抬头"></a> 女性主义抬头</h4><p>普遍认为在18世纪启蒙时期</p><p>女性作家玛丽沃斯通克拉夫特《为女权辩护书：关于政治和道德问题的批评》：主张女性存在之重要性，并提倡女性应与男性具有相同权利</p><p>注：女性主义=女权主义=妇女解放</p><h4 id="女性主义发展"><a class="markdownIt-Anchor" href="#女性主义发展"></a> 女性主义发展</h4><p>第一波女性主义（1880~1960）——争取参政与投票权</p><p><strong>异中求同</strong></p><p>强调女人与男人一样，都应该享有平等相同的“人权”，也就是作为一个完整的“人”的权益</p><ul><li><p>争取妇女在社会和家庭中的平等权利，如选举权、财产权、子女抚养权、受教育权、在传统男性职业中的工作权。其中选举权是最主要的奋斗目标</p></li><li><p>论述重心放在社会、政治、法律议题上</p></li></ul><p><strong>代表人物</strong></p><p><strong>伍尔夫《一个人的房间》</strong></p><p>认为：一名女性想成为一位作家，那么她所需要的物质条件至少有两项：</p><ul><li>一件可以自由上锁的房间</li><li>每年500英镑的收入</li></ul><p><strong>西蒙波伏娃《第二性》</strong></p><p>核心：“女人之所以是女人，不是天生的，而是后天构建的”</p><p>《第二性》上册：在漫长的历史演变中女性为何变成第二性？</p><p>女性成为第二性的历史原因：</p><ul><li>男女两性之间在生理学上的差异</li></ul><p>存在主义：人类之所以比别的种族高级，在于人类追求的不只是物种的延续。人类的目标不是自我重复，而是自我超越</p><p>女性——繁殖——重复</p><p>男性——不繁殖——超越</p><ul><li>母权利，只是一个神话，而且这个神话是由男性编写的</li></ul><p>在漫长历史中，男性究竟靠什么把女性牢牢禁锢在“第二性”这个位置上？</p><p>女人是一种私有财产</p><p>父权私有制还得到了宗教的有力支撑</p><p>为什么女权运动直到19世纪才爆发？</p><p>妇女开始走出家门，参与社会劳动</p><p>人口控制</p><p>《第二性》下册：第二性的地位究竟怎样限制了女性的发展？怎么办？</p><h4 id="问题"><a class="markdownIt-Anchor" href="#问题"></a> 问题</h4><p>一个女孩 究竟是如何成为一个女人的？为什么说女人不是天生的，而是后天形成的？</p><p>婚姻与家庭，对于一个女人，究竟意味着什么？</p><p>为什么婚姻与家庭依旧被看做是女性应有的属性？</p><p>女性可以怎么办？</p><h4 id="答案"><a class="markdownIt-Anchor" href="#答案"></a> 答案</h4><p>首先，最重要的一条：工作，必须工作</p><p>其次，女性哪个在为事业努力的时候，不必以男人为标准</p><p>最后，要追求真正的卓越</p><p>第二波女性主义（1960~11980）——开展女性的主体性（英美派VS法国派）</p><h3 id="缘起"><a class="markdownIt-Anchor" href="#缘起"></a> 缘起</h3><p><strong>主要诉求“求同存异”</strong></p><p>除了继续争取女性各种权益之外，女性开始要求社会重视男性与女性之间的差异，并鼓励女性拒绝成为男性的从属客体，才能够找到自己的主体性与性别认同</p><h4 id="两大阵营"><a class="markdownIt-Anchor" href="#两大阵营"></a> 两大阵营</h4><p><strong>法国派：大写女人</strong></p><p>代表</p><p>克里斯蒂娃的“象征”与“符号”《黄色墙纸》——吉尔曼</p><p>象征界：李兴华的语言规则（如语言中的文法或小说中的情节）</p><p>想象界：诗化前语言能量（如婴儿的语言或诗歌中的跳跃意象）</p><p>西苏的“阴性书写”</p><p><strong>英美派：小写女人</strong></p><p>代表作家</p><p>凯特米利特《性政治》：性即政治</p><p>伊莱恩肖瓦尔特《她们自己的文学》</p><p>阴性阶段（1840~1880）：模仿当代主流男性作家</p><p>女性主义阶段（1880~1920）：批判与抵抗既有的价值观念</p><p>女性阶段（1920~至今）：追寻属于女性自身的书写风格</p><p>第三波女性主义（1980~至今）——开展边缘女性的主体性</p><h4 id="问题-2"><a class="markdownIt-Anchor" href="#问题-2"></a> 问题</h4><p>女性主义不等于性别战争</p><p>女性主义不应该只谈女性的利益而不谈女性的责任</p><p>女性主义在不同地区推进状况不一样</p><p>女性主义的三个面向：思想——创作——政治</p><h3 id="女性主义学者在做什么"><a class="markdownIt-Anchor" href="#女性主义学者在做什么"></a> 女性主义学者在做什么</h3><p>省思女性于男性社会中的现状和定位，并借此找出女性应有的权力与自身的主体性</p><ul><li>把梳理整理摒弃由男性所主导的规范与主题</li><li>发掘被忽略的女性艺术家，并建立属于女性的经典</li><li>将女性主义与各类不同论述联结（如心理分析、种族理论、后殖民理论、生态批评等），形成更为动态的论述网络</li></ul><h3 id="女性主义关注的议题"><a class="markdownIt-Anchor" href="#女性主义关注的议题"></a> 女性主义关注的议题</h3><ul><li>生理性别（Sex）和社会性别（Gender）</li><li>性别本质主义——与性别建构主义</li><li>主体（Suject）与客体（Object）、自我（Self）与他者（The Other）</li><li>“他者”——黑格尔《精神 现象学》分析奴隶主与奴隶之间</li></ul><hr><p>本文自B站杨宁老师《美学原理》系列课程做笔记而成</p><p>源视频：<a href="https://www.bilibili.com/video/BV177411u7j8">https://www.bilibili.com/video/BV177411u7j8</a></p>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>美学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>美学原理笔记（五）审美意识形态-导论</title>
    <link href="/post/127ab28d.html"/>
    <url>/post/127ab28d.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、算法、电影、美学、 --><h4 id="审美经验"><a class="markdownIt-Anchor" href="#审美经验"></a> 审美经验</h4><ul><li>从个体角度：移情、审美距离、直觉、格式塔、精神分析</li><li>从社会角度：阶级身份、性别权力、民族文化、消费主义</li><li>个体的审美经验受到社会诸多因素的影响</li></ul><p>趣味——每个人审美趣味都不同——为什么会有这样的审美趣味？</p><p>受到社会环境诸多因素影响的审美：审美意识形态</p><p>例如：《装腔指南》</p><p><strong>马歇尔麦克卢汉</strong></p><p>如果有人指责你胡说八道，你可以用一种优雅的反驳方式——转过去面对他们，低声说：就像马歇尔麦克卢汉曾经说的：‘你对我的思想一无所知’</p><p><strong>汉娜阿伦特</strong></p><p>如果你读了一个关于杀人犯的深度报告，发现他们除了爱杀人之外显得和常人无异，你可以宣称：“阿伦特所谓的平庸的恶的又一例证”</p><p>品味：审美观念、审美趣味——与社会习俗、文化观念有着密切关系</p><p>审美趣味、审美观念、文化品味是如何建立的？</p><p>审美——被社会环境所构建出来的：审美意识形态</p><p><strong>特例伊格尔顿《美学意识形态》</strong></p><p>核心：将一切美学理论、审美活动、审美现象都作为意识形态</p><h4 id="审美本身的矛盾性"><a class="markdownIt-Anchor" href="#审美本身的矛盾性"></a> 审美本身的矛盾性</h4><p>美学通过审美建构一种具有理性与感性、自由与必然以及自我约束力的自律性科学</p><ul><li>审美判断：主观性 VS客观性 ——特殊性 VS普遍性</li><li>表面上是对普遍性的描述，但也是对情感的隐秘表达方式</li></ul><p>含蓄地宣称——完全主观的反应是一种每一个个体必须体验的反映，是一种必须剔除主体的自发一致的反映</p><ul><li>通过灌输、制定“客观性”、“普遍性”的审美原则，构建“主观性”“特殊性”的审美体验</li><li>把政治意识形态（统治）通过审美内化为一种带有愉悦感的“软”策略</li><li>资产阶级通过审美而不是直接以强制手段来实现和维护其统治</li></ul><h4 id="审美与意识形态的同质性"><a class="markdownIt-Anchor" href="#审美与意识形态的同质性"></a> 审美与意识形态的同质性</h4><ul><li>美学谈论艺术时设计到其他问题：中产阶级争夺政治领导权的斗争中心问题</li><li>将权力植入到人们生活的无意识结构中，使人们自觉受到政治力的控制（让人乐于接受的统治，才是真正的统治）</li><li>审美的背后隐藏着权力关系——意识形态：温柔的权力</li><li>美学是“内化的压抑”，把社会统治更深地置于被统治者的肉体中，作为一种有效的政治领导权而发挥作用</li><li>审美就确立新的资产阶级社会秩序的有效途径，是镇压 性国家机器的必要补充，将资产阶级领导权内化为每个社会成员和个体的自律指令</li></ul><p><strong>美学对统治意识形态的挑战</strong></p><ul><li><p>美学是感性的话语，是对人的快感、情感、想象的理论设定</p></li><li><p>美学容易成为统治工具或工具主义的对立面，与资产阶级价值观有着根本冲突</p></li><li><p>扮演着真正解放力量的角色——主体通过感觉冲动和同情联系在一起</p></li></ul><p><strong>美学=意识形态</strong></p><p>美学不仅是对纯学术、纯科学的诉求，更涉及到资产阶级政治因素和权力关系的问题</p><h4 id="拉康的镜像阶段理论"><a class="markdownIt-Anchor" href="#拉康的镜像阶段理论"></a> 拉康的“镜像阶段”理论</h4><p>提出：1936年7月31日第十四届国际精神分析学年会</p><p>“镜像阶段”的发生过程：自我意识如何产生？</p><ul><li>前镜像阶段：出生~6个月</li></ul><p>婴儿出生后面对着陌生世界，与原本在子宫内所享有的自足状态形成强烈对比，这是人类最初的挫折</p><ul><li>婴儿在这段时期内，只能被动接收外界对他的作用，如视觉、听觉影响</li></ul><p>此时因而脑中并没有统一性和整体性观念</p><ul><li>镜像阶段：6个月~18个月</li></ul><p>人在镜像阶段就有了自我意识，并开始建立起“内在世界”和“外在世界”之间的联系</p><p>但这个意识到的“自我”一开始就不是真实的，它只是一个虚幻“镜像”</p><ul><li>镜像阶段结束：18个月左右之后</li></ul><p>婴儿的兴趣从对镜像的迷恋转移至视图对工具的控制和与他人的行为交往中去，“镜像阶段”宣告结束</p><p><strong>镜像阶段的功能</strong></p><ul><li>镜像阶段是自我的原型，镜像是自我的开端。自我由一系列连续的认同所构成</li><li>人们最初确认自身的方式，不是对关于自身的实体的认同，而是镜像</li></ul><p>随着我们的成长，我们究竟是谁这个问题又被一大堆空洞概念包围</p><p><strong>路易阿尔都塞《意识形态与意识形态国家机器》</strong></p><p>问题：如果你是一个班长，你会如何建立威信？</p><p>意识形态：构建个体为主体</p><p>1970年《意识形态与意识形态国家机器》强调：人类历史上，没有任何一种政权可以仅凭借国家政权成功统治。</p><p>法律、军队、监狱就是在政治社会中实行强制，而意识形态国家机器则是在市民中建立权威</p><p>意识形态国家机器：宗教、教育、家庭、法律、工会、文化和大众传媒</p><p><strong>构建个体为主体</strong></p><ul><li>个体：未被意识形态化</li><li>个体：被意识形态化</li><li>个体灌输主流意识形态，使个体接受现存的社会规范和社会结构，在生产关系体系内“自愿”接受社会角色，以非武力、非强迫的方式迫使个体服从现存社会关系</li></ul><p><strong>提供“合法化”表述</strong></p><ul><li>一个暴力的权力机器能够成功的统治和顺利的运行，在相当大程度上依赖意识形态国家机器提供某种令人信服的合法化表述</li><li>它不仅为统治者提供合法化表述，而且要对被统治者接受自己各自的地位和命运进行合法化表达。尤其是针对社会地位比较低，命运多舛的人进行说服，让他们能够主动接受</li></ul><p>意识形态：再现个体与现实的想象关系</p><ul><li>意识形态提供一份整体的想象性图景，其意义在于使每一个人都能在其中找到自己合法的、或称为“宿命”的位置，并接受关于自己现存位置的合法性叙述</li><li>人之本质的规定自身就是一个虚假的确证，毫无真实性和实在性可言</li></ul><h4 id="审美意识形态发挥作用的领域"><a class="markdownIt-Anchor" href="#审美意识形态发挥作用的领域"></a> 审美意识形态发挥作用的领域</h4><p>消费文化、文化产业、性别权力、种族问题</p><hr><p>本文自B站杨宁老师《美学原理》系列课程做笔记而成</p><p>源视频：<a href="https://www.bilibili.com/video/BV177411u7j8">https://www.bilibili.com/video/BV177411u7j8</a></p>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>美学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>美学原理笔记（四）美感分析</title>
    <link href="/post/be2af623.html"/>
    <url>/post/be2af623.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、算法、电影、美学、 --><h3 id="移情说"><a class="markdownIt-Anchor" href="#移情说"></a> 移情说</h3><p>提出：罗伯特费舍尔、立普斯《论移情作品，内模仿与感官感觉》</p><p>观点：<strong>认为美感是一种快感，但并非所有快感都是美感</strong></p><ul><li>快感：外物引起</li><li>美感：精神引起的，通过移情在外物感受到的——审美欣赏本质上是一个移情的过程</li></ul><p><strong>内容</strong></p><ul><li>审美的本质=移情——把主体的情感“移入”对象</li></ul><p>审美对象不是事物本身，而是事物的“空间意象”</p><p>结果：自我变成对象、对象变成自我</p><p>境界：“主客统一”的境界就是审美境界</p><p>例如：</p><ul><li><p>李白《独坐敬亭山》：“想看两不厌，只有敬亭山”</p></li><li><p>惠子“子非鱼，安知鱼之乐？”</p></li><li><ul><li>惠子——认识论</li><li>庄子——审美——移情</li></ul></li><li><p>审美欣赏的对象与其说是对象，不如说是自我</p></li></ul><p>审美移情中获得的自我价值感是对主体自我价值的肯定</p><p>悲剧：包含尊重和怜悯的成分，悲剧中的灾难感增加了价值感——心理堵塞原则</p><ul><li>移情主要取决于主体的态度</li></ul><p>对象的形式是移情的条件</p><p>更重要的是主体的态度</p><ul><li>懂得了移情，也能更好的欣赏艺术</li></ul><p>杜甫“感时花溅泪，恨别鸟惊心”移情的过程中主体与客体是同一的</p><p>中国美学——天人合一，情景交融</p><h3 id="直觉说"><a class="markdownIt-Anchor" href="#直觉说"></a> 直觉说</h3><p>提出：意大利哲学家克罗齐《精神哲学》《美学》《逻辑学》《实践哲学》……——“审美即直觉”</p><p>概念：<strong>概念形成之前的思维</strong></p><p><strong>人的精神活动</strong></p><p>认识活动</p><ul><li>直觉：对特殊事物的认识——艺术与审美——美丑</li><li>逻辑：对一般事物的认识——科学与哲学——真假</li></ul><p>实践活动</p><ul><li>功利：对特殊目的的追求——经济学——利害</li><li>道德：对一般目的的追求——伦理学——善恶</li></ul><p>直觉的特点</p><ul><li>独立：审美是一个相对独立的精神活动</li></ul><p>从直觉的产生看：直觉是想象得来的</p><p>从直觉的内容看：直觉是关于个体的</p><p>从直觉的对象看：直觉是针对个别事物的</p><p>从直觉的结果看：直觉的产生是形象化的意象，而不是概念</p><ul><li>静观：直觉是心灵赋形的活动，只在内心完成，不需要外在媒介</li><li>直接：审美不是逻辑活动，不需要分析和推理</li><li>创造：“直觉即表现，表现即创造”——直觉不等于感觉</li></ul><p>直觉一定是审美，审美层面的直觉还是直觉</p><h3 id="心理距离说"><a class="markdownIt-Anchor" href="#心理距离说"></a> 心理距离说</h3><p>提出：英国心理学家 布洛</p><p>观点：<strong>在审美活动中，只有当主体和对象之间保持着一种恰如其分的“心理距离”时，对象与主体才可能是美的</strong></p><p>朱光潜《悲剧心理学》：“进而熟悉的事物往往显得平常、庸俗甚至丑陋。但把他们放在一定距离之外，以超然的精神看待他们，则可能变得奇特、动人甚至美丽”</p><p>例1：</p><ul><li>如果要看山，要从湖中看</li><li>如果要看湖，要从岸上看</li></ul><p>例2：</p><ul><li>朝阳、黄昏和中午的太阳</li><li>旅游</li></ul><p><strong>内容</strong></p><p>距离是审美的前提、条件</p><p>距离的限制</p><ul><li>距离太大，没有美感——“超距”、“距离过度”</li><li>距离太小，把艺术混同于现实</li><li>距离合适：审美对象非毫不相干，又无直接利害</li></ul><h3 id="格式塔说"><a class="markdownIt-Anchor" href="#格式塔说"></a> 格式塔说</h3><p>格式塔诞生：1912年德国</p><ul><li>形式 VS 完形（形式心理学和完形心理学）</li><li>反对冯特心理学（现代心理学创始人）</li><li>元素主义、构造主义心理学</li><li>整体不等于部分之和</li></ul><p><strong>格式塔质的提出</strong></p><p>奥地利心理学家艾伦菲尔德《论格式塔质》：将格式塔质看做附加在其他元素之上的新元素（依旧是元素主义）</p><p>一般所说的格式塔心理学派：</p><p>柏林学派（维台默、科勒、考夫卡）</p><p><strong>格式塔心理学美学代表人物</strong></p><p>鲁道夫阿恩海姆《艺术与视知觉》：美国心理学家、美学家，科勒的追随者</p><p><strong>知觉与张力</strong></p><p>艺术作品的格式塔质，首先表现为包含在一件艺术品中的各种力组成了一个有机的整体，通过对各种力的关系的分析就能把握住艺术作品的结构本身</p><p>力的结构与艺术的表现性：表现性的基础在于力的结构</p><p>同构说：任何一个现象都是完型的，任何完型都有一个内部张力结构，两个现象的内部张力机构相对应，之间就存在一种关系——同构对应</p><p><strong>同构对应</strong></p><p>艺术作品中存在的力的结构可以在大脑皮层中找到生理力的心理对应物。例如：仁者乐山，智者乐水</p><p>外物的力的结构之所以与大脑皮层生理结构一致，根本原因在于它们都服从共同的组织规律，即格式塔心理学所推崇的图形律和完形取向律</p><p>艺术表现性的最终原因就在于艺术品的力的结构与人类情感的结构是同构的</p><p>审美欣赏使艺术作品的力的结构与主体情感结构的一致性得到具体实现。欣赏者的任务：通过同构对应物唤起情感</p><hr><p>本文自B站杨宁老师《美学原理》系列课程做笔记而成</p><p>源视频：<a href="https://www.bilibili.com/video/BV177411u7j8">https://www.bilibili.com/video/BV177411u7j8</a></p>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>美学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>美学原理笔记（三）美的本质-美的特殊性</title>
    <link href="/post/2516cc8.html"/>
    <url>/post/2516cc8.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、算法、电影、美学、 --><h3 id="美的普遍性带来的问题"><a class="markdownIt-Anchor" href="#美的普遍性带来的问题"></a> 美的普遍性带来的问题</h3><p><strong>共时性的审美问题（对称脸、平均脸）是否适应每个时代？</strong></p><p>如：</p><p>中国古代不同时期对审美的变化问题</p><p>《花花公子》的当月玩伴女郎</p><p>结论：我们对美的偏爱，是随时随地在变化</p><p>审美不仅仅是看脸问题，还有艺术品鉴赏问题</p><p>对一件艺术品的鉴赏力，关系到一系列知识储备——主观性</p><p><strong>美的特殊性问题（美的主观性）</strong></p><p>英国经验美学：美是主观的（第二阶段：神学美学）</p><p>代表：</p><ul><li>夏夫兹博里《论人、风俗、舆论和时代的特征》：美是靠内在的眼睛来辨别的</li></ul><ul><li><p>哈奇生《论美与德行两种观念的根源》：美感是天生的，即“内在感官”</p></li><li><p>博克《论崇高与美》：美是物体中能够引起爱或类似情感的某一性质和某些性质</p></li><li><p>休谟：美不是事物本身的性质，它只存在于静观者的心里，甚至每个人都感知到不同的美</p></li><li><p>洛克：人的心灵本来就是一块白板，直到从外部世界获得感性印象后，我们才能说这个孩子知道了这个世界的某个事物</p></li></ul><p>总结：所有被叫做人的观念的东西全部来自于人的经验</p><p><strong>核心观点</strong></p><p>没有感性经验就没有美——感性比理性更重要</p><p>美与我们的主观性密切相关——没有主观感觉和知觉，就不会有美</p><p>问题：现代美学的核心问题——审美无利害</p><ul><li><p>夏夫兹博里：审美感和道德感都是无利害的</p></li><li><p>博克：美关键在于是否采取了一种无利害的态度，有了这种态度就能欣赏美。</p><p><strong>大陆理性派：作为理性认识的美的概念论</strong></p><p>代表：</p><p>法国-狄德罗《关于美的根源及其本质的哲学探讨》：美在关系；美是在我们心里引起对愉快关系的知觉的效力或能力——预示着近代以人为中心的表现论的崛起</p><p>德国-莱布尼茨：美是明晰的混乱的认识</p><ul><li>表面：知识来源于感觉经验</li></ul><ul><li>实际：之所以能够认识事物和把握真理，就在于我们心灵中有一种潜在的真理或者观念能力</li></ul><p>德国-鲍姆加登《诗的哲学默想录》——美学学科的诞生</p><ul><li>美是感性认识的完善</li></ul><ul><li>美学学科的诞生建立在美的主观性上</li></ul><h3 id="美学研究的关键转折"><a class="markdownIt-Anchor" href="#美学研究的关键转折"></a> 美学研究的关键转折</h3><p><strong>悖论</strong></p><p>美学的学科性——美必须具有普遍客观性</p><p>美学研究美感——美必须具有主观特殊性</p><p>**如何调和美（**主观性与特殊性——普遍性与客观性）</p><p>研究转变历史</p><ol><li><p>18世纪前——美的研究</p></li><li><p>18世纪——美感的研究</p></li><li><p>19世纪——艺术的研究</p></li><li><p>20世纪——解构的研究</p></li></ol><h4 id="康德美学判断力批判"><a class="markdownIt-Anchor" href="#康德美学判断力批判"></a> 康德美学《判断力批判》</h4><p>康德哲学</p><p>传统形而上学：寻找经验层面以外的本质规律——这个规律真实存在，主体去寻找它</p><p>康德的形而上学革命：认识如何可能——有没有客观规律不知道，只能知道主观如何符合客观</p><p>康德美学</p><p>传统美学：认为美是客观的，美学研究就是要寻找这个规律</p><p>康德美学：是否客观不知道，只关注美感是如何可能的</p><p><strong>康德三大批判</strong></p><p>《纯粹理性批判》——认识论——真</p><p>《实践理性批判》——伦理学——善</p><p>《判断力批判》——美学——美</p><p>康德的基本思路：哥白尼式革命</p><p>康德以前：美学应该首先回答“美是什么”，再回答审美是什么，美感是什么</p><p>康德以后：美学应该首先回答“如果我认为一个东西是美的，需要具备什么条件”</p><p>批判：追问知识如何可能——审美如何可能</p><p>基本內容</p><p>美感即审美愉快。（美感是一种快感）</p><p>快感不都是美感——有些快感和现实功利目的联系在一起，即与利害相关</p><h4 id="快感的三种形式"><a class="markdownIt-Anchor" href="#快感的三种形式"></a> 快感的三种形式</h4><p><strong>生理快感</strong>——感官刺激引起的愉快</p><ul><li>有依赖性：需要刺激物</li></ul><ul><li>没有自由性：必须愉快，被对象所征服</li><li>本质：趋利避害、趋生避死——自我保护的手段</li></ul><p><strong>道德快感</strong>——道德满足引起的愉快</p><ul><li>勉强的愉快</li></ul><ul><li>不具有独立性，必须理智服从于伦理标准和价值判断</li></ul><p><strong>审美快感</strong>——无利害的愉快</p><ul><li>康德：形式引起诸认识能力和谐而产生的愉快</li></ul><ul><li>认识能力：感觉；想象；知性；理性</li><li>美：满足与想象力、感觉、知性和谐</li><li>完全独立、自足——不依赖别的事物</li></ul><p>ps：中国古代“美”的字源学研究</p></li></ul><p>​                          <img src="https://mmbiz.qpic.cn/mmbiz_png/yp6ww6qEQB1P6dh9QocbdDTWnJaYibBjqXnMicIH083OdCMMicd0EQ3CK837I2X4El65ibRjpczH2u2xOvPupuNkdQ/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"></p><p>羊大为美</p><p>羊人为美</p><p>羊女为美</p><p>古人的审美意识：美感=快感</p><h3 id="康德对美的区分"><a class="markdownIt-Anchor" href="#康德对美的区分"></a> 康德对美的区分</h3><p>纯粹美：审美快感</p><p>依存美：生理快感、道德快感</p><h4 id="审美快感的独特性"><a class="markdownIt-Anchor" href="#审美快感的独特性"></a> 审美快感的独特性</h4><p>感官判断和道德判断的共同点：由愉快而生判断</p><p>审美判断则相反：由判断而生愉快——不是时间上的先后，而是逻辑先后</p><p>四个关键</p><ol><li><strong>非功利而具有愉悦感</strong></li></ol><p>无利害——现实功利——距离产生美——不是物理距离，而是和你实用性的距离</p><p>朱光潜《谈美》：“脱离现实用途才叫美”</p><ol start="2"><li><strong>非概念而具有普遍性</strong></li></ol><p>功利性快感、生理性快感没有普遍性</p><p>美感却要求普遍性</p><p>问题：</p><p>具有普遍性的，只有逻辑和概念，美是感性的、具体的、形象的、个性的，但具有普遍性</p><p>两者互相矛盾，即二律背反</p><ol start="3"><li><strong>无目的而具有合目的</strong></li></ol><p>无目的：审美主体不是为了得到什么——审美对象的存在不以审美为目的</p><p>合目的：审美主体最终却满足了需求——审美对象特性恰好符合主观愿望</p><ol start="4"><li><strong>无概念而具必然性</strong></li></ol><ul><li>共同感：内在能力——心意状态也可以普遍转达。：孟子四端之心</li></ul><h3 id="20世纪50~60年代中国关于美的本质讨论"><a class="markdownIt-Anchor" href="#20世纪50~60年代中国关于美的本质讨论"></a> 20世纪50~60年代中国关于美的本质讨论</h3><p><strong>美学大讨论的核心</strong></p><p>关于美的三个方面的问题：</p><ol><li><p>“什么是美”</p></li><li><p>“美如何产生”</p></li><li><p>“美如何存在”</p></li></ol><h4 id="大讨论中的四种观点"><a class="markdownIt-Anchor" href="#大讨论中的四种观点"></a> 大讨论中的四种观点</h4><ul><li>蔡仪《新美学》——美是客观的</li></ul><p>自然物本身就是美，现实事物的美是美感的根源，不依赖于人而存在</p><ul><li>吕荧、高尔泰《论美》——美是主观的</li></ul><p>美是物在人的主观的反映，是一种概念</p><ul><li>李泽厚——美是客观性和社会性的统一</li></ul><p>梅花的美在于梅花本身——美的客观性</p><p>梅花的美不源于梅花的自然性，源于梅花的社会性——美的社会性</p><ul><li>朱光潜——美是主观和客观的统一</li></ul><p>眼中之竹——自然物</p><p>胸中之竹——象</p><p>手中之竹——艺术作品</p><p>艺术美和自然美的统一性</p><p>对美的社会性做了合理的解释</p><p>对美学大讨论的审视</p><p>始终认为存在于一个超越经验的“美”</p><p><strong>本质主义的思维方式</strong></p><p>主观与客观的问题，依旧不是美的本质，只是美的性质</p><p>美的本质问题可能只是伪命题</p><h3 id="当代中国美学流派"><a class="markdownIt-Anchor" href="#当代中国美学流派"></a> 当代中国美学流派</h3><p>蔡仪——客观论美学——“美是什么 是伪命题”——李志宏：认知派美学</p><p>李泽厚——客观性欲社会性——实践派美学——朱立元：时间存在论美学</p><p>蒋孔阳——人的本质力量对象化——朱立元：实践存在论美学</p><p>朱光潜、宗白华——主客观统一论——叶郎：美在意象</p><p>黄药眠——美是评价——童庆炳：美在关系</p><p>周来祥——美是和谐自由——和谐派美学</p><hr><p>本文自B站杨宁老师《美学原理》系列课程做笔记而成</p><p>源视频：<a href="https://www.bilibili.com/video/BV177411u7j8">https://www.bilibili.com/video/BV177411u7j8</a></p>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>美学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>美学原理笔记（二）美的本质-美的普遍性</title>
    <link href="/post/94de73f.html"/>
    <url>/post/94de73f.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、算法、电影、美学、 --><h3 id="美学的基本问题"><a class="markdownIt-Anchor" href="#美学的基本问题"></a> 美学的基本问题</h3><p><strong>美是什么？</strong></p><ul><li><p>美是什么 和 什么是美 是两个问题</p></li><li><p>给&quot;美&quot;下定义是很难的</p></li><li><p>美是什么？美是因人而异的？</p></li></ul><p><strong>美是否具有普遍性？</strong></p><p>如：</p><p>这个杯子是红的——事实判断——证明</p><p>这个杯子是热的——感官判断——无法证明——不要求大家普遍同意</p><p>这个杯子是美的——审美判断——无法证明——要求大家普遍同意</p><p>审美判断、趣味背后是一个人一生见到的全部东西的总和。审美意味着选择，选择的本质是做判断，判断的基础是见识。</p><p>问题：审美判断与事实判断、感官判断的区别</p><p>审美判断是个人主观感觉的判断，但又要求普遍同意</p><p>有特殊性的同时又寻求普遍性</p><p><strong>美学为什么能成为一门学科？</strong></p><p>蕴含着一种普遍性——美不为个人意志转移——美的客观性——美的规律性——学科</p><p>中西方美学史上关于美的普遍性认识历程（第一阶段：美的研究）</p><p>毕达哥拉斯（古希腊美学开山鼻祖）：数是万物之源，美是和谐的数</p><p>苏格拉底：一个东西美不美，不在于它合不合规律，而在于它合不合目的。美就是有用</p><p>柏拉图：美是理念。</p><ul><li>洞穴之喻：光明世界：理念世界 VS 影子世界：现实世界</li><li>床之喻：现实事物都是对理念事物的分有和模仿。</li><li>美就是理念：美的客观原则性（客观性和普遍性）</li></ul><p>迷狂：</p><ul><li>高级——理智的迷狂——哲学</li><li>中级——诗性的迷狂——艺术</li><li>低级——宗教的迷狂——宗教</li></ul><h3 id="现代审美心理学对美普遍性的印证"><a class="markdownIt-Anchor" href="#现代审美心理学对美普遍性的印证"></a> 现代审美心理学对美普遍性的印证</h3><p><strong>《什么是美学》周宪</strong></p><p>人脸实验：实验结果:算数级数越高的合成图像，越具有吸引力，也就越美</p><p>成人与婴儿对美的判断是否相同：试验结果：是的</p><p>美有共性吗？怎么可能有定标准呢？</p><p>从年龄来看——择偶：女性以成熟男性为美；男性以年轻女性为美</p><p><strong>核心观点</strong></p><p>人的核心任务就是传宗接代，保留基因——人类所有行为、爱好都是为基因服务</p><ul><li><p>美：基因变异少——基因遗传稳定性高</p></li><li><p>不美：基因变异多</p></li></ul><p>遗传心理学：美终究不过是基因的奴隶</p><ul><li>问题：我们是否应该成为基因的奴隶？</li></ul><hr><p>本文自B站杨宁老师《美学原理》系列课程做笔记而成</p><p>源视频：<a href="https://www.bilibili.com/video/BV177411u7j8">https://www.bilibili.com/video/BV177411u7j8</a><br>~</p>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>美学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>美学原理笔记（一）导论</title>
    <link href="/post/7f3139a8.html"/>
    <url>/post/7f3139a8.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News、work--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo、算法、运维、网络、算法、电影、美学、 --><h3 id="美学的学科性质"><a class="markdownIt-Anchor" href="#美学的学科性质"></a> 美学的学科性质</h3><h4 id="美学性质"><a class="markdownIt-Anchor" href="#美学性质"></a> 美学性质</h4><ul><li>美学无法学以致用</li><li>美学问题是讨论事物美的原因，讨论其背后的逻辑。如：艺术有标准吗？</li><li>研究“问题背后的问题”“标准背后的标准”——艺术和审美中带有普遍性和根本性的问题</li></ul><p><strong>美学与其他学科的关系</strong></p><p>美学与艺术：交叉</p><p>美学=艺术审美+现实审美</p><p>艺术学=抽象艺术审美形态+具体艺术内容</p><p><strong>美学与心理学</strong></p><p>心理学是对心理现象的外在观测——记录生理变量——自然科学</p><p>美学立足与审美心理内在体验——理解审美心理——人文科学</p><p><strong>美学与哲学</strong></p><p>一部电影好不好——分歧——元问题——审美才是电影的本质——电影是什么——哲学讨论</p><p>美学在本质上是属于哲学的——哲学=知识（抽象）；</p><p>哲学和数学一样，有趣的地方不在知识而在方法</p><p>哲学的本义：爱智慧</p><p>美学的本义：爱的是关于美和艺术的智慧（爱+智慧+艺术美）。为了既心安理得又心情舒畅地活着</p><p><strong>美学的学科定位</strong></p><p>门类艺术学：音乐、绘画、建筑、电影</p><p>一般艺术学：把各门类艺术总起来研究</p><p>美学：艺术的哲学问题，研究艺术总特征和总规律的总根子</p><h3 id="关于美学研究对象的几种看法"><a class="markdownIt-Anchor" href="#关于美学研究对象的几种看法"></a> 关于美学研究对象的几种看法</h3><p><strong>研究美和美的规律</strong></p><p>柏拉图——研究美的本身、美的本质规律</p><p>柏拉图《大希庇阿斯篇》——希庇阿斯VS苏格拉底</p><p>苏格拉底问“美是什么”——美丽的小姐、美丽的母马、美丽的陶罐——美到底是什么</p><p>柏拉图的暗示：从感性具体的现象触发，永远回答不了这个问题</p><p>美究竟是什么？美是禅悦感性具象之上的，即普遍性</p><p>悖论：美只能是抽象普遍，美又必须感性具体。</p><p>问题：提问的方式决定了问题的答案，追问美是什么，即给美的背后预设了美是一个东西</p><p><strong>研究艺术</strong></p><p>黑格尔——美学虽然也研究美的本质，但只是艺术美，不研究自然美</p><ul><li>美学=艺术哲学</li><li>问题：美学与艺术学有何区别？答案：从哲学高度研究艺术</li></ul><p><strong>研究审美经验和审美心理</strong></p><p>研究人自身的审美经验：审美感受、感情、体验</p><ul><li>17/18世纪英国经验派：相信经验是可靠的，客观的美不存在。20世纪放之四海而皆准的美的本质是不可能的</li><li>逻辑实证主义（分析哲学）：只有能够被证实、证伪</li></ul><p>美学研究的重点转向了人们的审美经验：</p><p>维特根斯坦——美是一个形容词，用法不同意义也不同，无法用一个定义规定什么是美</p><p>实用主义美学家杜威——《艺术即经验》</p><p>新自然主义美学家托马斯门罗</p><p>中国美学家李泽厚：以美感经验为中心研究美和艺术</p><p><strong>研究审美心理活动</strong></p><p>美学在心理上是怎么产生的？从心理学角度研究——审美心理学</p><ul><li>19世纪德国费希纳《实验美学》《美学入门》</li><li>精神分析弗洛伊德：从无意识层面理解文艺中的心理学问题</li><li>精神分析卡尔荣格：集体无意识、原型理论</li><li>布洛：心理距离说</li><li>阿恩海姆：完形心理学——格式塔心理学</li></ul><p><strong>研究人和现实之间的审美关系</strong></p><ul><li>中国蒋孔阳《美学新论》：研究人对现实的审美关系</li><li>美学研究体现着人与世界的审美关系的一切审美现象或审美活动</li></ul><h3 id="美学的作用"><a class="markdownIt-Anchor" href="#美学的作用"></a> 美学的作用</h3><ul><li>满足人类好奇心，探索未知愿望</li><li>美学不联系生活的实际、只联系理论的实际</li></ul><p>研究美和艺术：启迪智慧</p><ul><li>教育本来的目的：人的全面自由发展</li><li>教育应该传授方法</li></ul><h3 id="美学的研究方法和参考书"><a class="markdownIt-Anchor" href="#美学的研究方法和参考书"></a> 美学的研究方法和参考书</h3><p><strong>人文科学VS自然科学VS社会科学</strong></p><ul><li><p>自然科学：典型的科学研究——结论需要证明（证实、证伪）</p></li><li><p>社会科学：不典型的科学研究——结论需要证明（证实、证伪）</p></li><li><p>人文科学：非科学研究——结论不能被证实、证伪</p></li></ul><p><strong>学习美学与热爱艺术、文艺</strong></p><ul><li>许多人只是热爱一种看似文艺的生活方式</li><li>许多人是想掌握一种看似高雅的方式标榜自己的趣味</li></ul><p><strong>参考书</strong></p><ul><li><p>《美学原理》——马克思主义理论研究和建设工程重点教材</p></li><li><p>《美学》朱立元</p></li><li><p>《现代美学体系》叶郎</p></li><li><p>《美学导论》张法</p></li><li><p>《美学四讲》李泽厚</p></li><li><p>《判断力批判》康德</p></li><li><p>《美学》黑格尔</p></li><li><p>《作为意志和表象的世界》叔本华</p></li></ul><p>西方美学：</p><p>《西方美学史》朱光潜</p><p>《西方美学通史》蒋孔阳、朱立元</p><p>《艺术的故事》贡布里希</p><p>中国美学：</p><p>《中国美学史大纲》</p><p>《美的历程》李泽厚</p><p>《美学散步》宗白华</p><p>《美是自由的象征》高尔泰</p><hr><p>本文自B站杨宁老师《美学原理》系列课程做笔记而成</p><p>源视频：<a href="https://www.bilibili.com/video/BV177411u7j8">https://www.bilibili.com/video/BV177411u7j8</a></p>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>美学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法的时间与空间复杂度</title>
    <link href="/post/bc5d8ac6.html"/>
    <url>/post/bc5d8ac6.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo --><p>算法（Algorithm）是指用来操作数据、解决程序问题的一组方法。对于同一个问题，使用不同的算法，也许最终得到的结果是一样的，但在过程中消耗的资源和时间却会有很大的区别。</p><p>那么我们应该如何去衡量不同算法之间的优劣呢？</p><p>主要还是从算法所占用的「时间」和「空间」两个维度去考量。</p><ul><li>时间维度：是指执行当前算法所消耗的时间，我们通常用「时间复杂度」来描述。</li><li>空间维度：是指执行当前算法需要占用多少内存空间，我们通常用「空间复杂度」来描述。</li></ul><p>因此，评价一个算法的效率主要是看它的时间复杂度和空间复杂度情况。然而，有的时候时间和空间却又是「鱼和熊掌」，不可兼得的，那么我们就需要从中去取一个平衡点。</p><p>下面我来分别介绍一下「时间复杂度」和「空间复杂度」的计算方式</p><h2 id="一-时间复杂度"><a class="markdownIt-Anchor" href="#一-时间复杂度"></a> 一、时间复杂度</h2><p>我们想要知道一个算法的「时间复杂度」，很多人首先想到的的方法就是把这个算法程序运行一遍，那么它所消耗的时间就自然而然知道了。</p><p>这种方式可以吗？当然可以，不过它也有很多弊端。<br>这种方式非常容易受运行环境的影响，在性能高的机器上跑出来的结果与在性能低的机器上跑的结果相差会很大。而且对测试时使用的数据规模也有很大关系。再者，并我们在写算法的时候，还没有办法完整的去运行呢。</p><p>因此，另一种更为通用的方法就出来了：「 <strong>大O符号表示法</strong> 」，即 T(n) = O(f(n))</p><p>我们先来看个例子：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">for(i=1; i&lt;=n; ++i)<br>&#123;<br>   j = i;<br>   j++;<br>&#125;<br></code></pre></td></tr></table></figure><p>通过「 大O符号表示法 」，这段代码的时间复杂度为：O(n) ，为什么呢?</p><p>在 大O符号表示法中，时间复杂度的公式是： T(n) = O( f(n) )，其中f(n) 表示每行代码执行次数之和，而 O 表示正比例关系，这个公式的全称是：<strong>算法的渐进时间复杂度</strong>。</p><p>我们继续看上面的例子，假设每行代码的执行时间都是一样的，我们用 1颗粒时间 来表示，那么这个例子的第一行耗时是1个颗粒时间，第三行的执行时间是 n个颗粒时间，第四行的执行时间也是 n个颗粒时间（第二行和第五行是符号，暂时忽略），那么总时间就是 1颗粒时间 + n颗粒时间 + n颗粒时间 ，即 (1+2n)个颗粒时间，即： T(n) = (1+2n)*颗粒时间，从这个结果可以看出，这个算法的耗时是随着n的变化而变化，因此，我们可以简化的将这个算法的时间复杂度表示为：T(n) = O(n)</p><p>为什么可以这么去简化呢，因为大O符号表示法并不是用于来真实代表算法的执行时间的，它是用来表示代码执行时间的增长变化趋势的。</p><p>所以上面的例子中，如果n无限大的时候，T(n) = time(1+2n)中的常量1就没有意义了，倍数2也意义不大。因此直接简化为T(n) = O(n) 就可以了。</p><p>常见的时间复杂度量级有：</p><ul><li>常数阶O(1)</li><li>对数阶O(logN)</li><li>线性阶O(n)</li><li>线性对数阶O(nlogN)</li><li>平方阶O(n²)</li><li>立方阶O(n³)</li><li>K次方阶O(n^k)</li><li>指数阶(2^n)</li></ul><p>上面从上至下依次的时间复杂度越来越大，执行的效率越来越低。</p><p>下面选取一些较为常用的来讲解一下（没有严格按照顺序）：</p><ol><li><strong>常数阶O(1)</strong></li></ol><p>无论代码执行了多少行，只要是没有循环等复杂结构，那这个代码的时间复杂度就都是O(1)，如：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">int i = 1;<br>int j = 2;<br>++i;<br>j++;<br>int m = i + j;<br></code></pre></td></tr></table></figure><p>上述代码在执行的时候，它消耗的时候并不随着某个变量的增长而增长，那么无论这类代码有多长，即使有几万几十万行，都可以用O(1)来表示它的时间复杂度。</p><ol start="2"><li><strong>线性阶O(n)</strong></li></ol><p>这个在最开始的代码示例中就讲解过了，如：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">for(i=1; i&lt;=n; ++i)<br>&#123;<br>   j = i;<br>   j++;<br>&#125;<br></code></pre></td></tr></table></figure><p>这段代码，for循环里面的代码会执行n遍，因此它消耗的时间是随着n的变化而变化的，因此这类代码都可以用O(n)来表示它的时间复杂度。</p><ol start="3"><li><strong>对数阶O(logN)</strong></li></ol><p>还是先来看代码：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">int i = 1;<br>while(i&lt;n)<br>&#123;<br>    i = i * 2;<br>&#125;<br></code></pre></td></tr></table></figure><p>从上面代码可以看到，在while循环里面，每次都将 i 乘以 2，乘完之后，i 距离 n 就越来越近了。我们试着求解一下，假设循环x次之后，i 就大于 n 了，此时这个循环就退出了，也就是说 2 的 x 次方等于 n，那么 x = log2^n<br>也就是说当循环 log2^n 次以后，这个代码就结束了。因此这个代码的时间复杂度为：<strong>O(logn)</strong></p><ol start="4"><li><strong>线性对数阶O(nlogN)</strong></li></ol><p>线性对数阶O(nlogN) 其实非常容易理解，将时间复杂度为O(logn)的代码循环N遍的话，那么它的时间复杂度就是 n * O(logN)，也就是了O(nlogN)。</p><p>就拿上面的代码加一点修改来举例：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs text">for(m=1; m&lt;n; m++)<br>&#123;<br>    i = 1;<br>    while(i&lt;n)<br>    &#123;<br>        i = i * 2;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="5"><li><strong>平方阶O(n²)</strong></li></ol><p>平方阶O(n²) 就更容易理解了，如果把 O(n) 的代码再嵌套循环一遍，它的时间复杂度就是 O(n²) 了。<br>举例：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs text">for(x=1; i&lt;=n; x++)<br>&#123;<br>   for(i=1; i&lt;=n; i++)<br>    &#123;<br>       j = i;<br>       j++;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>这段代码其实就是嵌套了2层n循环，它的时间复杂度就是 O(n*n)，即 O(n²)<br>如果将其中一层循环的n改成m，即：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs text">for(x=1; i&lt;=m; x++)<br>&#123;<br>   for(i=1; i&lt;=n; i++)<br>    &#123;<br>       j = i;<br>       j++;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>那它的时间复杂度就变成了 O(m*n)</p><ol start="6"><li><strong>立方阶O(n³)</strong>、<strong>K次方阶O(n^k)</strong></li></ol><p>参考上面的O(n²) 去理解就好了，O(n³)相当于三层n循环，其它的类似。</p><p>除此之外，其实还有 平均时间复杂度、均摊时间复杂度、最坏时间复杂度、最好时间复杂度 的分析方法，有点复杂，这里就不展开了。</p><h2 id="二-空间复杂度"><a class="markdownIt-Anchor" href="#二-空间复杂度"></a> <strong>二、空间复杂度</strong></h2><p>既然时间复杂度不是用来计算程序具体耗时的，那么我也应该明白，空间复杂度也不是用来计算程序实际占用的空间的。</p><p>空间复杂度是对一个算法在运行过程中临时占用存储空间大小的一个量度，同样反映的是一个趋势，我们用 S(n) 来定义。</p><p>空间复杂度比较常用的有：O(1)、O(n)、O(n²)，我们下面来看看：</p><ol><li><strong>空间复杂度 O(1)</strong></li></ol><p>如果算法执行所需要的临时空间不随着某个变量n的大小而变化，即此算法空间复杂度为一个常量，可表示为 O(1)<br>举例：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">int i = 1;<br>int j = 2;<br>++i;<br>j++;<br>int m = i + j;<br></code></pre></td></tr></table></figure><p>代码中的 i、j、m 所分配的空间都不随着处理数据量变化，因此它的空间复杂度 S(n) = O(1)</p><ol start="2"><li><strong>空间复杂度 O(n)</strong></li></ol><p>我们先看一个代码：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs text">int[] m = new int[n]<br>for(i=1; i&lt;=n; ++i)<br>&#123;<br>   j = i;<br>   j++;<br>&#125;<br></code></pre></td></tr></table></figure><p>这段代码中，第一行new了一个数组出来，这个数据占用的大小为n，这段代码的2-6行，虽然有循环，但没有再分配新的空间，因此，这段代码的空间复杂度主要看第一行即可，即 S(n) = O(n)</p><p>以上，就是对算法的时间复杂度与空间复杂度基础的分析，欢迎大家一起交流。</p><p>转载自知乎专栏<br>原文：<a href="https://zhuanlan.zhihu.com/p/50479555">https://zhuanlan.zhihu.com/p/50479555</a></p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>算法</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>使用ping命令丢包或不通时的链路测试方法(阿里云)</title>
    <link href="/post/92548214.html"/>
    <url>/post/92548214.html</url>
    
    <content type="html"><![CDATA[<p>本文出自阿里云官方文档。对网络运维稍有帮助，简单Copy记录一下</p><span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo --><h3 id="概述"><a class="markdownIt-Anchor" href="#概述"></a> 概述</h3><p>当客户端访问目标服务器出现ping丢包或ping不通时，可以通过<code>tracert</code>或<code>mtr</code>等工具进行链路测试来判断问题根源。本文主要介绍如何通过工具进行链路测试和分析。</p><h3 id="详细信息"><a class="markdownIt-Anchor" href="#详细信息"></a> 详细信息</h3><blockquote><p>阿里云提醒您：</p><ul><li>如果您对实例或数据有修改、变更等风险操作，务必注意实例的容灾、容错能力，确保数据安全。</li><li>如果您对实例（包括但不限于ECS、RDS）等进行配置与数据修改，建议提前创建快照或开启RDS日志备份等功能。</li><li>如果您在阿里云平台授权或者提交过登录*、*等安全信息，建议您及时修改。</li></ul></blockquote><p>使用ping命令丢包或者网络不通时，可参见以下操作步骤进行链路测试并进行处理，想了解链路测试中所使用工具的更多介绍请参见更多信息。</p><ul><li>链路测试步骤</li><li>测试结果的简要分析</li><li>测试完成后的解决方法</li><li>常见的链路异常场景<ul><li>场景一：目标主机网络配置不当</li><li>场景二：ICMP限速</li><li>场景三：环路</li><li>场景四：链路中断</li></ul></li></ul><h4 id="链路测试步骤"><a class="markdownIt-Anchor" href="#链路测试步骤"></a> 链路测试步骤</h4><p>通常情况下，链路测试步骤如下：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/66d1df5c-c587-4ac8-8fe2-d5237dc2c9d6.png" alt></p><h5 id="步骤一获取本地网络对应的公网ip"><a class="markdownIt-Anchor" href="#步骤一获取本地网络对应的公网ip"></a> 步骤一：获取本地网络对应的公网IP</h5><p>在客户端本地网络内访问淘宝IP地址库，获取本地网络对应的公网IP地址。</p><h5 id="步骤二正向链路测试ping和mtr"><a class="markdownIt-Anchor" href="#步骤二正向链路测试ping和mtr"></a> 步骤二：正向链路测试（ping和mtr）</h5><p>从客户端向目标服务器做以下测试：</p><ul><li>从客户端向目标服务器域名或IP做持续的ping测试，建议至少ping 100个数据包，记录测试结果。</li><li>根据客户端操作系统的不同，使用WinMTR或mtr，设置测试目的地址为目标服务器域名或IP，然后进行链路测试，记录测试结果。</li></ul><h5 id="步骤三反向链路测试ping和mtr"><a class="markdownIt-Anchor" href="#步骤三反向链路测试ping和mtr"></a> 步骤三：反向链路测试（ping和mtr）</h5><p>进入目标服务器系统内部做以下测试：</p><ul><li>从目标服务器向步骤一获取的客户端IP做持续的ping测试，建议至少ping 100个数据包，记录测试结果。</li><li>根据目标服务器操作系统的不同，使用WinMTR或mtr，设置测试目的地址为客户端的IP地址，然后进行链路测试，记录测试结果。</li></ul><h5 id="步骤四测试结果分析"><a class="markdownIt-Anchor" href="#步骤四测试结果分析"></a> 步骤四：测试结果分析</h5><p>参见<strong>测试结果的简要分析</strong>，对测试结果进行分析。确认异常节点后，访问<a href="https://ip.taobao.com/ipSearch?spm=a2c4g.11186623.0.0.7ac7331f36XysO">淘宝IP地址库</a>或其他可以查询IP归属地的网站，获取该异常节点的归属运营商信息。如果是客户端本地网络相关节点出现异常，则需要对本地网络进行相应排查分析。如果是运营商相关节点出现异常，则需要向运营商反馈问题。查询结果类似如下。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/c2de82d4-177e-4538-9a1d-b07e4024f374.png" alt></p><h4 id="测试结果的简要分析"><a class="markdownIt-Anchor" href="#测试结果的简要分析"></a> 测试结果的简要分析</h4><p>由于mtr（WinMTR）有更高的准确性，本文以其测试结果为例，参见以下要点进行分析。此处分析时以如下示例图为基础。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/17fc8b0c-276e-4373-87eb-814342c16edf.png" alt></p><h5 id="要点一网络区域"><a class="markdownIt-Anchor" href="#要点一网络区域"></a> 要点一：网络区域</h5><p>正常情况下，从客户端到目标服务器的整个链路中会包含以下网络区域：</p><blockquote><p><strong>说明</strong>：您可以通过<a href="https://ip.taobao.com/ipSearch">IP地址库</a>确认IP地址所属网络情况。</p></blockquote><ul><li>客户端本地网络：即本地局域网和本地网络提供商网络。如上图中的区域A。如果该区域出现异常，并且是客户端本地网络中的节点出现异常，则需要对本地网络进行相应的排查分析。如果是本地网络提供商网络出现异常，则需要向当地运营商反馈问题。</li><li>运营商网络：如上图中的区域B。如果该区域出现异常，可以根据异常节点的IP查询其所属的运营商，直接向对应运营商进行反馈。</li><li>目标服务器本地网络：即目标服务器所属提供商的网络。如上图中的区域C。如果该区域出现异常，需要向目标服务器所属的网络运营商反馈问题。</li></ul><h5 id="要点二链路负载均衡"><a class="markdownIt-Anchor" href="#要点二链路负载均衡"></a> 要点二：链路负载均衡</h5><p>如上图中的区域D。如果中间链路某些部分启用了链路负载均衡，则mtr只会对首尾节点进行编号和探测统计。中间节点只会显示相应的IP或域名信息。</p><h5 id="要点三结合avg平均值和stdev标准偏差综合判断"><a class="markdownIt-Anchor" href="#要点三结合avg平均值和stdev标准偏差综合判断"></a> 要点三：结合Avg（平均值）和StDev（标准偏差）综合判断</h5><p>由于链路抖动或其它因素的影响，节点的Best和Worst值可能相差很大。Avg统计了自链路测试以来所有探测的平均值，所以能更好的反应出相应节点的网络质量。而StDev越高，则说明数据包在相应节点的延时值越不相同，即越离散。所以标准偏差值可用于协助判断Avg是否真实反应了相应节点的网络质量。例如，如果标准偏差很大，说明数据包的延迟是不确定的。可能某些数据包延迟很小，例如25ms，而另一些延迟却很大，例如350ms，但最终得到的平均延迟反而可能是正常的。所以，此时Avg并不能很好的反应出实际的网络质量情况。</p><p>综上所属，建议的分析标准如下：</p><ul><li><p>如果StDev很高，则同步观察相应节点的Best和Worst，来判断相应节点是否存在异常。</p></li><li><p>如果StDev不高，则通过Avg来判断相应节点是否存在异常。</p><blockquote><p>**注意：**上述StDev高或者不高，并没有具体的时间范围标准。而需要根据同一节点其它列的延迟值大小来进行相对评估。比如，如果Avg为30ms，那么，当StDev为25ms，则认为是很高的偏差。而如果Avg为325ms，StDev为25ms，反而认为是不高的偏差。</p></blockquote></li></ul><h5 id="要点四loss丢包率的判断"><a class="markdownIt-Anchor" href="#要点四loss丢包率的判断"></a> 要点四：Loss%（丢包率）的判断</h5><p>任一节点的Loss%（丢包率）如果不为零，则说明这一跳网络可能存在问题。导致相应节点丢包的原因通常有以下两种：</p><ul><li>运营商基于安全或性能需求，限制了节点的ICMP发送速率，导致丢包。</li><li>节点确实存在异常，导致丢包。</li></ul><p>结合异常节点及其后续节点的丢包情况，并参见以下内容，判定丢包原因。</p><ul><li>如果随后节点均没有丢包，则通常表示异常节点丢包是由于运营商策略限制所致。可以忽略相关丢包。如上图中的第2跳所示。</li><li>如果随后节点也出现丢包，则通常说明异常节点确实存在网络异常，导致丢包。如上图中的第5跳所示。</li></ul><p>另外，上述两种情况可能同时发生，即相应节点既存在策略限速，又存在网络异常。对于这种情况，如果异常节点及其后续节点连续出现丢包，而且各节点的丢包率不同，则通常以最后几跳的丢包率为准。如上图所示，在第 5、6、7跳均出现了丢包。所以，最终丢包情况，以第7跳的40%作为参考。</p><h5 id="要点五关于延迟"><a class="markdownIt-Anchor" href="#要点五关于延迟"></a> 要点五：关于延迟</h5><p>关于延迟，有以下两种场景：</p><ul><li>场景一：延迟跳变</li></ul><p>如果在某一跳之后延迟明显陡增，则通常判断该节点存在网络异常。如上图所示，从第5跳之后的后续节点延迟明显陡增，则推断是第5跳节点出现了网络异常。不过，高延迟并不一定完全意味着相应节点存在异常。如上图所示，第5跳之后，虽然后续节点延迟明显陡增，但测试数据最终仍然正常到达了目的主机。所以，延迟大也有可能是在数据回包链路中引发的。所以，需要结合反向链路测试一并分析。</p><ul><li>场景二：ICMP限速导致延迟增加</li></ul><p>ICMP策略限速也可能会导致相应节点的延迟陡增，但后续节点通常会恢复正常。如上图所示，第3跳有100%的丢包率，同时延迟也明显陡增。但随后节点的延迟马上恢复了正常。所以判断该节点的延迟陡增及丢包是由于策略限速所致。</p><h4 id="测试完成后的解决方法"><a class="markdownIt-Anchor" href="#测试完成后的解决方法"></a> 测试完成后的解决方法</h4><ul><li>当出现ping丢包或ping不通时，首先请参考<a href="https://help.aliyun.com/document_detail/73607.htm">云服务器ECS网络故障诊断</a>，排查是否为网络故障。</li><li>如果确认是因系统中病毒导致使用ping命令测试ECS实例的IP地址间歇性丢包，则可参考<a href="https://help.aliyun.com/document_detail/73247.htm">使用ping命令测试ECS实例的IP地址间歇性丢包</a>进行处理。</li><li>如果是因删除ECS实例的默认安全组规则导致无法ping通ECS实例，可参考<a href="https://help.aliyun.com/document_detail/40596.htm">删除ECS实例的默认安全组规则导致无法ping通ECS实例</a>进行处理。</li><li>如果在Linux系统内核没有禁PING的情况下，是因系统内部防火墙策略设置导致ECS服务器PING不通。可参考<a href="https://help.aliyun.com/document_detail/41332.htm">Linux系统的ECS中没有禁PING却PING不通的解决方法</a>。</li></ul><h4 id="常见的链路异常场景"><a class="markdownIt-Anchor" href="#常见的链路异常场景"></a> 常见的链路异常场景</h4><p>常见的链路异常场景及测试报告如下：</p><h5 id="场景一目标主机网络配置不当"><a class="markdownIt-Anchor" href="#场景一目标主机网络配置不当"></a> 场景一：目标主机网络配置不当</h5><p>示例数据如下。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@mycentos6 ~]<span class="hljs-comment"># mtr --no-dns www.google.com</span><br>My traceroute  [v0.75]<br>mycentos6.6 (0.0.0.0)                         Wed Jun 15 19:06:29 2016<br>Keys:  Help   Display mode                    Packets               Ping*r&gt;Host                                        Loss%   Snt   Last   Avg  Best  Wrst StDev <br>1. ???<br>2. ???<br>3. 1XX.X.X.X                              0.0%     10  521.3  90.1   2.7 521.3 211.3<br>4. 11X.X.X.X                              0.0%     10    2.9   4.7   1.6  10.6   3.9<br>5. 2X.X.X.X                               80.0%    10    3.0   3.0   3.0   3.0   0.0<br>6. 2X.XX.XX.XX                            0.0%     10    1.7   7.2   1.6  34.9  13.6<br>7. 1XX.1XX.XX.X                             0.0%     10    5.2   5.2   5.1   5.2   0.0<br>8. 2XX.XX.XX.XX                             0.0%     10    5.3   5.2   5.1   5.3   0.1<br>9. 173.194.200.105                          100.0%   10    0.0   0.0   0.0   0.0   0.0<br></code></pre></td></tr></table></figure><p>在该示例中，数据包在目标地址出现了100%的丢包。从数据上看是数据包没有到达，其实很有可能是目标服务器相关安全策略（比如防火墙、iptables 等）禁用了ICMP所致，导致目的主机无法发送任何应答。所以，该场景需要排查目标服务器的安全策略配置。</p><h5 id="场景二icmp限速"><a class="markdownIt-Anchor" href="#场景二icmp限速"></a> 场景二：ICMP限速</h5><p>示例数据如下。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@mycentos6 ~]<span class="hljs-comment"># mtr --no-dns www.google.com</span><br>My traceroute  [v0.75]<br>mycentos6.6 (0.0.0.0)                         Wed Jun 15 19:06:29 2016<br>Keys:  Help   Display mode                    Packets               Ping*r&gt;Host                                        Loss%   Snt   Last   Avg  Best  Wrst StDev <br>1. 63.247.X.X                0.0%    10    0.3   0.6   0.3   1.2   0.3<br>2. 63.247.X.XX                  0.0%    10    0.4   1.0   0.4   6.1   1.8<br>3. 209.51.130.213               0.0%    10    0.8   2.7   0.8  19.0   5.7<br>4. aix.pr1.atl.google.com                0.0%    10    6.7   6.8   6.7   6.9   0.1<br>5. 72.14.233.56                  60.0%    10   27.2  25.3  23.1  26.4   2.9<br>6. 209.85.254.247                 0.0%    10   39.1  39.4  39.1  39.7   0.2<br>7. 64.233.174.46                  0.0%    10   39.6  40.4  39.4  46.9   2.3<br>8. gw-in-f147.1e100.net           0.0%    10   39.6  40.5  39.5  46.7   2.2<br></code></pre></td></tr></table></figure><p>在该示例中，在第5跳出现了明显的丢包，但后续节点均未见异常。所以推断是该节点ICMP限速所致。该场景对最终客户端到目标服务器的数据传输不会有影响，所以，分析的时候可以忽略。</p><h5 id="场景三环路"><a class="markdownIt-Anchor" href="#场景三环路"></a> 场景三：环路</h5><p>示例数据如下。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@mycentos6 ~]<span class="hljs-comment"># mtr --no-dns www.google.com</span><br>My traceroute  [v0.75]<br>mycentos6.6 (0.0.0.0)                         Wed Jun 15 19:06:29 2016<br>Keys:  Help   Display mode                    Packets               Ping*r&gt;Host                                        Loss%   Snt   Last   Avg  Best  Wrst StDev <br>1. 63.247.7X.X                   0.0%    10    0.3   0.6   0.3   1.2   0.3<br>2. 63.247.6X.X                  0.0%    10    0.4   1.0   0.4   6.1   1.8<br>3. 209.51.130.213                 0.0%    10    0.8   2.7   0.8  19.0   5.7<br>4. aix.pr1.atl.google.com         0.0%    10    6.7   6.8   6.7   6.9   0.1<br>5. 72.14.233.56                   0.0%    10    0.0   0.0   0.0   0.0   0.0<br>6. 72.14.233.57                   0.0%    10    0.0   0.0   0.0   0.0   0.0<br>7. 72.14.233.56                   0.0%    10    0.0   0.0   0.0   0.0   0.0<br>8. 72.14.233.57                   0.0%    10    0.0   0.0   0.0   0.0   0.0<br>9 ???                             0.0%    10    0.0   0.0   0.0   0.0   0.0<br></code></pre></td></tr></table></figure><p>在该示例中，数据包在第5跳之后出现了循环跳转，导致最终无法到达目标服务器。这通常是由于运营商相关节点路由配置异常所致。所以，该场景需要联系相应节点归属运营商处理。</p><h5 id="场景四链路中断"><a class="markdownIt-Anchor" href="#场景四链路中断"></a> 场景四：链路中断</h5><p>示例数据如下。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@mycentos6 ~]<span class="hljs-comment"># mtr --no-dns www.google.com</span><br>My traceroute  [v0.75]<br>mycentos6.6 (0.0.0.0)                         Wed Jun 15 19:06:29 2016<br>Keys:  Help   Display mode                    Packets               Ping*r&gt;Host                                        Loss%   Snt   Last   Avg  Best  Wrst StDev <br>1. 63.247.7X.X                   0.0%    10    0.3   0.6   0.3   1.2   0.3<br>2. 63.247.6X.X                  0.0%    10    0.4   1.0   0.4   6.1   1.8<br>3. 209.51.130.213                 0.0%    10    0.8   2.7   0.8  19.0   5.7<br>4. aix.pr1.atl.google.com         0.0%    10    6.7   6.8   6.7   6.9   0.1<br>5. ???                            0.0%    10    0.0   0.0   0.0   0.0   0.0<br>6. ???                            0.0%    10    0.0   0.0   0.0   0.0   0.0<br>7. ???                            0.0%    10    0.0   0.0   0.0   0.0   0.0<br>8. ???                            0.0%    10    0.0   0.0   0.0   0.0   0.0<br>9 ???                             0.0%    10    0.0   0.0   0.0   0.0   0.0<br></code></pre></td></tr></table></figure><p>在该示例中，数据包在第4跳之后就无法收到任何反馈。这通常是由于相应节点中断所致。建议结合反向链路测试做进一步确认。该场景需要联系相应节点归属运营商处理。</p><h3 id="更多信息"><a class="markdownIt-Anchor" href="#更多信息"></a> 更多信息</h3><p>操作系统类型不同，链路测试所使用的工具也有所不同，简要介绍如下：</p><h4 id="linux系统"><a class="markdownIt-Anchor" href="#linux系统"></a> Linux系统</h4><p>此处简单介绍两个链路测试工具：</p><h5 id="工具一mtr命令"><a class="markdownIt-Anchor" href="#工具一mtr命令"></a> 工具一：mtr命令</h5><p>mtr（My traceroute）几乎是所有Linux发行版本预装的网络测试工具。其将<code>ping</code>和<code>traceroute</code>的功能合并，所以功能更强大。mtr默认发送ICMP数据包进行链路探测。您也可以通过<code>-u</code>参数来指定使用UDP数据包进行探测。相对于<code>traceroute</code>只会做一次链路跟踪测试，mtr会对链路上的相关节点做持续探测并给出相应的统计信息。所以，mtr能避免节点波动对测试结果的影响，所以其测试结果更正确，建议优先使用。</p><p><strong>用法说明</strong></p><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs brainfuck"><span class="hljs-comment">mtr</span> <span class="hljs-title">[</span><span class="hljs-literal">-</span><span class="hljs-comment">BfhvrwctglxspQomniuT46</span><span class="hljs-title">]</span> <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">help</span><span class="hljs-title">]</span> <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">version</span><span class="hljs-title">]</span> <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">report</span><span class="hljs-title">]</span><br>                <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">report</span><span class="hljs-literal">-</span><span class="hljs-comment">wide</span><span class="hljs-title">]</span> <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">report</span><span class="hljs-literal">-</span><span class="hljs-comment">cycles=COUNT</span><span class="hljs-title">]</span> <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">curses</span><span class="hljs-title">]</span> <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">gtk</span><span class="hljs-title">]</span><br>                <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">csv|</span><span class="hljs-literal">-</span><span class="hljs-comment">C</span><span class="hljs-title">]</span> <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">raw</span><span class="hljs-title">]</span> <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">xml</span><span class="hljs-title">]</span> <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">split</span><span class="hljs-title">]</span> <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">mpls</span><span class="hljs-title">]</span> <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">no</span><span class="hljs-literal">-</span><span class="hljs-comment">dns</span><span class="hljs-title">]</span> <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">show</span><span class="hljs-literal">-</span><span class="hljs-comment">ip*r</span>&gt;                <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">address interface</span><span class="hljs-title">]</span> <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">filename=FILE|</span><span class="hljs-literal">-</span><span class="hljs-comment">F</span><span class="hljs-title">]</span><br>                <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">ipinfo=item_no|</span><span class="hljs-literal">-</span><span class="hljs-comment">y item_no</span><span class="hljs-title">]</span><br>                <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">aslookup|</span><span class="hljs-literal">-</span><span class="hljs-comment">z</span><span class="hljs-title">]</span><br>                <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">psize=bytes/</span><span class="hljs-literal">-</span><span class="hljs-comment">*ytes</span><span class="hljs-title">]</span> <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">order field*r</span>&gt;                <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">report</span><span class="hljs-literal">-</span><span class="hljs-comment">wide|</span><span class="hljs-literal">-</span><span class="hljs-comment">w</span><span class="hljs-title">]</span> <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">inet</span><span class="hljs-title">]</span> <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">inet6</span><span class="hljs-title">]</span> <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">max</span><span class="hljs-literal">-</span><span class="hljs-comment">ttl=NUM</span><span class="hljs-title">]</span> <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">first</span><span class="hljs-literal">-</span><span class="hljs-comment">ttl=NUM</span><span class="hljs-title">]</span><br>                <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">bitpattern=NUM</span><span class="hljs-title">]</span> <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">tos=NUM</span><span class="hljs-title">]</span> <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">udp</span><span class="hljs-title">]</span> <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">tcp</span><span class="hljs-title">]</span> <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">port=PORT</span><span class="hljs-title">]</span> <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">timeout=SECONDS</span><span class="hljs-title">]</span><br>                <span class="hljs-title">[</span><span class="hljs-literal">--</span><span class="hljs-comment">interval=SECONDS</span><span class="hljs-title">]</span> <span class="hljs-comment">HOSTNAME</span><br></code></pre></td></tr></table></figure><p><strong>常见可选参数说明</strong></p><ul><li>–report：以报告模式显示输出。</li><li>–split：将每次追踪的结果分别列出来，而非统计整个结果。</li><li>–psize：指定ping数据包的大小。</li><li>–no-dns：不对IP地址做域名反解析。</li><li>–address：主机有多个IP地址时，设置发送数据包的IP地址。</li><li>-4：只使用IPv4协议。</li><li>-6：只使用IPv6协议。</li></ul><p>另外，也可以在mtr运行过程中，输入类似如下的字母用于快速切换模式。</p><ul><li>？或h：显示帮助菜单。</li><li>d：切换显示模式。</li><li>n：启用或禁用DNS域名解析。</li><li>u：切换使用ICMP或UDP数据包进行探测。</li></ul><p><strong>命令输出示例</strong><br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/5aa45796-7859-416d-97cb-42c41d5e6b49.png" alt></p><p><strong>返回结果说明</strong></p><p>默认配置下，返回结果中各数据列的说明如下：</p><ul><li>第一列（Host）：节点IP地址和域名。按<strong>n</strong>键可切换显示。</li><li>第二列（Loss%）：节点丢包率。</li><li>第三列（Snt）：每秒发送数据包数。默认值是10，可以通过<code>-c</code>参数指定。</li><li>第四列（Last）：最近一次的探测延迟。</li><li>第五、六、七列（Avg、Best、Worst）：分别是探测延迟的平均值、最小值和最大值。</li><li>第八列（StDev）：标准偏差，越大说明相应节点越不稳定。</li></ul><h5 id="工具二traceroute命令"><a class="markdownIt-Anchor" href="#工具二traceroute命令"></a> 工具二：traceroute命令</h5><p>traceroute也是几乎所有Linux发行版本预装的网络测试工具，用于跟踪Internet协议（IP）数据包传送到目标地址时经过的路径。</p><ol><li><p>首先，traceroute先发送小的具有最大存活时间值（Max_TTL）的UDP探测数据包。</p></li><li><p>然后，侦听从网关开始的整个链路上的ICMP TIME_EXCEEDED响应。探测从TTL=1开始，TTL值逐步增加，直至接收到ICMP PORT_UNREACHABLE消息。</p><blockquote><p>说明</p><p>：</p><ul><li>ICMP PORT_UNREACHABLE消息用于标识目标主机已经被定位，或命令已经达到允许跟踪的最大TTL值。</li><li>traceroute默认发送UDP数据包进行链路探测，可以通过<code>-I</code>参数来指定使用ICMP数据包进行探测。</li></ul></blockquote></li></ol><p><strong>用法说明</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">traceroute <span class="hljs-selector-attr">[-I]</span> <span class="hljs-selector-attr">[ -m Max_ttl ]</span> <span class="hljs-selector-attr">[ -n ]</span> <span class="hljs-selector-attr">[ -p Port ]</span> <span class="hljs-selector-attr">[ -q Nqueries ]</span> <span class="hljs-selector-attr">[ -r ]</span> <span class="hljs-selector-attr">[ -s SRC_Addr ]</span> <span class="hljs-selector-attr">[ -t TypeOfService ]</span> <span class="hljs-selector-attr">[ -f flow ]</span> <span class="hljs-selector-attr">[ -v ]</span> <span class="hljs-selector-attr">[ -w WaitTime ]</span> Host <span class="hljs-selector-attr">[ PacketSize ]</span><br></code></pre></td></tr></table></figure><p><strong>常见可选参数说明</strong></p><ul><li>-d：使用Socket层级的排错功能。</li><li>-f：设置第一个检测数据包的存活数值TTL的大小。</li><li>-F：设置不要分段标识。</li><li>-g：设置来源路由网关，最多可设置8个。</li><li>-i：主机有多个网卡时，使用指定的网卡发送数据包。</li><li>-I：使用ICMP数据包替代UDP数据包进行探测。</li><li>-m：设置检测数据包的最大存活数值TTL的大小。</li><li>-n：直接使用IP地址而非主机名称（禁用DNS反查）。</li><li>-p：设置UDP传输协议的通信端口。</li><li>-r：忽略普通的Routing Table，直接将数据包发送到目标主机上。</li><li>-s：设置本地主机发送数据包的IP地址。</li><li>-t：设置检测数据包的TOS数值。</li><li>-v：详细显示指令的执行过程。</li><li>-w：设置等待远端主机回包时间。</li><li>-x：开启或关闭数据包的正确性检验。</li></ul><p><strong>命令输出示例</strong></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/308dfc1d-cb8c-4dd9-9dc7-01b4ad9374a5.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/308dfc1d-cb8c-4dd9-9dc7-01b4ad9374a5.png" alt></p><p>traceroute工具的更多用法请参见<a href="http://linux.die.net/man/8/traceroute">traceroute工具的man帮助</a>。</p><h4 id="windows系统"><a class="markdownIt-Anchor" href="#windows系统"></a> Windows系统</h4><p>此处简单介绍两个链路测试工具：</p><h5 id="工具一winmtr建议优先使用"><a class="markdownIt-Anchor" href="#工具一winmtr建议优先使用"></a> 工具一：WinMTR（建议优先使用）</h5><p>WinMTR是mtr工具在Windows环境下的图形化实现，但进行了功能简化，只支持部分mtr的参数。WinMTR默认发送ICMP数据包进行探测，无法切换，和mtr一样。相比tracert，WinMTR能避免节点波动对测试结果的影响，所以测试结果更正确。所以在WinMTR可用的情况下，建议优先使用WinMTR进行链路测试。</p><p><strong>用法说明</strong></p><p>WinMTR无需安装，直接解压运行即可。操作方法非常简单，说明如下：</p><ol><li>如下图所示，运行程序后，在<strong>Host</strong>字段输入目标服务器域名或IP，注意不要包含空格。<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/81e3ded2-3ff8-461f-aa66-049733f28bbe.png" alt></li><li>单击<strong>Start</strong>开始测试。开始测试后，相应按钮变成了<strong>Stop</strong>。</li><li>运行一段时间后，单击<strong>Stop</strong>停止测试。</li><li>其它选项说明如下。<ul><li>Copy Text to clipboard：将测试结果以文本格式复制到粘贴板。</li><li>Copy HTML to clipboard：将测试结果以HTML格式复制到粘贴板。</li><li>Export TEXT：将测试结果以文本格式导出到指定文件。</li><li>Export HTML：将测试结果以HTML格式导出到指定文件。</li><li>Options：可选参数，包括的可选参数如下。<ul><li>Interval（sec）：每次探测的间隔（过期）时间。默认为1秒。</li><li>ping size(bytes)：ping探测所使用的数据包大小，默认为64字节。</li><li>Max hosts in LRU list：LRU列表支持的最大主机数，默认值为128。</li><li>Resolve names：通过反查IP地址，以域名显示相关节点。</li></ul></li></ul></li></ol><p><strong>返回结果说明</strong></p><p>默认配置下，返回结果中各数据列的说明如下：</p><ul><li>第一列（Hostname）：节点的IP或域名。</li><li>第二列（Nr）：节点编号。</li><li>第三列（Loss%）：节点丢包率。</li><li>第四列（Sent）：已发送的数据包数量。</li><li>第五列（Recv）：已成功接收的数据包数量。</li><li>第六、七、八、九列（Best 、Avg、Worst、Last）：分别是到相应节点延迟的最小值、平均值、最大值和最后一次值。</li></ul><h5 id="工具二tracert命令行工具"><a class="markdownIt-Anchor" href="#工具二tracert命令行工具"></a> 工具二：tracert命令行工具</h5><p>tracert（Trace Route）是Windows自带的网络诊断命令行程序，用于跟踪Internet协议（IP）数据包传送到目标地址时经过的路径。 tracert通过向目标地址发送ICMP数据包来确定到目标地址的路由。在这些数据包中，tracert使用了不同的IP生存期，即TTL值。由于要求沿途的路由器在转发数据包前必须至少将TTL减少1，因此TTL实际上相当于一个跃点计数器（hop counter）。当某个数据包的TTL达到0时，相应节点就会向源计算机发送一个ICMP超时的消息。</p><p>tracert第一次发送TTL为1的数据包，并在每次后续传输时将TTL增加1，直到目标地址响应或达到TTL的最大值。中间路由器发送回来的ICMP超时消息中包含了相应节点的信息。</p><p><strong>用法说明</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">tracert <span class="hljs-selector-attr">[-d]</span> <span class="hljs-selector-attr">[-h maximum_hops]</span> <span class="hljs-selector-attr">[-j host-list]</span> <span class="hljs-selector-attr">[-w timeout]</span> <span class="hljs-selector-attr">[-R]</span> <span class="hljs-selector-attr">[-S srcaddr]</span> <span class="hljs-selector-attr">[-4]</span> <span class="hljs-selector-attr">[-6]</span> target_name<br></code></pre></td></tr></table></figure><p><strong>常见可选参数说明</strong></p><ul><li>-d：不要将地址解析为主机名（禁用DNS反解）。</li><li>-h：maximum_hops，指定搜索目标地址时的最大跃点数。</li><li>-j： host-list，指定沿主机列表的松散源路由。</li><li>-w：timeout，等待每个回复的超时时间（以毫秒为单位）。</li><li>-R：跟踪往返行程路径（仅适用于IPv6）。</li><li>-S：srcaddr，要使用的源地址（仅适用于IPv6）。</li><li>-4：强制使用IPv4。</li><li>-6：强制使用IPv6。</li><li>target_host：目标主机域名或IP地址。</li></ul><p><strong>命令输出示例</strong></p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">C:\&gt; tracert -d <span class="hljs-number">223.5</span>.<span class="hljs-number">5.5</span><br>通过最多 <span class="hljs-number">30</span> 个跃点跟踪到 <span class="hljs-number">223.5</span>.<span class="hljs-number">5.5</span> 的路由<br><span class="hljs-number">1</span>                          请求超时。<br><span class="hljs-number">2</span>     <span class="hljs-number">9</span> <span class="hljs-keyword">ms</span>     <span class="hljs-title">3</span> <span class="hljs-keyword">ms</span>    <span class="hljs-title">12</span> <span class="hljs-keyword">ms</span>  <span class="hljs-title">192</span>.<span class="hljs-number">168</span>.X.X<br><span class="hljs-number">3</span>     <span class="hljs-number">4</span> <span class="hljs-keyword">ms</span>     <span class="hljs-title">9</span> <span class="hljs-keyword">ms</span>     <span class="hljs-title">2</span> <span class="hljs-keyword">ms</span>  <span class="hljs-title">X</span>.X.X.X<br><span class="hljs-number">4</span>     <span class="hljs-number">9</span> <span class="hljs-keyword">ms</span>     <span class="hljs-title">2</span> <span class="hljs-keyword">ms</span>     <span class="hljs-title">1</span> <span class="hljs-keyword">ms</span>  <span class="hljs-title">XX</span>.XX.XX.XX<br><span class="hljs-number">5</span>    <span class="hljs-number">11</span> <span class="hljs-keyword">ms</span>                  <span class="hljs-title">211</span>.XX.X.XX<br><span class="hljs-number">6</span>     <span class="hljs-number">3</span> <span class="hljs-keyword">ms</span>     <span class="hljs-title">2</span> <span class="hljs-keyword">ms</span>     <span class="hljs-title">2</span> <span class="hljs-keyword">ms</span>  <span class="hljs-title">2XX</span>.XX.<span class="hljs-number">1</span>XX.XX<br><span class="hljs-number">7</span>     <span class="hljs-number">2</span> <span class="hljs-keyword">ms</span>     <span class="hljs-title">2</span> <span class="hljs-keyword">ms</span>     <span class="hljs-title">1</span> <span class="hljs-keyword">ms</span>  <span class="hljs-title">42</span>.XX.<span class="hljs-number">2</span>XX.<span class="hljs-number">1</span>XX<br><span class="hljs-number">8</span>    <span class="hljs-number">32</span> <span class="hljs-keyword">ms</span>     <span class="hljs-title">4</span> <span class="hljs-keyword">ms</span>     <span class="hljs-title">3</span> <span class="hljs-keyword">ms</span>  <span class="hljs-title">42</span>.XX.<span class="hljs-number">2</span>XX.<span class="hljs-number">2</span>XX<br><span class="hljs-number">9</span>                          请求超时。<br><span class="hljs-number">10</span>     <span class="hljs-number">3</span> <span class="hljs-keyword">ms</span>     <span class="hljs-title">2</span> <span class="hljs-keyword">ms</span>     <span class="hljs-title">2</span> <span class="hljs-keyword">ms</span>  <span class="hljs-title">223</span>.<span class="hljs-number">5.5</span>.<span class="hljs-number">5</span><br>跟踪完成。<br></code></pre></td></tr></table></figure><p>转载自知乎<br>原文：<a href="https://help.aliyun.com/document_detail/40573.html#noPMw">https://help.aliyun.com/document_detail/40573.html#noPMw</a><br>如有更新，以来源站点为主。</p>]]></content>
    
    
    <categories>
      
      <category>Ops</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>运维</tag>
      
      <tag>网络</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo-配置腾讯云对象存储COS作为图床</title>
    <link href="/post/84c67fbf.html"/>
    <url>/post/84c67fbf.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo --><h4 id="一些废话"><a class="markdownIt-Anchor" href="#一些废话"></a> 一些废话</h4><p>之前为了图方便将图床挂在github，后来发现移动端访问时所有图片都加载不出来，这可不行啊，翻来想去最后决定用大厂的对象存储当图床。用腾讯云的原因如下几点：</p><ul><li><p>Typora内置的上传插件支持PicGo，这点太赞了，对静态博客极度友好</p></li><li><p>PicGo的内置腾讯云对象存储上传插件</p></li><li><p>便宜</p></li><li><p>群友推荐</p></li><li><p>本人域名和云服务器均在腾讯云购买</p></li></ul><p>OK，废话不多说，开始了正文。</p><h4 id="查看picgo配置项"><a class="markdownIt-Anchor" href="#查看picgo配置项"></a> 查看PicGo配置项</h4><p>首先打开<a href="https://picgo.github.io/PicGo-Doc/">PicGo</a>，Windows和Mac打开这玩意儿都是启动在状态栏，所以不要一点点点，找一下状态栏，它已经启动了。<a href="http://xn--PicGoSM-3p5kt1us69cxd8eqf3b.MS">PicGo默认是传到SM.MS</a> ，点击左侧【图床设置】&gt;【腾讯云COS】，把【COS版本】打到V5，看看需要填写哪些参数，等会配置COS的时候就可以填进去。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220812095000738.png" alt></p><h4 id="配置腾讯云cos"><a class="markdownIt-Anchor" href="#配置腾讯云cos"></a> 配置腾讯云COS</h4><p>打开<a href="https://cloud.tencent.com/">腾讯云官网</a>，没注册的先注册。进入<a href="https://console.cloud.tencent.com/cos">对象存储控制台</a>，点击【创建存储桶】</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220812095542647.png" alt></p><p>所属地域选择你最近的城市，名称自定义，访问权限我建议选择【公有读私有写】，否则外部无法通过域名访问到COS中的内容。</p><p>选择公有读私有写之后弹出一个注意，大概意思就是如果你开放了公有读，外部就可以随意读取，不安全且会消耗下行流量。但我传的是博客图片，隐私性不高所以没事，流量这个等会儿再处理。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220812100135756.png" alt></p><p>高级可选配置不需要，服务端加密的话作为图床应该是不需要的，直接下一步，然后确认配置就可以创建成功。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220812100158738.png" alt></p><h5 id="配置桶名称区域"><a class="markdownIt-Anchor" href="#配置桶名称区域"></a> 配置桶名称&amp;区域</h5><p>在<a href="https://console.cloud.tencent.com/cos/bucket">存储桶列表</a>里面，就可以看到刚才创建的存储桶，其中<code>存储桶名称</code>和<code>所属地域</code>是填写在PicGo的<code>设定存储空间名</code>和<code>确认存储区域</code>，可以直接复制填写进去了。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220812100709394.png" alt></p><h5 id="配置secretid-secretkey-appid"><a class="markdownIt-Anchor" href="#配置secretid-secretkey-appid"></a> 配置secretId、secretKey、appId</h5><p>打开<a href="https://console.cloud.tencent.com/cam/capi">腾讯云访问管理控制台</a>，如果当前是主账号进去会有个高风险提示，我试了一下创建子账号，很麻烦，再加上腾讯云这些页面的功能甚多，引导做的也不太好，兜了一圈最后放弃了，直接用主账号访问了。有兴趣的同学可以自己尝试看看，我这里直接【继续使用】了</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220812101703710.png" alt></p><p>点击新建密钥，把密钥的APPID，SecretId、SecretKey填入PicGo对应的输入框中。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220812102237121.png" alt></p><p>除了必填项，这些非必填项如果有的话也可以填一下，我是没有填，因为我的图片直接放在COS的根目录，没有做目录处理，其实最好是做一下的，以免管理混乱。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220812102452832.png" alt></p><p>设置好之后点击确定，并点击【设为默认床图】，尝试一下在Pic上传区将文件传上去。注意：PicGo无法预览对象存储中的文件，但可以复制它的链接。拿到链接后直接放到博客里面，部署到本地或者github（白名单内的IP或域名），即可查看到图片。</p><p>到这为止，基本的上传配置就结束了，如果有错误或者对腾讯云平台不懂的地方，可以在腾讯云查看相关的文档和售前客服，这里点名夸一下腾讯云的文档和机器人客服，做的蛮好的，问题都会给你详细的解答，很细节。</p><h4 id="配置防盗链"><a class="markdownIt-Anchor" href="#配置防盗链"></a> 配置防盗链</h4><p>由于我们配置的桶是公有读私有写，在外部是可以随意访问（官方的说法是<code>可被任意匿名用户访问</code>），因此需要开启防盗链，只允许我们配置的域名/IP访问桶内文件，点击桶右侧的【配置管理】</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220812102956616.png" alt></p><p>点击安全管理&gt;防盗链设置，点击【编辑】，设置当前状态为【开启】，选择白名单，填入自己的域名或IP</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220812103426594.png" alt></p><p><img src="https://qcloudimg.tencent-cloud.cn/raw/52e566fe464efdbf801b6632913851fe.png" alt></p><p>由于我的静态文件放在云服务器上；网页项目代码放在github pages；且配置了相关的域名。因此我的白名单设置为：</p><ul><li>自己的域名</li><li>github pages的域名</li><li>云服务器本地调试的IP：4000</li></ul><p>这样配置之后，白名单内的域名就可以访问到COS中的文件了。现在测试一下防盗链是否生效。</p><p>打开我的某一篇<a href="https://zhouyinglin.cn/2022/08/08/%E5%88%A9%E7%94%A8git-branches%E5%A4%87%E4%BB%BDHexo%E5%8D%9A%E5%AE%A2%E6%96%87%E4%BB%B6/">文章</a>，查看第一张图片的图片地址为：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">https</span>://blog-cnd-<span class="hljs-number">1307088890</span>.cos.ap-guangzhou.myqcloud.com/image-<span class="hljs-number">20220808104848697</span>.png<br></code></pre></td></tr></table></figure><p>ok ，我打开博客园后台，点击插入图片，输入图片地址URL，会发现下方的预览不生效，应该是防盗链生效了</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220812105516410.png" alt></p><p>发布文章再次确认一下，图片是看不到的，确定防盗链功能已经生效</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220812104935273.png" alt></p><p>事实上直接在本机测试也可以（前提是<strong>本机IP不在白名单中</strong>），打开浏览器访问该图片地址，会发现同样无法访问</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220812105433502.png" alt></p><p>有的人可能会说，看不到人家会截图，但截图是他的事跟你没有关系，如果他拿到你的图片地址可以随意使用，就会消耗你的下行流量，流量是要钱的，这就跟你的钱包相关了。所以防盗链的功能是非常有必要配置的。</p><h4 id="温馨提示"><a class="markdownIt-Anchor" href="#温馨提示"></a> 温馨提示</h4><ol><li>如果你是桌面端用户（win、mac）搭建的静态博客，强烈建议使用Typora+PicGo写文章，不能太赞了。Typora的偏好设置&gt;图像中可以配置PicGo，配置完后从Typora中上传图片到腾讯云对象存储只需右键图片，点击上传图片即可。</li></ol><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220812110658010.png" alt></p><ol start="2"><li><p>Typora也有预览图片功能，Typora并没有在我们的白名单中，但也许是有缓存，在上传至COS几分钟后开始消失（防盗链功能生效）。所以建议在文章全部写完之后，再全部上传，否则会提前看不到图片，多少有点懵。</p></li><li><p>关于如何在对象存储中获取文件外部访问的链接：在文件列表页点击右侧【预览】，文件打开后右上角有个【复制对象地址】，那就是外部访问链接，而不是什么对象地址、临时链接。</p></li></ol><h4 id="关于价格"><a class="markdownIt-Anchor" href="#关于价格"></a> 关于价格</h4><p>我目前是用了一天时间，而且我的网站才刚搭建，人数并不多，只有一些我自己、群友或者身边朋友会访问，提供一下我目前的访问量吧</p><table><thead><tr><th>参数</th><th>值</th></tr></thead><tbody><tr><td>总访客量</td><td>343</td></tr><tr><td>总用户数</td><td>74人</td></tr><tr><td>建站时间</td><td>6天19小时</td></tr><tr><td>对象数量（图片数）</td><td>211个</td></tr><tr><td>存储量</td><td>29MB</td></tr><tr><td>本月总流量</td><td>14.92MB</td></tr><tr><td>本月请求总数</td><td>1287次</td></tr><tr><td>存储类型</td><td>标准存储</td></tr></tbody></table><h5 id="存储容量"><a class="markdownIt-Anchor" href="#存储容量"></a> 存储容量</h5><p>目前我所了解到的是，首次开通COS服务的个人用户会赠送50GB的存储额度，有效期180天，到期之后不可续费，需要重新<a href="https://buy.cloud.tencent.com/cos?packageType=std">购买资源包</a>。</p><p>就赠送的50G180天来看，价值应该是35块钱，折后约24块，在价格计算器里可以自己算出来的。资源包的生效日期是可以调整的，这个可以注意一下。加购数据处理资源包和分发网络没有特殊需求就不要。</p><p>我目前还没有购买，不过也是打算准备买了，目前打折优惠还可以。就算买2年+20G也才38块钱。</p><h5 id="流量"><a class="markdownIt-Anchor" href="#流量"></a> 流量</h5><p>这里的流量主要指外网下行流量，流量比较贵，最低配置每个月10G+2年要81块钱</p><h5 id="读写请求"><a class="markdownIt-Anchor" href="#读写请求"></a> 读写请求</h5><p>请求是最便宜的，最低配每月10万次+2年的配置是1.63元。个人网站的请求应该不会太高，所以都配置最低就好了。</p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux通过sed&amp;grep批量查找替换字符串</title>
    <link href="/post/d4d4abf9.html"/>
    <url>/post/d4d4abf9.html</url>
    
    <content type="html"><![CDATA[<p>sed+grep配合使用即可实现。当然还有更多方式，例如find搭配perl、awk等，自己摸索吧</p><span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo --><p><strong>警告：本文记录的修改方式将直接修改原文件，请做好文件备份！！！！！</strong></p><h4 id="格式"><a class="markdownIt-Anchor" href="#格式"></a> 格式：</h4><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs vim">sed -i <span class="hljs-string">&quot;s/oldstring/newstring/g&quot;</span> `<span class="hljs-keyword">grep</span> oldstring -rl yourdir`<br>sed -i <span class="hljs-string">&quot;s/查找字段/替换字段/g&quot;</span> `<span class="hljs-keyword">grep</span> 查找字段 -rl 路径`  <br>或者<br><span class="hljs-keyword">grep</span> -<span class="hljs-keyword">tl</span> yourdir | xargs sed -i <span class="hljs-string">&quot;s/oldstring/newstring/g&quot;</span><br><span class="hljs-keyword">grep</span> -rl 查找字段  路径|xargs sed -i <span class="hljs-string">&quot;s/查找字段/替换字段/g&quot;</span> <br></code></pre></td></tr></table></figure><h4 id="背景"><a class="markdownIt-Anchor" href="#背景"></a> 背景</h4><p>最初搭建Hexo时，为了图省事就在github上开了一个图床，由于公司内网浏览github畅通无阻，因此丝毫没有感觉有什么问题。直到女朋友有一天打开了我的网站，发现所有图片都无法加载出来，事实上移动端数据流量访问时都会加载失败，不知道是github在墙外还是什么原因，反正就是用不了。所以需要考虑换个新图床，等腾讯云的对象存储配置好后，就需要批量将原有的文章内的图片链接更换成腾讯云的访问链接。</p><h4 id="场景"><a class="markdownIt-Anchor" href="#场景"></a> 场景</h4><p>文章在同一文件夹下，且全部为.md格式。单个文件内有多个旧图片链接，需要批量将整个文件夹下、所有文件内的旧链接换成新链接。</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk">旧链接：raw.githubusercontent.com<span class="hljs-regexp">/YuanZhou314/</span>PicRepo<span class="hljs-regexp">/main/img</span>s<br><br>新链接：xxx-xxx-<span class="hljs-number">1234567890</span>.cos.ap-xxxxxxxx.myqcloud.com<br></code></pre></td></tr></table></figure><h4 id="解决"><a class="markdownIt-Anchor" href="#解决"></a> 解决</h4><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs livescript">sed -i <span class="hljs-string">&quot;s<span class="hljs-subst">#raw</span>.githubusercontent.com/YuanZhou314/PicRepo/main/imgs<span class="hljs-subst">#xxx-xxx-1234567890</span>.cos.ap-xxxxxxxx.myqcloud.com<span class="hljs-subst">#g</span>&quot;</span> `grep -rl .`<br></code></pre></td></tr></table></figure><h4 id="命令解读"><a class="markdownIt-Anchor" href="#命令解读"></a> 命令解读</h4><ul><li><p>sed -i 表示直接编辑匹配到的文件</p></li><li><p>s 是替换命令，也是sed中最常见的命令</p></li><li><p># 这里的井号是分隔符，一般情况下的分隔符是用<code>/</code> 斜杠，但是这里因为替换的是地址（带斜杠），如果用斜杠作为分隔符的话需要特殊处理，因此直接换成用井号。（分隔符可以是任意字符，只是一般都用<code>/</code>）</p></li><li><p>两个新旧字符串的中间，同样需要用分隔符#隔开</p></li><li><p>g 代表全局替换，默认情况sed是逐行读取文件，且只更改行中第一次出现的匹配项，加g会所有匹配项都被替换</p></li><li><p>grep -rl .  按目录递归查找匹配项，你可以先用这个命令查一下，是否全部匹配到你所需要修改的文件。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Ops</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Shell</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux 压缩文件时排除指定文件/目录</title>
    <link href="/post/66ddc09a.html"/>
    <url>/post/66ddc09a.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo --><p>场景：Hexo定期手动备份，需要将本地的源文件去除模块文件后压缩打包出来，由于模块文件比较大，会增加打包时间，所以需要在打包时剔除。使用tar 的–exclude 参数就能实现</p><p>例子：打包blog文件夹，需要去除blog/node_modules/目录：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">tar -zcvf blog.tar.gz --exclude=blog/node_modules blog<br></code></pre></td></tr></table></figure><p>排除多个目录的话在第一个–exclude后面追加即可，如：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">tar -zcvf blog.tar.gz --exclude=blog/node_modules --exclude=blog/public blog<br></code></pre></td></tr></table></figure><p>注意：</p><p>–exclude排除目录时，<strong>不能在目录后面加 <code>/</code></strong> ，否则这个命令就失效了，还是会被打包进去</p><p>如下，这个是错误写法，因为node_modules后面多个一个<code>/</code>：</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gradle">tar -zcvf blog.tar.gz --<span class="hljs-keyword">exclude</span>=blog<span class="hljs-regexp">/node_modules/</span> blog<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Ops</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>设置word文档从第二页开始插入页码</title>
    <link href="/post/1e957716.html"/>
    <url>/post/1e957716.html</url>
    
    <content type="html"><![CDATA[<p>在Word里面有时候首页是封面，或者目录页，这时需要首页不设置页码，需要从正文第一页，也就是word的第二页开始设置页码为1。</p><span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo --><p>原理就是使用分节符将文档分成2节，给全部页面加上页码后，利用页码可以分节计算的机制，断开与上一节的联系，并重新开始计算页码。（一个文档编辑工具做的这么复杂，醉了）</p><p>第一步：鼠标定位到第一页的最后，点击<code>页面布局</code>选项卡，点击分隔符，在<code>分节符</code>中选择<code>下一页</code>。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/v2-e3eb973221889eb6f3aa6c5432957788_720w.jpg" alt="img"></p><p>第二步：选择<code>插入</code>选项卡，点击<code>页码</code>，选择在页面底部插入页码。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/v2-55837beb4490bb5a0dc6c35ec111f8db_720w.jpg" alt="img"></p><p>第三步：插入页码的时候会自动出现<code>设计</code>选项卡，勾选上<code>首页不同</code></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/v2-b382a957c55f24c40966744bfdad7df1_720w.jpg" alt="img"></p><p>第四步（重点）：选中第二页的页码，将<code>链接到前一条页眉</code>取消选中状态。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/v2-6591cca035ec7c7637e6951032d422dd_720w.jpg" alt="img"></p><p>第五步：点击<code>页码</code>，选择<code>设置页码格式</code>，在<code>页码格式</code>窗口中选中<code>起始页码</code>，页码数为1。点击<code>确定</code>，这样就OK了。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/v2-ab8bdfdad3ab4b05b9f15b6bf75d345b_720w.jpg" alt="img"></p><p>第六步：此时第二节的页码已经设置为1了，那么第一节的页码看你需要，一般来说前面的不需要页码，直接删除即可。<br>补充说明：</p><ol><li>这个方式会使得第一页和第二页之间多出来一个难以删除的空白页，用鼠标放在最后一行再往上拉，选中全部后点backspace或delete删除（多试几次，空白页真的很难删掉……）</li><li>文中的“第一页”指的是希望设置为第一页的前一页，如果希望从第5页开始计算页码，那么word第4页就是前一页，第5也就是第一页，分节符将会把该文档的4、5页分开，分别计算页码。</li></ol>]]></content>
    
    
    <categories>
      
      <category>work</category>
      
    </categories>
    
    
    <tags>
      
      <tag>work</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo-Fluid利用Waline实现微信/PushDeer评论推送</title>
    <link href="/post/f445341f.html"/>
    <url>/post/f445341f.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo --><p>本文参照<a href="https://waline.js.org/guide/server/notification.html">Waline官方文档</a>，当网站有用户发布评论或者用户回复评论时，Waline支持对博主和回复评论作者进行通知。通知方式包括QQ、微信、邮件等。</p><h4 id="推送配置"><a class="markdownIt-Anchor" href="#推送配置"></a> 推送配置</h4><p>我最开始是想走邮件的，但由于即时性不高就放弃了，转为用微信。对于配置微信通知，Waline官网指引去<a href="https://sct.ftqq.com/">Server酱</a>提供的推送服务。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220810230512312.png" alt></p><p>回到Waline官网的要求，可以发现SC_KEY是能在Server酱上找到的，其他三个都是自定义的。</p><table><thead><tr><th>变量</th><th>描述</th></tr></thead><tbody><tr><td><code>SC_KEY</code></td><td>Server 酱提供的 Token，即Server酱的【Key&amp;API】&gt;【SendKey】，点击复制即可。</td></tr><tr><td><code>AUTHOR_EMAIL</code></td><td>博主邮箱，用来区分发布的评论是否是博主本身发布的。如果是则不进行提醒通知。（补充：博主回复必须要手动填邮箱才不会被通知）</td></tr><tr><td><code>SITE_NAME</code></td><td>网站名称，如：博客。</td></tr><tr><td><code>SITE_URL</code></td><td>网站地址，如：<a href="https://zhouyinglin.cn">https://zhouyinglin.cn</a>  最后不加/</td></tr></tbody></table><p>将以上内容（变量+值）填写到<a href="https://vercel.com/">vercel</a>的设置&gt;环境变量中</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220810225550230.png" alt></p><p>填写后重新部署一遍。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220810225723023.png" alt></p><p>重新部署后Server_URL会改变，所以需要修改一下Fluid主题配置文件中配置Server_URL的两个地方，我的另一篇<a href="https://zhouyinglin.cn/2022/08/10/Hexo-Fluid-%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0-Waline-%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/#HTML-%E5%BC%95%E5%85%A5-%E5%AE%A2%E6%88%B7%E7%AB%AF">文章</a>有提到修改位置，修改配置文件后重新部署到Github。</p><h4 id="server酱推送"><a class="markdownIt-Anchor" href="#server酱推送"></a> Server酱推送</h4><p>然后来看推送服务这边。由于登录Server酱的时候扫码关注了公众号，所以这里我们可以直接点保存&gt;发送测试</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220810230352735.png" alt></p><p>你的微信就会收到一条公众号消息。</p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/IMG_9591.jpg" style="zoom: 33%;"><p>点击进入，长这样：</p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/IMG_F4B4DF536CAB-1.jpeg" style="zoom:33%;"><p>实际上这种方式并不合理，如果是网页评论，它会直接返回一段html代码给你。而且Server酱官网也提到使用微信推送有弃用风险，推荐使用<a href="http://www.pushdeer.com">PushDeer</a>。（我推荐IPhone用户使用。安卓用的是一个App。IOS用的是轻App，使用感受良好。）</p><p>用相机扫描这个任意一个轻App码就可以打开了，我用的是自架版，二者的区别我也没明白，有兴趣的同学可以留言告知一下。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220810231308063.png" alt></p><p>在轻App中绑定自己的设备后，复制自己的Key，粘贴到Server酱的这个页面，保存后测试一下。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220810231455665.png" alt></p><p>点击发送测试后，手机上就会收到一个轻App的提醒，点击打开查看<img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/IMG_9595.png" style="zoom:33%;"></p><p>目前来看PushDeer的效果和微信是一样的，都需要跳转页面才能看到推送的消息，只不过微信受腾讯监管，如果推送频繁或被人举报可能会有问题。PushDeer就不担心有什么问题，据我所知pushdeer算是个新鲜玩意儿，关于返回html代码的问题在AppStore评论区也有人提到，相信不久之后会更新的。</p><p>最后回到网站打开评论试一下，评论完了就会收到PushDeer的消息啦，如果想切换回微信，就在Server酱上切换即可。</p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Fluid</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo-Fluid 主题添加 Waline 评论系统</title>
    <link href="/post/d4c8af85.html"/>
    <url>/post/d4c8af85.html</url>
    
    <content type="html"><![CDATA[<p>在Fluid官网可以看到。Fluid默认支持了很多评论系统，国内用的比较多的还是Waline，但我并没有发现在Fluid主体下添加Walined之类的文章，所以这里也记录一下操作路程以及踩的一些坑</p><span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo --><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220810164855153.png" alt></p><p>我之前是用valine的，但无奈太难用了，也不支持通知，所以就换成Waline。其实<a href="https://waline.js.org/guide/get-started.html">Waline官方文档</a>搭建配置写的十分详细，本文档也是参考Waline来写的，只是添加了我本人的补充，请耐心观看。</p><h3 id="leancloud-设置-数据库"><a class="markdownIt-Anchor" href="#leancloud-设置-数据库"></a> LeanCloud 设置 (数据库)</h3><ol><li><p><a href="https://console.leancloud.app/login">登录</a>或 注册 <code>LeanCloud 国际版</code> 并进入控制台。建议是注意国际版，不要用国内版本。注意mac使用safari浏览器访问leancloud国际版可能会上不去或者提示403，这个很坑爹，换Chrome就好了。</p></li><li><p>点击左上角 <a href="https://console.leancloud.app/apps">创建应用</a> 并起一个你喜欢的名字 (请选择免费的开发版):</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/leancloud-1.f7a36b20.png" alt="创建应用"></p></li><li><p>进入应用，选择左下角的 <code>设置</code> &gt; <code>应用 Key</code>。你可以看到你的 <code>APP ID</code>,<code>APP Key</code> 和 <code>Master Key</code>。请记录它们，以便后续使用。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/leancloud-2.4cc69975.png" alt="ID 和 Key"></p></li></ol><h3 id="vercel-部署-服务端"><a class="markdownIt-Anchor" href="#vercel-部署-服务端"></a> Vercel 部署 (服务端)</h3><p><a href="https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2Fwalinejs%2Fwaline%2Ftree%2Fmain%2Fexample"><img src="https://vercel.com/button" alt="Vercel"></a></p><ol><li><p>点击上方按钮，跳转至 Vercel 进行 Server 端部署。</p><p>注</p><p>如果你未登录的话，Vercel 会让你注册或登录，请使用 GitHub 账户进行快捷登录。</p></li><li><p>输入一个你喜欢的 Vercel 项目名称并点击 <code>Create</code> 继续。（建议手动添加一个项目，这样会在你的仓库里新增一个库）</p><p><img src="https://waline.js.org/assets/vercel-1.4e9dd7aa.png" alt="创建项目"></p></li><li><p>此时 Vercel 会基于 Waline 模板帮助你新建并初始化仓库，仓库名为你之前输入的项目名。</p><p><img src="https://waline.js.org/assets/vercel-3.0918fcee.png" alt="deploy"></p><p>一两分钟后，满屏的烟花会庆祝你部署成功。此时点击 <code>Go to Dashboard</code> 可以跳转到应用的控制台。</p><p><img src="https://waline.js.org/assets/vercel-4.f7f4c12b.png" alt="deploy"></p></li><li><p>点击顶部的 <code>Settings</code> - <code>Environment Variables</code> 进入环境变量配置页，并配置三个环境变量 <code>LEAN_ID</code>, <code>LEAN_KEY</code> 和 <code>LEAN_MASTER_KEY</code> 。它们的值分别对应上一步在 LeanCloud 中获得的 <code>APP ID</code>, <code>APP KEY</code>, <code>Master Key</code>。</p><p><img src="https://waline.js.org/assets/vercel-5.3a5de7f0.png" alt="设置环境变量"></p><p>这里需要注意的是：环境变量里填写的NAME为LEAN_ID、LEAN_KEY、LEAN_MASTER_KEY这些，<strong>不要直接把leancloud里的名字和值填进去</strong>，否则会报500的错！！！这点巨坑！！</p><table><thead><tr><th>Lean Cloud</th><th>Vercel Environment</th></tr></thead><tbody><tr><td>AppID</td><td>LEAN_ID</td></tr><tr><td>AppKey</td><td>LEAN_KEY</td></tr><tr><td>MasterKey</td><td>LEAN_MASTER_KEY</td></tr></tbody></table><p>注意：如果你使用 LeanCloud 国内版，请额外配置 <code>LEAN_SERVER</code> 环境变量，值为你绑定好的域名。</p></li><li><p>环境变量配置完成之后点击顶部的 <code>Deployments</code> 点击顶部最新的一次部署右侧的 <code>Redeploy</code> 按钮进行重新部署。该步骤是为了让刚才设置的环境变量生效。</p><p><img src="https://waline.js.org/assets/vercel-6.c1af01b1.png" alt="redeploy"></p><ol><li>此时会跳转到 <code>Overview</code> 界面开始部署，等待片刻后 <code>STATUS</code> 会变成 <code>Ready</code>。此时请点击 <code>Visit</code> ，即可跳转到部署好的网站地址，此地址即为你的服务端地址，服务端地址也就<code>serverURL</code>，在Fluid的配置文件中，有2个地方需要用到它。注意：<strong>每次部署后的地址是不一样的</strong>，以最后一次的地址为主。服务器地址的格式是：commentxxxx-xxxxxxx.vercel.app</li></ol><p><img src="https://waline.js.org/assets/vercel-7.2478902b.png" alt="redeploy success"></p></li></ol><h3 id="绑定域名可选略见官网"><a class="markdownIt-Anchor" href="#绑定域名可选略见官网"></a> 绑定域名（可选，略，见官网）</h3><h3 id="html-引入-客户端"><a class="markdownIt-Anchor" href="#html-引入-客户端"></a> HTML 引入 (客户端)</h3><p>官网只介绍了Waline标签，但没有告诉我们具体在哪里引入，所以不太友好。这种第三方的JS、HTML在Fluid官网也有<a href="https://fluid-dev.github.io/hexo-fluid-docs/guide/#%E8%87%AA%E5%AE%9A%E4%B9%89-js-css-html">介绍</a>，所以直接在Fluid主题配置引入，也就是博客根目录/themes/fluid/_config.yml。</p><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">custom_js: &#x27;https://unpkg.com/<span class="hljs-meta">@waline/client</span><span class="hljs-meta">@v2/dist/waline.js&#x27;</span><br><br>custom_css: &#x27;https://unpkg.com/<span class="hljs-meta">@waline/client</span><span class="hljs-meta">@v2/dist/waline.css&#x27;</span><br><br>custom_html: &#x27;<span class="hljs-variable">&lt;div id=&quot;waline&quot;&gt;</span><span class="hljs-variable">&lt;/div&gt;</span><br>  <span class="hljs-variable">&lt;script&gt;</span><br>    Waline.init(&#123;<br>      el: <span class="hljs-string">&quot;#waline&quot;</span>,<br>      serverURL: <span class="hljs-string">&quot;https://comment-xxxxx-xxxx.vercel.app/&quot;</span>,<br>    &#125;);<br>  <span class="hljs-variable">&lt;/script&gt;</span>&#x27;<br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220810174800349.png" alt="image-20220810174800349"></p><p>再配置comment插件的地方<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/1f49de838b4445488b81a4801c20952.jpg" alt></p><p>到这里就OK了，部署之后就可以正常运行了。然后访问 <code>&lt;serverURL&gt;/ui/register</code> 进行注册，就可以管理评论了。（部署到github后需要等几分钟再查看）</p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo框架Fluid主题使用hexo-tag-aplayer组件播放网易云音乐</title>
    <link href="/post/4783f4d1.html"/>
    <url>/post/4783f4d1.html</url>
    
    <content type="html"><![CDATA[<p>Aplayer是一个非常好看、简洁而优雅的音乐播放器，配置起来也不繁杂，但是其中也有一些坑，这里记录一下。</p><span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo --><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220809223028790.png"><p>环境为Ubuntu，nodeJS版本12.0.0，npm版本6.9.0，hexo版本5.4.2</p><h4 id="安装aplayer"><a class="markdownIt-Anchor" href="#安装aplayer"></a> 安装Aplayer</h4><p>cd到博客根目录，执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install --save hexo-tag-aplayer<br></code></pre></td></tr></table></figure><p>此时<code>node_module</code>文件夹会多出来一个aplayer文件夹</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs gradle">ubuntu@VM-<span class="hljs-number">0</span>-<span class="hljs-number">7</span>-ubuntu:~<span class="hljs-regexp">/blog$ ls node_modules/</span> | <span class="hljs-keyword">grep</span> aplayer<br>aplayer<br>hexo-tag-aplayer<br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220809224238027.png" alt></p><p>将dist文件夹复制一份到主题目录文件下的source文件夹下</p><p>（<strong>注意后面我所说的source文件夹都指的是主题目录下的</strong>）</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220809224433775.png" alt></p><h4 id="配置aplayer"><a class="markdownIt-Anchor" href="#配置aplayer"></a> 配置Aplayer</h4><p>在source/js下新建一个amusic.js（自定义），手动配置Aplayer。audio中就是配置歌曲，参数的信息在官网找就好了，有中文很好找。</p><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs axapta"><span class="hljs-keyword">const</span> ap = <span class="hljs-keyword">new</span> APlayer(&#123;<br>    <span class="hljs-built_in">container</span>: document.getElementById(<span class="hljs-string">&#x27;aplayer&#x27;</span>),<br>    fixed: <span class="hljs-literal">true</span>,<br>  autoplay: <span class="hljs-literal">false</span>, <span class="hljs-comment">//关闭自动播放</span><br>    audio: [<br>&#123;<br>        name: <span class="hljs-string">&#x27;&#x27;</span>,<br>        artist: <span class="hljs-string">&#x27;&#x27;</span>,<br>        url: <span class="hljs-string">&#x27;&#x27;</span>,<br>        cover: <span class="hljs-string">&#x27;&#x27;</span>,<br>        lrc: <span class="hljs-string">&#x27;&#x27;</span>,<br>    &#125;, <br>]<br>&#125;);<br><br><br></code></pre></td></tr></table></figure><p>这里需要手动填写的内容有：</p><p>name-歌曲名</p><p>artist-歌手名</p><p>url-歌曲链接</p><p>cover-歌曲封面</p><p>lrc-歌词</p><h4 id="快链"><a class="markdownIt-Anchor" href="#快链"></a> 快链</h4><p>歌曲链接是不能直接用官网的链接，需要使用外链。拿网易云音乐为例</p><p>例如：《特别的人》 歌手：方大同</p><p>网址是<a href="https://music.163.com/#/song?id=28403111%EF%BC%8C%E5%AE%83%E7%9A%84ID%E6%98%AF28403111">https://music.163.com/#/song?id=28403111，它的ID是28403111</a></p><p>那么这首歌的外链就是<a href="http://music.163.com/song/media/outer/url?id=28403111.mp3">http://music.163.com/song/media/outer/url?id=28403111.mp3</a></p><p>也就是说外链的下载规则为：<a href="http://music.163.com/song/media/outer/url?id=%E6%95%B0%E5%AD%97ID.mp3">http://music.163.com/song/media/outer/url?id=数字ID.mp3</a></p><p>但要注意的是，网易云VIP单曲似乎不提供外链……</p><p>我自己一般网易云没有的话就直接Google去搜，锁着找一些专门提供快链的网站，<a href="http://music.xf1433.com/">http://music.xf1433.com/</a> 这个是我白天的时候用的，但不知道为啥晚上回家打不开了……离谱</p><p>还有一个快链来源：打开chrome控制台-Network,播放音乐后选择筛选media类型的URL，就可以了。</p><p>快链直接复制封面图片的地址，填写即可</p><h4 id="歌词"><a class="markdownIt-Anchor" href="#歌词"></a> 歌词</h4><p>歌词在官网有介绍三种插入方式，LRC、JS、HTML，后2种代码怼上去太繁杂了，直接拒绝。LRC我没有尝试成功，在别的网站那里找到另一种方式，如下：</p><p>LRC文件即歌词文件，格式一般是时间轴+歌词</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-attr">[ti:不得不爱]</span> <br><span class="hljs-selector-attr">[ar:潘玮柏]</span> <br><span class="hljs-selector-attr">[al:高手]</span> <br><span class="hljs-selector-attr">[BY:]</span> <br><span class="hljs-selector-attr">[00:01.985]</span>www<span class="hljs-selector-class">.gecimao</span><span class="hljs-selector-class">.com</span>★QQ122121036 <br><span class="hljs-selector-attr">[00:29.023]</span>天天都需要你爱 <br><span class="hljs-selector-attr">[00:31.605]</span>我的心思由你猜 <br><span class="hljs-selector-attr">[00:34.306]</span><span class="hljs-selector-tag">I</span> love you <br><span class="hljs-selector-attr">[00:35.675]</span>我就是要你让我每天都精彩 <br><span class="hljs-selector-attr">[00:40.959]</span>天天把它挂嘴边 <br><span class="hljs-selector-attr">[00:43.541]</span>到底什么是真爱 <br><span class="hljs-selector-attr">[00:46.367]</span><span class="hljs-selector-tag">I</span> love you  <br>……………<br></code></pre></td></tr></table></figure><p>我的做法是在网上找到这种格式的文本（搜索歌名+lrc 或者找专门的网站），直接复制下来，然后在我的ubuntu上touch一个文件，vim编辑好，注意一下编码是UTF-8。</p><p>配置文件中的lrc字段，其实只要是可以访问当的lrc文件就可以了，因此可以直接将lrc文件上传至github，通过域名能够访问到即可：</p><p>把在source下创建一个lrcs目录，将所有的LRC文件丢进去</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220809231716929.png" alt></p><p>歌词放在这个位置，部署后通过域名+/lrcs/xxx.lrc就可以访问到了，同时amusic.js文件配置好对应位置即可</p><p>（补充）需要注意的是，歌词默认展示的位置是底部居中，会遮挡一部分文字，最底部的统计也会被遮挡。至于怎么修改这个地方，我还没有去研究，知道的同学可以留言说一下。</p><p>展示一下我的</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs 1c">const ap = new APlayer(&#123;<br>    container: document.getElementById(&#x27;aplayer&#x27;),<br>    fixed: true,<br>  autoplay: false, <span class="hljs-comment">//自动播放</span><br>    audio: [<br>&#123;<br>        name: &#x27;特别的人&#x27;,<br>        artist: &#x27;方大同&#x27;,<br>        url: &#x27;http://music.163.com/song/media/outer/url?id=<span class="hljs-number">28403111</span>.mp3&#x27;,<br>        cover: &#x27;https://p1.music.126.net/RTB72JJJapo01l4XfVDAWQ==/<span class="hljs-number">10995116634981</span><span class="hljs-number">9975</span>.jpg&#x27;,<br>        lrc: &#x27;https://zhouyinglin.cn/lrcs/特别的人.lrc&#x27;,<br>    &#125;,<br>        &#123;<br>        name: &#x27;身骑白马&#x27;,<br>        artist: &#x27;徐佳莹&#x27;,<br>        url: &#x27;http://music.163.com/song/media/outer/url?id=<span class="hljs-number">523303</span>8.mp3&#x27;,<br>        cover: &#x27;http://p2.music.126.net/jSLMqcE_Yq27rRKDNrRKcA==/<span class="hljs-number">10995116318740</span><span class="hljs-number">7183</span>.jpg&#x27;,<br>        lrc: &#x27;https://zhouyinglin.cn/lrcs/身骑白马.lrc&#x27;,<br>    &#125;,<br>]<br>&#125;);<br></code></pre></td></tr></table></figure><h4 id="添加到页面"><a class="markdownIt-Anchor" href="#添加到页面"></a> 添加到页面</h4><p>由于fluid主题中留有footer的位置，这里也是一些小组件首选放置之地</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220809230845547.png" alt></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;/dist/APlayer.min.css&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;aplayer&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/dist/APlayer.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/js/diy/music.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>注意这里的id需要与amusic.js中的getElementById填的ID相同，确认好之后部署。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220809233230726.png" alt="image-20220809233230726"></p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Life</tag>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo 一键调试脚本(懒人版)</title>
    <link href="/post/bd056e20.html"/>
    <url>/post/bd056e20.html</url>
    
    <content type="html"><![CDATA[<p>由于在Hexo上做修改、调整配置经常需要在本地启动、部署github，所以经常需要hexo clean 、hexo g、hexo d之类的操作，次数多的时候真的很麻烦。本人又非常的懒，所以做一个简单的脚本，可随意调整本地/Github部署，节省一个宝贵的时间以便用让它们浪费在别的地方</p><span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo --><p>该脚本只是做简单的逻辑处理，纯属自用，大佬勿喷。目前用到的只有这些，后续如果有更多需求会继续补充。</p><p>不废话直接上代码吧，<a href="http://xn--blogpush-t39lfp33dj72a2wq4w4huj3c.sh">如下代码起名为blogpush.sh</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br>  <br><span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;<span class="hljs-variable">$1</span>&quot;</span> == <span class="hljs-string">&quot;local&quot;</span>  ];<span class="hljs-keyword">then</span><br>    hexo clean<br>    hexo g<br>    hexo s<br><span class="hljs-keyword">elif</span> [ <span class="hljs-string">&quot;<span class="hljs-variable">$1</span>&quot;</span> == <span class="hljs-string">&quot;github&quot;</span> ];<span class="hljs-keyword">then</span><br>    git config --global  --<span class="hljs-built_in">unset</span> https.https://github.com.proxy<br>    git config --global  --<span class="hljs-built_in">unset</span> http.https://github.com.proxy<br>    hexo clean<br>    hexo g<br>    hexo d<br><span class="hljs-keyword">else</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Parameter validation failed!&quot;</span><br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></table></figure><p>食用方法：</p><p>启动本地调试：. <a href="http://blogpush.sh">blogpush.sh</a> local</p><p>部署到Github：. <a href="http://blogpush.sh">blogpush.sh</a> github</p><p>其他：</p><p>$1 获取第一个参数</p><p>hexo clean 清除缓存</p><p>hexo g 编译静态文件</p><p>hexo s 启动本地服务</p><p>hexo d 部署到github</p><p>git config xxxxx 重置github代理。部署卡住时使用，不是100%管用，可重复尝试</p>]]></content>
    
    
    <categories>
      
      <category>Ops</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Shell</tag>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo部署Github Pages自定义域名失效问题</title>
    <link href="/post/87506a50.html"/>
    <url>/post/87506a50.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><!-- categories:Dev、Ops、Study、Sth、News--><!-- tags: Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、Life、树莓派、Git、Hexo --><p>在博客目录/source/下添加一个CNAME文件，填入自己的域名（不包含https、www这些），然后重新渲染、部署。过几分钟github仓库设置中会自动填充域名并生效。</p><p>注意：我的CNAME文件是在Linux上touch出来无后缀文件，格式保证绝对正确。而Win&amp;Mac上有的文件的后缀是隐藏的，这点需要注意。</p><p>如果该方法失效，可以再次删除后再次新建一个重新试试。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> blog/source  <span class="hljs-comment">#进入source目录</span><br><span class="hljs-built_in">touch</span> CNAME<span class="hljs-comment">#新建文件</span><br>vim CNAME<span class="hljs-comment">#编辑文件</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>利用git branches备份Hexo博客文件</title>
    <link href="/post/202ef432.html"/>
    <url>/post/202ef432.html</url>
    
    <content type="html"><![CDATA[<p>输入hexo d之后，Hexo根据源文件来渲染所有的页面，并部署到github上。编辑、维护文章和配置时都在本地操作，因此本地文件就显得尤为重要。一旦本地文件丢失，就无法再对博客进行维护。所以对源文件的备份是必须的。</p><span id="more"></span><p>首先需要了解一下Hexo部署的机制，Hexo在hexo deploy之后，部署到github的是编译后的文件，是用来生成网页的，并不包含hexo源文件.</p><p>说明一下情况：我的文章放在服务器上，网站托管在github，因此需要定期向github备份。万一哪天服务器抽风呢</p><p>源文件:</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220808104848697.png" alt></p><p>编译部署后：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220808104643046.png" alt></p><p>这些编译后的文件在源文件也放了一份，它们自动生成在.deploy_git中。部署的时候就把这些文件上传到github，其他类似主题文件、配置文件都不会上传。因此解决的办法就是讲源文件做备份，上传到仓库的另一个分支。</p><p><strong>新建分支(首次)</strong></p><p>首先在github上新建一个HexoBackup分支，新建分支后，HexoBackup分支中的内容与main相同。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220808105424792.png" alt></p><p>在本地（我的是windows）目录打开git bash，将新建的HexoBackup分支clone到本地，然后将除了<code>.git</code>文件夹以外的所有文件都删掉。</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">git clone -b HexoBackup https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/YuanZhou314/yu</span>anzhou314.github.io.git<br></code></pre></td></tr></table></figure><p><strong>数据下载</strong></p><p>然后将服务器上需要备份的数据压缩打包，用FTP软件下载到windows本地。</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">tar -zcvf blog<span class="hljs-selector-class">.tar</span><span class="hljs-selector-class">.gz</span> <span class="hljs-attr">--exclude</span>=blog/node_modules blog<br></code></pre></td></tr></table></figure><p>将压缩包解压到刚才分支下载的目录，并删掉<code>.deploy_git</code>文件夹。此时的路径应该是这样的：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/202211011458981.png" alt></p><p><strong>忽略文件</strong></p><p>新建一个<code>.gitignore</code>文件（如果没有），将不需要的文件写进去，这些文件将不会被git上传。除了这些文件，如果之前有克隆过theme中的主题文件，那么应该把主题文件中的<code>.git</code>文件夹删除，因为git不能嵌套上传。总之就是检查一下是否有其他git文件，否则上传的时候会出错。</p><p>强烈建议开启隐藏文件显示：</p><ul><li>Windows：文件管理器中找到【查看】&gt;【选项】&gt;【查看】&gt;【高级设置】&gt;勾选显示隐藏的文件、文件夹或驱动器</li><li>linux：ls -al</li></ul><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs x86asm"><span class="hljs-meta">.DS_Store</span><br>Thumbs<span class="hljs-number">.</span><span class="hljs-built_in">db</span><br><span class="hljs-built_in">db</span><span class="hljs-number">.</span>json<br>*.log<br>node_modules/<br><span class="hljs-meta">public</span>/<br><span class="hljs-meta">.deploy</span>*/<br></code></pre></td></tr></table></figure><p><strong>上传</strong></p><p>然后就可以上传了，在当前目录（yuanzhou314.github.io下）依次执行如下命令即可完成备份：</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs avrasm">git <span class="hljs-keyword">add</span> .   <span class="hljs-meta"># 添加当前目录文件到暂存区</span><br>git commit -m <span class="hljs-string">&quot;add branch&quot;</span>  <span class="hljs-meta"># 提交到本地仓库</span><br>git <span class="hljs-keyword">push</span> origin HexoBackup  <span class="hljs-meta"># 提交到远程仓库的HexoBackup分支</span><br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/image-20220808111508247.png" alt></p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Git</tag>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Ubuntu无法升级Nodejs</title>
    <link href="/post/acdbe79b.html"/>
    <url>/post/acdbe79b.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>apt-get默认下载的是8.10版本的NodeJS，顺带npm的版本同样是3.xx，常规升级后提示 installed 已安装新版本，但node -v后发现仍然是旧版本。这是是因为新下载的node在其他位置，因此只需注意更改变量位置或添加新位置到profile即可。</p><p>错误提示：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">error</span>：The engine node is incompatible with this module. Expected version ^<span class="hljs-number">6</span>.<span class="hljs-number">14</span>.<span class="hljs-number">0</span> || ^<span class="hljs-number">8</span>.<span class="hljs-number">10</span>.<span class="hljs-number">0</span> || &gt;=<span class="hljs-number">9</span>.<span class="hljs-number">10</span>.<span class="hljs-number">0</span>. Got <span class="hljs-number">9</span>.<span class="hljs-number">5</span>.<span class="hljs-number">0</span>y　<br></code></pre></td></tr></table></figure><p>意思很明显，版本不匹配</p><p>更新node版本：</p><p>清除npm缓存：npm cache clean -f</p><p>安装n模块：npm install -g n</p><p>安装官方稳定版本：n stable</p><p>安装最新官方版本：n latest</p><p>安装某个指定版本：n 11.6.0</p><p>查看已安装的node版本: n</p><p>查看当前node版本：node -v</p><p>删除指定版本：n rm 7.5.0</p><p>指定版本执行脚本：n use 7.5.0 index.js</p><p>发现当前版本不是最新的版本，然后已经安装有了最新的版本，造成不生效的原因：</p><p>node默认的安装目录与使用管理工具n安装的目录不一致</p><p>解决方法：</p><p>查看当前node安装路径：which node</p><p>我的当前安装路径是：/usr/local/Cellar/node/9.5.0/bin/node</p><p>而 n 默认安装路径是 /usr/local，需要通过通过N_PREFIX变量来修改 n 的默认node安装路径。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806205242.png" alt></p><p>编辑环境配置文件：vim ~/.bash_profile</p><p>修改node安装位置：在末尾增加export PATH=/usr/local/bin:$PATH shift+:wq 保存退出</p><p>让新配置生效：socuce ~/.bash_profile</p><p>重新安装稳定版本：n stable</p><p>查看当前node版本：node -v (已经是最新的稳定版本了)</p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>NodeJS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Ubuntu22.04桌面版配置Clash for Linux</title>
    <link href="/post/bbbbe684.html"/>
    <url>/post/bbbbe684.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>近来将电脑的windows换成了Ubuntu桌面版，第一件事自然是挂上tizi。查了一下通用做法就是配置Clash，这里也留个记录，供需要的同学参考。</p><h2 id="下载安装"><a class="markdownIt-Anchor" href="#下载安装"></a> 下载安装</h2><p>去github仓库下载最新版本即可:<a href="https://github.com/Dreamacro/clash/releases">https://github.com/Dreamacro/clash/releases</a></p><p>注意系统架构，我这里下的是clash-freebsd-amd64-v3-v1.11.0.gz</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806204455.png" alt></p><p>到gz包的下载目录去解压，将解压出来的文件放在/usr/local/bin/下，改名为clash</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">gunzip</span> clash-linux-amd64-v1.<span class="hljs-number">7</span>.<span class="hljs-number">1</span>.gz``mv` `clash-linux-amd64-v1.<span class="hljs-number">7</span>.<span class="hljs-number">1</span> ``/usr/local/bin/clash<br></code></pre></td></tr></table></figure><p></p><p>先赋个权，再直接执行clash</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">chmod</span> +x clash<br><br>clash<br></code></pre></td></tr></table></figure><p></p><p>如此稍等一会儿，重新打开一个终端，查看一下~/.config/clash这个目录是否生成了下面3个文件。这其中config.yaml和Country.db是我们需要配置的。这三个文件如果已经生成，则上面的clash进程可以暂时关掉了。后面配置好了yaml再重新启动</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806204526.png" alt></p><h2 id="配置yaml"><a class="markdownIt-Anchor" href="#配置yaml"></a> 配置yaml</h2><p>重点来了，来到~/.config/clash目录下， 准备好订阅链接，然后执行下载clash配置文件的操作。这2个操作执行后，会有进度条显示，并且最后是完成的状态。</p><p>这个步骤有任何提示错误都代表不对的。另外，还有一种情况就是有的人开启了代理，网络不通，这里自然也就不通。因此这两步一定要确保网络是正常的</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs prolog">wget -<span class="hljs-symbol">O</span> config.yaml [订阅链接]<span class="hljs-string">``</span>wget -<span class="hljs-symbol">O</span> <span class="hljs-symbol">Country</span>.mmdb https:<span class="hljs-string">``</span>//www<span class="hljs-string">``</span>.sub-speeder.com<span class="hljs-string">``</span>/client-download/<span class="hljs-symbol">Country</span><span class="hljs-string">``</span>.mmdb<br><br></code></pre></td></tr></table></figure><p>注意，这里的订阅链接<strong>不是直接用各个平台给的那种通用的</strong>（或者是酸酸乳ssr用的），而是<strong>需要转换</strong>一下。</p><p>普通的订阅链接经过浏览器打开后是显示一串字符串，这种一般是酸酸乳用的，而这里clash需要的配置文件是yaml格式，这种格式有点类似json，是键值对格式的。所以很多人直接在这里直接用ssr用的，后面执行clash -d的时候就会提示下面这样的错误</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arduino">FATA[<span class="hljs-number">0000</span>] Parse config error: yaml: unmarshal errors: line <span class="hljs-number">1</span>: cannot unmarshal !!str `c3M6Ly9...` into config.RawConfig<br></code></pre></td></tr></table></figure><p>目前我所了解的情况是，通过在线订阅转换工具，例如下面的 <a href="http://www.flyjiang.cn/">http://www.flyjiang.cn/</a> 来转换Clash类型的订阅地址。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806204540.png" alt></p><p>将平台给的地址粘贴在订阅链接的框框里，类型选择Clash，点击生成订阅链接，定制订阅里会生成一个长链，这个链我试了一下不能用。因此再点击生成短链接，在订阅短链那一栏就会生成一条短链，把它拿到地址栏用浏览器访问一下，如下图所示，会发现这就是一个yaml格式的文件，因此我们需要的就是这玩意儿。</p><p>把这个短链拿到上面步骤去，生成yaml配置文件。（不用复制网页内容，直接用wget下载即可）</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806204559.png" alt></p><p>重新回到/usr/local/bin/下面，根据配置文件执行clash</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arcade">clash -d ~<span class="hljs-regexp">/.config/</span>clash/<br></code></pre></td></tr></table></figure><p>此时执行成功的话会产生大量的类似刚才浏览器访问短链的实时日志，在访问互联网的过程中也会一直产生日志，这个是正常的。这个进程所在的终端也不要关闭，关闭了就没法用的。然后，据说访问<a href="http://clash.razord.top/#/proxies">http://clash.razord.top/#/proxies</a> 可以查看节点情况、测试延迟等等，但设置了密码后还是不能登录，就没有再测试了</p><h2 id="系统设置"><a class="markdownIt-Anchor" href="#系统设置"></a> 系统设置</h2><p>打开系统设置，选择网络，点击网络代理右边的设置按钮，选择手动，填写 HTTP 和 HTTPS 代理为 0.0.0.0:7890，填写 Socks 主机为 0.0.0.0:7891，即可启用系统代理。启用后尝试一下访问网站，应该就可以用了</p><p>注意：clash进程和网络代理同时开启，才可以正常上网。如果clash开启但网络代理关闭，则无法使用，甚至连正常的网络都没法打开，这一点蛮坑的，所以最好设置clash开机自启，不然会比较麻烦</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806204633.png" alt></p><p>但是开启自启我搞了半天也没搞好，查看clash的状态的时候也是没有启动、失败的，有经验的朋友也可以留言告知一下，不胜感激</p>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Ubuntu</tag>
      
      <tag>VPN</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>区块链学习大纲</title>
    <link href="/post/3f17b6d5.html"/>
    <url>/post/3f17b6d5.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h4 id="链表"><a class="markdownIt-Anchor" href="#链表"></a> 链表</h4><p>区块链一般表示为一个单链列表，区块链中的块相当于链表中的Node节点，节点之间使用哈希串联形成链。区块链上的数据基本不可能修改，比普通链表要复杂得多</p><h4 id="树"><a class="markdownIt-Anchor" href="#树"></a> 树</h4><p>区块链中使用Merkle Tree即默克尔树。是二叉树的一种，最底层是叶子节点，内容是对应数据的哈希。每两片相邻的叶子结点加起来做哈希计算，计算结果为上层节点的内容，这样持续计算就会产生一个最顶端的哈希值，该值被放在比特币的区块头中。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806204245.png" alt></p><p>主要用于验证一个交易已经存在对应的区块中，一般来说，验证交易需要搭建节点下载和同步区块链数据后根据哈希值查询，这样既占用空间和验证计算量都较大。如果使用Merkle Tree，可直接下载块头数据即可验证</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806204257.png" alt></p><h4 id="过滤器"><a class="markdownIt-Anchor" href="#过滤器"></a> 过滤器</h4><p>Bloom Filter即布隆过滤器。它是一种基于概率的数据结构，主要用来判断某个元素是否在集合内，它具有运行速度快（时间效率），占用内存小的优点（空间效率），但是有一定的误识别率和删除困难的问题。它能够告诉你某个元素一定不在集合内或可能在集合内。</p><p>在比特币网络中，轻节点客户端查找自己账户地址相关的UTXO时需要用到。客户端通过过滤器告诉全节点自己的地址信息，全节点返回结果可能相关的UTXO，过滤器过滤掉了不属于该地址的UTXO。保护隐私、节省带宽</p><hr><h4 id="hash"><a class="markdownIt-Anchor" href="#hash"></a> HASH</h4><p>即哈希算法、散列算法，一个单项函数，可以将任意长度的输入数据转化为固定长度的输出。将一个输入给哈希，会很快计算出来一个输出，但一个输出无法反推输入，只能暴力穷举，这种概率非常小。如果两个输入数据不同但哈希相同，则发生了哈希碰撞。</p><p>区块链中，哈希算法主要用于防止交易被篡改，交易经过哈希算法计算写入MerkleTree<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806204312.png" alt></p><h4 id="非对称加密与数字签名"><a class="markdownIt-Anchor" href="#非对称加密与数字签名"></a> 非对称加密与数字签名</h4><p>非对称加密中有连个密钥，公钥和私钥，是一对。如果使用公钥加密，那必须用对应的私钥解密；如果对私钥加密，那必须用对应公钥解密。非对称加密信息传输过程如下：</p><ol><li>A要向B发送信息，A和B都要产生一对用于加密、解密的公钥和私钥</li><li>A保管自己的私钥，把公钥告诉B；B保管自己的私钥，把公钥告诉A</li><li>A要给B发送信息时，A用B的公钥加密信息，因为A知道B的公钥</li><li>A将这个消息发给B（已经用B的公钥加密消息）</li><li>B收到这个消息后，B用自己的私钥解密A的消息。其他所有收到这个报文的人都无法解密，因为只有B才有B的私钥<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806204330.png" alt></li></ol><p>数字签名有两个算法：签名、验证。签名就是使用私钥处理信息或因为信息的哈希而产生的签名，验证就是使用公钥验证签名的真实性。整个验证过程如下：</p><ol><li>张三在比特币转账前需要将交易信息缩短成一段字符串，用自己的私钥进行加密以形成数字签名</li><li>张三会将交易信息、数字签名和公钥都广播出去，矿工会将这些记录下来，并用张三的公钥进行验证</li><li>如果验证成功就证明该笔交易确实是由张三发出的，之后接受转账者李四会收到比特币</li></ol><p>在区块链中，非对称加密和数字签名利用公私钥对加密，可以保证数据安全。</p><p>分布式网络：</p><h4 id="p2p网络"><a class="markdownIt-Anchor" href="#p2p网络"></a> P2P网络</h4><ul><li>传统Client-Server模式是中心化网络，资源集中，海量访问时可能受限</li><li>P2P网络是去中心化的，各节点可直接通信，节点既是服务器又是客户端</li><li>P2P架构下是无信任的，用户无需担心隐私泄露，且通信加密，安全</li><li>节点间的直接通信，效率较高</li><li>目前的应用：文件共享（如种子下载）、区块链应用</li></ul><h4 id="共识算法"><a class="markdownIt-Anchor" href="#共识算法"></a> 共识算法</h4><p>共识算法是允许用户或机器在分布式环境中协调关系的机制，它需要确保系统中的所有代理对单一事实来源能够最终达成一致意见（即使某些代理持反对意见），也就是说，系统必须具有良好的容错性。经典的共识概念可以参考拜占庭将军问题。</p><p>目前我们国家的货币系统是一个记账货币，例如支付宝扫码支付，其中并没有进行实际的货币转移，而是支付宝在它的数据库里记了一笔账，这就是中心化的记账方式。这种方式效率很高，但也存在一系列问题，如中心化节点引发的错误等黑天鹅事件，一般的解决方案就是做备份、对人员进行SOP培训，或者使用更可靠、安全的系统。</p><p>去中心化记账系统中，每个区块都记录着很多交易，这种系统有很多优点，但其中一个很重要的问题就是各节点账本的一致性。因为每加入这个系统的节点都需要保存一份完整的账本，但却不能有两个节点同时记账，因为节点处于不同的环境，接收到的交易信息不一致，如果同时记账就会导致账本的不一致。所以，需要通过共识机制决定让哪个节点来记账，目前常用的就是POW、POS等</p><h5 id="pow工作量证明"><a class="markdownIt-Anchor" href="#pow工作量证明"></a> POW工作量证明</h5><p>例如，工作面试中，招聘网站写着岗位需要本科学历，如何证明是本科毕业生？只要将本科毕业证给面试官看就行了。但是你要拿到本科毕业证需要上4年大学、在此之前还要上3年高中、初中小学，中途要上课、考试，还不能挂科。这是一个艰辛的过程，但对于面试官而言，只要展示出毕业证就可以证明你上过大学。这种获取困难但验证简单的不对称性也是POW的特点。它<strong>通过对一个区块链头部中的父区块哈希、MerkleTree树根、nonce值三个字段进行哈希运算</strong>，如果结果小于目标值则计算成功，如果大于目标值则改变nonce值，重复运算直到结果小于目标值为止</p><p>区块头部信息：</p><table><thead><tr><th style="text-align:center">字段名</th><th style="text-align:center">长度/字节</th><th style="text-align:center">含义</th></tr></thead><tbody><tr><td style="text-align:center">version</td><td style="text-align:center">4</td><td style="text-align:center">版本号</td></tr><tr><td style="text-align:center">prev_hash</td><td style="text-align:center">32</td><td style="text-align:center">前一区块哈希</td></tr><tr><td style="text-align:center">merkle_root</td><td style="text-align:center">32</td><td style="text-align:center">区块体中交易的Merkle树的根节点的哈希</td></tr><tr><td style="text-align:center">time</td><td style="text-align:center">4</td><td style="text-align:center">当前区块生成时间，时间戳</td></tr><tr><td style="text-align:center">terget</td><td style="text-align:center">4</td><td style="text-align:center">当前目标值</td></tr><tr><td style="text-align:center">nonce</td><td style="text-align:center">4</td><td style="text-align:center">随机数</td></tr></tbody></table><h5 id="pos权益证明"><a class="markdownIt-Anchor" href="#pos权益证明"></a> POS权益证明</h5><p>参与比特币挖矿的人越来越多，PoW的许多问题逐渐显现，例如随着算力竞争迅速加剧，获取代币需要消耗的能源大量增加，记账权也逐渐向聚集了大量算力的“矿池”集中。为此研究者尝试采用新的机制取代工作量证明。POS最早的应用是点点币，它出了币龄的概念，币龄是持有的代币与持有时间乘积的累加。利用币龄竞争取代算力竞争，使区块链的证明不再仅仅依靠工作量，有效地解决了PoW的资源浪费问题。关于POS可详见百度</p><p><img src="https://img2022.cnblogs.com/blog/1560490/202205/1560490-20220531160019464-766728807.png" alt="img"></p><p>在区块链中，共识算法可以解决两个问题：双花问题和拜占庭将军问题</p><h4 id="并行计算模型"><a class="markdownIt-Anchor" href="#并行计算模型"></a> 并行计算模型</h4><p>在区块链系统中，交易是组成事务的基本单元。交易吞吐量（TPS）很大程度上能限制或拓宽区块链业务的适用场景，愈高的吞吐量，意味着区块链能够支持愈广的适用范围和愈大的用户规模。业界的TPS优化方案层出不穷，但都是为了尽可能提交交易的并行处理能力，降低交易处理时间。如FISCO BCOS基于DAG模型的并行交易引擎等</p><p>事务一致性原理</p><p>一致性是指分布式系统中（如区块链）的多个服务节点，给定一系列的操作，在约定协议的保障下，<strong>使它们对外界呈现的状态是一致的</strong>。换句话说，也就是保证<strong>集群中所有服务节点中的数据完全相同并且能够对某个提案（Proposal）达成一致</strong></p><p><strong>注意</strong>：共识性描述的是节点之间彼此对某个状态达成一致结果的过程，而一致性是指多个节点对外呈现的数据的状态，描述的是对数据状态的维护能力。也就是说，一致性描述的是结棍状态，共识则是一种手段。达成共识并不意味着保证了一致性，只能说共识机制能够实现某种程度上的一致性。在实际应用中，如果要保证系统满足不同程度的一致性，往往需要通过共识算法来达成</p><h5 id="一致性的要求"><a class="markdownIt-Anchor" href="#一致性的要求"></a> 一致性的要求</h5><ul><li>达成一致的结果在有限的时间内完成，简称为<strong>有限性</strong></li><li>不同节点最终完成决略的结果是相同的，即<strong>约同性</strong></li><li>决策的结果必须是系统中某个节点提出来的。即<strong>合法性</strong>。</li></ul><p>在分布式系统中，如果一个由节点提出的提案，能够用在有限的时间内达到一致性的结果，我们就说该提案达到了一致性</p><h5 id="一致性的分类"><a class="markdownIt-Anchor" href="#一致性的分类"></a> 一致性的分类</h5><ul><li>严格一致性<ul><li>理想状态，对于某数据项的任何读写操作将返回最近一次对它进行的写操作的结果所对应的值，依赖于绝对的全局时间。严格一致性在系统不发生任何故障，且所有节点之间的通信无需任何时间这种理想的条件下才能达到，这时候整个分布式系统相当于一台机器。这在现实中基本不可能达到，且一致性越强往往导致处理性能、可扩展性弱</li></ul></li><li>强一致性<ul><li>标准：当分布式系统中更新操作完成之后，任何多个进程或线程，访问系统都会获得最新的值</li><li>强一致性包括以下两类<ul><li>顺序一致性</li><li>线性一致性</li></ul></li></ul></li><li>弱一致性<ul><li>系统并不保证后续进程或线程的访问都会返回最新的更新的值。系统在数据成功吸入之后，不承诺立即可以读到最新写入的值，也不会具体承诺多久读到。但是<strong>会尽可能保证在某个时间级别（秒级）之后</strong>。可以让数据达到一致性状态。也就是说，如果能容忍后续的部分或者全部访问不到，则是弱一致性</li></ul></li><li>最终一致性<ul><li>弱一致性的特定形式。系统保证在没有后续更新的前提下，系统最终返回上一次更新操作的值。 也就是说，如果经过一段时间后要求能访问到更新后的数据，则是最终一致性。在最终一致性的要求下，如果没有故障发生，不一致窗口的时间主要受通信延迟，系统负载和复制副本的个数影响。DNS是一个典型的最终一致性系统。</li></ul></li></ul><hr><h4 id="博弈论"><a class="markdownIt-Anchor" href="#博弈论"></a> 博弈论</h4><p>多个个体之间的收益与奖励、以及如何使用它们来分析一次性和持续性游戏中的激励因素。博弈论应用到区块链的核心就是共识机制——让链上所有成员就同一问题达成一致：<strong>纳什均衡、谢林点</strong>。博弈论是研究战略决策的理论，一个博弈论模型至少有三个组成部分：</p><ol><li>决策者，例如公司董事长</li><li>战略，为了推动发展而做出的决定</li><li>回报，策略的结果</li></ol><p>博弈论中的2种类型：</p><ol><li>零和游戏：以牺牲另一个玩家为代价换取一个玩家的收益的游戏</li><li>非零和游戏：一个玩家的收益不以另一个玩家的损失为代价的游戏</li></ol><p>纳什均衡：博弈论的一个解决方案，假设每个参与者都知道其他参与者的策略的情况下，没有参与者可以通过改变自身策略使自身受益时的一个概念。</p><p>谢林点：同样是博弈论的一个解决方案，指人们在没有沟通的情况下的选择倾向，做出这一选择可能因为它<strong>看起来自然、特别、或者与选择者有关</strong>。</p><ul><li>例如，两人驱车相对而行，如果两车相撞，两人均死于车祸；如一方转弯，而另一方没有，则转弯的一方被耻笑为胆小鬼，另一方胜出。这种情况下使用谢林点的概念来解决问题，即开车时闭上眼睛，切断与对方的沟通，专注自己本能。在现实生活中，车子一般靠右行驶，直接会让各自均靠右边行驶。</li><li>在生活中，有各种聚焦点，如公司、小区门口、奶茶店等，这些地方都属于谢林点</li></ul><p>补充：有限理性概念：</p><p>例如小明每天都去水果店买一个苹果，每次来店主都会离开5分钟，且店里没有监控，他可以很容易地偷到一个苹果，但他从来没有这样做过。有限理性概念意味着当有选择的时候，<strong>人们总是会选择一条简单且习惯的道路</strong>。这条道路可能不是最适合他们的，也可能不会给他们最高的回报，却是<strong>最简单的道路</strong></p><h4 id="区块链-加密货币中的博弈理论"><a class="markdownIt-Anchor" href="#区块链-加密货币中的博弈理论"></a> 区块链、加密货币中的博弈理论</h4><p>区块链使用博弈论来保护系统。例如比特币中的双花攻击，系统本身是没有道德可言的，因为道德无法量化，系统中的大部分节点会接着最长合法链的后面去挖矿，双花攻击的成本很大，根本没有必要去做这件事。从这个方面来看，可以说区块链本身就是一个能够自动执行纳什均衡点的系统</p><p>资料来源：<a href="https://blockgeeks.com/guides/cryptocurrency-game-theory/">https://blockgeeks.com/guides/cryptocurrency-game-theory/</a></p><h4 id="激励相容"><a class="markdownIt-Anchor" href="#激励相容"></a> 激励相容</h4><p>经济学家哈维茨在机制设计理论中提出的，意思是在市场经济中，每个理性经纪人都会有自利的一面，其个人行为灰暗自利的规则行为行动。如果能有一种制度安排使得行为人追求的<strong>个人利益正好与企业实现集体价值最大化的目标相吻合</strong>，这一制度安排就是“激励相容”。</p><p>这通过实施一个博弈规则来达到该目标。激励相容通过经济平衡的手段，鼓励节点参与到维护区块系统安全运行中来，防止对总账本进行篡改，是长期维持区块链网络运行的动力。当集体和个人的利益达到了一个平衡点，这个游戏就会一直持续下去，不会崩塌。</p><p>语言：Sodility、WebAssembly</p><p><a href="https://solidity-cn.readthedocs.io/zh/develop/">https://solidity-cn.readthedocs.io/zh/develop/</a></p><p><a href="https://developer.mozilla.org/zh-CN/docs/Learn">https://developer.mozilla.org/zh-CN/docs/Learn</a></p><hr><h5 id="网络拓扑结构"><a class="markdownIt-Anchor" href="#网络拓扑结构"></a> 网络拓扑结构</h5><p>大部分区块链网络底层仍然使用TCP/IP协议，和HTTP、SMTP协议都处在应用层。经常和P2P对比的是当下最为广泛的HTTP，从C/S架构变更成点对点拓扑结构。比特币的P2P网络非常复杂，这里只了解全节点场景下的网络路由</p><p>比特币P2P网络基于TCP协议，主网默认端口8333。P2P网络拓扑结构本身可有很多种，如中心化、半中心化拓、全分布式。</p><ul><li>比特币全节点组成的网络是一种全分布式的拓扑结构，节点间的传输过程接近“泛洪算法”。</li><li>比特币全节点与SPV简化支付验证客户端之间的交互模式接近半中心化的拓扑结构，SPV随机选择一个全节点连接，这个全节点成为SPV的代理，帮助SPV广播交易</li></ul><h5 id="节点发现"><a class="markdownIt-Anchor" href="#节点发现"></a> 节点发现</h5><p>节点发现是接入区块链P2P网络的第一步</p><ul><li>初始化节点发现：你的全节点刚下载，首次运行，没有任何节点数据<ul><li>DNS-seed，即DNS 种子节点。例如nslookup <a href="http://seed.bitcoin.sipa.be">seed.bitcoin.sipa.be</a> 会发现多个IPv4主机地址，使用nc命令连接域名下的某个主机的8333端口就会发现连接成功<code>nc -nvv 68.183.188.105 8333 found 0 associations</code></li><li>硬编码种子节点</li></ul></li><li>启动后节点发现：正在运行的钱包已经能跟随网络动态维护可用节点<ul><li>初始节点发现后，你的节点需要向已存在的节点要一份对等节点列表（peer list），所以在每次需要发送协议消息的时候，它会花费固定的时间尝试和已存的节点列表中的节点建立链接，如果有任何一个节点在超时之前可以连接上，就不用去 DNS seed 获取地址</li></ul></li></ul><h5 id="局域网穿透"><a class="markdownIt-Anchor" href="#局域网穿透"></a> 局域网穿透</h5><p>局域网里运行的区块链节点，在公网是无法发现的，公网上的节点只能被动接受连接，并不能主动发起连接。通过NAT、UPnP技术可自行建立映射。比特币和以太坊均使用了UPnP协议作为局域网穿透工具（局域网内的路由设备支持NAT网关、支持UPnP协议）</p><ul><li>NAT：源 NAT，替换 TCP 报文中的源地址并映射到内网地址</li><li>UPnP：通用即插即用（Universal Plug and Play）主要用于设备的智能互联互通，所有在网络上的设备马上就能知道有新设备加入</li></ul><h5 id="节点交互"><a class="markdownIt-Anchor" href="#节点交互"></a> 节点交互</h5><p>一旦节点建立连接以后，节点之间的交互是遵循一些特定的命令，这些命令写在消息的头部，消息体写的则是消息内容。</p><ul><li>请求命令</li><li>数据交互命令</li></ul><h5 id="用java-sdk接入到区块链"><a class="markdownIt-Anchor" href="#用java-sdk接入到区块链"></a> 用Java SDK接入到区块链</h5><p>官方文档：<a href="https://fisco-bcos-documentation.readthedocs.io/zh_CN/latest/docs/sdk/java_sdk/quick_start.html">https://fisco-bcos-documentation.readthedocs.io/zh_CN/latest/docs/sdk/java_sdk/quick_start.html</a></p>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>BlockChain</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>机器学习实践（二）：k-NN算法</title>
    <link href="/post/b233c6fd.html"/>
    <url>/post/b233c6fd.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h3 id="两种监督机器学习问题"><a class="markdownIt-Anchor" href="#两种监督机器学习问题"></a> 两种监督机器学习问题</h3><p>许多算法都有分类和回归两种形式</p><ul><li>分类：预测类别标签<ul><li>二分类：两个类别之间区分<ul><li>正类：需要获得的一类</li><li>反类：不需要的一类</li></ul></li><li>多分类：两个以上的类别区分</li></ul></li><li>回归：预测一个连续值（浮点数或实数），这个值在给定范围内任意取值，不必精确到某一个基体数值</li></ul><h3 id="术语"><a class="markdownIt-Anchor" href="#术语"></a> 术语</h3><p>泛化：如果一个模型可以对新数据做出准确预测，那么可以说该模型能够从训练集<strong>泛化</strong>到测试集，预测精度即为泛化精度</p><p>拟合：模型预测时对训练集的依赖<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806203918.png" alt></p><ul><li>当模型较为复杂、过分关注细节，在训练集中预测表现很好但不能泛化到新数据时，称之为过拟合</li><li>当模型过于简单，无法抓住数据的全部内容和变化，在训练集上表现很差，称之为欠拟合</li></ul><p>总的来说，模型越复杂，在训练数据上的预测结果就越好；但如果模型过于复杂，<br>去过多关注训练集中每个单独的数据点，模型就不能很好地泛化到新数据上。因此，二者之间存在一个最佳位置，可以得到最佳的泛化性能，这就是我们需要的模型<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806203937.png" alt></p><p>模型复杂度和数据集大小的关系：数据集中包含的数据点的变化范围越大，在不发生过拟合的前提下模型就越复杂（相同或相似的数据点除外）</p><p>其他属于补充：</p><ul><li>特征较少的数据集：低维数据集</li><li>特征较多的数据集：高维数据集（不同维度的数据集中得出的结论可能是不同的，互相不适用）</li><li>特征与特征的乘机也可以作为特征——特征工程：包含导出特征的方法</li></ul><h3 id="k-nn算法人云亦云"><a class="markdownIt-Anchor" href="#k-nn算法人云亦云"></a> k-NN算法——人云亦云</h3><p>一种非参、惰性的算法模型：模型本身不会对数据做任何假设，模型结构贴合数据，且训练数据的过程很快</p><h4 id="k近邻分类"><a class="markdownIt-Anchor" href="#k近邻分类"></a> k近邻分类</h4><p><strong>预测过程</strong></p><p>给定一个训练数据集，对新的输入实例，在训练数据集中找到与该实例最邻近的K个实例，这K个实例的多数属于某个类，就把该输入实例分类到这个类中</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806203949.png" alt></p><p>图解：单一近邻是k-NN最简单的版本，只需考虑最近距离的点。分类结果就是最近的训练集中的点所在的分类</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806203959.png" alt></p><p>图解：任意(k)个邻居时，采用投票法指定标签，即k个邻居中分类比例占多数的为最后的预测结果</p><p><strong>KNeighborsClassifier的决策边界</strong></p><p>如果是二维数据集，可以再xy平面上画出所有可能的预测结果，根据点的所属类别对平面着色，这样就可以查看决策边界</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split<br><span class="hljs-keyword">import</span> mglearn<br><span class="hljs-keyword">from</span> sklearn.neighbors <span class="hljs-keyword">import</span> KNeighborsClassifier<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>X, y = mglearn.datasets.make_forge()<br>X_train, X_test, y_train, y_test = train_test_split(X, y, random_state=<span class="hljs-number">0</span>)<br>clf = KNeighborsClassifier(n_neighbors=<span class="hljs-number">3</span>)<br>clf.fit(X_train, y_train)<br><span class="hljs-built_in">print</span>(clf.predict(X_test))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#123;:.2&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(clf.score(X_test, y_test)))<br>fig, axes=plt.subplots(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, figsize=(<span class="hljs-number">10</span>, <span class="hljs-number">3</span>))<br><span class="hljs-keyword">for</span> n_neighbors, ax <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>([<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">9</span>], axes):<br>    clf = KNeighborsClassifier(n_neighbors=n_neighbors).fit(X, y)<br>    mglearn.plots.plot_2d_separator(clf, X, fill=<span class="hljs-literal">True</span>, eps=<span class="hljs-number">0.5</span>, ax=ax, alpha=<span class="hljs-number">.4</span>)<br>    mglearn.discrete_scatter(X[:, <span class="hljs-number">0</span>], X[:, <span class="hljs-number">1</span>], y, ax=ax)<br>    ax.set_title(<span class="hljs-string">&quot;&#123;&#125; neighbor(s)&quot;</span>.<span class="hljs-built_in">format</span>(n_neighbors))<br>    ax.set_xlabel(<span class="hljs-string">&quot;feature 0&quot;</span>)<br>    ax.set_ylabel(<span class="hljs-string">&quot;feature 1&quot;</span>)<br>    axes[<span class="hljs-number">0</span>].legend(loc=<span class="hljs-number">3</span>)<br>p1=plt.scatter(X[y==<span class="hljs-number">0</span>,<span class="hljs-number">0</span>], X[y==<span class="hljs-number">0</span>, <span class="hljs-number">1</span>], color=<span class="hljs-string">&#x27;blue&#x27;</span>)<br>p2=plt.scatter(X[y==<span class="hljs-number">1</span>,<span class="hljs-number">0</span>], X[y==<span class="hljs-number">1</span>, <span class="hljs-number">1</span>], color=<span class="hljs-string">&#x27;green&#x27;</span>)<br>p3=plt.scatter(X[y==<span class="hljs-number">2</span>,<span class="hljs-number">0</span>], X[y==<span class="hljs-number">2</span>, <span class="hljs-number">1</span>], color=<span class="hljs-string">&#x27;red&#x27;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806204015.png" alt></p><p>图解：当单一邻居决策时，边界紧挨着训练数据点，边界很陡峭；当邻居越来越多，边界越平滑。而更平滑的边界对应的模型也就更简单</p><p><strong>模型复杂度和泛化能力的关系</strong></p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs haskell"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> mglearn<br><span class="hljs-title">from</span> sklearn.datasets <span class="hljs-keyword">import</span> load_breast_cancer<br><span class="hljs-title">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split<br><span class="hljs-title">from</span> sklearn.neighbors <span class="hljs-keyword">import</span> KNeighborsClassifier<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br><span class="hljs-title">cancer</span> = load_breast_cancer()<br><span class="hljs-type">X_train</span>, <span class="hljs-type">X_test</span>, y_train, y_test = train_test_split(<br><span class="hljs-title">cancer</span>.<span class="hljs-class"><span class="hljs-keyword">data</span>, cancer.target, stratify=cancer.target, random_state=66)</span><br><span class="hljs-title">training_accuracy</span> = []<br><span class="hljs-title">test_accuracy</span> = []<br><span class="hljs-title">neighbors_settings</span> = range(<span class="hljs-number">1</span>, <span class="hljs-number">11</span>)<br><span class="hljs-title">for</span> n_neighbors <span class="hljs-keyword">in</span> neighbors_settings:<br>    clf = <span class="hljs-type">KNeighborsClassifier</span>(n_neighbors=n_neighbors)<br>    clf.fit(<span class="hljs-type">X_train</span>, y_train)<br>    training_accuracy.append(clf.score(<span class="hljs-type">X_train</span>, y_train))<br>    test_accuracy.append(clf.score(<span class="hljs-type">X_test</span>, y_test))<br><br><span class="hljs-title">plt</span>.plot(neighbors_settings, training_accuracy, label=<span class="hljs-string">&quot;training accuracy&quot;</span>)<br><span class="hljs-title">plt</span>.plot(neighbors_settings, test_accuracy, label=<span class="hljs-string">&quot;test accuracy&quot;</span>)<br><span class="hljs-title">plt</span>.ylabel(<span class="hljs-string">&quot;Accuracy&quot;</span>)<br><span class="hljs-title">plt</span>.xlabel(<span class="hljs-string">&quot;n_neighbors&quot;</span>)<br><span class="hljs-title">plt</span>.legend()<br><span class="hljs-title">plt</span>.show()<br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806204028.png" alt></p><p>图解：</p><ul><li>当单一邻居时，训练集的预测结果十分准确，而测试集精度很低。这边是单一近邻的模型过于复杂</li><li>随着邻居增多，模型变得简单，训练集的精度逐渐下降。当近邻达到10时，模型又过于简单，性能变差</li><li>最佳的性能在中间的某一处，途中大概在6处，测试集与训练集预测结果最为接近</li></ul><p>k近邻回归</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> mglearn<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br>mglearn.plots.plot_knn_regression(n_neighbors=<span class="hljs-number">1</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><p>单个和多个近邻预测结果如下：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806204043.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806204056.png" alt></p><p>sklearn中KNeighborsRegressor类实现回归</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.neighbors <span class="hljs-keyword">import</span> KNeighborsRegressor<br><span class="hljs-keyword">import</span> mglearn<br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split<br><br>X, y = mglearn.datasets.make_wave(n_samples=<span class="hljs-number">40</span>)<br><span class="hljs-comment"># 将wave数据集分为训练集和测试集</span><br>X_train, X_test, y_train, y_test = train_test_split(X, y, random_state=<span class="hljs-number">0</span>)<br><span class="hljs-comment"># 模型实例化，并将邻居个数设为3</span><br>reg = KNeighborsRegressor(n_neighbors=<span class="hljs-number">3</span>)<br><span class="hljs-comment"># 利用训练数据和训练目标值来拟合模型</span><br>reg.fit(X_train, y_train)<br><br><span class="hljs-comment"># 预测测试集</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Test set predictions:\n&#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(reg.predict(X_test)))<br><br><span class="hljs-comment"># 评估模型，返回的是R2分数</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Test set R^2: &#123;:.2f&#125;&quot;</span>.<span class="hljs-built_in">format</span>(reg.score(X_test, y_test)))<br></code></pre></td></tr></table></figure><p>回归模型同样适用score方法来评估模型，返回的是R2分数，R2分数就是决定系数，是回归模型预测的优度度量，位于1~0之间，当为1时就是完美预测，等于0就是常数模型，即只能预测训练集的平均值</p><p><strong>分析KNeighborsRegressor</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.neighbors <span class="hljs-keyword">import</span> KNeighborsRegressor<br><span class="hljs-keyword">import</span> mglearn<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split<br><br>X, y = mglearn.datasets.make_wave(n_samples=<span class="hljs-number">40</span>)<br><span class="hljs-comment"># 将wave数据集分为训练集和测试集</span><br>X_train, X_test, y_train, y_test = train_test_split(X, y, random_state=<span class="hljs-number">0</span>)<br>fig, axes = plt.subplots(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, figsize=(<span class="hljs-number">15</span>, <span class="hljs-number">4</span>))<br><span class="hljs-comment"># 创建1000个数据点，在-3和3之间均匀分布</span><br>line = np.linspace(-<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1000</span>).reshape(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<br><span class="hljs-keyword">for</span> n_neighbors, ax <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>([<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">9</span>], axes):<br>    <span class="hljs-comment"># 利用1个、3个或9个邻居分别进行预测</span><br>    reg = KNeighborsRegressor(n_neighbors=n_neighbors)<br>    reg.fit(X_train, y_train)<br>    ax.plot(line, reg.predict(line))<br>    ax.plot(X_train, y_train, <span class="hljs-string">&#x27;^&#x27;</span>, c=mglearn.cm2(<span class="hljs-number">0</span>), markersize=<span class="hljs-number">8</span>)<br>    ax.plot(X_test, y_test, <span class="hljs-string">&#x27;v&#x27;</span>, c=mglearn.cm2(<span class="hljs-number">1</span>), markersize=<span class="hljs-number">8</span>)<br>    ax.set_title(<span class="hljs-string">&quot;&#123;&#125; neighbor(s)\n train score: &#123;:.2f&#125; test score: &#123;:.2f&#125;&quot;</span>.<span class="hljs-built_in">format</span>(n_neighbors, reg.score(X_train, y_train),<br>    reg.score(X_test, y_test)))<br>    ax.set_xlabel(<span class="hljs-string">&quot;Feature&quot;</span>)<br>    ax.set_ylabel(<span class="hljs-string">&quot;Target&quot;</span>)<br>axes[<span class="hljs-number">0</span>].legend([<span class="hljs-string">&quot;Model predictions&quot;</span>, <span class="hljs-string">&quot;Training data/target&quot;</span>,<span class="hljs-string">&quot;Test data/target&quot;</span>], loc=<span class="hljs-string">&quot;best&quot;</span>)<br><br>plt.show()<br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806204111.png" alt></p><p>图解：单一邻居时，训练集的每个点都对预测结果有显著影响，预测结果的图像经过所有数据点，这样并不稳定；邻居多的时候，预测结果更为平滑，但对训练数据的拟合不好</p><p>总结：kNeighbors分类似的重要参数：邻居个数、数据点之间的距离度量方法。度量方法一般使用 欧式距离 ，即直线距离</p><ul><li>优点：构建模型简单，容易理解，调整参数不多，性能也够</li><li>缺点：当数据量（特征多或样本数大）较大时，预测速度较慢。需要对数据进行预处理，对特殊的数据集效果不太好</li></ul>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>机器学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DPKI的崛起之路——分布式数字身份(DID)</title>
    <link href="/post/586fb9ee.html"/>
    <url>/post/586fb9ee.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h1 id="一-引言"><a class="markdownIt-Anchor" href="#一-引言"></a> 一、引言</h1><p>互联网的出现和普及使得传统身份有了另一种表现形式，即数字身份，除自然人以外，机构组织、智能设备、虚拟网络都可以作为实体并拥有数字身份，这些实体作为数字化社会的重要组成部分，共同构建了数字生态，数字社会身份体系如下图所示。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806203631.png" alt></p><p>我们一般认为，数字身份的演进可分为三个阶段，第一阶段是由单一权威机构进行管理和控制的中心化身份，不同机构之间身份数据互不相通；第二阶段是由多机构或者联盟进行管理和控制的联盟身份，在该体系下，用户的身份数据具备了一定的可移植性，第三阶段以用户为中心，身份信息由用户自主掌控授权，身份管理走向去中心化。可以预见，在未来的数字化社会中，分布式数字身份体系带来的全新观念必将催生新的商业模式[1]，本篇文章将聚焦分布式数字身份(DID)，探索其广阔应用场景。</p><h1 id="二-pkidpki"><a class="markdownIt-Anchor" href="#二-pkidpki"></a> <strong>二、PKI&amp;&amp;DPKI</strong></h1><p>“身份”本身是基础并客观存在的，今天的互联网广泛通过“租借”第三方机构（ICANN、DNS注册机构、证书颁发机构）服务来构建信任体系，实现实体间的安全通信，若要实现去中心化生态体系，又该如何求解，这里我们就来聊一聊PKI与DPKI体系之间的关系。</p><h2 id="1-pki"><a class="markdownIt-Anchor" href="#1-pki"></a> <strong>1. PKI</strong></h2><p>PKI是Public Key Infrastructure的缩写，翻译过来也就是公钥基础设施，是生成、存储、分发和撤销用户数字身份证书所必须的软件、硬件、人、策略及处理过程的集合，也是国际公认普遍适用的一整套信息安全系统。PKI的建立依赖于权威的认证，离不开可信第三方（ICANN、DNS注册机构、证书颁发机构）的协同工作，通过运用多种技术，可为应用提供认证、加密和数字签名等安全支撑，为信息系统提供密钥管理和证书管理等安全服务，其主要载体为X.509格式的证书文件，PKI技术架构如下图所示。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806203656.png" alt></p><h3 id><a class="markdownIt-Anchor" href="#"></a> </h3><h2 id="2-dpki"><a class="markdownIt-Anchor" href="#2-dpki"></a> 2. <strong>DPKI</strong></h2><p>分布式公钥基础设施(DPKI)作为PKI的演进，并非是对PKI的全盘抛弃和替代，更多是在原有认证体系基础之上的一种改进和补充，通过构建一种分布式的认证体系来解决中心化认证体系存在的问题，是未来网络信任生态的基础设施。DPKI与PKI在业务流程上并无明显区别，首先用户提供相关信息并发起申请，接下来发证方审核信息，颁发证书，最后用户出示证书完成验证。但不同于PKI体系，DPKI强调用户身份的自主可控、身份可移植和分布式认证，个人身份的验证不再依赖于发证方，DPKI认证体系的具体特性如下图所示。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806203708.png" alt></p><h1 id="三-分布式数字身份did"><a class="markdownIt-Anchor" href="#三-分布式数字身份did"></a> <strong>三、分布式数字身份(DID)</strong></h1><p>伴随着区块链等可信技术的发展，各大公司、机构纷纷入局，对DPKI的实现展开了更深入的研究探索，分布式数字身份(DID)解决方案应运而生。通过结合区块链技术，分布式数字身份使用户真正拥有并控制自己的个人数据和资产，可实现跨部门、跨行业、跨地域的去中心化共享能力。</p><h2 id="1-w3c-did"><a class="markdownIt-Anchor" href="#1-w3c-did"></a> <strong>1. W3C DID</strong></h2><p>万维网联盟(W3C)作为Web技术领域最具权威和影响力的标准化组织，已制定了200多项影响深远的Web技术标准及实施指南，其下属DID工作组已于2019年底发布了首个DID标准规范[2]，该标准主要包括分布式身份标识和可验证声明(身份凭证)两大基础模块，定义了身份标识符格式，描述文档以及身份凭证的生成、出示、验证和销毁等流程，覆盖了身份和凭证管理的完整生命周期，使DID技术向着规范化、标准化的目标迈出了一大步，W3C DID标准结构如下图所示。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806203718.png" alt></p><h2 id="2-基础层did规范"><a class="markdownIt-Anchor" href="#2-基础层did规范"></a> **2. 基础层：DID规范 **</h2><p>DID基础层主要定义规范了身份标识符及相应描述文档，该规范可用来标识人、组织、物品、抽象实体等任意主体。其中，DID标识符是一个特定格式的字符串且全局唯一，用来代表一个实体的数字身份，类似于我们的身份证号码一样，而每个DID标识都会对应一个DID文档(Document)，文档为JSON字符串格式，主要包含了与DID验证相关的密钥信息和验证方法，用以实现对实体身份标识的控制，DID文档内容格式如下图所示。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806203730.png" alt></p><p>并且，一个实体可对应多个DID，实体在通过注册申请后可获得一个或多个由自己进行维护管理的DID标识，不同DID标识所代表的身份之间互不相关，有效降低了身份信息之间的耦合性。总的来说，我们可以将DID基础层看作是一个键值数据库，DID标识符当作键，而DID文档则是对应的值，二者之间的关系结构如下图所示。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806203743.png" alt></p><h2 id="3-应用层可验证证明"><a class="markdownIt-Anchor" href="#3-应用层可验证证明"></a> **3. 应用层：可验证证明 **</h2><p>通过上一小节对DID规范的介绍可以看出，DID文档中不包含任何与个人真实信息相关的内容，如姓名、手机号、地址等。因此，仅仅依靠DID标识是无法完成身份验证的，DID应用层可验证声明[3]的助力不可或缺。</p><p>可验证声明(VC)用于在网络上（区块链）流转可验证信息，是建立DID整个体系的价值所在。对于DID应用层，我们可将参与实体划分为发行人(Issuer)、持有人(Holder)、验证人(Verifier)、DID注册系统（区块链）、凭证存储平台。其中，发行人拥有用户数据并且能出具相应VC，如政府部门、公安机关、教育机构等；持有人则是VC的持有者，任何人都可以充当该实体角色；验证人负责接受VC并进行核验，由此为VC持有人提供相应类型的服务；DID注册系统及凭证存储平台分别负责链上链下数据信息的验证维护，可验证声明应用服务如下图所示。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806203801.png" alt></p><h1 id="四-应用场景"><a class="markdownIt-Anchor" href="#四-应用场景"></a> <strong>四、应用场景</strong></h1><h2 id="1身份认证"><a class="markdownIt-Anchor" href="#1身份认证"></a> **1.身份认证 **</h2><p>身份认证可以说是DID最基本的应用了，对于有身份识别(KYC)需求的场景，通过提前将多个机构颁发的VC与用户绑定，且锚定到区块链上，凭借密码算法，可进行分布式验证，用户只需获取一次VC，便可随时出示使用。例如员工入职背景调查，材料在流转过程中极易遭受篡改，且验证手段较为匮乏，若使用DID解决方案，学生可以在链上使用自己的DID标识向学校申请学历（学位）凭证，向前公司申请工作（离职）凭证，而在求职时，现公司只需通过验证接口对上述凭证真实性进行核验，即可快速完成员工的入职背调。</p><h2 id="2-无密码安全登录"><a class="markdownIt-Anchor" href="#2-无密码安全登录"></a> <strong>2. 无密码安全登录</strong></h2><p>无口令安全登录的应用场景类似于微信扫码登陆，当我们需要注册或登录网站时，无需输入用户名、电子邮箱、密码之类的口令，只需使用手机中存储的用户DID信息完成与网站DID的双向验证。虽然登陆形式看起来没有发生任何变化，但与传统扫码认证方式不同的是，DID中的身份信息由用户自己掌控，用户首先通过二维码获得网站DID并进行验证获得公钥，再使用公钥加密请求数据，发送自己的身份信息交由服务器验证，若验证通过，则登陆成功。通过整个流程我们可以看出，服务器并不知道用户的口令，而且也无法获得除用户DID文档以外的任何信息，从而有效防止数据泄露，保护用户身份隐私。</p><h2 id="3-个人隐私保护"><a class="markdownIt-Anchor" href="#3-个人隐私保护"></a> **3. 个人隐私保护 **</h2><p>隐私保护是任何身份管理解决方案中不可或缺的一部分，DID也不例外，通过对用户属性的选择性披露可以有效降低用户隐私泄露的风险。在实际生活中，用户身份通常具有多个属性，如身份证上的姓名、出生年月、家庭住址、身份证号等，我们并不总是希望直接将整个证件亮给验证者查看，过多关联信息的泄露会带来一系列麻烦，不法份子就曾利用通行大数据（健康宝）窃取明星隐私并进行传播售卖[4]。DID凭证结合零知识证明技术，可以做到信息最小化提供的同时不影响凭证的合法性验证，有效保护用户隐私。例如，一个有社会责任心的商店老板拒绝向未成年人出售香烟，对于买烟的顾客需要查验其年龄信息，此时若使用身份证则会泄露关联敏感信息，但在DID技术中，可以只出示部分信息，证明自己已超过一定年龄（18岁）而无需透露其他信息，包括出生年月，从而实现对个人隐私信息的选择性披露。</p><h2 id="4-数字版权保护"><a class="markdownIt-Anchor" href="#4-数字版权保护"></a> **4. 数字版权保护 **</h2><p>线上数字内容往往会面临一系列的版权纠纷，利用区块链不可篡改及数字身份自主可控的特性，可有效解决数字内容版权保护问题，实现多方信息的实时共享、版权认证、交易维权，促使数字资产合法合规流动。链上参与者通过使用DID技术，使得作品具备唯一标识，著作权经过认证后，成为不可篡改的链上凭证，可以作为举证、流转的声明，应用于资产确权、数据定价、流转监测分析以及侵权取证等场景。</p><h2 id="5-物联网及边缘计算"><a class="markdownIt-Anchor" href="#5-物联网及边缘计算"></a> **5. 物联网及边缘计算 **</h2><p>物联网设备通常分布在不同的地域，采用多种方式接入网络，这也使得其编码标准存在多样性，具有较高管理成本和安全风险。若使用DID技术为物联网设备分配全局唯一标识，并结合厂家生产信息、物联网运营商以及设备的所有权信息，为设备颁发多种凭证，赋予设备可声明、可验证的自主身份，即可在区块链上实现设备身份和数据的高效分布式认证，有效保障数据来源的真实性，同时也有利于对设备产生的数据进行确权、计价。</p><h1 id="五-小结"><a class="markdownIt-Anchor" href="#五-小结"></a> <strong>五、小结</strong></h1><p>在本篇文章中，我们详细介绍了分布式数字身份(DID)技术的发展与应用，可以预见，随着时间的推移及行业的共同努力，技术体系愈发完善，相关运作模式趋于规范合理，在未来将会有更多的权威机构、产业机构以及个人、物联网设备通过分布式数字身份体系的助力，参与到广阔的数字经济世界来，开拓更多的创新应用场景。</p><p>未来的数字化社会必定以用户为核心，实体可通过自主管理数据与可信共享交换来创造价值，分布式数字身份将会帮助数字化社会更健康、更透明、更高效地发展。</p><p><strong>参考文献</strong></p><p>1.张开翔, 数字时代的身份基础设施建设, 微众银行, 2020.06.29</p><p>2.<a href="https://www.w3.org/TR/did-core/">https://www.w3.org/TR/did-core/</a></p><p>3.<a href="https://www.w3.org/TR/vc-data-model/">https://www.w3.org/TR/vc-data-model/</a></p><p>4.<a href="https://baijiahao.baidu.com/s?id=1687424669586301192&amp;wfr=spider&amp;for=pc">https://baijiahao.baidu.com/s?id=1687424669586301192&amp;wfr=spider&amp;for=pc</a></p><p>5.<a href="https://fisco-bcos-documentation.readthedocs.io/zh_CN/latest/">https://fisco-bcos-documentation.readthedocs.io/zh_CN/latest/</a></p><p>6.<a href="https://weidentity.readthedocs.io/zh_CN/latest/">https://weidentity.readthedocs.io/zh_CN/latest/</a></p>]]></content>
    
    
    <categories>
      
      <category>News</category>
      
    </categories>
    
    
    <tags>
      
      <tag>分布式</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>机器学习实践（一）：鸢尾花分类</title>
    <link href="/post/61824467.html"/>
    <url>/post/61824467.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h3 id="一些概念"><a class="markdownIt-Anchor" href="#一些概念"></a> 一些概念</h3><h4 id="机器学习的历史"><a class="markdownIt-Anchor" href="#机器学习的历史"></a> 机器学习的历史</h4><p>人为指定决策规则。人为指定决策规则适合处理人们非常熟悉处理过程的应用，一旦数据量过大、数据处理过程复杂或者任务有所变化，就需要机器学习上场了。<br>早在19世纪的50到80年代，科学家们就有着让计算机算法代替人脑思考的想法，最初，机器学习只用于垃圾邮件清理，数学公式分析等简单领域，然而后来其应用场景越来越多，无论是图片过滤，语音分析，数据清洗等领域都能看到机器学习的身影。到如今无论是智能手机，航空运输，智能驾驶等方方面面都可以看到 AI 的身影</p><p>机器学习主要应用数据科学领域，它与普通程序开发的主要区别在于一般程序，数据往往来源于不同的数据库，通过对数据进行复杂转化，运算得到最后的结果。而机器学习目的并不是为了得到最后的运算结果，而是对计算过程进行分析，总结出一套运算的规则。只要数据量足够多，运算规则就越准确。最后可以根据这套规则对没有通过验证的数据进行预算，得到预算后的值。只要使用的规则正确，预算的结果的正确率往往可以达到95%以上。</p><p>深度学习开始只是机器学习的一分支领域，它更强调从连续的层中进行学习，这种层级结构中的每一层代表不同程序的抽象，层级越高，抽象程度越大。这些层主要通过神经网络的模型学习得到的，最大的模型会有上百层之多。而最简单的神经网络分为输入层，中间层（中间层往往会包含多个隐藏层），输出层。<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806203500.png" alt></p><h4 id="机器学习"><a class="markdownIt-Anchor" href="#机器学习"></a> 机器学习</h4><h5 id="监督学习"><a class="markdownIt-Anchor" href="#监督学习"></a> 监督学习</h5><p>用户将输入和预期输出提供给算法，算法根据给定输入给出预期输出。这里的&quot;监督&quot;就是样例的预期输出，这个输出“监督”着算法。监督学习算法需要提供大量数据</p><ul><li>识别信封上手写的邮政编码</li><li>基于医学影像判断肿瘤是否为良性</li><li>检测信用卡交易中的诈骗行为<br>常见的监督学习包含了线性回归、k近邻、朴素贝叶斯分类 、决策树、随机森林与梯度提升决策树、支持向量机等多种算法，</li></ul><h5 id="无监督学习"><a class="markdownIt-Anchor" href="#无监督学习"></a> 无监督学习</h5><p>只有输入数据已知，没预期的输出数据。理解和评估此类算法比较困难，例如</p><ul><li>分析一些列博客文章的主题</li><li>将客户分类为具有相似偏好的群组</li><li>检测网站的异常访问模式</li></ul><p>常见的无监督学习分为聚类、降维两大类，包含了PCA（主成分分析）、NMF（非负矩阵分解）、t-SNE（流形学习）、k均值聚类、DBSCAN 等多种算法</p><p>机器学习中的每个实体或每一行称为样本or数据点，每一列或者描述实体的属性成为特征。</p><p>构建机器学习解决方案需要注意的点：</p><ul><li>我的问题是什么？已经收集到的数据能够回答这个问题了吗？</li><li>我的问题如何表达成机器学习问题？</li><li>我收集的问题是否足够表达我想解决的问题？</li><li>提取了数据的哪些特征？这些特征是否能实现真正的预测？</li><li>如果预测应用是否成功？</li><li>这个解决方案与商业产品中的其他部分是如何影响的？</li></ul><hr><h3 id="各项工具"><a class="markdownIt-Anchor" href="#各项工具"></a> 各项工具</h3><p>（版本均未指定，默认最新）</p><p>scikit-learn：机器学习库，包含各种算法</p><p>NumPy：科学计算的基础包，包括各种数组，数学函数等，在机器学习中主要用到的是，将NumPy数组格式的数据传给算法</p><p>SciPy：科学计算的函数集合，包含线性代数高级程序、特殊函数函数和统计分布等。在这里主要用到scipy.sparse输出稀疏矩阵（大部分元素为0，非0元素分布无规律）</p><p>Matplotlib：科学绘图库，可生成数据的可视化内容</p><p>Pandas：处理和分析数据的库，基于DataFrame的数据结构，类似一个Excel表格，pandas中包含各种操作这个数据结构的API，还可以提取各种文件格式和数据库中的数据</p><p>mglearn：《Python机器学习基础教程》书本自带库，用于美化绘图</p><hr><h3 id="鸢尾花分类"><a class="markdownIt-Anchor" href="#鸢尾花分类"></a> 鸢尾花分类</h3><p>数据来源：<strong>内置在sklearn的datasets中</strong>，由load_iris()函数获取</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.datasets <span class="hljs-keyword">import</span> load_iris<br>datas=load_iris()<br></code></pre></td></tr></table></figure><p>数据内容（主要）</p><p>data：样本数据，格式为Numpy数组。例如：[5.1 3.5 1.4 0.2]，每行数据代表一朵花的测量数据</p><p>target：测量过的每朵花的品种，同样是一维Numpy数组。对应data中的每一行数据所测得的结果</p><p>target_names：想要预测的花的品种，target中的结果对应着这里的names。是一个字符串数组</p><p>feature_names：对每个特征进行说明，对应data中的各个属性。字符串数组</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806203517.png" alt></p><p>DESCR：数据集的简要说明，类似备注</p><p><strong>规划数据：测试集</strong></p><p>注意：不能用训练的数据来测试模型，因为模型会记住训练时用的数据集，所以会100%“预测”结果，这无法评估模型的泛化（预测）能力，应该使用测试数据集，确保这些数据集模型之前从未见过。一般的做法是将原有的数据集拿出25%作为测试用</p><p>train_test_split函数会将数据集打乱后，按照比例分割给X_train, X_test, y_train, y_test四个子集，X_train包含75%，X_test为25%，调用子集的shape()函数可看到数量</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">X_train, X_test, y_train, y_test = train_test_split(datas[<span class="hljs-string">&#x27;data&#x27;</span>], datas[<span class="hljs-string">&#x27;target&#x27;</span>], random_state=0)<br></code></pre></td></tr></table></figure><p><strong>检查数据：可视化</strong></p><p>Ps:反正没怎么能看懂这些生成的图~在预测测试数据时应该是非必要的</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">将需要可视化的数据转成DataFrame<br>iris_dataframe=pd.DataFrame(X_train, columns=datas.feature_names)<br><br>grr = pd.scatter_matrix(iris_dataframe, c=y_train, figsize=(15, 15), marker=<span class="hljs-string">&#x27;o&#x27;</span>,hist_kwds=&#123;<span class="hljs-string">&#x27;bins&#x27;</span>: 20&#125;, s=60, alpha=.8, cmap=mglearn.cm3)<br><span class="hljs-comment">#执行绘制</span><br>plt.show()<br></code></pre></td></tr></table></figure><p><strong>训练数据：基于训练构建模型</strong></p><p>k近邻算法：在训练集中寻找与新数据点距离最近的数据点，将找到的数据点的标签赋值给新数据点，达到预测效果，k的含义指训练集与新数据点中最近的任意k个邻居，利用邻居中数量最多的类别做预测</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs makefile"><span class="hljs-comment">#创建KNeighborsClassifier的实例，算法就封装在实例中，这里只需设置邻居为1即可</span><br>knn=KNeighborsClassifier(n_neighbors=1)<br><span class="hljs-comment">#构建基于训练的模型，fit函数返回的信息无需关注，它只修改了knn对象</span><br>knn.fit(X_train, y_train)<br></code></pre></td></tr></table></figure><p><strong>预测数据</strong></p><p>将新的数据传入模型，模型会预测出结果</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs lua">#将样本数据封装成numpy数组<br>X_new = np.array(<span class="hljs-string">[[5,2.9,1,0.2]]</span>)<br><br>#封装好的数组传给knn的predict函数进行预测<br>prediction=knn.predict(X_new)<br><br>#查看预测结果和结果在target中对应的品种<br><span class="hljs-built_in">print</span>(prediction)<br><span class="hljs-built_in">print</span>(datas[<span class="hljs-string">&#x27;target_names&#x27;</span>][prediction])<br></code></pre></td></tr></table></figure><p><strong>评估模型</strong></p><p>预测测试数据集，并和已知的品种进行对比，就可以计算出精度，从而衡量模型的优劣</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#需要用到之前的测试集</span><br>y_pred=knn.predict(X_test)<br><br><span class="hljs-comment">#计算精度1</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;预测比例：&#123;:.2f&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(np.mean(y_pred == y_test)))<br><br><span class="hljs-comment">#计算精度2</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;预测比例：&#123;:.2f&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(knn.score(X_test, y_test)))<br></code></pre></td></tr></table></figure><p>问题：数据分测试集这部分没有看懂</p>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>机器学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Ubuntu18.04使用离线源码包安装Mysql</title>
    <link href="/post/46e8c983.html"/>
    <url>/post/46e8c983.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>源码包下载：</p><p><a href="https://dev.mysql.com/downloads/mysql/">https://dev.mysql.com/downloads/mysql/</a></p><p>选择SourceCode翻到下面的tar.gz包下载即可</p><p>放一张网图，Mysql源码安装的最佳路径：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806203300.png" alt></p><p>先把源码包放在/usr/local下，解压出来再改个名</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">tar</span> -zxvf mysql-<span class="hljs-number">5</span>.<span class="hljs-number">6</span>.<span class="hljs-number">45</span>-linux-glibc2.<span class="hljs-number">12</span>-x86_64.tar.gz<br><span class="hljs-attribute">mv</span> mysql-<span class="hljs-number">5</span>.<span class="hljs-number">7</span>.<span class="hljs-number">22</span>-linux-glibc2.<span class="hljs-number">12</span>-x86_64 mysql<br></code></pre></td></tr></table></figure><p>新建mysql用户组、mysql用户</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">sudo groupadd mysql</span><br><span class="hljs-attribute">sudo useradd mysql -g mysql</span><br></code></pre></td></tr></table></figure><p>授权。以下文件夹没有就创建一个</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs awk">sudo chown -R mysql:mysql <span class="hljs-regexp">/usr/</span>local/mysql<br>sudo chown -R mysql:mysql <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/mysql/</span>data<br>sudo chown -R mysql:mysql <span class="hljs-regexp">/var/</span>lib<span class="hljs-regexp">/mysql/</span><br>sudo chown -R mysql:mysql <span class="hljs-regexp">/var/</span>run/mysqld<br></code></pre></td></tr></table></figure><p>配置数据库相关的路径信息，初始化数据库。</p><p>初始化时会打印一堆东西。有的人初始化时会打印出默认密码，但是这次我却没看到……不太清楚是什么原因</p><p>另外初始化必须用sudo去执行，否则会报权限不够或者奇怪的错误</p><p>注：这一步使用mysql_install_db安装，需要用到libaio1， libaio是Linux下的一个异步非阻塞方式读写文件的接口，缺少是无法继续安装的</p><p>libaio下载地址</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">https</span>://debian.pkgs.org/<span class="hljs-number">11</span>/debian-main-amd64/libaio1_0.<span class="hljs-number">3</span>.<span class="hljs-number">112</span>-<span class="hljs-number">9</span>_amd64.deb.html<br></code></pre></td></tr></table></figure><p>安装libaio</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">sudo</span> dpkg -i libaio1_0.<span class="hljs-number">3</span>.<span class="hljs-number">112</span>-<span class="hljs-number">9</span>_amd64.deb<br></code></pre></td></tr></table></figure><p>查看一下安装是否完成</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk">whereis libaio.so.<span class="hljs-number">1</span><br><br>libaio.so: <span class="hljs-regexp">/usr/</span>lib<span class="hljs-regexp">/x86_64-linux-gnu/</span>libaio.so.<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p>然后就可以继续初始化数据库了</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">sudo <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/mysql/</span>scripts<span class="hljs-regexp">/mysql_install_db --user=mysql --basedir=/u</span>sr<span class="hljs-regexp">/local/my</span>sql<span class="hljs-regexp">/ --datadir=/u</span>sr<span class="hljs-regexp">/local/my</span>sql/data<br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806203319.png" alt></p><p>然后去配置my.cnf。默认是没有的，需要从源码包里复制一份默认的配置文件到/etc下</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">cd <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/mysql/</span> &amp;&amp; cp support-files<span class="hljs-regexp">/my-default.cnf /</span>etc/my.cnf<br></code></pre></td></tr></table></figure><p>默认的my.cnf下文件一堆注释，最后接了两句 ！开头的语句，不太清楚是做什么用的，我尝试过几个版本的cnf文件，最后用了以下文件即可。</p><p>注意这里的关闭dns解析，内网环境下可以用这个。具体分析请左拐：<a href="https://www.cnblogs.com/liruning/p/7111015.html">原因</a></p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">[mysqld]<br><span class="hljs-type">character</span>-<span class="hljs-keyword">set</span>-<span class="hljs-keyword">server</span> = utf8mb4<br>#关闭dns解析（注意：这会造成只能使用ip远程连接MySQL）<br><span class="hljs-meta">#skip-name-resolve</span><br>skip-<span class="hljs-keyword">grant</span>-<span class="hljs-keyword">tables</span><br><br>[client]<br><span class="hljs-keyword">default</span>-<span class="hljs-type">character</span>-<span class="hljs-keyword">set</span> = utf8mb4<br><br>[mysql]<br><span class="hljs-keyword">default</span>-<span class="hljs-type">character</span>-<span class="hljs-keyword">set</span> = utf8mb4<br></code></pre></td></tr></table></figure><p>OK，然后就可以启动了，先把Mysql加入服务中</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">cp <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/mysql/</span>support-files<span class="hljs-regexp">/mysql.server /</span>etc<span class="hljs-regexp">/init.d/my</span>sql<br></code></pre></td></tr></table></figure><p>然后启动Mysql：</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">sudo service mysql <span class="hljs-literal">start</span><br></code></pre></td></tr></table></figure><p>或者</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">sudo <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/mysql/</span>support-files/mysql.server start<br></code></pre></td></tr></table></figure><p>设置密码。这里可能会出现一些警告，这是因为直接明文设置了密码，不用担心实际上已经是设置好了的</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/mysql/</span>bin/mysqladmin -u root -h localhost.localdomain password <span class="hljs-string">&#x27;new-password&#x27;</span><br></code></pre></td></tr></table></figure><p>直接进入mysql，输入密码即可进入</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">mysql -uroot -<span class="hljs-selector-tag">p</span><br></code></pre></td></tr></table></figure><p>问题s：</p><p>初始化数据库时需要使用到libaio1这个包，但是原生的Ubuntu并不会有这个包，如果需要离线安装还需要rpm工具，但rpm也是需要安装的……因此此次安装并不算真实离线</p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MySQL</tag>
      
      <tag>Linux</tag>
      
      <tag>Ubuntu</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Ubuntu修改权限后导致sudo和su无法使用</title>
    <link href="/post/70b5976f.html"/>
    <url>/post/70b5976f.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id="问题"><a class="markdownIt-Anchor" href="#问题"></a> 问题</h2><p>由于ubuntu默认开机后随机密码，所以一般装好系统后第一件事就是sudo passwd root，这次没有修改给忘记了，好死不死又把权限整出来有问题，一用sudo就提示如下：</p><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vbnet"><span class="hljs-symbol">sudo:</span> /etc/sudoers <span class="hljs-built_in">is</span> owned <span class="hljs-keyword">by</span> uid <span class="hljs-number">1000</span>, should be <span class="hljs-number">0</span><br><span class="hljs-symbol">sudo:</span> no valid sudoers sources found, quitting<br><span class="hljs-symbol">sudo:</span> unable <span class="hljs-keyword">to</span> initialize policy plugin<br></code></pre></td></tr></table></figure><p>这种也很好解决，正常情况直接修改sudoer文件的权限即可，但我又不是root用户，切换不过去。我直接麻了。犯了很久终于翻到一个9年前的帖子，情况和我一摸一样，原帖在这儿，有兴趣可以看一下：</p><p><a href="https://blog.csdn.net/weixin_33991418/article/details/93206334">https://blog.csdn.net/weixin_33991418/article/details/93206334</a></p><p>如果不用这种方式，还可以用ubuntu光盘引导系统，mount对应的磁盘修改/etc/sudoers文件。或者直接重装一遍，也不需要太久……</p><h2 id="解决方案"><a class="markdownIt-Anchor" href="#解决方案"></a> 解决方案</h2><p>重启ubuntu，启动时按esc或shift，进入引导项</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806203018.png" alt></p><p>选择第二个，再选择第二个 recrovery mode，开机程序走完之后，进入Recovery Menu页面 ，选择root，回车</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806203031.png" alt></p><p>回车后下面提示再按回车，再按一下，就能看到熟悉的 root@user ~#了</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806203041.png" alt></p><p>到这儿了就可以开始干正事儿了，把提示之前的问题给解决掉：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">pkexec chown root:root <span class="hljs-regexp">/etc/</span>sudoers <span class="hljs-regexp">/etc/</span>sudoers.d -R<br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806203125.png" alt></p><p>回车，然后重启Ubuntu即可正常修改root密码了</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806203149.png" alt></p><p>如果还有朋友上面这行代码解决不了，可以尝试如下方法，将sudoers.d文件夹的权限设置成root用户和root组，root组只有执行的权限，只有root用户有写入的权限：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk">chown -R root:root <span class="hljs-regexp">/etc/</span>sudoers.d<br>chmod u=rwx,g=rx,o=rx <span class="hljs-regexp">/etc/</span>sudoers.d/<br>chmod u=r,g=r,o= <span class="hljs-regexp">/etc/</span>sudoers.d/*<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Ops</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Ubuntu</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python import的本质</title>
    <link href="/post/88c5942a.html"/>
    <url>/post/88c5942a.html</url>
    
    <content type="html"><![CDATA[<p>ModuleNotFoundError: No module named 是经常能碰到的事情.这篇文章详细解释了Python导入模块的细节…………</p><span id="more"></span><p>谈到模块，不得不提起Pytho程序本身的架构。一般来说，一个Python程序包括多个含有Python语句的文本文件，程序就是作为一个主体、顶层的文件来构造，配合0~多个支持的文件，而这些文件就是模块。模块文件在运行时无需做任何事，当一个文件导入一个模块从而获得该模块定义的工具的访问权，那么该工具就是这个模块的属性</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs">顶层文件：程序的主要控制流程<br><br>模块文件：工具库，提供给顶层文件使用的组件<br></code></pre></td></tr></table></figure><p><strong>导入的实质</strong></p><p>当程序执行时，且是第一次导入时，会执行以下步骤：</p><p>1.找到该模块文件</p><p>2.将其编译成位码（需要时）</p><p>3.执行模块的代码并创建其所定义的对象</p><p>这三部走完，Python会将载入的模块存储到sys.modules表中，并在导入后检查该表，若模块不存在就会重新执行以上三步</p><p>回到现实，在日常工作中，经常能碰到导包失败的情况，程序是死的，它只能通过人设置好的路径是查找给定的包。这就涉及到Python包的搜索路径sys.path。</p><p><strong>搜索路径</strong></p><ol><li><p>程序的主目录：即顶层文件所在目录</p></li><li><p>PYTHONPATH目录：跨目录使用</p></li><li><p>标准链接库目录：安装在机器上本身的目录，一定会被搜索到</p></li><li><p>任意.pth文件的内容：同跨目录使用，配置环境变量的一种替代方案，可将其放在顶层文件目录或标准链接库目录下</p></li></ol><p><strong>导入的方式</strong></p><ol><li>import 直接导入</li></ol><p>一般用于导入内置模块或第三方库</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs elm"><span class="hljs-keyword">import</span> sys <br><span class="hljs-keyword">import</span> Person <span class="hljs-keyword">as</span> ps  #别名<br></code></pre></td></tr></table></figure><p>导入后使用时，需要加上模块名的限定，如：person=Person.Person(‘xiaozhou’)</p><ol start="2"><li>from package import funcname</li></ol><p>from 包名.模块名 import 类名/方法名，从指定模块中导入具体方法，<strong>推荐用法</strong></p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">from</span> sys <span class="hljs-keyword">import</span> <span class="hljs-keyword">version</span><br><span class="hljs-keyword">from</span> sys <span class="hljs-keyword">import</span> <span class="hljs-keyword">version</span>,executable<br><span class="hljs-keyword">from</span> sys <span class="hljs-keyword">import</span> *<br></code></pre></td></tr></table></figure><p>导入后使用时，可直接对import的类/方法名进行操作，如：person=Person(’ xiaozhou ')</p><ol start="3"><li>mymodule=<strong>import</strong>(’ modulename ')，不推荐该写法，可读性很差</li></ol><p>另外，跨目录还有一种导入方法，即：在顶层文件中手动添加sys.path，注意要先添加路径，后执行导入操作</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">sys<span class="hljs-selector-class">.path</span><span class="hljs-selector-class">.append</span>(<span class="hljs-string">&#x27;E:\\insertdir&#x27;</span>)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>VMware Workstation Pro v16.2.3 官方版+激活密钥</title>
    <link href="/post/7b50340e.html"/>
    <url>/post/7b50340e.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>VMware Workstation Pro 是将多个操作系统作为虚拟机 (VM) 在单台 Linux 或 Windows PC 上运行的行业标准。为任何设备、平台或云环境构建、测试或演示软件的 IT 专业人员、开发人员和企业都可以信赖 Workstation Pro。</p><p><strong>系统要求：</strong></p><p>支持使用2011年或以后推出的使用处理器（CPU）的系统， 但 以下情况除外：</p><p>基于2011 Bonnell微体系结构的Intel Atom处理器。例如，Atom Z670 / Z650和Atom N570。<br>使用基于2012 Saltwell微体系结构的Intel Atom处理器的系统。例如，Atom S1200，Atom D2700 / D2500和Atom N2800 / N2600。<br>使用基于Llano和Bobcat微体系结构的AMD处理器的系统。例如，代号为Hondo，Ontario，Zacate和Llano。<br>以下系统 都 还支持：使用基于2010的Westmere微架构系统的英特尔处理器。例如，至强5600，至强3600，Core i7-970，Core i7-980和Core i7-990。</p><p>官网下载：</p><p><a href="https://www.vmware.com/go/getworkstation-win">https://www.vmware.com/go/getworkstation-win</a></p><ul><li>已高速(如有密码：3519)<a href="http://ct.ghpym.com/d/7369060-41496370-0d53b8">http://ct.ghpym.com/d/7369060-41496370-0d53b8</a></li><li><a href="https://pan.quark.cn/s/1679072c6d07">https://pan.quark.cn/s/1679072c6d07</a></li><li>已高速<a href="http://www.123pan.com/s/HQeA-aX1Sh">http://www.123pan.com/s/HQeA-aX1Sh</a></li><li>链接：<a href="https://pan.baidu.com/s/1sa7Fq9AW2Nsx4tsM5CrFXA">https://pan.baidu.com/s/1sa7Fq9AW2Nsx4tsM5CrFXA</a>   提取码：fpii</li></ul><p>原文链接：<a href="https://www.ghxi.com/vmware15.html">https://www.ghxi.com/vmware15.html</a></p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Shell编程基础教程全集-网页版</title>
    <link href="/post/2b6871d1.html"/>
    <url>/post/2b6871d1.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>上：<a href="https://www.cnblogs.com/clsn/p/7992981.html">https://www.cnblogs.com/clsn/p/7992981.html</a></p><p>中：<a href="https://www.cnblogs.com/clsn/p/8006210.html">https://www.cnblogs.com/clsn/p/8006210.html</a></p><p>下：<a href="https://www.cnblogs.com/clsn/p/8028337.html">https://www.cnblogs.com/clsn/p/8028337.html</a></p>]]></content>
    
    
    <categories>
      
      <category>Ops</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Shell</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>原地TP——SSH连接本机windows子系统的Ubantu</title>
    <link href="/post/1295863.html"/>
    <url>/post/1295863.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>首先需要开启一个子系统，先在控制面板-程序-启用或关闭windows功能，勾选适用于Linux的Windows子系统</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806202319.png" alt></p><p>然后在Windows自带的微软商店中搜索Ubantu下载，就那个400多MB的，下载好后需要重启电脑，重启后打开dos，输入bash……这就不多说了，详细百度即可。这里重点说连接的事儿。因为在dos上用linux实在太伤眼了，也很麻烦。</p><p>首先把apt更新一下，不然后面会让你绝望（不要不信邪，亲测）</p><p>更新前先换个源，源文件：/etc/apt/sources.list ，可以先备份下原来的源，防止后面要用</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">sudo cp <span class="hljs-regexp">/etc/</span>apt<span class="hljs-regexp">/sources.list /</span>etc<span class="hljs-regexp">/apt/</span>sources.list.bak<br></code></pre></td></tr></table></figure><p>然后打开/etc/apt/sources.list，可以将其他源注释掉，并添加以下源</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-comment">#添加阿里源</span><br>deb http:<span class="hljs-regexp">//mi</span>rrors.aliyun.com<span class="hljs-regexp">/ubuntu/</span> focal main restricted universe multiverse<br>deb-src http:<span class="hljs-regexp">//mi</span>rrors.aliyun.com<span class="hljs-regexp">/ubuntu/</span> focal main restricted universe multiverse<br>deb http:<span class="hljs-regexp">//mi</span>rrors.aliyun.com<span class="hljs-regexp">/ubuntu/</span> focal-security main restricted universe multiverse<br>deb-src http:<span class="hljs-regexp">//mi</span>rrors.aliyun.com<span class="hljs-regexp">/ubuntu/</span> focal-security main restricted universe multiverse<br>deb http:<span class="hljs-regexp">//mi</span>rrors.aliyun.com<span class="hljs-regexp">/ubuntu/</span> focal-updates main restricted universe multiverse<br>deb-src http:<span class="hljs-regexp">//mi</span>rrors.aliyun.com<span class="hljs-regexp">/ubuntu/</span> focal-updates main restricted universe multiverse<br>deb http:<span class="hljs-regexp">//mi</span>rrors.aliyun.com<span class="hljs-regexp">/ubuntu/</span> focal-proposed main restricted universe multiverse<br>deb-src http:<span class="hljs-regexp">//mi</span>rrors.aliyun.com<span class="hljs-regexp">/ubuntu/</span> focal-proposed main restricted universe multiverse<br>deb http:<span class="hljs-regexp">//mi</span>rrors.aliyun.com<span class="hljs-regexp">/ubuntu/</span> focal-backports main restricted universe multiverse<br>deb-src http:<span class="hljs-regexp">//mi</span>rrors.aliyun.com<span class="hljs-regexp">/ubuntu/</span> focal-backports main restricted universe multiverse<br><span class="hljs-comment">#添加清华源</span><br>deb https:<span class="hljs-regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="hljs-regexp">/ubuntu/</span> focal main restricted universe multiverse<br><span class="hljs-comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse</span><br>deb https:<span class="hljs-regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="hljs-regexp">/ubuntu/</span> focal-updates main restricted universe multiverse<br><span class="hljs-comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse</span><br>deb https:<span class="hljs-regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="hljs-regexp">/ubuntu/</span> focal-backports main restricted universe multiverse<br><span class="hljs-comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse</span><br>deb https:<span class="hljs-regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="hljs-regexp">/ubuntu/</span> focal-security main restricted universe multiverse<br><span class="hljs-comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse multiverse</span><br></code></pre></td></tr></table></figure><p>先更新下源，如果出现依赖问题，可以<code>sudo apt-get -f install 解决</code></p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">sudo apt-<span class="hljs-keyword">get</span> <span class="hljs-keyword">update</span><br></code></pre></td></tr></table></figure><p>然后就可以更新软件了</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">sudo apt-<span class="hljs-built_in">get</span> upgrade<br></code></pre></td></tr></table></figure><p>环境清理结束，开始干活。把默认的ssh删掉先，别问我为什么要删，咱也不知道，咱也不敢问（实际上应该是不需要删除的，别人测过）。询问Y/n时，选择Y，按回车</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">sudo apt-<span class="hljs-built_in">get</span> <span class="hljs-built_in">remove</span> --purge openssh-server<br></code></pre></td></tr></table></figure><p>然后重新安装ssh</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">sudo apt-<span class="hljs-keyword">get</span> install openssh-<span class="hljs-keyword">server</span> ssh <br></code></pre></td></tr></table></figure><p>启动ssh，这时候电脑会提示防火墙啥的，申请联网，点击允许即可</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">sudo service ssh <span class="hljs-comment">--full-restart </span><br></code></pre></td></tr></table></figure><p>这样就OK了，现在可以使用ssh工具连接你的子系统了。但是！由于每次连接子系统时都是手动调用的 System/bash.exe，每次电脑开机重启后进程就会结束，所以需要为电脑设置一个开机自启的定时任务。</p><p>打开win键搜索任务计划程序，右上角点击创建基本任务</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806202348.png" alt></p><p>名称就写ssh自启，下一步选择每次计算机启动时触发。操作选择启动程序。在程序或脚本里填写：</p><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs haml"><span class="hljs-tag">%<span class="hljs-selector-tag">windir</span></span>%\System32\bash.exe<br></code></pre></td></tr></table></figure><p>下方的参数一栏填写：</p><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs llvm">-<span class="hljs-keyword">c</span> <span class="hljs-string">&quot;echo 你的linux密码|sudo -S /etc/init.d/ssh restart&quot;</span><br></code></pre></td></tr></table></figure><p>然后点击完成。然后在计划库中找到刚才新增的任务，右键选择属性</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806202402.png" alt></p><p>这里一定要选择“不管用户是否登录都要运行”，这才是真正的开机自启。它默认是选择“只在用户登录时运行”，看起来没有什么区别，但每个人电脑环境不太一样，看别人只会开机时弹出黑色窗口，但我的电脑却压根不会自启。因此最好是选择到这个位置。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806202412.png" alt></p><p>最后重启电脑，开机后直接打开ssh工具连接本机linux，就可以啦</p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Ubuntu</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>linux下普通用户无法使用yum，提示需root用户</title>
    <link href="/post/91527534.html"/>
    <url>/post/91527534.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>使用root 用户用 vi 或 vim 编辑/etc/sudoers文件，找到 &quot;root ALL=(ALL) ALL&quot;一栏，在下一行填写：</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh"><span class="hljs-keyword">user</span> <span class="hljs-title">ALL</span>=(root) NOPASSWORD:yum *<br></code></pre></td></tr></table></figure><p>然后按：wq!完成编辑。注意这里要用到 ! 强制保存，如果不用的话会提示这是一个readonly文件，不支持修改。</p><p>上面语句的作用是：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806202154.png" alt></p>]]></content>
    
    
    <categories>
      
      <category>Ops</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>记录一次云服务器被异地登录密码破解、不得已重装系统的经历</title>
    <link href="/post/8a0f9ffc.html"/>
    <url>/post/8a0f9ffc.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>开局一张图，是我正在安装linux上的杀毒软件clamav 。从昨天开始就登录不删服务器了，而且自检提示什么外网宽带占用率90%+，当时还不知道什么问题，直到今天在图书馆用所有方式都无法登陆，这才发现有点不对，跟客服联系后得出结论是有木马入侵，多次被异地登录。简直大无语，不过也正好，把服务器整理一下，不然一直用root登陆有些不太好。</p><p>安装杀软……<a href="https://blog.csdn.net/weixin_41004350/article/details/80182929">https://blog.csdn.net/weixin_41004350/article/details/80182929</a></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806202035.png" alt></p><p>客服给的检查结果：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806202051.png" alt></p><p>上面的链接是这个：<a href="https://cloud.tencent.com/developer/article/1623140?from=10680%E3%80%82%E6%88%91%E5%8F%AA%E8%83%BD%E9%80%89%E6%8B%A9%E6%9C%80%E7%A8%B3%E5%A6%A5%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%9A%E9%87%8D%E8%A3%85%E4%B8%80%E5%88%87%E3%80%82%E5%B9%B6%E4%B8%94%E9%87%87%E5%8F%96%E4%B8%80%E4%BA%9B%E5%AE%89%E5%85%A8%E6%8E%AA%E6%96%BD%EF%BC%9A">https://cloud.tencent.com/developer/article/1623140?from=10680。我只能选择最稳妥的方法：重装一切。并且采取一些安全措施：</a></p><ul><li>关闭22端口、选择其他端口作为远程端口。步骤：<a href="https://blog.csdn.net/qq_43652793/article/details/84667933">https://blog.csdn.net/qq_43652793/article/details/84667933</a></li><li>root用户修改密码，使用密码随机生产器来设置密码，并创建子用户，所有工作在子用户下进行：<a href="https://suijimimashengcheng.bmcx.com/">https://suijimimashengcheng.bmcx.com/</a></li><li>其他的就不做了，做了的话可能影响正常使用啦，愿世界没有木马，阿弥陀佛！</li></ul>]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Life</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mysql开启远程访问</title>
    <link href="/post/ff07f10b.html"/>
    <url>/post/ff07f10b.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>防火墙、参数这些就不用说了，最基本的，填错了就当眼瞎了。最重要的是这个：<strong>增加允许远程连接 MySQL 用户并授权</strong></p><p>很多朋友（包括我）拿到一条命令，好家伙直接欢欢喜喜拿去运行，运行完了一看运行正常，没报错，ok继续验证，发现没用，心想：垃圾东西。各位，好好看看这里的参数：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">grant</span> <span class="hljs-keyword">all</span> <span class="hljs-keyword">PRIVILEGES</span> <span class="hljs-keyword">on</span> <span class="hljs-keyword">database</span>.* <span class="hljs-keyword">to</span> <span class="hljs-keyword">user</span>@<span class="hljs-string">&#x27;123.123.123.123&#x27;</span> identified <span class="hljs-keyword">by</span> <span class="hljs-string">&#x27;123456&#x27;</span>; <br></code></pre></td></tr></table></figure><ul><li>database：这个是数据库名，要换成你当前用的数据库名字！</li><li>user：当前mysql的用户名</li><li>123.123.123.123：允许远程登录的IP，这里也可以填%，看自己需要</li><li>123456：这里是远程登录的密码，远程登录的时候需要用到</li><li>all PRIVILEGES（不用改，我只是解释下）表示赋予所有的权限给指定用户。这里也可以替换为赋予某一具体的权限，例如：select,insert,update,delete,create,drop 等，具体权限间用“,”半角逗号分隔。</li></ul><p>另外，执行完上述语句后记得刷新，刷新后生效</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">flush privileges<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MySQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MySQL Workbench 连接数据库提示SSL connection error: SSL is required but the server doesn&#39;t support it</title>
    <link href="/post/743305aa.html"/>
    <url>/post/743305aa.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>mysql下载器下载了mysql worbench后无法连接远端数据库，提示SSL之类的错误</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806201747.png" alt></p><p><strong>解决方案</strong>：不使用SSL，在Advance TAB页的others框中输入参数：useSSL=0，就可以连接上了。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806201800.png" alt></p><p>有时候本地连接可以，但远程连接不行，并且报错：Host is not allowed to connect to this MySQL server。那一般是没有允许远程登录来的，解决办法也很简单：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span>先进入mysql<br>use mysql<br><span class="hljs-regexp">//</span>允许root用户从所有IP远程访问<br>update user set host = <span class="hljs-string">&#x27;%&#x27;</span> where user = <span class="hljs-string">&#x27;root&#x27;</span>;<br><span class="hljs-regexp">//</span>刷新<br>flush privileges;<br></code></pre></td></tr></table></figure><h3 id="附上忘记mysql密码的修改方法centos7"><a class="markdownIt-Anchor" href="#附上忘记mysql密码的修改方法centos7"></a> 附上忘记Mysql密码的修改方法（CentOS7）：</h3><ol><li>先关闭Mysql（前提是mysql存在，且安装正常）</li></ol><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arduino">service mysqld stop<br></code></pre></td></tr></table></figure><ol start="2"><li>修改mysql配置文件，在[mysqld] 下添加一句 skip-grant-tables 然后保存退出</li></ol><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">sudo vi <span class="hljs-regexp">/etc/my</span>.cnf<br></code></pre></td></tr></table></figure><ol start="3"><li>重启数据库</li></ol><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">service mysqld <span class="hljs-literal">start</span><br></code></pre></td></tr></table></figure><ol start="4"><li>此时进入数据库是免密的，进入后 use mysql 选择数据库进入</li></ol><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xquery">mysql -u<span class="hljs-built_in"> root</span> mysql -u<span class="hljs-built_in"> root</span> <br><br>use mysql;<br></code></pre></td></tr></table></figure><ol start="5"><li>修改密码( newpwd为新密码 )</li></ol><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs n1ql"><span class="hljs-keyword">update</span> mysql.<span class="hljs-keyword">user</span> <span class="hljs-keyword">set</span> authentication_string=<span class="hljs-keyword">password</span>(<span class="hljs-string">&#x27;newpwd&#x27;</span>) <span class="hljs-keyword">where</span> <span class="hljs-keyword">user</span>=<span class="hljs-string">&#x27;root&#x27;</span>;<br></code></pre></td></tr></table></figure><p>修改完毕，exit后重新用新密码登录试一下，记得把好了之后记得把刚才的添加的语句注释掉，再重新启动mysql。</p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MySQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode-35.搜索插入位置</title>
    <link href="/post/183d3010.html"/>
    <url>/post/183d3010.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>原题：给定一个排序数组和一个目标值，在数组中找到目标值，并返回其索引。如果目标值不存在于数组中，返回它将会被按顺序插入的位置。</p><p>（请必须使用时间复杂度为 O(log n) 的算法）</p><p>示例 1:</p><p>输入: nums = [1,3,5,6], target = 5<br>输出: 2<br>示例 2:</p><p>输入: nums = [1,3,5,6], target = 2<br>输出: 1<br>示例 3:</p><p>输入: nums = [1,3,5,6], target = 7<br>输出: 4<br>示例 4:</p><p>输入: nums = [1,3,5,6], target = 0<br>输出: 0<br>示例 5:</p><p>输入: nums = [1], target = 0<br>输出: 0</p><hr><p>这道题我给想复杂了，这里仅仅需要的是插入的位置，并不需要对整个数组进行排序。逐个去对比每个元素是否相等的操作实在有点傻。</p><ul><li>当目标值小于数组中的最大元素时，可以在遍历中进行比较，当某个元素大于目标值时，直接将当前的索引返回，不需要再去管后面的数组怎么放置。</li><li>当目标值大于数组中的最大元素时，该元素自然就会放在数组的最后一个位置，即数组的长度值。</li></ul><p>这里有一个点就是不需要去新建一个数组、想着把旧数组的值存入新数组，这样很傻，效率也很低，内存使用更多……这也就是评论区说取巧的地方。原数组length为5，最大index为4，插入目标值后新数组length为6，最大index为5，因此对于数组来说，新加入一个元素，新元素的索引值就是原数组的length。取巧就是取的数组规则的巧，元素的索引永远比它所在的长度-1。</p><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs aspectj"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">searchInsert</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] nums, <span class="hljs-keyword">int</span> <span class="hljs-keyword">target</span>)</span> </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;nums.length;i++)&#123;<br>            <span class="hljs-keyword">if</span>(nums[i]&gt;=<span class="hljs-keyword">target</span>) <span class="hljs-keyword">return</span> i;<br>        &#125;<br>        <span class="hljs-keyword">return</span> nums.length;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>LeetCode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode-724. 寻找数组的中心下标</title>
    <link href="/post/ba18b6b1.html"/>
    <url>/post/ba18b6b1.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>给你一个整数数组 nums ，请计算数组的 中心下标 。</p><p>数组 中心下标 是数组的一个下标，其左侧所有元素相加的和等于右侧所有元素相加的和。</p><p>如果中心下标位于数组最左端，那么左侧数之和视为 0 ，因为在下标的左侧不存在元素。这一点对于中心下标位于数组最右端同样适用。</p><p>如果数组有多个中心下标，应该返回 最靠近左边 的那一个。如果数组不存在中心下标，返回 -1 。</p><p>示例 1：</p><p>输入：nums = [1, 7, 3, 6, 5, 6]<br>输出：3<br>解释：<br>中心下标是 3 。<br>左侧数之和 sum = nums[0] + nums[1] + nums[2] = 1 + 7 + 3 = 11 ，<br>右侧数之和 sum = nums[4] + nums[5] = 5 + 6 = 11 ，二者相等。<br>示例 2：</p><p>输入：nums = [1, 2, 3]<br>输出：-1<br>解释：<br>数组中不存在满足此条件的中心下标。<br>示例 3：</p><p>输入：nums = [2, 1, -1]<br>输出：0<br>解释：<br>中心下标是 0 。<br>左侧数之和 sum = 0 ，（下标 0 左侧不存在元素），<br>右侧数之和 sum = nums[1] + nums[2] = 1 + -1 = 0 。</p><hr><p>这道题并不是我自己想出来的，是看了题目下的评论分析了很久才想到的（惭愧了），我晚上回家后自己根据白天的思路写出来的。其实原理也挺巧妙的。除了特殊情况（中心索引为0）要额外考虑，其他都是正常的去比大小。做这种题目真的觉得自己人都傻了，连简单的比大小、加减法都不会做了。</p><p>分析：重点在于——中心下标的定义：其<strong>左侧所有元素相加的和</strong>等于<strong>右侧所有元素相加的和</strong>。∑左侧元素=∑右侧元素，千万不能直接去简单的想，遍历元素时把左侧元素之和加上、把右侧元素之和加上，然后再对比。这样我没试过啊，而且想一想就觉得效率太慢了。这样想才是正确的：∑a的左侧元素 = (∑0~a) - a ，同理，∑a右侧元素 = ( ∑所有元素 ) - ( ∑0~a )。由此对比就可算出数组中是否存在中心索引。</p><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs axapta"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> pivotIndex(<span class="hljs-built_in">int</span>[] nums) &#123;<br>        <span class="hljs-built_in">int</span> end=<span class="hljs-number">0</span>,<span class="hljs-keyword">sum</span>=<span class="hljs-number">0</span>,flag = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-built_in">int</span> i=<span class="hljs-number">0</span>; i&lt;nums.length; i++)&#123;<br>            <span class="hljs-keyword">sum</span> +=nums[i];<br>        &#125;<br>        <span class="hljs-keyword">if</span>(<span class="hljs-number">0</span> == <span class="hljs-keyword">sum</span>-nums[<span class="hljs-number">0</span>])&#123;  <span class="hljs-comment">//如果第一个元素右侧所有元素和为0，则中心索引为0</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-built_in">int</span> j=<span class="hljs-number">0</span>; j&lt;nums.length; j++)&#123; <span class="hljs-comment">//必须从索引为0的元素开始加起，否则会漏掉一个元素</span><br>            flag += nums[j];  <span class="hljs-comment">//当前循环中已遍历过的元素之和</span><br>            end = <span class="hljs-keyword">sum</span>-flag;  <span class="hljs-comment">//当前循环未遍历的元素之和</span><br>            <span class="hljs-keyword">if</span>(end == flag)&#123;<br>                <span class="hljs-keyword">return</span> j;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;  <span class="hljs-comment">//如果没有对比出符合条件的，则返回-1</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>LeetCode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Docker进阶-Dockerfile-镜像构建发布</title>
    <link href="/post/9af169b7.html"/>
    <url>/post/9af169b7.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id="dockerfile的组成"><a class="markdownIt-Anchor" href="#dockerfile的组成"></a> Dockerfile的组成</h2><p>构建docker镜像的文件，命令+参数+脚本</p><p>步骤</p><ol><li>编写一个dockerfile文件</li><li>docker build 构建成一个镜像</li><li>docker run运行镜像</li><li>docker push发布镜像至DockerHub或阿里云镜像仓库</li></ol><p>官方做法：在dockerHub中随意点击一个镜像的版本，就会跳转至github的DockerFile目录，如cengtos7显示如下：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs stylus">FROM scratch <br> <br> <br>ADD centos-<span class="hljs-number">7</span>-x86_64-docker<span class="hljs-selector-class">.tar</span><span class="hljs-selector-class">.xz</span> /<br> <br>LABEL \<br> <br>org<span class="hljs-selector-class">.label-schema</span>.schema-version=<span class="hljs-string">&quot;1.0&quot;</span> \<br> <br>org<span class="hljs-selector-class">.label-schema</span>.name=<span class="hljs-string">&quot;CentOS Base Image&quot;</span> \<br> <br>org<span class="hljs-selector-class">.label-schema</span>.vendor=<span class="hljs-string">&quot;CentOS&quot;</span> \<br> <br>org<span class="hljs-selector-class">.label-schema</span>.license=<span class="hljs-string">&quot;GPLv2&quot;</span> \<br> <br>org<span class="hljs-selector-class">.label-schema</span>.build-date=<span class="hljs-string">&quot;20201113&quot;</span> \<br> <br>org<span class="hljs-selector-class">.opencontainers</span><span class="hljs-selector-class">.image</span>.title=<span class="hljs-string">&quot;CentOS Base Image&quot;</span> \<br> <br>org<span class="hljs-selector-class">.opencontainers</span><span class="hljs-selector-class">.image</span>.vendor=<span class="hljs-string">&quot;CentOS&quot;</span> \<br> <br>org<span class="hljs-selector-class">.opencontainers</span><span class="hljs-selector-class">.image</span>.licenses=<span class="hljs-string">&quot;GPL-2.0-only&quot;</span> \<br> <br>org<span class="hljs-selector-class">.opencontainers</span><span class="hljs-selector-class">.image</span>.created=<span class="hljs-string">&quot;2020-11-13 00:00:00+00:00&quot;</span><br> <br> <br>CMD <span class="hljs-selector-attr">[<span class="hljs-string">&quot;/bin/bash&quot;</span>]</span><br></code></pre></td></tr></table></figure><p>官方的镜像一般是基础包，只要能跑起来即可，很多功能是没有的，所以一般都是自己搭建镜像（使用docker指令）</p><p>实际工作中，docker镜像甚至是交付的标准，项目做好之后必须打包成docker镜像来交付：</p><p>原则：</p><ul><li>指令是大写字母</li><li>执行顺序从上至下，每个指令都会创建提交一个新的镜像层</li></ul><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806200522.png" alt></p><p>Dockerfile：构建文件，定义了一切的步骤，源代码</p><p>DockerImages：通过Dockerfile构建生成的镜像，最终发布和运行的产品</p><p>Docker容器：镜像运行起来提供服务器</p><h2 id="docker指令"><a class="markdownIt-Anchor" href="#docker指令"></a> Docker指令</h2><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806200538.png" alt></p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs dockerfile"><span class="hljs-keyword">FROM</span>           <span class="hljs-comment">#基础镜像，一切从这里开始构建</span><br><span class="hljs-keyword">MAINTAINER</span>     <span class="hljs-comment">#镜像的署名和联系方式</span><br><span class="hljs-keyword">RUN</span><span class="language-bash">            <span class="hljs-comment">#镜像构建时需要运行的命令</span></span><br><span class="hljs-keyword">ADD</span><span class="language-bash">            <span class="hljs-comment">#添加内容，源文件可以是相对路径，可以是url，特可以是tar.gz文件（会自动解压）</span></span><br><span class="hljs-keyword">WORKDIR</span><span class="language-bash">        <span class="hljs-comment">#镜像的工作目录</span></span><br><span class="hljs-keyword">VOLUME</span><span class="language-bash">         <span class="hljs-comment">#挂载的目录</span></span><br><span class="hljs-keyword">EXPOSE</span>         <span class="hljs-comment">#保留端口配置，开启后外部无需使用-p</span><br><span class="hljs-keyword">CMD</span><span class="language-bash">            <span class="hljs-comment">#指定这个容器启动的时候要运行的命令，只有最后一个会生效，可被替代</span></span><br><span class="hljs-keyword">ENTRYPOINT</span><span class="language-bash">     <span class="hljs-comment">#指定这个容器启动的时候要运行的命令，可以追加命令</span></span><br><span class="hljs-keyword">ONBUILD</span>        <span class="hljs-comment">#当构建一个被继承 DockerFile 这个时候就会运行ONBUILD的指令 ，触发指令</span><br><span class="hljs-keyword">COPY</span><span class="language-bash">           <span class="hljs-comment">#类似ADD，将文件拷贝至镜像中，格式：COPY 源目标 目的目标。多个命令使用&amp;&amp;拼接</span></span><br><span class="hljs-keyword">ENV</span>            <span class="hljs-comment">#构建的时候设置环境变量</span><br></code></pre></td></tr></table></figure><p><strong>备注：CMD与ENTRYPOINT的区别</strong></p><p>当一个镜像使用CMD指定容器启动后运行的命令时，只有最后一个会真实生效，并且当从外部启动时新增了额外的命令时，CMD的命令会被替代。如：构建镜像时使用了CMD [‘ls’, ‘-a’]，启动容器后会自动打印当前目录列表，但如果启动时额外加了参数 -l，这时的-l并不会和ls -a合并成新命令，而是替代ls -a作为新命令。但-l并非完整命令，所以当容器启动时就会报错</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806200655.png" alt></p><p>当一个镜像使用ENTRYPOINT指定容器启动后运行的命令时，在外部启动容器时可以追加命令，拿上面的例子说，如果构建时使用ENTRYPOINT [‘ls’, ‘-a’]，外部启动时额外加了-l，则这里的-l会和镜像自带的ls -a 合并成完整命令ls -al</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806200708.png" alt></p><h2 id="配置带vim-和ifconfig的centos"><a class="markdownIt-Anchor" href="#配置带vim-和ifconfig的centos"></a> 配置带vim 和ifconfig的CentOS</h2><p>手动配置镜像，一般从scratch 开始（dockerhub中99%的镜像从这个基础镜像过来的）。手动配置之前，可以用<strong>docker history</strong>命令查看其他镜像的构建步骤：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806200810.png" alt></p><p>编辑Dockerfie文件</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs dockerfile">[root@VM-<span class="hljs-number">0</span>-<span class="hljs-number">7</span>-centos dockerfile]<span class="hljs-comment"># vim centos-yz #这里的centos-yz如果写成Dockerfile，则编译时无需-f寻找编译文件，会自动寻找</span><br><span class="hljs-keyword">FROM</span> centos<br><span class="hljs-keyword">MAINTAINER</span> zhouyinlin&lt;<span class="hljs-number">1909423593</span>@qq.com&gt;<br><span class="hljs-keyword">ENV</span> MYPATH /root/<br><span class="hljs-keyword">WORKDIR</span><span class="language-bash"> <span class="hljs-variable">$MYPATH</span></span><br><span class="hljs-comment">#构建时运行的命令</span><br><span class="hljs-keyword">RUN</span><span class="language-bash"> yum -y install vim</span><br><span class="hljs-keyword">RUN</span><span class="language-bash"> yum -y install net-tools</span><br><span class="hljs-comment">#打开端口</span><br><span class="hljs-keyword">EXPOSE</span> <span class="hljs-number">80</span><br><br><span class="hljs-keyword">CMD</span><span class="language-bash"> <span class="hljs-variable">$PATH</span></span><br><span class="hljs-keyword">CMD</span><span class="language-bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;------------------end-------------------&quot;</span></span><br><span class="hljs-keyword">CMD</span><span class="language-bash"> /bin/bash</span><br>[root@VM-<span class="hljs-number">0</span>-<span class="hljs-number">7</span>-centos dockerfile]<span class="hljs-comment"># docker build -f centos-yz -t centos-yz:1.0 . #开始构建</span><br></code></pre></td></tr></table></figure><p>构建后进入新的CentOS，发现vim和ifconfig都有了</p><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs tap">[root@VM-0-7-centos dockerfile]<span class="hljs-comment"># docker images</span><br>REPOSITORY            TAG       IMAGE ID       CREATED          SIZE<br>centos-yz             1.0       a2f9e606e2c5  <span class="hljs-number"> 15 </span>seconds ago   322MB<br> <br>[root@VM-0-7-centos dockerfile]<span class="hljs-comment"># docker run -it centos-yz:1.0</span><br>[root@4103126b11ae ~]<span class="hljs-comment"># vim</span><br>[root@4103126b11ae ~]<span class="hljs-comment"># ifconfig</span><br>eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500<br>        inet 172.18.0.2  netmask 255.255.0.0  broadcast 172.18.255.255<br>        ether 02:42:ac:12:00:02  txqueuelen<span class="hljs-number"> 0 </span> (Ethernet)<br>        RX packets<span class="hljs-number"> 8 </span> bytes<span class="hljs-number"> 656 </span>(656.0 B)<br>        RX errors<span class="hljs-number"> 0 </span> dropped<span class="hljs-number"> 0 </span> overruns<span class="hljs-number"> 0 </span> frame 0<br>        TX packets<span class="hljs-number"> 0 </span> bytes<span class="hljs-number"> 0 </span>(0.0 B)<br>        TX errors<span class="hljs-number"> 0 </span> dropped<span class="hljs-number"> 0 </span>overruns<span class="hljs-number"> 0 </span> carrier<span class="hljs-number"> 0 </span> collisions 0<br> <br> <br>lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536<br>        inet 127.0.0.1  netmask 255.0.0.0<br>        loop  txqueuelen<span class="hljs-number"> 1000 </span> (Local Loopback)<br>        RX packets<span class="hljs-number"> 0 </span> bytes<span class="hljs-number"> 0 </span>(0.0 B)<br>        RX errors<span class="hljs-number"> 0 </span> dropped<span class="hljs-number"> 0 </span> overruns<span class="hljs-number"> 0 </span> frame 0<br>        TX packets<span class="hljs-number"> 0 </span> bytes<span class="hljs-number"> 0 </span>(0.0 B)<br>        TX errors<span class="hljs-number"> 0 </span> dropped<span class="hljs-number"> 0 </span>overruns<span class="hljs-number"> 0 </span> carrier<span class="hljs-number"> 0 </span> collisions 0<br> <br>[root@4103126b11ae ~]<span class="hljs-comment">#</span><br></code></pre></td></tr></table></figure><h2 id="配置自带tomcat的镜像且允许从外部部署项目"><a class="markdownIt-Anchor" href="#配置自带tomcat的镜像且允许从外部部署项目"></a> 配置自带Tomcat的镜像，且允许从外部部署项目</h2><p>编辑Dockerfile文件</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs awk">FROM centos<br>MAINTAINER ZHOUYINGLIN&lt;<span class="hljs-number">1909423593</span>@QQ.COM&gt;<br><br><br>COPY readme.txt <span class="hljs-regexp">/usr/</span>local/readme.txt <span class="hljs-comment">#阅读文档</span><br><br><span class="hljs-comment">#将压缩包和jdk添加到镜像</span><br>ADD apache-tomcat-<span class="hljs-number">9.0</span>.<span class="hljs-number">22</span>.tar.gz <span class="hljs-regexp">/usr/</span>local  <br>ADD jdk-<span class="hljs-number">8</span>u151-linux-x64.tar.gz <span class="hljs-regexp">/usr/</span>local<br><br><br>RUN yum -y install vim<br><br><span class="hljs-comment">#配置工作目录和路径</span><br>ENV MYPATH <span class="hljs-regexp">/usr/</span>local<br>WORKDIR <span class="hljs-variable">$MYPATH</span><br><br><span class="hljs-comment">#配置相关的环境变量</span><br>ENV JAVA_HOME <span class="hljs-regexp">/usr/</span>local/jdk1.<span class="hljs-number">8.0</span>_151<br>ENV CLASSPATH <span class="hljs-variable">$JAVA_HOME</span><span class="hljs-regexp">/lib/</span>dt.jar:<span class="hljs-variable">$JAVA_HOME</span><span class="hljs-regexp">/lib/</span>tools.jar<br>ENV CATALINA_HOME <span class="hljs-regexp">/usr/</span>local/apache-tomcat-<span class="hljs-number">9.0</span>.<span class="hljs-number">22</span><br>ENV CATALINA_BASH <span class="hljs-regexp">/usr/</span>local/apache-tomcat-<span class="hljs-number">9.0</span>.<span class="hljs-number">22</span><br>ENV PATH <span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$JAVA_HOME</span><span class="hljs-regexp">/bin:$CATALINA_HOME/</span>lib:<span class="hljs-variable">$CATALINA_HOME</span>/bin<br><br><span class="hljs-comment">#开放端口</span><br>EXPOSE <span class="hljs-number">8080</span><br><br><span class="hljs-comment">#镜像运行时，就启动tomcat，并写入日志</span><br>CMD <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/apache-tomcat-9.0.22/</span>bin<span class="hljs-regexp">/startup.sh &amp;&amp; tail -F /u</span>sr<span class="hljs-regexp">/local/</span>apache-tomcat-<span class="hljs-number">9.0</span>.<span class="hljs-number">22</span><span class="hljs-regexp">/logs/</span>catalina.out<br></code></pre></td></tr></table></figure><p>构建镜像并启动容器</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs awk">docker build -tdiytomcat . <span class="hljs-comment">#这里由于dockerfile名叫：Dockerfile，因此无需再加-f 但注意后面的点，表示是当前目录的</span><br><br><span class="hljs-comment">#开放宿主机的9090端口映射至容器的8080端口，挂载两个目录：1.项目目录 2.日志存放目录</span><br><span class="hljs-comment">#宿主机的tomcat/project映射到webapps下的test目录，test项目下所有文件都可以从外部部署进去</span><br>docker run -d -p <span class="hljs-number">9090</span>:<span class="hljs-number">8080</span> --name newtomcat -v <span class="hljs-regexp">/root/</span>dockerfile<span class="hljs-regexp">/tomcat/</span>project:<span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/apache-tomcat-9.0.22/</span>webapps<span class="hljs-regexp">/test -v /</span>root<span class="hljs-regexp">/dockerfile/</span>tomcat<span class="hljs-regexp">/logs:/u</span>sr<span class="hljs-regexp">/local/</span>apache-tomcat-<span class="hljs-number">9.0</span>.<span class="hljs-number">22</span>/logs diytomcat<br></code></pre></td></tr></table></figure><p>目前为止，就可以正常的在宿主机或者外部网络访问到tomcat的主页啦。项目就弄一个简单的网页就好了，再以IP:port/项目名就可以访问项目主页了</p><p>新建项目</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">在宿主机的project下新建WEB<span class="hljs-literal">-INF</span>等目录、文件，层级如下：<br>project<br>    WEB<span class="hljs-literal">-INF</span>O<br>        web.<span class="hljs-keyword">xml</span><br>    <span class="hljs-title">index</span>.jsp<br></code></pre></td></tr></table></figure><p>文件描述</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml">web.xml<br><br><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">web-app</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://xmlns.jcp.org/xml/ns/javaee</span></span><br><span class="hljs-string"><span class="hljs-tag">                      http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;4.0&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">metadata-complete</span>=<span class="hljs-string">&quot;true&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>index.jsp</strong></p><p>&lt;%@ page language=“java” contentType=“text/html; charset=UTF-8”</p><p>pageEncoding=“UTF-8”%&gt;</p><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>new tomcat</title></head><body><p>​    恭喜，web项目已经搭建完成。</p></body></html><h2 id="发布镜像至dockerhub"><a class="markdownIt-Anchor" href="#发布镜像至dockerhub"></a> 发布镜像至DockerHub</h2><p>发布镜像到dockerHub上，首先要做的事应该是登录。如果没有登录过，那么需要先注册账号：<a href="https://hub.docker.com/">https://hub.docker.com/</a> 。登录好之后才可以提交镜像，docker中的登录的帮助文档长这样：</p><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs vbnet">[root@VM-<span class="hljs-number">0</span>-<span class="hljs-number">7</span>-centos project]# docker login --help<br><br><br><span class="hljs-symbol">Usage:</span>  docker login [OPTIONS] [SERVER]<br><br><br>Log <span class="hljs-keyword">in</span> <span class="hljs-keyword">to</span> a Docker registry.<br><span class="hljs-keyword">If</span> no server <span class="hljs-built_in">is</span> specified, the <span class="hljs-keyword">default</span> <span class="hljs-built_in">is</span> defined <span class="hljs-keyword">by</span> the daemon.<br><br><br><span class="hljs-symbol">Options:</span><br>  -p, --password <span class="hljs-type">string</span>   Password<br>      --password-stdin    <span class="hljs-keyword">Take</span> the password <span class="hljs-keyword">from</span> stdin<br>  -u, --username <span class="hljs-type">string</span>   Username<br></code></pre></td></tr></table></figure><p>登录好之后，就可以使用docker push提交镜像</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs yaml">[<span class="hljs-string">root@VM-0-7-centos</span> <span class="hljs-string">~</span>]<span class="hljs-comment"># docker push diytomcat</span><br><span class="hljs-attr">Using default tag:</span> <span class="hljs-string">latest</span><br><span class="hljs-string">The</span> <span class="hljs-string">push</span> <span class="hljs-string">refers</span> <span class="hljs-string">to</span> <span class="hljs-string">repository</span> [<span class="hljs-string">docker.io/library/diytomcat</span>]<br><span class="hljs-attr">ffb151e67a73:</span> <span class="hljs-string">Preparing</span><br><span class="hljs-attr">23127db07fa3:</span> <span class="hljs-string">Preparing</span><br><span class="hljs-attr">1e438b048a4f:</span> <span class="hljs-string">Preparing</span><br><span class="hljs-attr">328e77a13569:</span> <span class="hljs-string">Preparing</span><br><span class="hljs-attr">74ddd0ec08fa:</span> <span class="hljs-string">Preparing</span><br><span class="hljs-attr">denied:</span> <span class="hljs-string">requested</span> <span class="hljs-string">access</span> <span class="hljs-string">to</span> <span class="hljs-string">the</span> <span class="hljs-string">resource</span> <span class="hljs-string">is</span> <span class="hljs-string">denied</span>  <span class="hljs-comment">#提示拒绝</span><br></code></pre></td></tr></table></figure><p>这里有一个提示错误，因为是我们的push格式有错误。所以不会上去的。正确的命令格式应该是先将做好的镜像使用tag命令规范命名</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs crmsh"><span class="hljs-comment">#格式：用户名/镜像名:版本号。创建完后会出现一个一样的镜像</span><br>[root@VM-<span class="hljs-number">0</span>-<span class="hljs-number">7</span>-centos ~]<span class="hljs-comment"># docker tag diytomcat zhouyinglin/diytomcat:v1</span><br>[root@VM-<span class="hljs-number">0</span>-<span class="hljs-number">7</span>-centos ~]<span class="hljs-comment"># docker images</span><br>REPOSITORY              <span class="hljs-keyword">TAG</span>       <span class="hljs-title">IMAGE</span> ID       CREATED         SIZE<br>diytomcat               latest    <span class="hljs-number">50316</span>eed1aeb   <span class="hljs-number">5</span> hours ago     <span class="hljs-number">695M</span>B<br>zhouyinglin/diytomcat   v1        <span class="hljs-number">50316</span>eed1aeb   <span class="hljs-number">5</span> hours ago     <span class="hljs-number">695M</span>B<br></code></pre></td></tr></table></figure><p>接着我们就可以正常使用push命令了。云服务器的小水管虽然慢，但毕竟是阿里的网，也是能够上传完的，本地网络的话就有可能传不上去，毕竟DockerHub是国外的</p><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs livescript">[root@VM-0-7-centos ~]<span class="hljs-comment"># docker push zhouyinglin/diytomcat:v1</span><br>The push refers <span class="hljs-keyword">to</span> repository [docker.io/zhouyinglin/diytomcat]<br>ffb151e67a73: Pushing [=====================&gt;                             ]  <span class="hljs-number">26.99</span>MB/<span class="hljs-number">64</span>MB<br><span class="hljs-number">23127db</span>07fa3: Pushing [=&gt;                                                 ]  <span class="hljs-number">10.98</span>MB/<span class="hljs-number">384.4</span>MB<br><span class="hljs-number">1e</span>438b048a4f: Pushing [==================================================&gt;]  <span class="hljs-number">15.41</span>MB/<span class="hljs-number">15.41</span>MB<br><span class="hljs-number">328e</span>77a13569: Pushing [==================================================&gt;]  <span class="hljs-number">3.072k</span>B<br><span class="hljs-number">74ddd</span>0ec08fa: Pushing [=====&gt;                                             ]  <span class="hljs-number">23.48</span>MB/<span class="hljs-number">231.3</span>MB<br></code></pre></td></tr></table></figure><h2 id="发布镜像至阿里云镜像仓库"><a class="markdownIt-Anchor" href="#发布镜像至阿里云镜像仓库"></a> 发布镜像至阿里云镜像仓库</h2><p>登录阿里云仓库：<a href="https://cr.console.aliyun.com/cn-hangzhou/instance/repositories">https://cr.console.aliyun.com/cn-hangzhou/instance/repositories</a></p><p>创建命名空间</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806201034.png" alt></p><p>创建容器镜像</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806201046.png" alt></p><p>查看仓库面板</p><p>仓库地址：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806201101.png" alt></p><p>官方push流程</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806201113.png" alt></p><p>这里其实只要注意一个点就行了，就是需要将自己的镜像按照阿里云的操作流程，修改tag</p><p>在DockerHub中，tag一般修改成DockerHub用户名/镜像名:版本号</p><p>在阿里云中，tag要求修改成docker tag [ImageId] <a href="http://registry.cn-hangzhou.aliyuncs.com/yz-zhouyinglin/resp">registry.cn-hangzhou.aliyuncs.com/yz-zhouyinglin/resp</a> : 版本号</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">[root@VM-<span class="hljs-number">0</span>-<span class="hljs-number">7</span>-centos ~]<span class="hljs-comment"># docker tag 50316eed1aeb registry.cn-hangzhou.aliyuncs.com/yz-zhouyinglin/resp:v1</span><br>[root@VM-<span class="hljs-number">0</span>-<span class="hljs-number">7</span>-centos ~]<span class="hljs-comment"># docker images</span><br>REPOSITORY                                              <span class="hljs-keyword">TAG</span>       <span class="hljs-title">IMAGE</span> ID       CREATED         SIZE<br>diytomcat                                               latest    <span class="hljs-number">50316</span>eed1aeb   <span class="hljs-number">6</span> hours ago     <span class="hljs-number">695M</span>B<br>registry.cn-hangzhou.aliyuncs.com/yz-zhouyinglin/resp   v1        <span class="hljs-number">50316</span>eed1aeb   <span class="hljs-number">6</span> hours ago     <span class="hljs-number">695M</span>B<br></code></pre></td></tr></table></figure><p>修改之后才可以进行push，当然也是速度很慢，毕竟是学生机小水管</p><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs livescript">[root@VM-0-7-centos ~]<span class="hljs-comment"># docker push registry.cn-hangzhou.aliyuncs.com/yz-zhouyinglin/resp:v1</span><br>The push refers <span class="hljs-keyword">to</span> repository [registry.cn-hangzhou.aliyuncs.com/yz-zhouyinglin/resp]<br>ffb151e67a73: Pushing [===========================================&gt;       ]  <span class="hljs-number">55.78</span>MB/<span class="hljs-number">64</span>MB<br><span class="hljs-number">23127db</span>07fa3: Pushing [========&gt;                                          ]  <span class="hljs-number">64.83</span>MB/<span class="hljs-number">384.4</span>MB<br>ffb151e67a73: Pushed<br><span class="hljs-number">23127db</span>07fa3: Pushing [==========&gt;                                        ]  <span class="hljs-number">77.64</span>MB/<span class="hljs-number">384.4</span>MB<br><span class="hljs-number">74ddd</span>0ec08fa: Pushing [=================&gt;                                 ]  <span class="hljs-number">78.85</span>MB/<span class="hljs-number">231.3</span>MB<br><span class="hljs-number">74ddd</span>0ec08fa: Pushing [===================&gt;                               ]  <span class="hljs-number">90.89</span>MB/<span class="hljs-number">231.3</span>MB<br></code></pre></td></tr></table></figure><p>push结束</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs yaml">[<span class="hljs-string">root@VM-0-7-centos</span> <span class="hljs-string">~</span>]<span class="hljs-comment"># docker push registry.cn-hangzhou.aliyuncs.com/yz-zhouyinglin/resp:v1</span><br><span class="hljs-string">The</span> <span class="hljs-string">push</span> <span class="hljs-string">refers</span> <span class="hljs-string">to</span> <span class="hljs-string">repository</span> [<span class="hljs-string">registry.cn-hangzhou.aliyuncs.com/yz-zhouyinglin/resp</span>]<br><span class="hljs-attr">ffb151e67a73:</span> <span class="hljs-string">Pushing</span> [<span class="hljs-string">===========================================&gt;</span>       ]  <span class="hljs-number">55.</span><span class="hljs-string">78MB/64MB</span><br><span class="hljs-attr">23127db07fa3:</span> <span class="hljs-string">Pushing</span> [<span class="hljs-string">========&gt;</span>                                          ]  <span class="hljs-number">64.</span><span class="hljs-string">83MB/384.4MB</span><br><span class="hljs-attr">ffb151e67a73:</span> <span class="hljs-string">Pushed</span> <br><span class="hljs-attr">23127db07fa3:</span> <span class="hljs-string">Pushing</span> [<span class="hljs-string">==================================================&gt;</span>]  <span class="hljs-number">385.</span><span class="hljs-string">7MB</span><br><span class="hljs-attr">1e438b048a4f:</span> <span class="hljs-string">Pushed</span> <br><span class="hljs-attr">23127db07fa3:</span> <span class="hljs-string">Pushed</span> <br><span class="hljs-attr">v1: digest: sha256:a08b7a9ba95cb7cc624975f07d2fb4b686f316d1ae319cc557f2ce71291c7c26 size:</span> <span class="hljs-number">1373</span><br></code></pre></td></tr></table></figure><p>在阿里云的版本页面可以看到push 上来的镜像</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806201143.png" alt></p><p>-------------------------------------------Docker入门结束--------------------------------------------</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806201204.png" alt></p>]]></content>
    
    
    <categories>
      
      <category>Ops</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Docker</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>unix、dos、mac文本格式区分</title>
    <link href="/post/c3c62a73.html"/>
    <url>/post/c3c62a73.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>如果开发的环境是unix、dos并存，那么一定会碰到文本格式的问题。比如dos环境中（win下的notepad++）编辑的脚本文件传输到linux上，行尾会多出来一个^M，导致脚本在linux上无法运行，这就是fileformat的问题。由于历史原因，unix、dos、mac三家系统采用的是不同的行结束符，unix是\n，windows是复古的\r\n（也不是所有windows上编辑的都是dos），mac则是\r，避免方法如下：</p><ul><li>在vim命令模式下，输入:set ff=unix</li><li>在vimrc中添加一行，set fileformat=unix,dos</li></ul><p>举例：</p><ul><li>从服务器上下载来的日志文件，用UltraEdit打开会显示是否转换成dos格式</li><li>有时候在notepad++上打开的文本，后面行尾会有黑色方块</li></ul><p>这里也不需要扯太深，往深了说的得扯到字节的传输模式了，我们只需要知主流三种系统对行尾符有不同的解释，在不同的平台上打开会出现哪些问题、以及怎么解决就可以了</p>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>String</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux探秘————/dev/null与/dev/zero</title>
    <link href="/post/a71cbc0a.html"/>
    <url>/post/a71cbc0a.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id="dev目录"><a class="markdownIt-Anchor" href="#dev目录"></a> /dev目录</h2><p>/dev目录挂载了linux的所有外部设备，dev意为device，是linux访问外部设备的端口，但没有入口，只能通过挂载的方式访问，在任意一台正常使用的服务器上，/dev下面的文件是很多的，因为linux遵循unix万物皆文件的风格。常见的设备有：</p><ul><li>/dev/hd[a-t]：IDE设备，硬盘</li><li>/dev/sd[a-z]：SCSI设备</li><li>/dev/ram[0-15]内存</li><li>………</li></ul><p>还有很多，剩下不常见的就不一一举例了，也没啥意义，主要介绍俩新奇东西：/dev/null 和 /dev/zero</p><h2 id="devnull"><a class="markdownIt-Anchor" href="#devnull"></a> /dev/null</h2><p>在类unix系统中，/dev/null称为空设备，是一个特殊的外部设备端口，它丢弃一切写入其中的数据（但写入会提示成功），如果尝试读取它，会立即得到一个EOF。行话称为位桶（bit bucket）或者黑洞（black hole），空设备一般用于丢弃不需要的输出流，或作为输入流的空文件，这些操作一般由重定向完成。如：</p><p>cat file意思是输出file内容至标准输出（即终端）</p><p>cat file &gt; /dev/null 则输出直接丢失</p><p>cat file 2&gt;/dev/null 当file不存在时，也不会报错，因为标准错误输出重定向至位桶了。</p><p>网上有个例子：cat file 2&gt;/dev/null &gt;/dev/null 可以当做检测文本文件file而存在，但我觉得好像不太管用，因为这相当于不管file是否存在，它都不会报错，那还怎么检测file是否存在呢？还不如直接用find ./-name file</p><h2 id="devzero"><a class="markdownIt-Anchor" href="#devzero"></a> /dev/zero</h2><p>在类unix系统中，/dev/zero是一个特殊的文件，当你读它的时候，它会提供无线的空字符（null、ascii null、0x00）。其中一个典型的用法就是用它提供的字符流来覆盖信息，另一个用法就是产生一个特定大小的空白文件。</p><p>OK，上面这段是来自wiki的官方描述，实际上这玩意儿对普通用户真的没有什么作用，说是可以初始化文件，但我尝试用cat /dev/zero &gt; zero.log时发现没几秒种这个文件就被塞进去6个G的乱码，我看了下速度是6.7G/s……吓得我赶紧停掉，后来查了下，正确的用法应该是使用dd命令从/dev/zero里任意大小的块出来：</p><p>dd if=/dev/zero of=/dev/raw bs=xxx count=xxx 。</p><p>bs：输出的块的大小，单位byte，count：块的数量</p><p>如此，我们再尝试：dd if=/dev/zero of=/home/zero.log bs=1024 count=1 得到的结果就是一个1kb的空文件，cat zero.log不会打印任何内容，vim编辑进去却有很多^@符号，应该是文本格式的原因</p>]]></content>
    
    
    <categories>
      
      <category>Ops</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux-Crontab食用指南</title>
    <link href="/post/1f3c0c60.html"/>
    <url>/post/1f3c0c60.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id="crontab是啥"><a class="markdownIt-Anchor" href="#crontab是啥"></a> Crontab是啥？</h2><p>我们先来看看wiki的说法：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806195943.png" alt></p><p>再来看看官方（<a href="http://crontab.org/%EF%BC%89%E5%AF%B9crontab%E7%9A%84%E5%AE%9A%E4%B9%89%EF%BC%9A">http://crontab.org/）对crontab的定义：</a></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806195954.png" alt></p><p>大概说明了crontab命令的使用方法、参数的使用等注意事项，其实这些中文网已经有很多了。推荐一个小网站：<a href="https://tool.lu/crontab">https://tool.lu/crontab</a> 这个网站可以用来执行我们的cron表达式，以检测是否有错误。我发现这种小工具网站是真的多，而且一个比一个好，一个比一个全，真的牛皮</p><p>好了，现在我们知道了，原来crontab中文名：任务时间表。它是linux家出厂自带的，像我的云服务器（腾讯云centos7）自己就带了一个我也不知道干嘛用的cron job，百度看好像是加什么文件锁的。等以后功力足够了再去深究</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">[root@VM-<span class="hljs-number">0</span>-<span class="hljs-number">7</span>-centos ~]<span class="hljs-comment"># crontab -l</span><br>*<span class="hljs-regexp">/5 * * * * flock -xn /</span>tmp<span class="hljs-regexp">/stargate.lock -c &#x27;/u</span>sr<span class="hljs-regexp">/local/</span>qcloud<span class="hljs-regexp">/stargate/</span>admin<span class="hljs-regexp">/start.sh &gt; /</span>dev/null <span class="hljs-number">2</span>&gt;&amp;<span class="hljs-number">1</span> &amp;<span class="hljs-string">&#x27;</span><br></code></pre></td></tr></table></figure><p>还是先来看看linux自带的crontab文件是怎么定义的吧</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs ruby">[root<span class="hljs-variable">@DockerHost</span> install] cat /etc/crontab<br><span class="hljs-variable constant_">SHELL</span>=<span class="hljs-regexp">/bin/bash</span><br><span class="hljs-variable constant_">PATH</span>=<span class="hljs-regexp">/sbin:/bin</span><span class="hljs-symbol">:/usr/sbin</span><span class="hljs-symbol">:/usr/bin</span><br><span class="hljs-variable constant_">MAILTO</span>=root<br><br><span class="hljs-comment"># For details see man 4 crontabs</span><br><span class="hljs-comment"># Example of job definition:</span><br><span class="hljs-comment"># .----------------- minute (0 - 59)</span><br><span class="hljs-comment"># | .---------------hour (0 - 23)</span><br><span class="hljs-comment"># | | .------------ day of month (1 - 31)</span><br><span class="hljs-comment"># | | | ----------month (1 - 12) OR jan,feb,mar,apr...</span><br><span class="hljs-comment"># | | | | .——day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat</span><br><span class="hljs-comment"># | I I I I</span><br>* * * * * * user-name command to be executed<br></code></pre></td></tr></table></figure><p>案例</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-section"># 井号注释，不执行</span><br><span class="hljs-bullet">*</span> 表示不限制，每个时间单位都会执行1<br><span class="hljs-bullet">-</span> 表示整数列，如1-4代表1, 2, 3, 4<br>，代表指定的数，如1,4,6代表1、4、6<br>/ 代表步进值，如0-59/2代表每2分钟执行一次(?),也可用<span class="hljs-emphasis">*表示，如*</span>/3是每3个月运行指定任务<br>run-parts后面跟文件夹，目的是执行该目录下所有脚本文件<br></code></pre></td></tr></table></figure><p>非root用户创建cron: 先在家目录/home/linkdo下创建linkdocron文件，系统会生成一个副本文件linkdo在/var/spool/cron/下，但普通用户并不能直接对她读写，只能通过crontab-e来修改。官方推荐应该是使用crontab -e来修改cron job，但这种修改好像只会改动/var/spool/cron/linkdo，/home/linkdocron并不会改动，导致我crontab -e完了就crontab linkdocron一下，结果半天没改动。实际上通过crontab-e 修改后，无需重新crontab <user>cron，直接就可以运行，如果还是不能运行，就重启cron线程</user></p><p>crontab例子：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-bullet">*</span> /5 <span class="hljs-emphasis">* *</span> <span class="hljs-emphasis">* *</span>每5分钟执行一次，不限时、天、周、月<br>0,30 18-06 <span class="hljs-emphasis">* *</span> <span class="hljs-emphasis">*每天18点到6点之内，每隔半小时执行一次</span><br></code></pre></td></tr></table></figure><h2 id="注意"><a class="markdownIt-Anchor" href="#注意"></a> 注意</h2><ul><li>如果一个cron务需要定期而不是按每小时，天，周，月来执行，则需要添加/etc/cron.d目录，语法与/etc/crontab一致</li><li>crontab是由系统自动调度的，所以并不会加载任何环境变量，需要在crontab中指定任务运行所需的环境变量。一般来说，手动执行没问题，crontab执行有问题的，都是环境变量的问题</li><li>如果执行的是脚本 ， 脚本中的路径需要使用全局路径</li><li>需要用到其他变量时，需source引入所需环境变量</li><li>crontab突然失效时 可以尝试/etc/init.d/crond restart解决问题。或者查看日志看某个job有没有执行/报错tail -f /var/log/cron</li><li>crontab job分为系统级调题和用户级调度（root用户也属于用户级调度）。用户级任务调度可以通过&quot;crontab -uroot -e&quot;升级为系统及调度，或者直接将调度任务写入/etc/crontab,例如定时重后系统，需要写如/etc/crontab下，写root下是没用的</li><li>crontab中%是有特殊含义的，表示换行的意思。如果要用的话必须进行转义%,如经常用的date '+%Y%m%d’在crontab里是不会执行的，应该换成date ‘+%Y%m%d’。</li></ul>]]></content>
    
    
    <categories>
      
      <category>Ops</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Crontab</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Docker进阶-挂载-容器数据卷</title>
    <link href="/post/46cf604d.html"/>
    <url>/post/46cf604d.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id="容器数据卷"><a class="markdownIt-Anchor" href="#容器数据卷"></a> 容器数据卷</h2><p>卷技术，作用是数据共享。由于容器删除后内部修改的数据也会丢失，因此需要有个地方存储数据。 卷技术可以让容器本地产生的数据映射到本地，卷技术的本质是目录的挂载，将容器内部的目录挂载到宿主机上，实现容器持久化。包括容器间也可以共享</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">docker</span> -v 主机目录:容器目录<br><span class="hljs-comment"># 就算重启容器，映射关系也还是会存在</span><br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806195614.png" alt></p><h3 id="安装mysql"><a class="markdownIt-Anchor" href="#安装mysql"></a> 安装mysql</h3><p>navicat连接到云服务器的3305端口，映射到docker容器的3306端口，即可连接成功</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs awk">docker run -d -p <span class="hljs-number">3305</span>:<span class="hljs-number">3306</span> -v <span class="hljs-regexp">/home/my</span>sql<span class="hljs-regexp">/conf:/</span>etc<span class="hljs-regexp">/mysql/</span>conf.d -v <span class="hljs-regexp">/home/my</span>sql<span class="hljs-regexp">/data:/</span>var<span class="hljs-regexp">/lib/my</span>sql  -e MYSQL_ROOT_PASSWORD=root --name mysql01 mysql:<span class="hljs-number">5.7</span><br><br>-v:挂载卷<br><br>-e：配置环境，这里是设置root密码<br><br>本地创建数据库，数据直接是同步的。就算将容器删除，挂载到本地的数据卷中的数据也不会丢失<br></code></pre></td></tr></table></figure><h2 id="具名挂载和匿名挂载"><a class="markdownIt-Anchor" href="#具名挂载和匿名挂载"></a> 具名挂载和匿名挂载</h2><h3 id="匿名挂载"><a class="markdownIt-Anchor" href="#匿名挂载"></a> 匿名挂载</h3><p>没有给挂载点取名。在-v时没有写容器外的路径，只写了容器内的路径</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-attr">[root@VM-0-7-centos ~]</span># docker run -d -<span class="hljs-selector-tag">P</span> <span class="hljs-attr">--name</span> jmnginx -v /etc/nginx nginx<br></code></pre></td></tr></table></figure><p>可以发现，匿名挂载的外部路径，默认是在 /var/lib/docker/volumes/xxx/_data</p><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs livescript">[root@VM-0-7-centos ~]<span class="hljs-comment"># docker volume ls</span><br>DRIVER    VOLUME NAME<br>local     <span class="hljs-number">39e</span>68d440c53a251de69252c9e767a0386c88ddcf699d7ba42ec556e8c94d74b<br> <br>[root@VM-0-7-centos ~]<span class="hljs-comment"># docker ps</span><br>CONTAINER ID   IMAGE     COMMAND                  CREATED         STATUS         PORTS                                       NAMES<br><span class="hljs-number">25b</span>3bd3c330b   nginx     <span class="hljs-string">&quot;/docker-entrypoint.…&quot;</span>   <span class="hljs-number">4</span> minutes ago   Up <span class="hljs-number">4</span> minutes   <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span>:<span class="hljs-number">49153</span>-&gt;<span class="hljs-number">80</span>/tcp, :::<span class="hljs-number">49153</span>-&gt;<span class="hljs-number">80</span>/tcp     jmnginx<br> <br>[root@VM-0-7-centos ~]<span class="hljs-comment"># docker inspect jmnginx</span><br>…………<br><span class="hljs-string">&quot;Mounts&quot;</span>: [<br>            &#123;<br>                <span class="hljs-string">&quot;Type&quot;</span>: <span class="hljs-string">&quot;volume&quot;</span>,<br>                <span class="hljs-string">&quot;Name&quot;</span>: <span class="hljs-string">&quot;5940b7fbf8563daefa34a40270ac793bf2b2084d8e6702dc0c2999681542c66d&quot;</span>,<br>                <span class="hljs-string">&quot;Source&quot;</span>: <span class="hljs-string">&quot;/var/lib/docker/volumes/5940b7fbf8563daefa34a40270ac793bf2b2084d8e6702dc0c2999681542c66d/_data&quot;</span>,<br>                <span class="hljs-string">&quot;Destination&quot;</span>: <span class="hljs-string">&quot;/etc/nginx&quot;</span>,<br>                <span class="hljs-string">&quot;Driver&quot;</span>: <span class="hljs-string">&quot;local&quot;</span>,<br>                <span class="hljs-string">&quot;Mode&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>                <span class="hljs-string">&quot;RW&quot;</span>: <span class="hljs-literal">true</span>,<br>                <span class="hljs-string">&quot;Propagation&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>            &#125;<br>        ],<br>…………<br></code></pre></td></tr></table></figure><h3 id="具名挂载"><a class="markdownIt-Anchor" href="#具名挂载"></a> 具名挂载</h3><p>为挂载卷指定名字，方便查找卷，一般都是使用具名挂载</p><figure class="highlight golo"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs golo">[root<span class="hljs-meta">@VM</span><span class="hljs-number">-0</span><span class="hljs-number">-7</span>-centos _data]<span class="hljs-comment"># docker run -d -P --name nginx -v jmnginx:/etc/nginx nginx</span><br><span class="hljs-number">8052e5458</span>d216512b650455d97713e30fdb0dd31b49e22335cef8bb2a7625532<br>[root<span class="hljs-meta">@VM</span><span class="hljs-number">-0</span><span class="hljs-number">-7</span>-centos _data]<span class="hljs-comment"># docker ps</span><br>CONTAINER ID   IMAGE     COMMAND                  CREATED         STATUS         PORTS                                       NAMES<br><span class="hljs-number">8052e5458</span>d21   nginx     <span class="hljs-string">&quot;/docker-entrypoint.…&quot;</span>   <span class="hljs-number">8</span> seconds ago   Up <span class="hljs-number">6</span> seconds   <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:<span class="hljs-number">49154</span>-&gt;<span class="hljs-number">80</span>/tcp, :::<span class="hljs-number">49154</span>-&gt;<span class="hljs-number">80</span>/tcp     nginx<br> <br>[root<span class="hljs-meta">@VM</span><span class="hljs-number">-0</span><span class="hljs-number">-7</span>-centos _data]<span class="hljs-comment"># docker volume ls</span><br>DRIVER    VOLUME NAME<br><span class="hljs-keyword">local</span>     <span class="hljs-number">39e68</span>d440c53a251de69252c9e767a0386c88ddcf699d7ba42ec556e8c94d74b<br><span class="hljs-keyword">local</span>     <span class="hljs-number">5940</span>b7fbf8563daefa34a40270ac793bf2b2084d8e6702dc0c2999681542c66d<br><span class="hljs-keyword">local</span>     jmnginx<br> <br>[root<span class="hljs-meta">@VM</span><span class="hljs-number">-0</span><span class="hljs-number">-7</span>-centos _data]<span class="hljs-comment"># docker volume inspect jmnginx</span><br>[<br>    &#123;<br>        <span class="hljs-string">&quot;CreatedAt&quot;</span>: <span class="hljs-string">&quot;2021-12-05T16:57:41+08:00&quot;</span>,<br>        <span class="hljs-string">&quot;Driver&quot;</span>: <span class="hljs-string">&quot;local&quot;</span>,<br>        <span class="hljs-string">&quot;Labels&quot;</span>: <span class="hljs-literal">null</span>,<br>        <span class="hljs-string">&quot;Mountpoint&quot;</span>: <span class="hljs-string">&quot;/var/lib/docker/volumes/jmnginx/_data&quot;</span>,<br>        <span class="hljs-string">&quot;Name&quot;</span>: <span class="hljs-string">&quot;jmnginx&quot;</span>,<br>        <span class="hljs-string">&quot;Options&quot;</span>: <span class="hljs-literal">null</span>,<br>        <span class="hljs-string">&quot;Scope&quot;</span>: <span class="hljs-string">&quot;local&quot;</span><br>    &#125;<br>]<br>[root<span class="hljs-meta">@VM</span><span class="hljs-number">-0</span><span class="hljs-number">-7</span>-centos _data]<span class="hljs-comment">#</span><br></code></pre></td></tr></table></figure><h3 id="扩展"><a class="markdownIt-Anchor" href="#扩展"></a> 扩展</h3><p>为容器挂载出来的内容设置读写权限</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs gradle">[root@VM-<span class="hljs-number">0</span>-<span class="hljs-number">7</span>-centos _data]# docker run -d -P --name nginx -v jmnginx:<span class="hljs-regexp">/etc/</span>nginx:ro/rw nginx<br> <br>:ro  <span class="hljs-keyword">read</span>-only  只读，只可通诺宿主机来操作，容器内不无法操作<br>:rw  <span class="hljs-keyword">read</span> <span class="hljs-keyword">write</span> 可读写（默认）<br></code></pre></td></tr></table></figure><h1 id="在dockerfile中挂载"><a class="markdownIt-Anchor" href="#在dockerfile中挂载"></a> <strong>在DockerFile中挂载</strong></h1><p>dockerfile用于构建docker镜像的构建文件，命令脚本。docker镜像是一层层的，dockerfile也是一个个命令的。</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs dockerfile">[root@VM-<span class="hljs-number">0</span>-<span class="hljs-number">7</span>-centos docker-test-<span class="hljs-keyword">volume</span><span class="language-bash">]<span class="hljs-comment"># cat dockerfile01   #新建脚本,注意，脚本中的指令都是大写的</span></span><br><span class="hljs-keyword">FROM</span> centos<br><span class="hljs-keyword">VOLUME</span><span class="language-bash"> [<span class="hljs-string">&quot;volume01&quot;</span>,<span class="hljs-string">&quot;volume02&quot;</span>]</span><br> <br> <br><span class="hljs-keyword">CMD</span><span class="language-bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;-------------end--------&quot;</span></span><br> <br> <br><span class="hljs-keyword">CMD</span><span class="language-bash"> /bin/bash</span><br></code></pre></td></tr></table></figure><h3 id="构建镜像"><a class="markdownIt-Anchor" href="#构建镜像"></a> 构建镜像</h3><p>-f file名  -t 镜像名</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs ada">[root@VM-<span class="hljs-number">0</span>-<span class="hljs-number">7</span>-centos docker-test-volume]# docker build -f dockerfile01 -t yuanzhou/centos:<span class="hljs-number">1.0</span> .<br>Sending build context to Docker daemon  <span class="hljs-number">2.048</span>kB<br>Step <span class="hljs-number">1</span>/<span class="hljs-number">4</span> : <span class="hljs-type">FROM</span> centos<br><span class="hljs-comment">---&gt; 5d0da3dc9764</span><br>Step <span class="hljs-number">2</span>/<span class="hljs-number">4</span> : <span class="hljs-type">VOLUME</span> [<span class="hljs-string">&quot;Vvolume01&quot;</span>,<span class="hljs-string">&quot;volume02&quot;</span>]<br><span class="hljs-comment">---&gt; Running in 794cbe294f47</span><br>Removing intermediate container <span class="hljs-number">794</span>cbe294f47<br><span class="hljs-comment">---&gt; 64be4f7b9f83</span><br>Step <span class="hljs-number">3</span>/<span class="hljs-number">4</span> : <span class="hljs-type">CMD</span> echo <span class="hljs-string">&quot;-------------end--------&quot;</span><br><span class="hljs-comment">---&gt; Running in f16a4be3b1c0</span><br>Removing intermediate container f16a4be3b1c0<br><span class="hljs-comment">---&gt; e9f0e352192d</span><br>Step <span class="hljs-number">4</span>/<span class="hljs-number">4</span> : <span class="hljs-type">CMD</span> /bin/bash<br><span class="hljs-comment">---&gt; Running in 7c1a9d4a1363</span><br>Removing intermediate container <span class="hljs-number">7</span>c1a9d4a1363<br><span class="hljs-comment">---&gt; 989969f6fbad</span><br>Successfully built <span class="hljs-number">989969</span>f6fbad<br>Successfully <span class="hljs-keyword">tagged</span> yuanzhou/centos:<span class="hljs-number">1.0</span><br> <br>[root@VM-<span class="hljs-number">0</span>-<span class="hljs-number">7</span>-centos docker-test-volume]# docker images<br>REPOSITORY            TAG       IMAGE ID       CREATED         SIZE<br>yuanzhou/centos       <span class="hljs-number">1.0</span>       <span class="hljs-number">989969</span>f6fbad   <span class="hljs-number">3</span> minutes ago   <span class="hljs-number">231</span>MB<br></code></pre></td></tr></table></figure><h3 id="启动镜像"><a class="markdownIt-Anchor" href="#启动镜像"></a> 启动镜像</h3><p>这种挂载也较为常用，如果构建镜像时没有挂载，就需要手动-v挂载</p><figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs tcl">[root@VM<span class="hljs-number">-0</span><span class="hljs-number">-7</span>-centos docker-test-volume]# docker run -it yuanzhou/centos:<span class="hljs-number">1.0</span> /bin/bash<br>[root@d6afa730c9b7 /]# ls<br>volume01  bin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  <span class="hljs-keyword">proc</span><span class="hljs-title">  root</span> <span class="hljs-title"> run</span> <span class="hljs-title"> sbin</span> <span class="hljs-title"> srv</span> <span class="hljs-title"> sys</span> <span class="hljs-title"> tmp</span> <span class="hljs-title"> usr</span> <span class="hljs-title"> var</span> <span class="hljs-title"> volume02</span><br> <br>#这里的volume01和volume02就是创建镜像时自动挂载的，这种目录属于匿名目录。使用inspect可以查看宿主机的目录<br>&quot;Mounts&quot;: [<br>            &#123;<br>                <span class="hljs-string">&quot;Type&quot;</span>: <span class="hljs-string">&quot;volume&quot;</span>,<br>                <span class="hljs-string">&quot;Name&quot;</span>: <span class="hljs-string">&quot;c432ac4c1479b54b8b2248a5bd982b0d95f2909e605b0d1744bd9734c9f093f6&quot;</span>,<br>                <span class="hljs-string">&quot;Source&quot;</span>: <span class="hljs-string">&quot;/var/lib/docker/volumes/c432ac4c1479b54b8b2248a5bd982b0d95f2909e605b0d1744bd9734c9f093f6/_data&quot;</span>,<br>                <span class="hljs-string">&quot;Destination&quot;</span>: <span class="hljs-string">&quot;Vvolume01&quot;</span>,<br>                <span class="hljs-string">&quot;Driver&quot;</span>: <span class="hljs-string">&quot;local&quot;</span>,<br>                <span class="hljs-string">&quot;Mode&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>                <span class="hljs-string">&quot;RW&quot;</span>: true,<br>                <span class="hljs-string">&quot;Propagation&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>            &#125;,<br>            &#123;<br>                <span class="hljs-string">&quot;Type&quot;</span>: <span class="hljs-string">&quot;volume&quot;</span>,<br>                <span class="hljs-string">&quot;Name&quot;</span>: <span class="hljs-string">&quot;358875250c31b98b1b5ff64e17f7873f5b3ed65f75207e5f127d430ef89b5221&quot;</span>,<br>                <span class="hljs-string">&quot;Source&quot;</span>: <span class="hljs-string">&quot;/var/lib/docker/volumes/358875250c31b98b1b5ff64e17f7873f5b3ed65f75207e5f127d430ef89b5221/_data&quot;</span>,<br>                <span class="hljs-string">&quot;Destination&quot;</span>: <span class="hljs-string">&quot;volume02&quot;</span>,<br>                <span class="hljs-string">&quot;Driver&quot;</span>: <span class="hljs-string">&quot;local&quot;</span>,<br>                <span class="hljs-string">&quot;Mode&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>                <span class="hljs-string">&quot;RW&quot;</span>: true,<br>                <span class="hljs-string">&quot;Propagation&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>            &#125;<br>        ],<br></code></pre></td></tr></table></figure><h2 id="数据卷容器"><a class="markdownIt-Anchor" href="#数据卷容器"></a> 数据卷容器</h2><p>多个容器挂载同一个目录。是容器之间的数据共享</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806195757.png" alt></p><p>数据卷：挂载的目录</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs applescript">docker <span class="hljs-built_in">run</span> -<span class="hljs-keyword">it</span> <span class="hljs-comment">--name centos02 --volumes-from d6afa730c9b7 yuanzhou/centos:1.0</span><br> <br><span class="hljs-comment">--volumes-from 从第一台机器volume出来的容器，数据卷目录的是共享的，即使源容器删掉目录也不会丢失，因为文件本身是存储在宿主机上的</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Ops</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Docker</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Docker基本</title>
    <link href="/post/446df500.html"/>
    <url>/post/446df500.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h1 id="单体docker"><a class="markdownIt-Anchor" href="#单体docker"></a> 单体Docker</h1><h2 id="docker"><a class="markdownIt-Anchor" href="#docker"></a> Docker</h2><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806195111.png" alt></p><p>Docker出现的契机：解决项目中的环境问题。docker的图标：鲸鱼上放了许多集装箱，也映射了docker的核心思想——隔离。每个箱子是互相隔离的。隔离机制也可以将linux服务器利用到极致</p><p>深究历史</p><p>2010年出现dotcloud，2013年开源后使用人数增多。2014年Docker1.0发布，基于Go语言开发。Docker优势是非常轻巧，在Docker之前一般都是使用虚拟机，非常笨重。Docker是容器技术，也属于一种虚拟化技术。一般linux最核心的环境不过4MB。</p><p>Docker与VM虚拟技术</p><p>虚拟机技术缺点：资源占用多、冗余步骤多、启动慢</p><p>容器化技术：不是模拟一个完整的操作系统</p><p>差异点：</p><ol><li>传统虚拟机先虚拟出一套硬件，运行完整的操作系统，再在系统上运行软件</li><li>容器内的应用直接运行在宿主机的内容，容器本身无内核，也没有硬件，且容器间互相隔离，文件系统都是不一样的</li></ol><p>优势：</p><ol><li><p>应用更快速的交付和部署</p></li><li><ul><li>传统交付需要借助文档、安装程序</li><li>docker打包镜像后发布测试，一键运行</li></ul></li><li><p>更便捷的升级和扩缩容</p></li><li><ul><li>部署应用快捷、项目打包为镜像后扩展方便</li></ul></li><li><p>更简单的系统运维</p></li><li><ul><li>开发、测试等环境高度一致</li></ul></li><li><p>更高效的计算资源利用</p></li><li><ul><li>内核级别的虚拟化，在一台物理机上可运行多个容器实例，服务器性能充分利用</li></ul></li></ol><h2 id="docker安装"><a class="markdownIt-Anchor" href="#docker安装"></a> <strong>Docker安装</strong></h2><p>架构图：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806195138.png" alt></p><p>名词解释：</p><ol><li>镜像：相当于一个模板，通过镜像来创建容器。一个镜像可以创建多个容器</li><li>容器：通过容器可以独立运行一个或一个组应用，有启动、停止、删除等基本操作</li><li>仓库：存放镜像的地方，有共有仓库和私有仓库</li></ol><p>更换阿里云镜像地址：yum-config-manager --add-repo <a href="http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo">http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</a></p><p>安装教程（linux）：<a href="https://docs.docker.com/engine/install/centos/">https://docs.docker.com/engine/install/centos/</a></p><p>配置阿里云镜像加速（教程地址：<a href="https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors%EF%BC%89%EF%BC%9A">https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors）：</a></p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs gradle">#修改daemon配置文件<span class="hljs-regexp">/etc/</span>docker/daemon.json来使用加速器<br>sudo mkdir -p <span class="hljs-regexp">/etc/</span>docker<br>sudo tee <span class="hljs-regexp">/etc/</span>docker/daemon.json &lt;&lt;-<span class="hljs-string">&#x27;EOF&#x27;</span><br>&#123;<br>  <span class="hljs-string">&quot;registry-mirrors&quot;</span>: [<span class="hljs-string">&quot;https://1fd77tzz.mirror.aliyuncs.com&quot;</span>]<br>&#125;<br>EOF<br>sudo systemctl daemon-reload<br>sudo systemctl restart docker<br></code></pre></td></tr></table></figure><h1 id="docker命令"><a class="markdownIt-Anchor" href="#docker命令"></a> Docker命令</h1><p>工作原理</p><p>docker是一个Client-Server结构的系统，docker的守护进程运行在主机上，通过socket从客户端访问。DockerServer接收到DockerClient的指令，就会执行这个命令。docker中容器之间相互隔离，外部不能直接访问容器。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806195206.png" alt></p><p>docker比vm快的原因</p><p>vm对比dc架构：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806195217.png" alt></p><p>docker比vm少了一层Guest OS。直接利用宿主机的内核。因此在新建容器时，无需想vm一样加载一个操作系统内核，省略了这个复杂的过程，加载时间是秒级的</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806195228.png" alt></p><h3 id="帮助命令"><a class="markdownIt-Anchor" href="#帮助命令"></a> 帮助命令</h3><p>docker version 版本信息</p><p>docker info 系统和容器相关信息</p><p>docker --help 帮助 ，官网文档地址：<a href="https://docs.docker.com/engine/reference/commandline/build/">https://docs.docker.com/engine/reference/commandline/</a></p><h3 id="镜像命令"><a class="markdownIt-Anchor" href="#镜像命令"></a> 镜像命令</h3><h3 id="docker-images-查看所有本地的主机上的镜像"><a class="markdownIt-Anchor" href="#docker-images-查看所有本地的主机上的镜像"></a> docker images 查看所有本地的主机上的镜像</h3><p>-a, --all       Show all images (default hides</p><p>​            intermediate images)# 列出所有镜像</p><p>–digests     Show digests</p><p>-q, --quiet      Only show image IDs #只显示镜像ID</p><h3 id="docker-search-搜索镜像"><a class="markdownIt-Anchor" href="#docker-search-搜索镜像"></a> docker search 搜索镜像</h3><p>-f, --filter filter  Filter output based on conditions provided#过滤搜索</p><p>例如：docker search --filter=stars=5000 #寻找stars大于等于5000的镜像</p><h3 id="docker-pull-下载镜像"><a class="markdownIt-Anchor" href="#docker-pull-下载镜像"></a> docker pull 下载镜像</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">格式：docker</span> <span class="hljs-string">pull</span> <span class="hljs-string">镜像名[:tag]（版本）</span><br><span class="hljs-attr">Using default tag:</span> <span class="hljs-string">latest</span> <span class="hljs-comment">#如果不写tag则是默认mlatest</span><br><span class="hljs-attr">latest:</span> <span class="hljs-string">Pulling</span> <span class="hljs-string">from</span> <span class="hljs-string">library/mysql</span><br><span class="hljs-attr">a10c77af2613:</span> <span class="hljs-string">Pull</span> <span class="hljs-string">complete</span>  <span class="hljs-comment">#分层下载，docker images的核心：联合文件系统</span><br><span class="hljs-attr">b76a7eb51ffd:</span> <span class="hljs-string">Pull</span> <span class="hljs-string">complete</span>  <span class="hljs-comment">#当下载其他镜像时，若有相同层的镜像，则不会重新下载，直接共用</span><br><span class="hljs-attr">258223f927e4:</span> <span class="hljs-string">Pull</span> <span class="hljs-string">complete</span><br><span class="hljs-attr">2d2c75386df9:</span> <span class="hljs-string">Pull</span> <span class="hljs-string">complete</span><br><span class="hljs-attr">63e92e4046c9:</span> <span class="hljs-string">Pull</span> <span class="hljs-string">complete</span><br><span class="hljs-attr">f5845c731544:</span> <span class="hljs-string">Pull</span> <span class="hljs-string">complete</span><br><span class="hljs-attr">bd0401123a9b:</span> <span class="hljs-string">Pull</span> <span class="hljs-string">complete</span><br><span class="hljs-attr">3ef07ec35f1a:</span> <span class="hljs-string">Pull</span> <span class="hljs-string">complete</span><br><span class="hljs-attr">c93a31315089:</span> <span class="hljs-string">Pull</span> <span class="hljs-string">complete</span><br><span class="hljs-attr">3349ed800d44:</span> <span class="hljs-string">Pull</span> <span class="hljs-string">complete</span><br><span class="hljs-attr">6d01857ca4c1:</span> <span class="hljs-string">Pull</span> <span class="hljs-string">complete</span><br><span class="hljs-attr">4cc13890eda8:</span> <span class="hljs-string">Pull</span> <span class="hljs-string">complete</span><br><span class="hljs-attr">Digest:</span> <span class="hljs-string">sha256:aeecae58035f3868bf4f00e5fc623630d8b438db9d05f4d8c6538deb14d4c31b</span> <span class="hljs-comment">#签名</span><br><span class="hljs-attr">Status:</span> <span class="hljs-string">Downloaded</span> <span class="hljs-string">newer</span> <span class="hljs-string">image</span> <span class="hljs-string">for</span> <span class="hljs-string">mysql:latest</span> <br><span class="hljs-string">docker.io/library/mysql:latest</span>  <span class="hljs-comment">#真实地址，docker pull mysql 等价于docker pull docker.io/library/mysql:latest</span><br></code></pre></td></tr></table></figure><h3 id="docker-rmi-删除镜像-rm代表删除i代表image"><a class="markdownIt-Anchor" href="#docker-rmi-删除镜像-rm代表删除i代表image"></a> docker rmi 删除镜像 rm代表删除，i代表image</h3><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nsis">-f, --<span class="hljs-literal">force</span>      <span class="hljs-literal">Force</span> removal of the image <span class="hljs-comment">#强制删除镜像</span><br></code></pre></td></tr></table></figure><p>例如：</p><p>删除指定镜像：docker rmi -f ID/image名，</p><p>删除全部镜像：docker rmi -f $(docker images -aq)</p><h2 id="容器命令有镜像才可以创建容器"><a class="markdownIt-Anchor" href="#容器命令有镜像才可以创建容器"></a> 容器命令（有镜像才可以创建容器）</h2><h3 id="docker-run-启动容器"><a class="markdownIt-Anchor" href="#docker-run-启动容器"></a> docker run 启动容器</h3><p>先在本机寻找镜像，找不到则去dockerHub上下载，还找不到就报错，找到了就下载到本地，并使用</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs stylus">docker run <span class="hljs-selector-attr">[可选参数]</span> image<br><span class="hljs-attr">--name</span>=<span class="hljs-string">&quot;Name&quot;</span> 容器名字，用于区分容器<br>-d                        后台方式运行<br>-it                        使用交互方式运行，进入容器查看内容<br>-<span class="hljs-selector-tag">p</span>                        使用容器的端口，-<span class="hljs-selector-tag">p</span> <span class="hljs-number">8080</span>:<span class="hljs-number">8080</span><br>        -<span class="hljs-selector-tag">p</span> ip:主机端口:容器端口<br>        -<span class="hljs-selector-tag">p</span> 主机端口:容器端口（常用）<br>        -<span class="hljs-selector-tag">p</span> 容器端口<br>            容器端口<br>-P（大写）    随机指定端口<br></code></pre></td></tr></table></figure><figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs tcl">启动并进入镜像，交互工具使用bash<br>[root@VM<span class="hljs-number">-0</span><span class="hljs-number">-7</span>-centos ~]# docker run -it centos /bin/bash  <br>[root@<span class="hljs-number">2</span>b902d8d2492 /]# ls  #镜像内部是一个并不太完整的centos系统，很多命令是没有的<br>bin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  <span class="hljs-keyword">proc</span><span class="hljs-title">  root</span> <span class="hljs-title"> run</span> <span class="hljs-title"> sbin</span> <span class="hljs-title"> srv</span> <span class="hljs-title"> sys</span> <span class="hljs-title"> tmp</span> <span class="hljs-title"> usr</span> <span class="hljs-title"> var</span><br></code></pre></td></tr></table></figure><h3 id="exit-退出至主机"><a class="markdownIt-Anchor" href="#exit-退出至主机"></a> exit 退出至主机</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-keyword">exit</span>    直接停止容器并退出<br>Ctrl + P + Q 容器不停止<br>[root@<span class="hljs-number">2</span>b902d8d2492 /]<span class="hljs-comment"># exit</span><br><span class="hljs-keyword">exit</span><br>[root@VM-<span class="hljs-number">0</span>-<span class="hljs-number">7</span>-centos ~]<span class="hljs-comment"># ls /</span><br>bin  boot  data  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var<br>[root@VM-<span class="hljs-number">0</span>-<span class="hljs-number">7</span>-centos ~]<span class="hljs-comment">#</span><br></code></pre></td></tr></table></figure><h3 id="docker-ps-列出容器"><a class="markdownIt-Anchor" href="#docker-ps-列出容器"></a> docker ps 列出容器</h3><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs diff"><span class="hljs-deletion">-a    列出当前正在运行的容器和历史运行过的容器</span><br><span class="hljs-deletion">-n=?  列出最近创建的容器 ?为个数</span><br><span class="hljs-deletion">-q    只显示容器编号</span><br></code></pre></td></tr></table></figure><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs autoit">[root<span class="hljs-symbol">@VM</span><span class="hljs-number">-0</span><span class="hljs-number">-7</span>-centos ~]<span class="hljs-meta"># docker ps</span><br>CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES<br>[root<span class="hljs-symbol">@VM</span><span class="hljs-number">-0</span><span class="hljs-number">-7</span>-centos ~]<span class="hljs-meta"># docker ps -a</span><br>CONTAINER ID   IMAGE          COMMAND       CREATED         STATUS                     PORTS     NAMES<br><span class="hljs-number">2</span>b902d8d2492   centos         <span class="hljs-string">&quot;/bin/bash&quot;</span>   <span class="hljs-number">3</span> minutes ago   Exited (<span class="hljs-number">0</span>) <span class="hljs-number">2</span> minutes ago             vibrant_torvalds<br><span class="hljs-number">184</span>d14eb101f   feb5d9fea6a5   <span class="hljs-string">&quot;/hello&quot;</span>      <span class="hljs-number">8</span> days ago      Exited (<span class="hljs-number">0</span>) <span class="hljs-number">8</span> days ago                stoic_fermi<br>[root<span class="hljs-symbol">@VM</span><span class="hljs-number">-0</span><span class="hljs-number">-7</span>-centos ~]<span class="hljs-meta">#</span><br></code></pre></td></tr></table></figure><h3 id="docker-rm-删除容器"><a class="markdownIt-Anchor" href="#docker-rm-删除容器"></a> docker rm 删除容器</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs powershell">docker <span class="hljs-built_in">rm</span> 容器名 删除指定容器，不能删除正在运行的<br>docker <span class="hljs-built_in">rm</span> <span class="hljs-operator">-f</span> 强制删除容器<br>docker <span class="hljs-built_in">rm</span> <span class="hljs-operator">-f</span> <span class="hljs-variable">$</span>( docker <span class="hljs-built_in">ps</span> <span class="hljs-literal">-aq</span> ) 强制删除所有容器，等同于docker <span class="hljs-built_in">ps</span> <span class="hljs-literal">-a</span> <span class="hljs-literal">-q</span> | xargs <span class="hljs-built_in">rm</span> 使用管道删除<br></code></pre></td></tr></table></figure><h1 id="容器基本操作命令"><a class="markdownIt-Anchor" href="#容器基本操作命令"></a> 容器基本操作命令</h1><p>容器的启动、重启、停止和强制停止</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker start[ -i] <span class="hljs-built_in">id</span> <br>docker restart <span class="hljs-built_in">id</span><br>docker stop <span class="hljs-built_in">id</span><br>docker <span class="hljs-built_in">kill</span> <span class="hljs-built_in">id</span><br></code></pre></td></tr></table></figure><h2 id="其他命令"><a class="markdownIt-Anchor" href="#其他命令"></a> 其他命令</h2><h3 id="后台启动容器"><a class="markdownIt-Anchor" href="#后台启动容器"></a> 后台启动容器</h3><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs autoit">当使用后台启动容器、且容器创建后没有对外的服务时（如nginx），创建后就会立刻停止容器。所以容器使用后台启动时，一定要有一个前台进程<br>[root<span class="hljs-symbol">@VM</span><span class="hljs-number">-0</span><span class="hljs-number">-7</span>-centos ~]<span class="hljs-meta"># docker run -d centos</span><br><span class="hljs-number">41730</span>bcd96cf85f682b13b2346ef6701868981f68d4c4c2e0b4930c02e17a874<br>[root<span class="hljs-symbol">@VM</span><span class="hljs-number">-0</span><span class="hljs-number">-7</span>-centos ~]<span class="hljs-meta"># docker ps</span><br>CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES<br>[root<span class="hljs-symbol">@VM</span><span class="hljs-number">-0</span><span class="hljs-number">-7</span>-centos ~]<span class="hljs-meta"># docker ps -a</span><br>CONTAINER ID   IMAGE     COMMAND       CREATED         STATUS                     PORTS     NAMES<br><span class="hljs-number">41730</span>bcd96cf   centos    <span class="hljs-string">&quot;/bin/bash&quot;</span>   <span class="hljs-number">8</span> seconds ago   Exited (<span class="hljs-number">0</span>) <span class="hljs-number">7</span> seconds ago             eager_gauss<br><br>注意，这样是正常的。具体原因不详：docker <span class="hljs-built_in">run</span> -d --name nginx74 -p <span class="hljs-number">7474</span>:<span class="hljs-number">80</span> nginx<br></code></pre></td></tr></table></figure><h3 id="查看日志"><a class="markdownIt-Anchor" href="#查看日志"></a> 查看日志</h3><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">docker</span> logs -tf --tail <span class="hljs-number">10</span> 容器ID  查看最后<span class="hljs-number">10</span>条实时日志<br><span class="hljs-attribute">docker</span> logs -tf 容器ID  查看所有日志、实时<br></code></pre></td></tr></table></figure><h3 id="查看容器中的进程"><a class="markdownIt-Anchor" href="#查看容器中的进程"></a> 查看容器中的进程</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs awk">[root@VM-<span class="hljs-number">0</span>-<span class="hljs-number">7</span>-centos ~]<span class="hljs-comment"># docker top d3b2db3e0491</span><br>UID             PID             PPID           C         STIME               TTY             TIME        CMD<br>root            <span class="hljs-number">15252</span>           <span class="hljs-number">15234</span>          <span class="hljs-number">0</span>         <span class="hljs-number">21</span>:<span class="hljs-number">13</span>               ?               <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>    <span class="hljs-regexp">/bin/</span>sh -c <span class="hljs-keyword">while</span> true;<span class="hljs-keyword">do</span> echo yuanzhou;sleep <span class="hljs-number">2</span>;done<br>root            <span class="hljs-number">28124</span>           <span class="hljs-number">15252</span>          <span class="hljs-number">0</span>         <span class="hljs-number">21</span>:<span class="hljs-number">24</span>               ?               <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>    <span class="hljs-regexp">/usr/</span>bin<span class="hljs-regexp">/coreutils --coreutils-prog-shebang=sleep /u</span>sr<span class="hljs-regexp">/bin/</span>sleep <span class="hljs-number">2</span><br></code></pre></td></tr></table></figure><h3 id="查看镜像元数据"><a class="markdownIt-Anchor" href="#查看镜像元数据"></a> 查看镜像元数据</h3><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs gradle">docker <span class="hljs-keyword">inspect</span> 容器ID<br>[<br>    &#123;<br>        <span class="hljs-string">&quot;Id&quot;</span>: <span class="hljs-string">&quot;d3b2db3e0491e4caa4434343c2c8860db8442c6ac03295b46f7d679e1180066f&quot;</span>,<br>        <span class="hljs-string">&quot;Created&quot;</span>: <span class="hljs-string">&quot;2021-11-30T13:13:56.884601581Z&quot;</span>,<br>        <span class="hljs-string">&quot;Path&quot;</span>: <span class="hljs-string">&quot;/bin/sh&quot;</span>,<br>        <span class="hljs-string">&quot;Args&quot;</span>: [<br>            <span class="hljs-string">&quot;-c&quot;</span>,<br>            <span class="hljs-string">&quot;while true;do echo yuanzhou;sleep 2;done&quot;</span><br>        ],<br>        <span class="hljs-string">&quot;State&quot;</span>: &#123;<br>            <span class="hljs-string">&quot;Status&quot;</span>: <span class="hljs-string">&quot;running&quot;</span>,<br>………………<br></code></pre></td></tr></table></figure><h3 id="进入当前正在运行的容器"><a class="markdownIt-Anchor" href="#进入当前正在运行的容器"></a> 进入当前正在运行的容器</h3><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript">docker exec -<span class="hljs-keyword">it</span> ID bashShell 开启一个新的终端，可以在里面操作（常用）<br></code></pre></td></tr></table></figure><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs gradle">[root@VM-<span class="hljs-number">0</span>-<span class="hljs-number">7</span>-centos ~]# docker exec -it d3b2db3e0491 <span class="hljs-regexp">/bin/</span>bash<br>[root@d3b2db3e0491 /]# ps -ef<br>UID        PID  PPID  C STIME TTY          TIME CMD<br>root         <span class="hljs-number">1</span>     <span class="hljs-number">0</span>  <span class="hljs-number">0</span> <span class="hljs-number">13</span>:<span class="hljs-number">13</span> ?        <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> <span class="hljs-regexp">/bin/</span>sh -c <span class="hljs-keyword">while</span> <span class="hljs-keyword">true</span>;<span class="hljs-keyword">do</span> echo yuanzhou;sleep <span class="hljs-number">2</span>;done<br>root      <span class="hljs-number">1264</span>     <span class="hljs-number">0</span>  <span class="hljs-number">0</span> <span class="hljs-number">13</span>:<span class="hljs-number">55</span> pts<span class="hljs-regexp">/0    00:00:00 /</span>bin/bash<br>root      <span class="hljs-number">1279</span>     <span class="hljs-number">1</span>  <span class="hljs-number">0</span> <span class="hljs-number">13</span>:<span class="hljs-number">55</span> ?        <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> <span class="hljs-regexp">/usr/</span>bin<span class="hljs-regexp">/coreutils --coreutils-prog-shebang=sleep /u</span>sr<span class="hljs-regexp">/bin/</span>sleep <span class="hljs-number">2</span><br>root      <span class="hljs-number">1280</span>  <span class="hljs-number">1264</span>  <span class="hljs-number">0</span> <span class="hljs-number">13</span>:<span class="hljs-number">55</span> pts/<span class="hljs-number">0</span>    <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> ps -ef<br></code></pre></td></tr></table></figure><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arduino">docker attach ID 进入容器正在执行的终端，不启动新进程，不常用<br></code></pre></td></tr></table></figure><h3 id="从容器内拷贝文件到主机"><a class="markdownIt-Anchor" href="#从容器内拷贝文件到主机"></a> 从容器内拷贝文件到主机</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs awk">[root@VM-<span class="hljs-number">0</span>-<span class="hljs-number">7</span>-centos ~]<span class="hljs-comment"># docker exec -it 17a7dca3d597 /bin/bash</span><br>[root@<span class="hljs-number">17</span>a7dca3d597 /]<span class="hljs-comment"># cd</span><br>[root@<span class="hljs-number">17</span>a7dca3d597 ~]<span class="hljs-comment"># ls</span><br>anaconda-ks.cfg  anaconda-post.log  original-ks.cfg  yuanhou.sh<br>[root@<span class="hljs-number">17</span>a7dca3d597 ~]<span class="hljs-comment"># exit</span><br><span class="hljs-keyword">exit</span><br>[root@VM-<span class="hljs-number">0</span>-<span class="hljs-number">7</span>-centos ~]<span class="hljs-comment"># docker cp 17a7dca3d597:/root/yuanhou.sh /root/   #与scp写法类似</span><br>[root@VM-<span class="hljs-number">0</span>-<span class="hljs-number">7</span>-centos ~]<span class="hljs-comment"># ll</span><br>总用量 <span class="hljs-number">1340</span><br>-rw-r--r-- <span class="hljs-number">1</span> root root <span class="hljs-number">1362341</span> <span class="hljs-number">11</span>月 <span class="hljs-number">29</span> <span class="hljs-number">22</span>:<span class="hljs-number">25</span> single_table.sql<br>drwxr-xr-x <span class="hljs-number">3</span> root root    <span class="hljs-number">4096</span> <span class="hljs-number">9</span>月  <span class="hljs-number">17</span> <span class="hljs-number">22</span>:<span class="hljs-number">43</span> test<br>-rw-r--r-- <span class="hljs-number">1</span> root root      <span class="hljs-number">16</span> <span class="hljs-number">11</span>月 <span class="hljs-number">30</span> <span class="hljs-number">22</span>:<span class="hljs-number">18</span> yuanhou.sh<br></code></pre></td></tr></table></figure><h3 id="查看docker的cpu状态"><a class="markdownIt-Anchor" href="#查看docker的cpu状态"></a> 查看docker的CPU状态</h3><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">docker stats</span><br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806195355.png" alt></p><p>使用docker安装nginx、tomcat</p><p>注：容器中的命令较少，且tomcat中的镜像是保证最小可运行的镜像，连webapps都需要从其他目录copy过来</p><p>安装elasticsearch:</p><p>docker run -d --name elasticsearch -p 9200:9200 -p 9300:9300 -e ES_JAVA_OPTS=“-Xms64m -xmx512m” -e “discovery.type=single-node” elasticsearch:7.6.2 /bin/bash</p><p>[root@VM-0-7-centos ~]# curl localhost:9200</p><p>{</p><p>“name” : “dda2ff33a70e”,</p><p>“cluster_name” : “docker-cluster”,</p><p>“cluster_uuid” : “ECsYrnfeTl-hxGllhDXSvg”,</p><p>“version” : {</p><p>“number” : “7.6.2”,</p><p>“build_flavor” : “default”,</p><p>“build_type” : “docker”,</p><p>“build_hash” : “ef48eb35cf30adf4db14086e8aabd07ef6fb113f”,</p><p>“build_date” : “2020-03-26T06:34:37.794943Z”,</p><p>“build_snapshot” : false,</p><p>“lucene_version” : “8.4.0”,</p><p>“minimum_wire_compatibility_version” : “6.8.0”,</p><p>“minimum_index_compatibility_version” : “6.0.0-beta1”</p><p>},</p><p>“tagline” : “You Know, for Search”</p><p>}</p><p>[root@VM-0-7-centos ~]#</p><p>ES+kibna：数据可视化，涉及到两个容器的网络连接。</p><p>安装docker可视化面板portainer(一般不会用)</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gradle">docker run -d -p <span class="hljs-number">8088</span>:<span class="hljs-number">9000</span> --restart=always -v <span class="hljs-regexp">/var/</span>run<span class="hljs-regexp">/docker.sock:/</span>var<span class="hljs-regexp">/run/</span>docker.sock --privileged=<span class="hljs-keyword">true</span> portainer/portainer<br></code></pre></td></tr></table></figure><p>注：针对容器启动后就停止有两种可能，一种是容器内部没有前台进程，如nginx这种，启动之后就会立刻退出。还有一种是ela这种需要超大内存的容器，启动之后直接把一核1G内存的云主机CPU挤爆了，这种就需要对其资源占用做限制，如添加 -e ES_JAVA_OPTS=“-Xms64m -xmx512m” 以限制jvm的资源</p><h1 id="docker镜像"><a class="markdownIt-Anchor" href="#docker镜像"></a> Docker镜像</h1><p>联合文件系统：UFS是一种分层、轻量级、高性能文件系统，Union文件系统是镜像的基础，联合加载会把各层文件系统叠加起来，最终文件系统会包含所有底层文件和目录</p><h2 id="镜像加载原理"><a class="markdownIt-Anchor" href="#镜像加载原理"></a> 镜像加载原理</h2><p>bootfs包含加载系统，镜像的最底层。与典型的linux是一样的，包含boot加载器和内核，当boot加载完成后，整个内核都在内存中，此时内存的使用权就由boofs转交给内核，系统也会卸载bootfs</p><p>rootfs：在bootfs之上，包含/dev、/proc、/etc等标准目录，就是不同操作系统发行版，如乌班图、centos等</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806195421.png" alt></p><p>Docker进项都是只读的，当容器启动时，一个新的可写层被加载到镜像的顶部，这一层就是通常说的容器层，容器之下的都叫镜像层</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806195434.png" alt></p><h3 id="commit镜像"><a class="markdownIt-Anchor" href="#commit镜像"></a> commit镜像</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css">docker commit 提交容器称为一个新副本<br>-m 描述信息<br>-<span class="hljs-selector-tag">a</span> 作者 容器id 目标镜像名：<span class="hljs-selector-attr">[tag]</span> <br></code></pre></td></tr></table></figure><p>修改原有镜像后，通过docker commit -m xxx -a xxx打包成一个新的镜像。因此如果想要保存一个容器当前的状态，必须通过commit来提交，获得新的镜像。类似虚拟机中的快照</p>]]></content>
    
    
    <categories>
      
      <category>Ops</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Docker</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MySQL单表查询的成本</title>
    <link href="/post/8647cf5f.html"/>
    <url>/post/8647cf5f.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>存储引擎将数据存储在磁盘中，查询数据时会选择合适的执行计划将数据查询，执行计划的选择取决于SQL语句执行的成本。而当我们在讨论查询的成本时，一般有两部分：</p><ul><li>I/O成本：查询时需要将磁盘上的数据加载到内存中。这个过程损耗的时间即<strong>I/O成本</strong></li><li>CPU成本：读取记录、检测记录是否满足搜索条件、排序等操作的时间为<strong>CPU成本</strong></li></ul><p>在操作系统中，I/O和CPU因为效率的不同，计算成本的单位也不一样。MySQL规定读取一个页面花费的成本为1.0，读取记录等操作的成本是0.2。（加：优化器将读取一个扫描区间和执行一次回表的的I/O成本定为一样的，都是1.0）</p><p><strong>基于成本的优化步骤</strong></p><p>mysql查询前的步骤：</p><p>根据搜索条件<strong>找出所有可能使用的索引</strong>。对于B+树索引来说，只要索引列和常数使用连接符号（=、IN、&gt;、IS NULL、LIKE等）连接起来，就会产生扫描区间。一个查询中可能使用到的索引称之为possible keys。如下图查询SQL语句的执行计划中，possible_keys为NULL</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806194837.png" alt></p><p><strong>计算全表扫描的代价</strong>。执行SHOW TABLE STATUS LIKE ‘表名’;即可查询到当前表的统计信息，其中可以看到<strong>rows</strong>记录条数（估计值，偏高）和<strong>Data_length</strong>所占空间字节数。Data_length值可以大概计算出该表在表空间中<strong>所占用的页的数量</strong>，从而推导出I/O成本，而rows值可以算出CPU成本，相加即可得出全表扫描的总成本。（忽略了内节点成本，因为层级本就不高）</p><p><strong>计算使用不同索引执行查询的代价</strong>。MySQL优化器会先分析使用唯一二级索引的成本，再分析使用普通索引的成本。既然是二级索引，必然是要回表的。所以计算成本时，主要计算两种：</p><ul><li><ul><li><p>计算<strong>扫描区间的数量</strong></p><ul><li>不管某个扫描区间的二级索引占用了多少页面。优化器粗略的定义：读取一个扫描区间的I/O成本与一个页的I/O成本相同。</li></ul></li><li><p>计算<strong>需要回表的记录数量</strong></p></li><li><ul><li><p>即某个扫描区间的记录数量，也就是某个搜索条件在二级索引所包含的记录数。过程如下：</p><ul><li><p>找到条件符合的第一条记录，，为区间最左记录，此过程非常快，性能忽略不记</p></li><li><p>找到最后一条满足条件的记录，为区间最右记录，此过程非常快，性能忽略不记</p></li><li><p>最后算出具体的记录数量，也分两种情况：</p></li><li><ul><li>如果最左记录与最右记录距离相隔不远（5.7版本为&lt;=10个页面），就可以精确算出记录条数。距离通过数据页中的PAGE_N_RECS属性（记录当前页面用户记录数量）来算出，直接遍历即可。</li><li>如果最左与最右距离相隔较远，则需要顺着最左记录向右读10个页面，计算平均每页的记录，然后<strong>用平均值与最左最右记录之间的页面数量相乘</strong>。最左最右记录之间的页面数量，可以在他们的共同父节点（目录项记录页）中统计两条记录之间相隔几条记录。</li></ul></li></ul></li></ul></li><li><p>拿到扫描区间的二级记录数量时，需要根据这些记录的对应的主键去聚簇索引<strong>执行回表</strong>。那执行一次回表多大成本呢？这里规定是相当于一次访问页面。即1.0，因此二级索引扫描区间中有几条记录，就需要进行多少次I/O。</p></li><li><p>回表后得到完整的用户记录，再去<strong>匹配其他搜索条件是否成立</strong>。扫描每条记录所用的成本是CPU成本，上面已经说过了是2.0。</p></li><li><p>最后，将<strong>所有成本相加</strong>。即：I/O成本+CPU成本=（扫描区间的数量+预估的二级索引记录数量）+（读取二级索引记录的成本+读取并检测回表后聚簇索引记录的成本）=总成本。</p></li></ul></li></ul><p>对比执行方案，取成本最低者执行</p>]]></content>
    
    
    <categories>
      
      <category>Ops</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MySQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MySQL查询的本质——单表与多表的查询方法</title>
    <link href="/post/ee7a70c8.html"/>
    <url>/post/ee7a70c8.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p><strong>单表查询</strong></p><p>单表查询的语句实际上是一种声明式的语法，只是告诉MySQL要获取的数据符合哪些规则，至于具体的执行方式是MySQL自己来定。针对不同的场景，也有不同的执行计划， MySQL基于开销(cost)的优化器策略，哪种执行计划开销更低，就意味着性能更好，速度更快，就选择哪一种。以下是执行计划的类型：</p><p><strong>const</strong></p><p>通过<strong>主键</strong>或者<strong>唯一二级索引</strong>与常数的<strong>等值比较</strong>来定位一条记录，是最快的执行方式。主键定位直接返回，而唯一二级索引只需查询一次+回表一次即可返回</p><p><strong>ref</strong></p><p>较为常见的，在建立二级索引后直接使用其为等值查询条件。因为是等值的，索引会形成单点扫描区间。这种方法称为ref，规则是：搜索条件为<strong>二级索引列</strong>与<strong>常数</strong>进行<strong>等值比较</strong>，形成的扫描区间为<strong>单点扫描区间</strong>，采用二级索引来执行查询。这种方式的缺点就是每查到一次就回表一次，消耗大。</p><ul><li>且当二级索引列允许存储null时，都是用此ref方式访问。</li><li>ref允许最左匹配机制，即最左连续列匹配联合索引，就可以使用ref</li><li>当查询条件<strong>不为等值时不能用ref</strong></li></ul><p>（另外：在多表查询中，对被驱动表的主键或者不允许存储NULL值的唯一二级索引进行等值查找，使用的方法称为eq_ref）</p><p><strong>ref_or_null</strong></p><p>比ref多扫描了一些值为null的二级索引记录</p><p><strong>range</strong></p><p>使用索引执行查询时，对应的扫描区间为<strong>若干个单点扫描区间</strong>或者<strong>范围扫描区间</strong>。即包含多个单点扫描区间的查询条件，包含一个或全表扫描都不能称为range</p><p><strong>index</strong></p><p>直接<strong>扫描全部二级索引记录</strong>，且查询结果包含在索引列中，无需回表操作。即索引覆盖，因为二级索引比聚簇索引是要小很多的，就算全部扫描也不会消耗很多资源</p><p><strong>all</strong></p><p>全表扫描，适用于所有查询，但缺点就是慢</p><p>注意：</p><p>一般来说，具体使用哪种方法来执行，是MySQL中优化器的工作，它会访问表中少量数据获等方式，<strong>分析出多种执行计划中成本最小</strong>的来查询。</p><p>一般来说，使用二级索引查询时，当拿到匹配的二级记录后，就算还有其他匹配条件，也会先根据结果（主键）执行回表操作，再检测该记录是否满足其他条件，满足则发送给客户端，不满足则忽略。</p><p><strong>index_merge</strong></p><p>索引合并。使用多个索引来完成一次查询，有以下三种方式：</p><ul><li><strong>Intersection索引合并</strong></li></ul><p>举个栗子：SELECT * FROM sing_table WHERE key1 = ‘a’ AND key3 = ‘b’;</p><p>一共有四种方式可以执行该查询：</p><ol><li><ol><li>首先，是全表就不谈了，慢。</li><li>其次，是使用key1的索引查询，则扫描区间为[‘a’,‘a’]，查询到之后立刻回表，再匹配key3。</li><li>然后，是按照key3的索引查询，同样的则扫描区间为[‘b’,‘b’]，查询到之后立刻回表，再匹配key1</li><li>最后，同时使用key1和key3的索引查询。在key1索引中扫描出匹配key1=a的记录，在key3索引中扫描出匹配key1=b的记录。由于在普通二级索引中，重复的索引值会按照主键来排序。所以在这个执行计划中，使用各自的索引扫描出来的记录也是主键排序的。又因为这里使用了 AND，需要查询两者条件都匹配的结果，所以<strong>找出两者查询的结果中主键相同的记录</strong>，再使用这些相同的主键<strong>一并执行回表</strong>，这样可能会省下很多回表带来的开销。这就是Intersection索引合并，它<strong>要求二级索引是排序的</strong>，也就是说我们的查询条件必须是等值的，只有等值才会排序。如果不使用等值条件，则不会使用Intersection索引合并（相当于各自使用ref，最后取重复集）</li></ol></li></ol><p>注意：如果条件中含有主键索引，则并不会扫描主键索引，而是和非主键索引一起形成等效的扫描区间。</p><ul><li><strong>Union索引合并</strong></li></ul><p>再举个栗子：SELECT * FROM sing_table WHERE key1 = ‘a’ OR key3 = ‘b’;</p><p>和之前的例子差不多，只是AND换成了OR，但完全不同了，你肯定不能单独使用其中一个索引来查，否则会先查询二级索引所有记录，再全部回表，灾难性的回表代表巨大消耗！所以要么你全表查询，要么你就是用Union索引合并：</p><p>在key1索引中扫描出匹配key1=a的记录，在key3索引中扫描出匹配key1=b的记录。因为这里用的是 OR ，只要匹配一个条件即可返回，所以只要<strong>根据两个结果集进行去重</strong>，把重复的ID去掉，接着就可以<strong>拿着剩下的ID区一并回表</strong>了，其实和Intersection索引是类似的，只不过它要的是重复的记录，这里要的是去掉重复的记录。同样，只有等值比较才可以使用这种Union索引合并。（相当于各自ref，然后去重）</p><ul><li><strong>Sort-Union索引合并</strong></li></ul><p>看这个名字其实就是比Union新增了一个Sort，那么它在什么地方加了排序呢？我们知道使用Union的条件是二级索引记录必须是按主键排序的，也就是说在SQL语句中，必须是等值的，类似上面的：key1 = ‘a’ OR key3 = ‘b’; 但如果是这种：key1 &lt; ‘a’ OR key3 &gt; ‘z’; 呢？使用Sort-Union排序可以先从key1索引中获得条件为“key1 &lt; ‘a’ ”的二级索引记录，并<strong>对其根据主键进行排序</strong>；再从key3索引中获得条件为“key3 &gt; ‘z’ ”的二级索引记录，也对其根据主键进行排序。如此，又变成Union索引合并了。又可以减少很多回表操作。这种方法比普通的Union<strong>多了一层各自索引的主键值的排序</strong>，也称Sort-Union索引合并。</p><p>注意：只有Sort-Union而没有Sort-Intersecion的原因作者也有解释，但具体没怎么看明白：如果加入Sort-Intersecion，就需要<strong>为大量的二级索引记录按照主键值进行排序</strong>，这个成本可能比使用单个二级索引执行查询的成本都要高，所以mysql没有引入。</p><p>在MySQL中执行计划使用EXPLAIN关键字查看，可以查看 SELECT,DELETE,INSERT,REPLACE,UPDATE语句的查询计划，查询出来的执行计划有两种查看方式（MySQL5.7+），：</p><ul><li>表格格式：EXPLAIN SQL</li><li>json格式：EXPLAIN FORMAT =JSON SQL</li></ul><p>例：表格：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806194506.png" alt></p><p>json:</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806194518.png" alt></p><p><strong>多表查询</strong></p><p>MySQL是关系型数据库，一个非常重要的概念就是Join 。表关联的实质其实就是把各个表的记录都取出来依此匹配，并把匹配后的组合发给客户端。如果不加条件限制，给到客户端的记录将是几个表的乘积，也称<strong>笛卡尔积</strong>，因为需要每个表的每一条记录都与另一个表的每条记录相互匹配。这个过程有点像大规模的回表操作，或者代码中的嵌套for循环。</p><p>因此，我们一般在连接查询时并不会全部匹配，而是会加上限制条件。这里的限制条件一般只有两种情况：</p><ul><li>单表限制条件。如：key=3或key&gt;1或key&lt;4。只针对key所在的表的限制条件</li><li>多表限制条件。如：t1.m1=t2.m1、t1.n1&lt; t2.n2。就针对了t1和t2两个表的限制条件。</li></ul><p>在这里有必要提一下基本连接查询过程：假设有表t1和t2，t1作为驱动表，t2作为被驱动表。首先在t1表中，按照对应的限制条件，使用成本最小的单表查询方法去查询。每次在t1查询到一条记录，都需要根据这条记录去t2表查询匹配的记录。即<strong>驱动表只需要查询一次，而被驱动表可能需要访问多次</strong>。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806194532.png" alt></p><p>这种方式有个缺点，如果驱动表的某条记录，没有在被驱动表中找到相应记录，那么就连驱动表的那条记录也不会查询出来，这样就导致查询出来的数据有缺失。为了解决该问题，引出了连接另一个概念：外连接。<strong>在外连接中，即时驱动表中的记录在被驱动表中没有匹配的记录，也仍然需要加入到结果集</strong>。</p><p>连接查询也需要有过滤条件，单表查询中使用WHERE，连接查询中的WHERE可能是不够用的。因此在连接查询中，存在着两种过滤条件：</p><ul><li><p>WHERE：<strong>不分内外连接</strong>，只要不匹配WHERE子句的条件，就不加入结果集。</p></li><li><p>ON：</p></li><li><ul><li>对于外连接的驱动表来说，如果在被驱动表中找不到匹配ON子句的过滤条件，<strong>驱动表的记录还是会加入结果集</strong>，被驱动表找不到记录没有关系，填NULL即可。</li><li>对于内连接的驱动表来说，ON等效于WHERE。</li></ul></li></ul><p>内连接的语法：</p><p>select * from t1,t2; 等效于 select * from t1 join t2; 等效于 select * from t1 inner join t2; 等效于 select * from t1 cross join t2; 。</p><p>推荐INNER JOIN的写法，语义明确</p><p>外连接的语法：</p><p>select * from t1 left join t2 on 连接条件 [where 普通过滤条件];</p><p>left join 中左侧的表称为外表或者驱动表，右侧的表称为内表或被驱动表。外连接必须使用on来指出连接条件。</p><p>right join也是一样的，只是左右驱动表位置换了，不再赘述</p><p><strong>连接查询的原理</strong></p><p><strong>嵌套循环连接</strong></p><p>最基本的简单的连接查询算算法。驱动表只访问一次，但被驱动表却可能访问多次，且访问的次数取决于对驱动表执行单表查询后的结果集中有多少条记录（驱动表匹配到记录后立即去被驱动表查）</p><p>多次如果每条驱动表的记录在被驱动表中都有很多，那么单表查询被驱动表的次数就会非常多，效率自然会不高。如果被驱动表的限制条件带有索引，那么有可能会使用ref、ref_or_null或者range等方式来查找，效率相对会快一些。所以在查询时，尽量避免select *，而是把真正使用到的列作为查询条件，这是在人为可控的情况下，优化查询。一般常用的列都会有索引，索引覆盖下查询效率会更高。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806194548.png" alt></p><p><strong>基于块的嵌套循环连接</strong></p><p>在表数据过于庞大的情况下，记录有可能是千万、亿级的规模，这种情况下的连接查询有可能会非常慢。基于块的嵌套循环连接是从减少被驱动表的访问次数入手，达到减少IO、提高效率的效果的。具体的做法就是在执行连接查询前申请一块固定大小的内存（也称Join Buffer），先将若干驱动表结果集里的记录装在这个内存中，然后开始扫描被驱动表，<strong>每条被驱动表的记录一次性地与Join Buffer中的多条驱动表记录进行匹配</strong>，由于匹配在内存中完成，无需IO，所以可以大大减少IO量。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806194603.png" alt></p><p>Join Buffer的大小通过启动项或系统变量进行配置，默认为256KB。一般在<strong>不能使用索引且自己机器的内存较大</strong>的情况下，可以尝试调大Join Buffer来进行连接查询的优化。需要注意的是Join Buffer并不会放所有驱动表的列，只存放查询列表中的列和过滤条件的列。因此我们查询时少用select * ，这样Join Buffer可以存放更多的记录。</p>]]></content>
    
    
    <categories>
      
      <category>Ops</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MySQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>大数据课程————Hadoop</title>
    <link href="/post/d4527f0c.html"/>
    <url>/post/d4527f0c.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p><strong>hadoop搭建</strong>：</p><ol><li>环境搭建：利用分发脚本在所有服务器上部署java和hadoop</li><li>组件部署：三个重要组件分别部署在三台服务器上，并修改配置文件</li><li>启动集群并测试功能：格式化后分别启动组件并上传文件，配置历史服务器和日志功能</li></ol><p><strong>服务器相关概念</strong></p><p>类型：文件服务器、数据库服务器、WEB服务器</p><p>特点：高处理能力、高扩展性、高可靠性</p><p>服务器磁盘</p><p>机械硬盘：</p><p>SCSI接口硬盘，早期使用，已停售，1w转/min</p><p>SAS接口硬盘：提升，1.5w转/min</p><p>STAT硬盘：串口硬盘，主流硬盘带纠错、降噪功能，7200转/min</p><p>固态硬盘：</p><p>SSD硬盘：贵，性能高</p><p>交换机：</p><p>存储转发设备，交换式集线器，扩展端口功能、物理编址……</p><p>网卡：</p><p>以太网网卡，PCI总线接口服务器一般使用千兆网卡</p><p>机架：</p><p>存储服务器主机的机柜。通信使用交换机</p><p>IDC数据中心：</p><p>电信部门为企业做托管</p><p>Radi磁盘阵列：</p><p>独立磁盘冗余阵列，最新的Raid5，将校验的数据分布在所有磁盘上，基本满足大部分需求，主流用品</p><p><strong>Hadoop</strong></p><p>概念：分布式系统基础架构，主要解决海量数据的存储和分析计算，广义上指的是Hadoop生态圈</p><p><strong>三大发行版本</strong></p><p>Apache：基础版本（2006）</p><p>Cloudera：继承大数据框架，产品CDH（2008）</p><p>Hortonworks：文档较好，HDP（2011）</p><p><strong>优势</strong>：</p><p>高可靠性，底层多个数据副本，某计算单元故障不会丢失</p><p>高扩展性，集群间分配任务数据，动态扩展节点</p><p>高效性，Hadoop是并行工作，加快任务处理速度</p><p>搞容错性，自动将失败的任务重新分配</p><p><strong>Hadoop 1.x、2.x和3.x</strong></p><p>1.x：MapReduce（计算+资源调度）；HDFS（数据存储）；Common（辅助工具）</p><p>2.x：MapReduce（计算）；Yarn（资源调度）；HDFS（数据存储）；Common（辅助工具）</p><p>3.x：在组成上和2代没有区别，有其他区别</p><p><strong>HDFS架构</strong></p><p>NameNode（nn）：存储文件的元数据，如文件名、目录结构、文件属性，以及每个文件的块列表和块所在的DataNode</p><p>DataNode（dn）:在本地文件系统存储文件块数据，以及块数据的校验和</p><p>Secondary NameNode（2nn）：每隔一段时间对nn元数据备份</p><p><strong>YARN架构概述</strong></p><p>另一种资源协调者，是Hadoop的资源管理器</p><p>Resourceanager（RM）：整个集群资源（内存CPU等）的总管，存在多个客户端提交job让其运行</p><p>NodeManager（NM）：单个节点服务器的资源老大，一个节点可有多个Container</p><p>ApplicationMaster（AM）：单个任务运行的老大</p><p>Container：容器，相当于一台独立的服务器，封装了任务运行所需的内存CPU磁盘网络等</p><p><strong>MapReduce架构</strong></p><p>MapReduce将计算分为两个阶段：Map和Reduce，Map阶段是并行处理输入数据，Redce是对Map结果进行汇总</p><p><strong>HDFS、YARN、MapReduce三者关系</strong></p><p>HDFS是基础的架构，NameNode记录元数据，DataNode是存储单元，2nn负责备份数据。客户端向集群提交一个任务，YARN中的ResourceManager会寻找其中一个节点服务器的NodeManager，开启一个Container，将任务放在ApplicationMaster中运行，AM向RM申请运行资源，在节点中寻找到合适资源后开启资源，由AM开启MapTask，这就是Map阶段，每一个MapTask独立工作，检索后返回结果写入磁盘上，形成一个ReduceTask，NameNode再次进行记录操作</p><p><strong>大数据生态体系</strong></p><p>数据来源层：数据库（结构化）、文件日志（半结构化）、视频、PPT等（非结构化）</p><p>数据传输层：Sqoop数据传递、Flime日志收集、Kafka消息队列（也可整理结构化与非结构化）</p><p>数据存储层：HDFS文件存储（结构、非结构）、HBase（非结构）</p><p>资源管理层：YRAN资源管理</p><p>数据计算层：MapReduce（离线计算、Hive数据查询）、SparkCore（内存计算、SparkMlib数据挖掘、SparkSql数据查询、SparkStreaming、Flink实时计算）</p><p>任务调度：Oozie任务调度、Azkaban任务调度器</p><p>整个数据平台的调度者：Zookeeper</p><p>业务层：叶树模型、数据可视化、业务应用</p><p>案例：在电商购买推荐的商品：用户操作——Nginx埋点获取访问日志——产生数据存储至文件日志——Flume日志收集——Kafka进行缓冲——Flink云计算并返回结果至数据库——后台读取分析数据，并返回推荐页给用户</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806193819.png" alt></p><p>前置工作：</p><p>VM虚拟机、linux初始化、XShell远程等</p><p>磁盘分区：/boot分1G，/swap分4G，/分45G，装好之后给虚拟机创建初始快照</p><p>设置固定IP网关DNS：</p><p>vi /etc/sysconfig/network-scripts/ifcfg-ens33</p><p>将DHCP改成static</p><p>末尾添加</p><p>IPADDR=192.168.200.10x</p><p>GATWAT=192.169.200.2</p><p>NDS1=192.168.200.2</p><p>vi /etc/hosts 末尾添加：</p><p>192.168.200.100 hadoop100</p><p>192.168.200.101 hadoop101</p><p>192.168.200.102 hadoop102</p><p>192.168.200.103 hadoop103</p><p>192.168.200.104 hadoop104</p><p>192.168.200.105 hadoop105</p><p>------------------------------------虚拟机快照由此结束-------------------------------------</p><p>虚拟机基础工具：</p><p>yum install -y epel-release安装应用商店</p><p>yum install -y net-tools安装工具包</p><p>yum install -y vim 安装vim</p><p>添加部署java和hadoop</p><p>tar -zxvf jdk-8u212-linux-x64.tar.gz -C /opt/module解压java</p><p>tar -zxvf hadoop-3.1.3.tar.gz -C /opt/module/解压hadoop</p><p>前往/etc/profile.d新建my_env.sh脚本，脚本中加入java、hadoop环境变量</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">export</span> JAVA_HOME=/opt/module/jdk1.8.0_212<br><span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$JAVA_HOME</span>/bin<br><span class="hljs-comment">#HADOOP_HOME</span><br><span class="hljs-built_in">export</span> HADOOP_HOME=/opt/module/hadoop-3.1.3<br><span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$HADOOP_HOME</span>/bin<br><span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$HADOOP_HOME</span>/sbin<br></code></pre></td></tr></table></figure><p>添加后source /etc/profile即可</p><p>hadoop文件分析</p><p>hadoop/bin目录中存储和HDFS、Yran、Mapred相关执行文件</p><p>hadoop/etc/hadoop目录中存储的xx-site.xml、workers相关</p><p>hadoop/sbin目录中一些集群功能开关相关脚本</p><p>hadoop/lib/native目录中存储的本地动态链接库，压缩功能会需要</p><p><strong>hadoop运行模式</strong></p><ul><li>Local (Standalone) Mode linux本地存储模式，一般测试用，企业不会用</li><li>Pseudo-Distributed Mode 伪分布式模式，数据存储在HDFS上</li><li>Fully-Distributed Mode 完全分布式模式，公司一般使用的</li></ul><p>scp拷贝文件至其他服务器，首次迁移使用</p><p>基本语法：</p><p>scp：命令，实现服务器与服务器之间的拷贝</p><p>-r ：递归</p><p>pdir/pdir/fname：源文件地址路径/名称</p><p>user@user@host:pdir/pdir/fname：目的地用户@主机：目的地路径/名称</p><p>例如：</p><p>scp -r ./jdk1.7/ root@hadoop103:/opt/module（将102本地推送至103），或</p><p>scp -r root@hadoop103:/opt/module/jdk1.7/ ./module（将远端102拉取至103）</p><p>rsync同步文件至其他服务器，速度较快，修改文件后使用</p><p>基本语法：</p><p>rsync：命令，实现服务器与服务器之间的文件同步</p><p>-av：归档拷贝并显示复制过程</p><p>例如：</p><p>rsync -av hadoop-3.1.3/ root@hadoop103:/opt/module/hadoop-3.1.3/ 将本地hadoop文件同步至103上</p><p>注意：需要双方同时安装了rsync才可以执行操作</p><p><strong>利用rsync实现同步分发</strong> 格式：xsync xxx，即可分发至所有指定服务器</p><p>注意：想要全局使用xsync必须满足以下条件：</p><ol><li><p>文件为可执行文件，即授权777</p></li><li><p>将xsync上层路径添加至全局环境变量中，即/etc/profile，但这个文件千万不能乱改，否则出了cd其他命令都会失效，补救方法如下：</p></li><li><ol><li>初始化path：export PATH=/usr/bin:/usr/sbin:/bin:/sbin:/usr/X11R6/bin</li><li>使用vi重新修改PATH，将错误的地方改掉：/bin/vi /etc/profile ，并重新source /etc/profile</li></ol></li></ol><p>脚本代码：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-comment">#1. 判断参数个数</span><br><span class="hljs-keyword">if</span> [ <span class="hljs-variable">$#</span> -lt 1 ]<br><span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> Not Enough Arguement!<br>    <span class="hljs-built_in">exit</span>;<br><span class="hljs-keyword">fi</span><br><span class="hljs-comment">#2. 遍历集群所有机器</span><br><span class="hljs-keyword">for</span> host <span class="hljs-keyword">in</span> hadoop102 hadoop103 hadoop104<br><span class="hljs-keyword">do</span><br>    <span class="hljs-built_in">echo</span> ====================  <span class="hljs-variable">$host</span>  ====================<br>    <span class="hljs-comment">#3. 遍历所有目录，挨个发送</span><br>    <span class="hljs-keyword">for</span> file <span class="hljs-keyword">in</span> <span class="hljs-variable">$@</span><br>    <span class="hljs-keyword">do</span><br>        <span class="hljs-comment">#4. 判断文件是否存在</span><br>        <span class="hljs-keyword">if</span> [ -e <span class="hljs-variable">$file</span> ]<br>            <span class="hljs-keyword">then</span><br>                <span class="hljs-comment">#5. 获取父目录</span><br>                pdir=$(<span class="hljs-built_in">cd</span> -P $(<span class="hljs-built_in">dirname</span> <span class="hljs-variable">$file</span>); <span class="hljs-built_in">pwd</span>)<br>                <span class="hljs-comment">#6. 获取当前文件的名称</span><br>                fname=$(<span class="hljs-built_in">basename</span> <span class="hljs-variable">$file</span>)<br>                ssh <span class="hljs-variable">$host</span> <span class="hljs-string">&quot;mkdir -p <span class="hljs-variable">$pdir</span>&quot;</span><br>                rsync -av <span class="hljs-variable">$pdir</span>/<span class="hljs-variable">$fname</span> <span class="hljs-variable">$host</span>:<span class="hljs-variable">$pdir</span><br>            <span class="hljs-keyword">else</span><br>                <span class="hljs-built_in">echo</span> <span class="hljs-variable">$file</span> does not exists!<br>        <span class="hljs-keyword">fi</span><br>    <span class="hljs-keyword">done</span><br><span class="hljs-keyword">done</span><br></code></pre></td></tr></table></figure><p>该脚本缺陷：ssh时需要重复验证密码，不能一次到位，相当麻烦。因此需要使用ssh免登录</p><p><strong>ssh免密登录</strong></p><p>普通情况下通过ssh其他服务器需要输入目标服务器密码，但也可以通过密钥来实现免密登录（注：未主动使用ssh命令的机器没有.ssh文件）</p><ol><li>在当前用户下的.ssh/下输入ssh-keygen -t rsa注册密钥，则在.ssh/下生成id_rsa私钥和id_rsa.pub公钥，还有一个存放目标节点的公钥集合文件known_hosts</li><li>输入ssh-copy-id xxxx将公钥拷贝至目标服务器，首次需要输入密码，以后即可无密访问。若想访问服务器本身，也许这样操作</li></ol><ul><li>被无密访问过的服务器会在.ssh/生成一个authorized_keys文件，存放允许访问它的服务器；而known_hosts存放着它能够无密访问的其他服务器</li><li>主动无密访问其他节点的服务器才会有密钥</li></ul><p>注意：防火墙关闭（centOS7）：</p><p>查看防火墙状态： systemctl status firewalld</p><p>永久关闭防火墙： systemctl disable firewalld</p><p>重启防火墙： systemctl enable firewalld</p><p>关闭防火墙开机自启： systemctl disable firewalld.service</p><p>集群部署规划</p><p>原则：NameNode、SecondaryNameNode和ResourceManager很耗内存，不要安装在同一个台机器上</p><table><thead><tr><th></th><th>hadoop102</th><th>hadoop103</th><th>hadoop104</th></tr></thead><tbody><tr><td>HDFS</td><td>NameNodeDataNode</td><td>DataNode</td><td>SecondaryNameNodeDataNode</td></tr><tr><td>YARN</td><td>NodeManager</td><td>ResourceManagerNodeManager</td><td>NodeManager</td></tr></tbody></table><p>默认配置文件：官网下载，存放在Hadoop的jar包中</p><p>自定义配置文件：$HADOOP_HOME/etc/hadoop位置下的core-site.xml、hdfs-site.xml、yarn-site.xml、mapred-site.xml文件</p><p>根据自己需要，参照默认配置文件，将自定义配置文件修改</p><p>配置集群</p><ul><li>核心配置文件core-site.xml</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 指定NameNode的地址 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>fs.defaultFS<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>hdfs://hadoop102:8020<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- 指定hadoop数据的存储目录 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>hadoop.tmp.dir<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>/opt/module/hadoop-3.1.3/data<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- 配置HDFS网页登录使用的静态用户为root --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>hadoop.http.staticuser.user<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>root<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>HDFS配置文件 hdfs-site.xml</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- nn web端访问地址--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>dfs.namenode.http-address<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>hadoop102:9870<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- 2nn web端访问地址--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>dfs.namenode.secondary.http-address<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>hadoop104:9868<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>YARN配置文件yarn-site.xml</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 指定MR走shuffle --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>yarn.nodemanager.aux-services<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>mapreduce_shuffle<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- 指定ResourceManager的地址--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>yarn.resourcemanager.hostname<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>hadoop103<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- 环境变量的继承 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>yarn.nodemanager.env-whitelist<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_MAPRED_HOME<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>MapReduce配置文件 mapred-site.xml</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 指定MapReduce程序运行在Yarn上 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>mapreduce.framework.name<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>yarn<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>$HADOOP_HOME/etc/hadoop/woekers中的localhost改成</li></ul><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs smali">hadoop102<br>hadoop103<br>hadoop104<br></code></pre></td></tr></table></figure><ul><li>使用分发脚本xsync将当前改动分发至所有服务器</li></ul><p><strong>启动集群</strong></p><p>首次启动集群需要使用hdfs namenode -format进行格式化，注意格式化必须停止所有进程（<a href="http://stop-all.sh">stop-all.sh</a>）并删除所有机器的data和logs目录，再进行格式化</p><ul><li>启动HDFS：sbin/start-dfs.sh</li></ul><p>此处教程是用子用户操作的，而我这边直接用在root下操作，所以有些地方需要修改</p><p>针对root用户的问题，<a href="http://xn--start-dfs-kd5p.sh">在start-dfs.sh</a>，stop-dfs.sh中分别添加</p><p>HDFS_DATANODE_USER=root</p><p>HDFS_DATANODE_SECURE_USER=hdfs</p><p>HDFS_NAMENODE_USER=root</p><p>HDFS_SECONDARYNAMENODE_USER=root</p><p>使用jps查看当前java相关的进程：</p><p>7281 Jps</p><p>6948 DataNode</p><p>6812 NameNode</p><p>浏览器输入<a href="http://hadoop102:9870/">hadoop102:9870</a> 查看HDFS上存储的数据信息</p><ul><li>在配置了ResourceManager的服务器中启动YARN：sbin/start-yarn.sh</li></ul><p>同样针对root用户，在start-yarn.sh和stop-yarn.sh中添加</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml">YARN_RESOURCEMANAGER_USER=root<br>HADOOP_SECURE_DN_USER=yarn<br>YARN_NODEMANAGER_USER=root<br></code></pre></td></tr></table></figure><p>用jps查看yarn节点中的进程</p><p>2609 DataNode</p><p>3089 NodeManager</p><p>3420 Jps</p><p>2958 ResourceManager</p><p>浏览器中输入<a href="http://hadoop102:9870/">hadoop103:</a>8088 查看YARN运行的job信息</p><p><strong>集群基本测试</strong></p><ul><li>上传文件到集群</li></ul><p>​     hadoop fs -mkdir /input 在/目录下创建一个input文件夹</p><p>​     hadoop fs -put $HADOOP_HOME/wcinput/word.txt /input 将word.txt上传到/input下</p><ul><li>查看HDFS文件存储路径</li></ul><p>​     不太清楚是什么原因，教程中的文件在102、103和104中都各自存了一份，而我的文件却只有在104是完整的，103是不完整的，102就压根没有这个文件夹。在103和104中，在104确实是能够cat出来看到源文件的上传的文件分成多个文件块存储在一起，文本文件可直接cat查看，gz压缩包则需要使用cat输出重定向至当前文件夹，然后才可正常解压：cat xxx&gt;&gt; xxx.tar.gz</p><p>问题：web端尝试删除上传的文件时，出现“Permission denied: user=dr.who, access=READ_EXECUTE, inode=“/user”:root:supergroup:drwx-wx-wx”。这样的话直接在core-site.xml中添加以下配置即可</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 当前用户全设置成root --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>hadoop.http.staticuser.user<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>root<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-comment">&lt;!-- 不开启权限检查 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>dfs.permissions.enabled<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br></code></pre></td></tr></table></figure><p>问题警告：</p><ol><li>存储位置会跳来跳去，不是固定是3等份！！！！但是删除后又好了，原因不明，新问题是元数据重新压缩后解压出现错误，原因不明</li><li>有出现过上传的文件只在102中有，103和104找不到的情况，还有web页面打不开（已解决，防火墙的问题，关闭后需要重启）。</li></ol><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806194109.png" alt></p><ul><li>运行hadoop自带的hadoop-mapreduce-examples.jar来测试，将文件上传后预览</li></ul><p>hadoop jar ./share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.3.jar wordcount /wcinput /wcoutput</p><p>注意：</p><p>此处的wordcount是类似结果的变量（但在HDFS内没看到这个名字）</p><p>这里填写的是输入输出地址，即/wcinput 和 /wcoutput。其中<strong>wcinput需要已存在于HDFS上，而wxoutput不能提前创建，否则会报错</strong>。这个逻辑很奇怪，后面再看看什么原因，并且由于我分配的内存过小，在计算时有杀掉一些其他进程，导致无法预览，这个现在也不看，评论区有加内存的博客地址，需要的话随时去看</p><p><strong>集群崩溃处理办法</strong></p><p>先停止yarn和hdfs，再将所有集群节点的$HADOOP_HOME下的/data和/logs文件夹删除，最后重新格式化HDFS即可</p><p>sbin/stop-yarn.sh</p><p>sbin/stop-dfs.sh</p><p>rm -rf data/ logs/</p><p>hdfs namenode -format</p><p>注意：DataNode版本号相关，没听懂，与数据版本相关</p><p><strong>配置历史服务器与日志聚集功能</strong></p><p>历史服务器配置成功后，在程序运行完成后的yarn前端页面可查看其历史运行情况</p><p>日志功能配置成功后，可在历史运行情况页面打开logs，方便分析运行情况</p><p>在mapred-site.xml中添加以下参数后，分发至各个节点：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 历史服务器端地址 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>mapreduce.jobhistory.address<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>hadoop102:10020<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-comment">&lt;!-- 历史服务器web端地址 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>mapreduce.jobhistory.webapp.address<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>hadoop102:19888<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br></code></pre></td></tr></table></figure><p>在yarn-site.xml中添加以下参数后，分发至各个节点：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 开启日志聚集功能 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>yarn.log-aggregation-enable<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-comment">&lt;!-- 设置日志聚集服务器地址 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>yarn.log.server.url<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>http://hadoop102:19888/jobhistory/logs<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-comment">&lt;!-- 设置日志保留时间为7天 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>yarn.log-aggregation.retain-seconds<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>604800<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br></code></pre></td></tr></table></figure><p>开启历史服务器和日志聚集功能之前，先将HDFS和YARN重启一遍，再在102中启动。启动后即可在jps中查看历史服务器进程，日志聚集不会产生进程，会从下次任务开始生成日志：</p><p>$HADOOP_HOME/bin/mapred --daemon start historyserver</p><p>HDFS/YARN的两种开关方式</p><ul><li>整体开关：start/stop-dfs.sd；start/stop-yarn.sh</li><li>单节点开关：hdfs --daemon start/stop namenode/datanode/secondarynamenode；yarn ==daemon start/stop resourcemanager/nodemanager</li></ul><p><strong>hadoop集群常用脚本</strong></p><ul><li>集群组件开关脚本：统一开关HDFS、YARN、historyserver、logs</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-keyword">if</span> [ <span class="hljs-variable">$#</span> -lt 1 ]<br><span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;No Args Input...&quot;</span><br>    <span class="hljs-built_in">exit</span> ;<br><span class="hljs-keyword">fi</span><br><span class="hljs-keyword">case</span> <span class="hljs-variable">$1</span> <span class="hljs-keyword">in</span><br><span class="hljs-string">&quot;start&quot;</span>)<br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot; =================== 启动 hadoop集群 ===================&quot;</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot; --------------- 启动 hdfs ---------------&quot;</span><br>        ssh hadoop102 <span class="hljs-string">&quot;/opt/module/hadoop-3.1.3/sbin/start-dfs.sh&quot;</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot; --------------- 启动 yarn ---------------&quot;</span><br>        ssh hadoop103 <span class="hljs-string">&quot;/opt/module/hadoop-3.1.3/sbin/start-yarn.sh&quot;</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot; --------------- 启动 historyserver ---------------&quot;</span><br>        ssh hadoop102 <span class="hljs-string">&quot;/opt/module/hadoop-3.1.3/bin/mapred --daemon start historyserver&quot;</span><br>;;<br><span class="hljs-string">&quot;stop&quot;</span>)<br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot; =================== 关闭 hadoop集群 ===================&quot;</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot; --------------- 关闭 historyserver ---------------&quot;</span><br>        ssh hadoop102 <span class="hljs-string">&quot;/opt/module/hadoop-3.1.3/bin/mapred --daemon stop historyserver&quot;</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot; --------------- 关闭 yarn ---------------&quot;</span><br>        ssh hadoop103 <span class="hljs-string">&quot;/opt/module/hadoop-3.1.3/sbin/stop-yarn.sh&quot;</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot; --------------- 关闭 hdfs ---------------&quot;</span><br>        ssh hadoop102 <span class="hljs-string">&quot;/opt/module/hadoop-3.1.3/sbin/stop-dfs.sh&quot;</span><br>;;<br>*)<br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Input Args Error...&quot;</span><br>;;<br><span class="hljs-keyword">esac</span><br></code></pre></td></tr></table></figure><ul><li>统一查看集群服务器状态</li></ul><p>分发到各节点上之后，就可在任意一台节点查看各节点进程情况</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-keyword">for</span> host <span class="hljs-keyword">in</span> hadoop102 hadoop103 hadoop104<br><span class="hljs-keyword">do</span><br>        <span class="hljs-built_in">echo</span> =============== <span class="hljs-variable">$host</span> ===============<br>        ssh <span class="hljs-variable">$host</span> jps<br><span class="hljs-keyword">done</span><br></code></pre></td></tr></table></figure><p><strong>hadoop常见端口号</strong></p><table><thead><tr><th>端口名称</th><th>Hadoop2.x</th><th>Hadoop3.x</th></tr></thead><tbody><tr><td>NameNode内部通信端口</td><td>8020 / 9000</td><td>8020 / 9000/9820</td></tr><tr><td>NameNode HTTP UI</td><td>50070</td><td>9870</td></tr><tr><td>MapReduce查看执行任务端口</td><td>8088</td><td>8088</td></tr><tr><td>历史服务器通信端口</td><td>19888</td><td>19888</td></tr></tbody></table><p><strong>常用配置文件</strong></p><p>hadoop3.x：core-site.xml hdfs-site.xml yarn-site.xml mapred-site.xml workers</p><p>hadoop2.x：core-site.xml hdfs-site.xml yarn-site.xml mapred-site.xml slaves</p>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Big Data</tag>
      
      <tag>Hadoop</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>大数据课程————HDFS</title>
    <link href="/post/fff3faaa.html"/>
    <url>/post/fff3faaa.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p><strong>HDFS基本概念</strong></p><p>是一个文件系统，用于存储文件，通过目录树来定位文件；是分布式的，由多个服务器联合起来实现其功。</p><p>适合场景：一次写入，多次读出，不可更改。文件写入后就不需要再改变</p><p><strong>HDFS特征</strong></p><p>优点</p><ul><li>高容错，文件报错多个副本</li><li>适合处理大数据，数据规模到GB、TB甚至TP；文件数量多到百万级以上均可处理</li><li>可建构廉价机器上</li></ul><p>缺点</p><ul><li>不适合低延迟数据访问，实时场景不合适</li><li>无法高效对大量小文件进行存储（占用大量NN内存来存储目录和块信息，且小文件的寻址时间超过读取时间，违反了HDFS的设计目标）</li><li>不支持并发写入、文件随机修改，不允许多线程写入</li><li>仅支持数据追加，不允许文件修改</li></ul><p><strong>组成架构</strong></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806193437.png" alt></p><ul><li><p>NameNode：即NN，Master，是整个HDFS的管理者，</p></li><li><ul><li>管理HDFS的NmaeSpeace</li><li>配置副本策略</li><li>管理Block的映射信息</li><li>处理客户端读写请求</li></ul></li><li><p>DataNode：即DN，Slave，NN下达的命令由DN执行实际的操作</p></li><li><ul><li>存储实际的数据块</li><li>执行数据块的读写操作</li></ul></li><li><p>Secondary NameNode：NN的冷备份，当NN挂掉后并不会立刻替换NN</p></li><li><ul><li>辅助NN，定期合并Fsimage和Edits，并推送给NN</li><li>紧急情况下可辅助恢复NN</li></ul></li><li><p>Client：客户端</p></li><li><ul><li>文件切分。</li><li>与NameNode交互，读取文件位置信息</li><li>与DataNode交互，读取或写入数据</li><li>提供命令管理HDFS，如HDFS格式化</li><li>通过命令访问HDFS，如HDFS增删改查</li></ul></li></ul><p><strong>HDFS的块大小</strong></p><p>HDFS是分块存储，块大小通过配置参数dfs.blocksize来规定，默认大小在Hadoop2/3版本是128M，1.x版本是64M。</p><p>HDFS是块大小主要取决于磁盘传输的速率，普通机械硬盘一般80<sub>90MB/s，固态200</sub>300MB/s</p><ul><li>HDFS块设置太小，会增加寻址时间</li><li>HDFS块设置太大，传输时间会明显大于寻址时间，导致程序处理这块数据会非常慢</li></ul><p>准则：寻址时间为传输时间的1%为最佳状态。</p><p><strong>HDFS的Shell操作</strong></p><ul><li><p>上传</p></li><li><ul><li>-moveFromLocal：从本地剪切粘贴到HDFS</li><li>-copyFromLocal 或 -put：从本地文件系统中拷贝文件到HDFS路径去</li><li>-appendToFile：追加一个文件到已经存在的文件末尾</li></ul></li><li><p>下载、直接操作</p></li><li><ul><li>-copyToLocal 或 -get ：从HDFS 拷贝到本地</li><li>-ls: 显示目录信息</li><li>-cat：显示文件内容</li><li>-chgrp、-chmod、-chown：Linux文件系统中的用法一样，修改文件所属权限</li><li>-mkdir：创建路径</li><li>-cp：从HDFS的一个路径拷贝到HDFS的另一个路径</li><li>-mv：在HDFS目录中移动文件</li><li>-tail：显示一个文件的末尾1kb的数据</li><li>-rm：删除文件或文件夹</li><li>-rm -r：递归删除目录及目录里面内容</li><li>-du -h -s ：统计文件夹的大小信息</li><li>-setrep：设置HDFS中文件的副本数量，最大副本数取决于节点数</li></ul></li></ul><p><strong>HDFS的API操作</strong></p><p>环境搭建：</p><ul><li>资料包中打开windows依赖，将文件夹拷贝到本地文件，并对其添加环境变量（windows上不需要安装hadoop服务器，只需安装此文件中的winutils即可）</li><li>创建maven项目，添加hadoop等相关依赖</li><li>添加日志打印等级，创建包、类，干代码</li><li>注意：IDEA的jar包依赖问题困扰了很久才解决。猜测是可能本地仓库的问题，下次如果还会出现的话，把仓库删了重新换回原始的.m2试试。还有环境变量一定要注意，如果有参数不对可以优先打桩出来看看是否正确</li></ul><p>都是代码实现，在IDEA中</p><p>HDFS的读写数据流程：面试重点</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806193523.png" alt></p><p><strong>HDFS读数据流程</strong></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806193552.png" alt></p><p>节点距离计算</p><p>在HDFS写数据的过程中，NN会选择距离上离带上传数据最近的DN接收数据。</p><p>节点距离：两个节点到达最近共同祖先的距离总和。</p><p>解释：将网络分层，数出节点到达共同祖先的另一节点即可</p><p>副本存储节点选择——机架感知</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806193610.png" alt></p><p><strong>NameNode和DataNode的工作机制</strong></p><p>注意的点：</p><p>secondary NameNode向NameNode checkpoint时的条件：</p><ol><li><p>定时时间到</p></li><li><ul><li>hdfs-default.xml中有所描述，即 dfs.namenode.checkpoint.period字段，默认设置为3600s。即每个小时2NN会向NN请求checkpoint</li></ul></li><li><p>Edits中的数据满了</p></li><li><ul><li>hdfs-default.xml中有所描述，即 dfs.namenode.checkpoint.txns字段，当操作次数到达100w次时，2NN执行checkpoint，检查次数的时间由 dfs.namenode.checkpoint.check.period设置，默认为60s即每分钟检查一次操作次数</li></ul></li></ol><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806193625.png" alt></p><p><strong>Fsimage和Edits解析</strong></p><p>NameNode被格式化之后，将会在$HADOOP_HOME/data/tmp/dfs/name/cirrent目录下产生如下文件</p><p><img src="https://img2020.cnblogs.com/blog/1560490/202110/1560490-20211008075447431-470533680.png" alt="img"></p><p>Fsimage：HDFS文件系统元数据的一个永久性的检查点，包含HDFS文件系统的所有目录和文件inode的序列化信息</p><p>Edits：存放HDFS文件系统的所有更新操作，客户端执行的写操作会首先被记录到Edits文件中（追加操作）</p><p>seen_txid：保存的是一个数字，最后一个edits_的数字</p><ul><li>oiv查看Fsimage文件</li></ul><p>语法：hdfs oiv -p 文件类型 -i镜像文件 -o 转换后文件输出路径</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk">例子：<br>hadoop103:<span class="hljs-number">8088</span>hdfs oiv -p XML -i fsimage_0000000000000000025 -o <span class="hljs-regexp">/opt/m</span>odule<span class="hljs-regexp">/hadoop-3.1.3/</span>fsimage.xml<br>cat <span class="hljs-regexp">/opt/m</span>odule<span class="hljs-regexp">/hadoop-3.1.3/</span>fsimage.xml<br></code></pre></td></tr></table></figure><p>fsimage.xml文件中，记录了HDFS中的文件树，并使用inode来作为元数据中的目录管理节点，与文件一一对应。</p><ul><li>oev查看Edits</li></ul><p>语法：hdfs oev -p 文件类型 -i编辑日志 -o 转换后文件输出路径</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk">例子：<br>hdfs oev -p XML -i edits_inprogress_0000000000000000289 -o <span class="hljs-regexp">/opt/</span>software/edits.xml<br>cat <span class="hljs-regexp">/opt/m</span>odule<span class="hljs-regexp">/hadoop-3.1.3/</span>edits.xml<br></code></pre></td></tr></table></figure><p>edits.xml中记录了写入追加的操作。</p><p>NN和2NN最大的区别就是2NN没有edits_inprogress这个记录最新操作的文件，因此如果发生数据丢失，最有可能丢失的是最近一次操作，而往期操作被存放在2NN中</p><p><strong>DataNode 的工作机制</strong></p><p>服务及开机之后，DN会主动向NN发送当前节点的所有块信息（活动的块，非死亡块）（注册）</p><p>块信息——数据、数据长度、校验和、时间戳</p><p>在开机之后：</p><ul><li>DN会自己自我检查块信息（每6小时，字段：dfs.datanode.directoryscan.interval）查询之后立即向NN汇报（每6小时，字段dfs.blockreport.intervalMsec）所有块信息</li><li>DN会每3秒发起心跳信号，告诉NN它还存活。若超过10分钟+30秒（timeOut=2<em>dfs.namenode.heartbeat.recheck-interval + 10</em>dfs.heartbeat.interval）NN仍未收到DN的的心跳信号，NN则认为该DN不可用，即不再使用该节点读写数据</li></ul><p><strong>HDFS数据完整性校验</strong></p><p>原始数据封装后在末尾添加CRC校验位，HDFS接收数据后重新CRC计算与传输过来的校验位比较看是否一致</p><p>待续</p>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Big Data</tag>
      
      <tag>Hadoop</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>大数据课程————MapReduce</title>
    <link href="/post/e8243c3.html"/>
    <url>/post/e8243c3.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>MapReduce</p><p>一个分布式运算程序的编程框架，用户开发“基于Hadoop的数据分析应用”的核心框架。</p><p>优点：</p><ul><li>易于编程，用户只关心业务逻辑，实现框架的接口</li><li>良好的扩展性。可动态增加服务器，解决计算资源不够的问题</li><li>高容错性。任意节点挂掉可以将任务转移至其他节点</li><li>适合海量数据计算。（TB/PB级别）几千台服务器共同计算</li></ul><p>缺点：</p><ul><li>不擅长实时计算。（mysql毫秒级别的）</li><li>不擅长流式计算</li><li>不擅长DAG有向无环图计算</li></ul><p>MapReduce工作流程</p><ol><li>运算程序一般分为2个阶段：Map阶段和Reduce阶段</li><li>Map阶段并发MapTask并行运行，互不干扰；Reduce阶段的并发Reduce Task ，但他们的数据依赖于上一个MapTask并发实例的输出</li><li>MapReduce编程模型只能包含一个Map和一个Reduce阶段，若业务繁杂，只能使用多个MapReduce程序串行运行</li></ol><p>MapReduce进程</p><ul><li>MrAppmaster：整个程序的过程调度及协调</li><li>MapTask：负责Map阶段的整个数据流处理</li><li>ReduceTask：负责Reduce阶段的数据处理</li></ul><p>编程规范</p><ul><li>Mapper阶段：继承Mapper类，输入输出均为kv形式，业务逻辑写在map()中，MapTask进程对每个kv仅调用一次</li><li>Reduce阶段：继承Reduce类，输入为Mapper的输出数据类型，业务写在reduce()中，ReduceTask进程对每组k相同的kv调用一次reduce()</li><li>Driver阶段：相当于Yarn的客户端，提交封装了MapReduce程序相关运行参数的Job对象到Yarn集群</li></ul><p>本地Hadoop测试WordCount计算成功后，应将其提交到集群，交由集群计算。</p><ul><li>Driver类中输入输出参数填args[]数组的参数</li><li>根据实际情况添加依赖，打包后放入集群运行时，应填写全列名，如“com/yz/mapreduce/wordcount2/WordCountDriver”再添加其他参数即可运行</li></ul><p>Hadoop序列化：java自带序列化的简化版</p><ul><li>紧凑 ：高效使用存储空间。</li><li>快速：读写数据的额外开销小。</li><li>互操作：支持多语言的交互</li></ul><p>MapReduce的切片机制与MapTask并行度决定机制</p><p>数据块：HDFS上将数据分为多个块</p><p>数据切片：在逻辑上对输入进行分片，并不会在磁盘上对其切分成片存储，数据切片是MapReduce程序计算输入数据的单位，一个切片对应启动一个MapReduce</p><ul><li>一个Job的Map阶段并行度由客户端在 提交Job时的切片数决定</li><li>默认情况下，切片大小=BlockSize</li><li>每个Slipt切片分配一个MapTask并行实例处理</li><li>切片时不考虑数据整体，而是逐个对单个文件单独切片</li></ul><p>FileInputFormat切片分析：</p><ol><li><p>程序找到数据存储的目录</p></li><li><p>遍历切片下的每个文件，切片时不考虑数据集整体，对每个文件单独切片</p></li><li><p>遍历第一个文件：</p></li><li><ol><li>获取文件大小</li><li>根据切片公式计算切片大小，默认切片大小=blocksize</li><li>第一个切片0:128M，第二个128:256，第三个356:300M，每次切片都要判断切完剩下的部分是否大于块的1.1倍，不大于就划成一块切片（源码中有写）</li><li>将切片信息写入切片规划文件中</li></ol></li><li><p>整个切片的核心过程都在getSplit( )中完成，InputSplit只记录了切片元数据</p></li><li><p>提交切片规划文件到YARN上，YARN的MrAppMaster根据切片规划文件计算开启MapTask的个数</p></li></ol><p>获取切片信息API</p><ul><li>获取切片名称：inputSplit.getPath().getName()</li><li>根据文件类型获取切片信息：（FileSplit）context.getInputSplit()</li></ul><p>MapReduce框架</p><ul><li>基本流程：</li></ul><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806193038.png" alt></p><p><strong>TextInputFormat：系统默认的切片机制</strong></p><p>TextInputFormat是默认的FileInputFormat实现类。按行读取每条记录。键是存储该行在整个文件中的起始字节偏移量， LongWritable类型。值是这行的内容，不包括任何行终止符（换行符和回车符），Text类型。</p><p><strong>CombineTextInputFormat切片机制</strong></p><p>解决TextInputFormat对单个文件切片的缺陷，如果小文件过多将会产生大量MapTask，效率低下，CombineTextInputFormat将多个小文件从逻辑上划分给同一个MapTask，提高效率</p><p>虚拟存储切片最大值设置：CombineTextInputFormat.setMaxInputSplitSize(job, 4194304);// 4m</p><p><strong>MapTask工作机制</strong></p><ol><li>读取数据组件Inputformat(接口，实际是TextinputFormat)通过getSplits方法对输入目录中的文件进行逻辑切片，得到block，有多少个block就有多少个MapTask</li><li>输入文件切块之后，由RecordReader对象（实际是LineRecordReader）进行行读取，读一行返回一个ky，key为首字母偏移量，value为这行的文本内容</li><li>读取block后返回ky,进入用户自己继承的Mapper类，重写map函数，写业务代码</li><li>mapper结束后，通过conetxt.write收集结果，，在context中对其进行分区处理</li><li>然后会将数据写入内存，内存中这片区域叫环形缓冲区，作用是批量收集Mapper结果，减少磁盘IO的影响，ky对以及Partition的结果都会被写入缓冲区，写入之前ky都会被序列化成字节数组。缓冲区其实就是一个存放ky的数组，环形结构值一个抽象概念。缓冲区有100M大小，当当Mapper输出结果较多，则需要另起一个线程将数据写入磁盘，这个行为叫Spill溢写。溢写的阈值是80%，即当数组快到80%时，就开始溢写，同时还会接收Mapper数据，并且当二者速度相差过大时，内存还会等待溢写，直到可以继续收集。溢写之前对key的索引按照字典顺序进行快排，快排之后进行combiner规约，生成小文件。hadoop的mapred-site.xml中定义了缓冲区的相关设置。缓冲区大小通过mapreduce.task.io.sort.mb设置，阈值通过mapreduce.map.sort.split.percent设置</li><li>溢写程序启动后，对80M内容的Key做排序，排序是MapReduce模型默认的行为，是对序列化的字节做的排序</li><li>合并溢写文件，每次溢写都会在磁盘生成一个临时文件，多Mapper输出结果大，则会有多次溢写，有多个临时文件，整个数据处理结束后，开始对磁盘中的临时文件做Merge合并成一个文件，并写入磁盘，并为这个we你按提供一个索引文件，记录每个reduce对应数据的偏移</li></ol><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806193053.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806193115.png" alt></p><p><strong>MapReduce工作流程</strong></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806193129.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806193155.png" alt></p><p><strong>MapReduce_Shuffle机制</strong></p><p>Map方法之后就开始Reduce阶段，Reduce第一个阶段是Reduce_Shuffle，一般当做Reduce业务层前置阶段。第二阶段即真正的ReduceTask，用来对数据进行操</p><p>Shuffle大致分为四个步骤：</p><ol><li>分区：环型缓冲期前的逻辑分区</li><li>排序：：缓冲期写入磁盘前的快速排序</li><li>combiner规约：溢写前、合并小文件等都会用到的操作，可选</li><li>分组：小文件合并成一个大文件后，对其进行归并排序、分组</li></ol><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806193205.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806193218.png" alt></p><p><strong>Partition分区</strong></p><p>系统默认的分区逻辑如下，默认分区是根据key的hashCode对ReduceTask个数取模得到，用户无法控制key存储到哪个分区：</p><p>public class HashPartitioner&lt;K2, V2&gt; implements Partitioner&lt;K2, V2&gt; {</p><p>……</p><p>public int getPartition(K2 key, V2 value, int numReduceTasks) {</p><p>​    return (key.hashCode() &amp; 2147483647) % numReduceTasks;</p><p>}</p><p>}</p><p>想要控制存储分区，可继承下面的Partitioner抽象类，并重写getPartitioner()方法：</p><p>public abstract class Partitioner&lt;KEY, VALUE&gt; {</p><p>public abstract int getPartition(KEY var1, VALUE var2, int var3);</p><p>}</p><p>若自定义了分区，必须在job驱动中设置自定义Partitioner，否则还是会走默认，并根据Partitioner的逻辑设置相应数量的ReduceTask</p><p>分区总结：</p><ul><li>若ReduceTask数量&gt;getPartitioner结果数量，则会产生空的part-r-000xx文件。造成资源浪费</li><li>若1&lt;ReduceTask数量&lt;getPartitioner结果数量，则一部分分区数据无法存放，报IO异常</li><li>若ReduceTask数量=1，则为默认情况，所有分区文件都交给一个ReduceTask，结果生成一个part文件</li><li>分区号必须从0开始，逐一累加</li></ul><p><strong>WritableComparable排序</strong></p><p>排序是MapReduce中最重要的操作之一，MapTask和ReduceTask均会对数据排序，这是Hadoop行为，不论逻辑是否需要均会排序。</p><p>MapTask中，处理的结果暂时放在环形缓冲区，到达阈值后，对80%的数据进行一次快排，并将排序后的数据溢写到磁盘，全部处理完毕后对多有文件进行归并排序</p><p>ReduceTask中，从每个MapTask上远程拷贝相应的数据文件，若文件大于阈值则溢写到磁盘，否则存在内存中。</p><ul><li>若内存中文件大小或数量到达阈值，则合并后将数据溢写在磁盘。</li><li>若磁盘中文件数量达到阈值则做一次归排生成一个大文件</li><li>所有数据拷贝完后，ReduceTask统一对内存和磁盘上所有数据进行一次归并排序</li></ul><p>排序分类：</p><p>部分排序：MapReduce根据记录的键对数据集排序，保证输出的每个文件内部有序</p><p>全排序：最终输出结果只有一个文件，文件内部有序，一般不会使用这种方式，因为数据量太大，用一个ReduceTask处理效率太低</p><p>辅助排序：FroupingComparator分组，少用</p><p>二次排序（自定义排序）：若compareTo中的判断条件为2个即为二次排序</p><p><strong>Combiner合并</strong></p><p>combiner是可选的步骤，是Mapper和Reduce之外的组件，Combiner的父类就是Reduce。Combiner的意义就是对每个MapTask的输出进行局部汇总，以减少网络传输量。</p><p>选择Combiner的限制条件是，使用后不能影响最终的业务逻辑，例如比较适合叠加操作，而不适合求平均值操作</p><p>outPutFormatgaishu概述</p><p>后续：</p><p><a href="https://www.bilibili.com/video/BV1Qp4y1n7EN">https://www.bilibili.com/video/BV1Qp4y1n7EN</a></p><p>P105</p>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Big Data</tag>
      
      <tag>Hadoop</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>IDEA运行测试错误Failed to resolve org.junit.platform:junit-platform-launcher</title>
    <link href="/post/d601b667.html"/>
    <url>/post/d601b667.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>问题原因：<br>这里的问题是IntelliJ试图在不使用IDE中配置的Maven“用户设置文件”(settings.xml)的情况下解决所需的工件本身。它将直接连接到Maven Central，但被我的雇主屏蔽了</p><p>解决方案在pom文件添加：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br> <span class="hljs-comment">&lt;!-- this is needed or IntelliJ gives junit.jar or junit-platform-launcher:1.3.2 not found errors --&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.junit.platform<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit-platform-launcher<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MySql索引基本原理</title>
    <link href="/post/2ab2ff87.html"/>
    <url>/post/2ab2ff87.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>前置概念：</p><ul><li><p>磁盘预读：内存跟磁盘在发生数据交互的时候，一般情况下有一个最小的逻辑单元，即&quot;页&quot;/“datapage”，页一般由操作系统决定是多大，一般是4k或8k。而进行数据交互的时候，可以取页的整数倍来读取。如innodb引擎每次读取数据都是16k</p></li><li><p>B+树</p></li><li><ul><li>每个关键字对应一棵子树</li><li>每个结点关键字个数n的范围是[m/2]&lt;=n&lt;=m</li><li>叶节点是包含信息的，其他所有非叶节点仅起到索引作用，包含了对应子树的最大关键字和指向该子树的指针</li></ul></li><li><p>mysql底层构造</p></li><li><ul><li><p>client层——&gt;server层——&gt;存储引擎</p></li><li><ul><li>client向server层发送SQL语句，server层通过连接器接收</li><li>server层的分析器对SQL语句进行语法分析，转变为AST抽象语法树</li><li>server层使用优化器对语句中具体查询的数据</li><li>执行器与存储引擎进行IO交互，获取查询结果</li></ul></li></ul></li></ul><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806192503.png" alt></p><p>从头遍历</p><p>没有索引的查找方法：从第一页记录开始查，遍历所有数据页，相当耗费资源和时间。</p><p>简单的索引方案——一层目录</p><ol><li>假设一个数据页的数据已经存储满了，这时再添加一条记录。如果该记录的主键比现有记录最大的主键小：首先必然会产生页的分裂，其次，现有的最大主键用户记录会移到新的数据页，而新插入的用户记录则插入到原来已满的数据页。页的分裂始终保持——下一个数据页中用户主键值必须大于上一页的用户记录主键值。</li><li>再假设上述页分裂操作多次执行，导致数据页数量非常多。此时应该给这些数据页按照主键大小整合目录页。目录页只包含1.数据页上最小的用户主键值。2.数据页的页号。如此，只要将目录页放在连续的内存中，即可快速通过主键查找到用户记录</li></ol><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806192532.png" alt></p><p>InnoDB的索引——B+树</p><p>前置信息：由于面向的是真实的数据库用户，因此数据量有时会非常大。一个page只有16KB,别说用户记录了，就连目录项都有可能装不完。并且，如果数据页做了增删操作，那么所有目录项也需要做调整，这样非常浪费空间和资源。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806192546.png" alt></p><ol><li>因此，MySQL将数据页和目录页做一个复用，由于目录项和用户记录比较相似，因此让他们使用同一个页模版——0x45BF，即FIL_PAGE_INDEX。只使用一条属性record_type将二者区分。除此之外，页的结构、记录分组(槽)等等都是一样的（另外，page Header中信息自然时不一样的）。</li><li>如果数据量实在太多，一张16KB全部装着目录项的page也不够用，则产生页分裂，使用多个目录页来装；数据量巨大，连目录页都太多了，查找起来很慢，则会产生更高层次的目录，将目录页存储起来！这种结构，就称之为B+树。最顶端的节点是根节点，中间的节点为非叶子节点，而最底端的节点为叶子节点。所有的用户记录均被存储在叶子节点中。</li></ol><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806192601.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806192618.png" alt></p><p>像这种层级往上叠的结构，每增加一个层级，所能容纳的数据成几何倍数增长，一个数据页已经可以存放很多条用户记录了，一层数据页则可以更多，一层目录页更是数量爆炸！</p><p>一般情况下，我们用到B+树的层级不会超过4层，这样只需查找3个目录页+1个数据页+页内二分查找，即可快速定位记录。不要小看这4层的B+树，4层B+ 树已经可以存放千万级数据了，如果还想放再多数据，只能扩容或者加表</p><p>聚簇索引，具有以下两个特点的B+树称为聚簇索引：</p><ol><li><p>使用记录主键的大小进行记录和页的排序</p></li><li><ul><li>页内记录按住键大小排序形成单向链表结构，页内划成分组，每组最大记录的偏移量记录在槽中，放在页目录中。</li><li>数据页按页中用户记录的主键大小排序成双向链表（用于对主键的范围查找和分页查找）</li><li>目录页（存放目录项的数据页）分为不同层级，同层目录页根据页中住键大小顺序排列形成双向链表</li></ul></li><li><p>叶子节点存储的是完整的用户记录，即不是二级索引，而是记录中存储了所有列的值（包括隐藏列）</p></li></ol><p>只要我们的记录拥有以下特点，那么我们就不需要手动显式地使用INDEX创建索引，MYSQL会自动创建聚簇索引，在InnoDB中，聚簇索引就是数据的存储方式，即：索引即数据，数据即索引。</p><p>而从存储方面来说，索引和数据本身是存储在磁盘的，查询数据时会优先将索引加载在内存。索引存储的信息就是存放目录项的数据页。在一个磁盘块中，指针大小是固定的，因此当选择某字段当索引时，应该尽量减小键值所占用的空间，这样可以指数级地增加用于存放数据的空间</p><p>Mysql中的索引使用的是B+树，而为什么不使用其他数据结构做呢？</p><ul><li><p>hash：哈希冲突；范围查询时需逐个遍历；对于内存空间要求高。mysql中也存在hash，即memory引擎使用的是hash索引，innodb支持自适应hash，即系统根据数据类型判断使用哪种存储结构</p></li><li><p>树</p></li><li><ul><li><p>二叉树：无序</p></li><li><p>BST：二叉查找树：插入时有序，左子树小于子树根节点，右子树大于子树根节点</p></li><li><ul><li>插入连续值时，可能退化成链表，时间复杂度提高</li></ul></li><li><p>AVL：平衡二叉查找树：有序，为了解决连续值退化的问题，通过左旋或右旋让树平衡，保持最短子树和最长子树高度不能超过1</p></li><li><ul><li>通过插入性能的损失来弥补查询性能的提升</li></ul></li><li><p>红黑树：在旋转平衡的基础上，添加变色的行为。保持最长子树不超过最短子树的2倍即可。使得查询性能和插入性能近似一致</p></li></ul></li><li><p>随着数据的插入，树的深度越来越深，意味着IO次数越多，影响数据读取的效率，因此使用开始使用树</p></li><li><ul><li><p>B树：多岔树，有序，非叶子节点也是存储着数据的，占用空间较大</p></li><li><p>B+树：多岔树，有序，只有叶子节点存储着数据，非叶子节点存储的是指针</p></li></ul></li></ul><p>索引的创建跟存储引擎是挂钩的，存储引擎表示不同数据在磁盘的不同组织形式</p><p>在windows上的Mysql中，文件都是以不同后缀并成对的形式存在。数据结构用的都是B+树，而存储形式又有所不同</p><ul><li><p>.frm：存放表结构</p></li><li><p>.MYD和.MYI：引擎是myisam，非聚簇索引。</p></li><li><ul><li>.MYD：数据，Data</li><li>.MYI：索引，index</li></ul></li><li><p>.ibd：存储数据+索引，即引擎是innodb。只能有一个聚簇索引，可以有很多非聚簇索引。在插入数据时，必须要包含一个索引的key值。这个索引的key值可以是主键；若没有主键也可以是唯一键；若唯一键也没有，就会有一个自生成的6字节的rowid（对用户不可见）</p></li></ul><p>——聚簇索引与非聚簇索引——二者取决于数据和索引是否是放在一起的</p><p>——mysql表中有且至少有一个索引</p><p>索引覆盖：若查询结果包含普通索引列和聚簇索引列，则会直接返回，不需要从聚簇索引查询任何数据，这就叫索引覆盖</p><ul><li>注：面试常问——在设置主键时是否需要自增？答：在满足业务需求的情况下，能自增尽量自增。因为自增是累加的，对前面的数据没有影响，无需做插入操作，也就无需做磁盘块/页分裂的操作（即：页分裂。当在一页数据里插入数据时，如果数据满了就需要分裂成多个页或者磁盘块来存储，父亲节点也可能需要分裂，而分裂会影响效率）。追加的效率较高</li></ul><p>最左匹配：组合索引的匹配规则。若一张表里有两列是组合索引，那么使用时必须先匹配左侧的列，再匹配右侧列</p><ul><li>select * fro table where name=? and age=? 允许使用</li><li>select * fro table where name=? 允许使用</li><li>select * fro table where age=? 无法使用</li><li>select * fro table where age=? and name=? 允许使用</li><li>只要查询条件是组合索引，那么就算顺序相反，mysql内部的优化器会调整对应的顺序</li></ul><p>索引下推（mysql5.7后特性）：使用组合索引时，直接根据组合索引在存储引擎中获取对应数据，无需在server层二次过滤（5.7之前），减少了server层于存储引擎的交互，减少了IO量，提高了效率</p><p>聚簇索引的条件必须是以主键大小排序，即这个B+树的查询条件为主键。而如果以其他列作为查询条件，我们需要换一个树！重新新建一颗B+树，这个树采用其他列作为查询条件，而它的叶子节点并不会存放完整的用户记录，只会存放该列所在记录的主键。它的目录项也不会使用主键+页号，而是使用其他列+页号搭配。</p><p>二级索引的查询过程：</p><p>由于其他列可能没有唯一约束，所以匹配到的可能有多个主键（记录）。因此当查询到第一条记录后，我们通过查询到的主键到聚簇索引中查找完整的用户记录。这个过程（通过携带主键回到聚簇索引里查询完整的用户记录的过程）就叫回表。然后再返回到刚才的B+树，回到刚才定位到的那条用户记录，顺着记录所形成的单向链表找到其他符合条件的记录，然后再回表，再继续找……</p><p>回表的定义：根据普通索引查询到聚簇索引的key值之后，再根据key值在聚簇索引中获取所有行记录。回表走了2次B+树</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806192641.png" alt></p><p>由于这种以非主键列的大小为排序规则而建立的树需要执行回表才能查到完整用户记录，所以这种B+树也称为二级索引，这颗B+树是为其他列所建立的索引，该列是索引列。索引列记录的不是完整的用户信息。</p><p>数据存储在磁盘，一般情况况下查询速率慢，都是卡在IO上。因此需要在满足需求的前提下提高IO效率：</p><ul><li>减少IO次数</li><li>减少IO量</li></ul><p>profiling——mysql自带的性能分析工具（单条语句）</p><ul><li>开启profiling：set profiling=1;</li><li>执行SQL语句，然后show profiles; 即可查出上条语句执行的实际时间</li><li>想要查询profiles结果表中具体某条语句的所有状态耗费时长，或者想查询某条语句的某个状态的使用情况，根据可使用profiles表语句对应的Query_ID来查询，语法如下：show profile for [type] query [id]。但这种查询方式在未来版本可能会被其他工具所取代</li></ul><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806192704.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806192742.png" alt></p><p>进阶–Myysql性能模式：</p><p>5.7默认开启性能模式，在初始数据库中，会有一个performance_schema库，里面有众多相关表，而通过show variables like ‘performance_schema’;查询性能模式的开启状态。而修改状态无法直接update，需要更改mysql配置文件my.cnf</p><p><a href="https://www.bilibili.com/video/BV1ov41137Vo?p=10">https://www.bilibili.com/video/BV1ov41137Vo?p=10</a></p>]]></content>
    
    
    <categories>
      
      <category>Ops</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MySQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SpringBoot配置mybatis使用的两种方式</title>
    <link href="/post/1054e826.html"/>
    <url>/post/1054e826.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>目前在SpringBoot中的使用Mybatis的pom文件是</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>1. 注解版本</strong></p><p>添加相关的依赖</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>        <br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--         mysql--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--         lombok 自动创建bean的 --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">optional</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">optional</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p>添加properties配置文件</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">spring.datasource.url</span>=jdbc:mysql://<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">3306</span>/test?serverTimezone=UTC<br><span class="hljs-attr">spring.datasource.username</span>=root<br><span class="hljs-attr">spring.datasource.password</span>=root<br></code></pre></td></tr></table></figure><p>配置完后，SpringBoot会加载spring.datasource的所有配置。数据源就会自动注入到 sqlSessionFactory 中，sqlSessionFactory 会自动注入到 Mapper 中。</p><p>在主类上开启mapper包扫描</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-variable">@MapperScan</span>(<span class="hljs-string">&quot;com.yuanzhou.mybatis.mapper&quot;</span>)<br><span class="hljs-variable">@SpringBootApplication</span><br>public class MybatisApplication &#123;<br><br>    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">static</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">main</span>(String[] args) &#123;<br>        <span class="hljs-selector-tag">SpringApplication</span><span class="hljs-selector-class">.run</span>(MybatisApplication.class, args);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>创建mapper接口，在方法上方添加各项注解</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">interface</span> <span class="hljs-selector-tag">UserMapper</span> &#123;<br>    <br>    <span class="hljs-variable">@Select</span>(<span class="hljs-string">&quot;select * from user&quot;</span>)<br>    <span class="hljs-variable">@Results</span>(&#123;<br>        <span class="hljs-variable">@Result</span>(property=<span class="hljs-string">&quot;id&quot;</span>, column=<span class="hljs-string">&quot;id&quot;</span>),<br>        <span class="hljs-variable">@Result</span>(property=<span class="hljs-string">&quot;name&quot;</span>, column=<span class="hljs-string">&quot;name&quot;</span>),<br>        <span class="hljs-variable">@Result</span>(property=<span class="hljs-string">&quot;age&quot;</span>, column=<span class="hljs-string">&quot;age&quot;</span>),<br>        <span class="hljs-variable">@Result</span>(property=<span class="hljs-string">&quot;email&quot;</span>, column=<span class="hljs-string">&quot;email&quot;</span>)<br>    &#125;)<br>    List&lt;User&gt; <span class="hljs-built_in">userList</span>();<br>&#125;<br></code></pre></td></tr></table></figure><p>之后测试是正确能读取到的</p><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs d"><span class="hljs-keyword">@RunWith</span>(SpringRunner.<span class="hljs-keyword">class</span>)<br><span class="hljs-keyword">@SpringBootTest</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> MybatisTestCase &#123;<br>    <br>    <span class="hljs-keyword">@Autowired</span><br>    UserMapper userMapper;<br>    <br>    <span class="hljs-keyword">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> selectTest() &#123;<br>        <br>        List&lt;User&gt; list = userMapper.list();<br>        list.forEach(System.<span class="hljs-keyword">out</span>::println);<br>    &#125;<br>    <br>&#125;<br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806185712.png" alt></p><p><strong>2.XML版本</strong>（前公司使用的）</p><p>在properties文件中添加如下配置：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-comment">#实体类映射地址（我这里和mapper文件放在一起了，impl文件夹等同于mapper接口的实现了）</span><br>mybatis.mapper-locations=classpath:com<span class="hljs-regexp">/yuanzhou/my</span>batis<span class="hljs-regexp">/mapper/im</span>pl/*.xml<br></code></pre></td></tr></table></figure><p>在上述位置中添加user的映射文件</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">mapper</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="hljs-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span> &gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;com.yuanzhou.mybatis.mapper.UserMapper&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;BaseResultMap&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;com.yuanzhou.mybatis.entity.User&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">jdbcType</span>=<span class="hljs-string">&quot;VARCHAR&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">jdbcType</span>=<span class="hljs-string">&quot;VARCHAR&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">result</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;age&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;age&quot;</span> <span class="hljs-attr">jdbcType</span>=<span class="hljs-string">&quot;VARCHAR&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">result</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;email&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;email&quot;</span> <span class="hljs-attr">jdbcType</span>=<span class="hljs-string">&quot;VARCHAR&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">result</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">sql</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;BaseColumnList&quot;</span>&gt;</span>id, name, age, email<span class="hljs-tag">&lt;/<span class="hljs-name">sql</span>&gt;</span><br><br><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getList&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;BaseResultMap&quot;</span>&gt;</span><br>    select <span class="hljs-tag">&lt;<span class="hljs-name">include</span> <span class="hljs-attr">refid</span>=<span class="hljs-string">&quot;BaseColumnList&quot;</span> /&gt;</span> from user<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure><p>mapper层直接写简单的接口方法就可以了，相较之前的版本，直接把注解删除即可</p><p>个人角色第二种方法更简洁一下，接口里看起来更加干净</p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java实现读取本地txt文件(行政区划制作层级标记表格)</title>
    <link href="/post/49197122.html"/>
    <url>/post/49197122.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>首先接到的是一个网址，地址是<a href="http://www.zxinc.org/gb2260.html">http://www.zxinc.org/gb2260.html</a><br>但这个网址后来就没用了，服务器那边应该出问题了，不过还好我保存到本地了。</p><p>再放一个云盘</p><p>链接：<a href="https://pan.baidu.com/s/1Hkf2PtRGK3dLQ50tJ1mk4g">https://pan.baidu.com/s/1Hkf2PtRGK3dLQ50tJ1mk4g </a><br>提取码：unon</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806184805.png" alt></p><p>这里我是将那个页面打开查看源码然后复制下来的，所以前面带了一个<BR>,这里的每行是由区划代码、区划名称构成。这里一共有6976行</BR></p><p>我的需求是将这份文本做成excel，并分成三列，1列放区划代码，2列放名称，3列需要自家根据区划代码来标记区划层级，如省级则标记1，市级标记2，县级标记3.</p><p>这里我没有用一套流程走到底，excel表格也是我直接手动创建并粘贴数据上去的。我只需要在文本中过滤出我想要的数据并打印到控制台，只要行数是正确的，一列列粘贴到excel表格上是可以的。其实也可以写一个方法来写入至excel,但那样效率低，没必要。</p><p>好了直接贴代码，这里我直接是写在main方法里了，我直接将main方法复制下来。有一部分代码暂时不会用到，我将其注释掉了，等需要用时我会打开注释</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs gradle"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> main(String[] args) &#123;<br>        <span class="hljs-keyword">File</span> <span class="hljs-keyword">file</span> = <span class="hljs-keyword">new</span> <span class="hljs-keyword">File</span>(<span class="hljs-string">&quot;D:\\xzqh.txt&quot;</span>);  <span class="hljs-comment">//源文本</span><br><span class="hljs-comment">//        File file = new File(&quot;D:\\code.txt&quot;);  //代码+标记文本</span><br>        BufferedReader br = <span class="hljs-keyword">null</span>;<br>        StringBuffer sb = <span class="hljs-keyword">null</span>;<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">//在字节流的基础上套用InputStreamReader转换为字符流</span><br>            br = <span class="hljs-keyword">new</span> BufferedReader(<span class="hljs-keyword">new</span> InputStreamReader(<span class="hljs-keyword">new</span> FileInputStream(<span class="hljs-keyword">file</span>.getPath()), <span class="hljs-string">&quot;GBK&quot;</span>));<br>            sb = <span class="hljs-keyword">new</span> StringBuffer();<br>            String line = <span class="hljs-keyword">null</span>;<br>            <span class="hljs-keyword">while</span> ((line = br.readLine()) != <span class="hljs-keyword">null</span>) &#123;<br>                sb.<span class="hljs-keyword">append</span>(line);<br>            &#125;<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            e.printStackTrace();<br>        &#125; <span class="hljs-keyword">finally</span> &#123;<br>            <span class="hljs-keyword">try</span> &#123;<br>                br.close();<br>            &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">//打印文件的所有内容</span><br>        System.err.<span class="hljs-keyword">println</span>(<span class="hljs-keyword">new</span> String(sb));  <br></code></pre></td></tr></table></figure><p>讲一下整体思路吧，我们得到的结果是有三列的Excel表格，所以我们一列一列的走，先拿到他的区划代码</p><p>然后接下来是步骤</p><p>**1.**将上面的代码运行，注意文件位置是对的，正确运行的话应该是下面的样子，这是没有换行的，不过这个影响不大。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806184927.png" alt></p><p>将 打印所有内容 那行代码注释掉，因为我们不需要打印所有，只需要将区划代码打印出来；并将下面的注释打开，如图</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806184943.png" alt></p><p>再次运行程序，打印台输出区划代码，同样是6976行（总行数），将其复制粘贴至excel的第一列</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806184959.png" alt></p><p>**2.**根据行政区划做标记省级为XX0000,市级为XXX000或XXXX00，县级为XXXXXX或XXXXX0，层级标记的是数字，所以，但是区划也是数字，在这里不好区分开，所以暂时用ABC代替123，便于过滤。</p><p>将 直接输出 那行代码注释，如图，其他则不变。这段代码是根据区划代码在后面加上标记</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806185015.png" alt></p><p>输出如图：这里的000000是中华人民共和国，因为只有一个，所以我这里不做判断</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806185030.png" alt></p><p>然后将打印台内容全选放入一个新的txt文本，取名code.txt。里面保存的是行政区划+区划标记的文本。（先暂时存放，后面还需要用到）</p><p>**3.**将 处理追加字符下面这段代码注释掉，打开 直接输出 的注释，如图</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806185050.png" alt></p><p>然后将过滤条件更换成匹配中文，然后将 直接输出 这行代码注释掉，将蓝色部分代码的注释打开。这里解释一下为什么已经匹配了中文还需要这么麻烦地对比字符，这是因为有些地名实在是千奇百怪，直接匹配地名，会导致匹配出来行数对不上，也就是数据有问题，所以才这样走一遍的：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806185105.png" alt></p><p>然后直接输出，打印台是这样的，复制到Ecel，这样就拿到第二列的区划名称</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806185120.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806185135.png" alt></p><p>4.读取刚才的code.txt，注意路径。并将以下代码如图注释掉。这里匹配字母然后选择过滤后直接输出！</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806185152.png" alt></p><p>记得将上面的读取的文件替换成code.txt，将code处理这段注释打开，</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806185214.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806185226.png" alt></p><p>打印出一串字母+数字组合，再将以下打印台输出的额所有内容复制到code.txt，再更换过滤条件，单独将数字取出</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806185240.png" alt></p><p>过滤后直接输出即可，不需要处理什么，注意运行前记得把匹配的6为数字改成1位</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806185251.png" alt></p><p>控制台输出：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806185305.png" alt></p><p>将其复制粘贴至Excel中即可。注意1开始是从北京市开始的，而不是从中华人民共和国开始。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806185321.png" alt></p><p>逻辑有点乱，下次好好梳理</p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Springboot 测试类没有找到bean注入</title>
    <link href="/post/a76de31a.html"/>
    <url>/post/a76de31a.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>其他乱七八糟配置就不扯了，先上项目结构图</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806184436.png" alt></p><p>配置好参数后我再src/test/java类测试访问数据库时发现bean没有正确的注入。值得注意的是，这个项目的启动类是叫App.java</p><p>所以我们必须在这个测试类上面加上注解：</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-variable">@RunWith</span>(SpringRunner.class)<br><span class="hljs-variable">@SpringBootTest</span>(classes = App.class) <br></code></pre></td></tr></table></figure><p>注意：SpringBoot(classes = App.class) classes后面跟的是启动类的class，千万不要随便抄网上的配置，写一些Application.class之类的，这种Application之类的类名和一些官方包里的类名一样，容易引入错误的包。</p><p>刚开始发现这个问题疯狂去网上看别人的配置文件是怎么写的，试了一天都没用，后来静下心来，把错误信息copy出来文本里仔细看</p><p><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs dart">org.springframework.beans.<span class="hljs-keyword">factory</span>.UnsatisfiedDependencyException:<br> Error creating bean <span class="hljs-keyword">with</span> name <span class="hljs-string">&#x27;com.springboot.LibrarySystem.mapper.UserMapperTest&#x27;</span>:<br> Unsatisfied dependency expressed through field <span class="hljs-string">&#x27;userMapper&#x27;</span>; <br> nested exception <span class="hljs-keyword">is</span> org.springframework.beans.<span class="hljs-keyword">factory</span>.NoSuchBeanDefinitionException:<br> No qualifying bean of type <span class="hljs-string">&#x27;com.sb.LibrarySystem.mapper.UserMapper&#x27;</span> <br> available: expected at least <span class="hljs-number">1</span> bean which qualifies <span class="hljs-keyword">as</span> autowire candidate. <br> Dependency annotations: &#123;<span class="hljs-meta">@org</span>.springframework.beans.<span class="hljs-keyword">factory</span>.annotation.Autowired(<span class="hljs-keyword">required</span>=<span class="hljs-keyword">true</span>)&#125;<br></code></pre></td></tr></table></figure><p><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></p><p>还是从这个Test类下手</p><p>本来我的类是这样的：</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-variable">@RunWith</span>(SpringRunner.class)<br><span class="hljs-variable">@SpringBootTest</span>(classes = Application.class)<br>public class UserMapperTest &#123;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>修改后就是这样,和我的启动类的类名是一致的：</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-variable">@RunWith</span>(SpringRunner.class)<br><span class="hljs-variable">@SpringBootTest</span>(classes = App.class)<br>public class UserMapperTest &#123;<br></code></pre></td></tr></table></figure><p>完美解决！</p><p>如果百度的时候，发现查看的问题越来越深，越来越偏离最开始的问题，那十有八九是方向偏了，重新整理一下，重新开始吧</p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Eclipse配置Maven的本地仓库和阿里云镜像</title>
    <link href="/post/3bf8ab6c.html"/>
    <url>/post/3bf8ab6c.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>先确定自己电脑是否安装了Maven和安装位置，具体查询方法直接win+R键打开运行窗口，输入cmd打开dos窗口，再输入mvn -v即可查询安装的位置</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806184146.png" alt></p><p>拿到安装位置 D:\Applications\Work\apache-maven-3.6.1 后打开该位置下的conf文件夹，找到一个叫settings.xml的文件。</p><p>将以下代码粘贴至<mirrors>标签内（注：没修改之前，这个标签里的内容是完全注释掉的，将代码粘贴在标签内部即可，不用管原有的内容。注意有两层标签）</mirrors></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">mirror</span>&gt;</span>  <br>        <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>alimaven<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>  <br>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>aliyun maven<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>  <br>        <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>  <br>        <span class="hljs-tag">&lt;<span class="hljs-name">mirrorOf</span>&gt;</span>central<span class="hljs-tag">&lt;/<span class="hljs-name">mirrorOf</span>&gt;</span>          <br><span class="hljs-tag">&lt;/<span class="hljs-name">mirror</span>&gt;</span> <br></code></pre></td></tr></table></figure><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806184214.png" alt></p><p>然后找到<localRepository>标签，将里面的内容修改为你Maven本地仓库即可（可以创建一个新的文件夹），这里我没有修改。</localRepository></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806184231.png" alt></p><p>然后是修改Eclipse内的配置Window-Preferences 这里修改是的是maven的地址</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806184242.png" alt></p><p>然后修改刚才修改过的setting.xml和本地仓库，我的本地仓库由于没有修改，依旧是.m2文件夹</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806184259.png" alt></p><p>这样就OK了</p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>Maven</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JS鼠标悬停设置layui tips提示框</title>
    <link href="/post/871dcbde.html"/>
    <url>/post/871dcbde.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>官方介绍：吸附层，灵活判断出现的位置，默认在元素的右侧弹出。</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus">layer<span class="hljs-selector-class">.tips</span>(<span class="hljs-attribute">content</span>, follow, options)<br>layer<span class="hljs-selector-class">.tips</span>(msg, <span class="hljs-string">&#x27;#id&#x27;</span>,&#123;tips: <span class="hljs-number">1</span>&#125;)<br></code></pre></td></tr></table></figure><p>必填参数 ：</p><p>content: 生成的文本，可以是字符串或HTML代码<br>follow: 元素ID，若是元素本身可直接用this（绑定元素时）<br>options : tips的配置型，即位置[1上；2右；3下；4左, 字体颜色]</p><p>还有一些基础参数，我的另一篇文章中，是layer弹出层是基础参数</p><p>实例：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showDiv</span>(<span class="hljs-params">obj</span>)</span>&#123;<br>    layer.<span class="hljs-title function_ invoke__">tips</span>(<span class="hljs-string">&quot;&lt;span&gt;车辆轨迹&lt;/span&gt;&lt;span&gt;关联人员&lt;/span&gt;&quot;</span>,         <br>    <span class="hljs-string">&quot;#&quot;</span>+obj.id, <br>    &#123;<span class="hljs-attr">tips</span>:[<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;#663ff&#x27;</span>], <span class="hljs-attr">time</span>:<span class="hljs-number">3000</span>&#125;);<br>&#125;<br></code></pre></td></tr></table></figure><p>以上效果就是鼠标悬浮到a标签后，显示悬浮窗，3s后自动关闭。为啥要设置3秒自动关闭？因为这样可以让我们去点击a标签里的内容。由于会自动关闭，所以也不需要鼠标移除的事件。</p><p><em>需要注意的是，需要多个tips悬浮时，tipsMore（默认false）应该是flase的</em></p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java实现文本中的关键字高亮,匹配所有长度</title>
    <link href="/post/e5da39e2.html"/>
    <url>/post/e5da39e2.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>这个方法还不完整，后面想起来再看，直接放代码.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">getHeightlightWord</span><span class="hljs-params">(String textWord, String key)</span>&#123;<br>    <span class="hljs-type">StringBuffer</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>(<span class="hljs-string">&quot;&quot;</span>);<br>    <span class="hljs-type">String</span> <span class="hljs-variable">tempWord</span> <span class="hljs-operator">=</span> textWord == <span class="hljs-literal">null</span>? <span class="hljs-string">&quot;&quot;</span> : textWord.trim();<br>    <span class="hljs-type">String</span> <span class="hljs-variable">tempKey</span> <span class="hljs-operator">=</span> key == <span class="hljs-literal">null</span>? <span class="hljs-string">&quot;&quot;</span> : key.trim();<br>    <span class="hljs-keyword">if</span>(<span class="hljs-string">&quot;&quot;</span>.equals(tempWord) || <span class="hljs-string">&quot;&quot;</span>.equals(tempKey))&#123;<br>        <span class="hljs-keyword">return</span> tempWord;<br>    &#125;<span class="hljs-keyword">else</span> &#123;<br>        sb.append(tempWord);<br>    &#125;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">upperWord</span> <span class="hljs-operator">=</span> tempWord.toUpperCase();<br>    <span class="hljs-type">String</span> <span class="hljs-variable">upperKey</span> <span class="hljs-operator">=</span> tempKey.toUpperCase();<br>    <span class="hljs-keyword">if</span>(!upperWord.contains(upperKey))&#123;<br>        <span class="hljs-keyword">return</span> tempWord;<br>    &#125;<span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">keyLen</span> <span class="hljs-operator">=</span> upperKey.length();<br>        <span class="hljs-type">int</span> <span class="hljs-variable">thisMathIndex</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        List&lt;Map&lt;Integer, String&gt;&gt; matchList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Map&lt;Integer, String&gt;&gt;();<br>        <span class="hljs-keyword">while</span>((thisMathIndex = upperWord.indexOf(upperKey, thisMathIndex)) != -<span class="hljs-number">1</span>)&#123;<br>            Map&lt;Integer, String&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;Integer, String&gt;();<br>            map.put(thisMathIndex, tempWord.substring(thisMathIndex, thisMathIndex + keyLen));<br>            matchList.add(map);<br>            thisMathIndex += keyLen;<br>        &#125;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">thisKey</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">keys</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(Map&lt;Integer, String&gt; map : matchList)&#123;<br>            thisKey = getKey(map);<br>            keys += thisKey;<br>            sb.replace(thisKey, thisKey + keyLen, <span class="hljs-string">&quot;&lt;span style=&#x27;background-color: yellow;&#x27;&gt;&quot;</span>+map.get(thisKey)+<span class="hljs-string">&quot;&lt;/span&gt;&quot;</span>);<br>            keys += <span class="hljs-string">&quot;&lt;span style=&#x27;background-color: yellow;&#x27;&gt;&lt;/span&gt;&quot;</span>.length();<br>        &#125;<br>    &#125;<br>        <span class="hljs-keyword">return</span> sb.toString();<br>    &#125;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getKey</span><span class="hljs-params">(Map&lt;Integer, String&gt; obj)</span>&#123;<br>    Set&lt;Integer&gt; keySet = obj.keySet();<br>    <span class="hljs-type">int</span> <span class="hljs-variable">firstKey</span> <span class="hljs-operator">=</span> -<span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> key : keySet)&#123;<br>        firstKey = key;<br>        <span class="hljs-keyword">if</span>(firstKey != -<span class="hljs-number">1</span>)&#123;<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> firstKey;<br>&#125;<br></code></pre></td></tr></table></figure><p>以上代码可实现一次高亮，余下的问题就在于如何多次改变字符串的长度后能定位到需要更改的字符串（即多次高亮），打个卡先，有空再弄</p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java身份证处理方法(15转18,出生日期隐藏)</title>
    <link href="/post/d14303ec.html"/>
    <url>/post/d14303ec.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>只有第一代身份证是15位，后面的身份证都是18位数字</p><p>15位身份证：地址码+出生日期码(2位年)+顺序码<br>18位身份证：地址码+出生日期码(4位年)+顺序码+校验码</p><p>地址码：当地的行政区划代码，6位<br>出生日期码：即出生年月日<br>顺序码：同一地址码的区域内，对同年同月同日生的人进行编号，奇数为男性，偶数为女性<br>校验码：通过算法计算得出。</p><p>校验方法<br>1.将前17位数字分别乘以不同的系数，这个系数数组如下：7-9-10-5-8-4-2-1-6-3-7-9-10-5-8-4-2<br>2.将这17位数字和系数相乘的结果相加，加出来的和除以11，看余数是多少<br>3.余数只有可能在0-1-2-3-4-5-6-7-8-9-10这11个数字之间，分别对应的校验码是1-0-X-9-8-7-6-5-4-3-2<br>即如果余数为0，身份证校验码就是1，余数为2就是X</p><p>然后就上代码</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//计算校验码</span><br><span class="hljs-keyword">public</span> <span class="hljs-type">char</span> <span class="hljs-title function_">getVerifyCode</span><span class="hljs-params">(String idCard)</span>&#123;<br>    <span class="hljs-keyword">if</span>(idCard == <span class="hljs-literal">null</span> || idCard.length()&lt;<span class="hljs-number">17</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-type">char</span>[] ai = idCard.toCharArray();<br>    <span class="hljs-type">int</span>[] wi = &#123;<span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">6</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>&#125;;<br>    <span class="hljs-type">char</span>[] verifyCode = &#123;<span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;0&#x27;</span>, <span class="hljs-string">&#x27;X&#x27;</span>,<span class="hljs-string">&#x27;9&#x27;</span>, <span class="hljs-string">&#x27;8&#x27;</span>, <span class="hljs-string">&#x27;7&#x27;</span>,<span class="hljs-string">&#x27;6&#x27;</span>, <span class="hljs-string">&#x27;5&#x27;</span>, <span class="hljs-string">&#x27;4&#x27;</span>, <span class="hljs-string">&#x27;3&#x27;</span>&#125;;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-type">int</span> y;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;wi.length; i++) &#123;<br>        s+=(ai[i]-<span class="hljs-string">&#x27;0&#x27;</span>)*wi[i];<br>    &#125;<br>    y = s % <span class="hljs-number">11</span>;<br>    <span class="hljs-keyword">return</span> verifyCode[y];<br>&#125;<br><br><span class="hljs-comment">//转换为18位</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">getNewIdCard</span><span class="hljs-params">(String oldCard)</span>&#123;<br>    StringBuilder sb;<br>    <span class="hljs-keyword">if</span>(oldCard != <span class="hljs-literal">null</span> &amp;&amp; oldCard.length() == <span class="hljs-number">15</span>) &#123;<br>        sb = <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();<br>        sb.append(oldCard.substring(<span class="hljs-number">0</span>, <span class="hljs-number">6</span>)).append(<span class="hljs-string">&quot;19&quot;</span>).append(oldCard.substring(<span class="hljs-number">6</span>));<br>        sb.append(getVerifyCode(sb.toString()));<br>        <span class="hljs-keyword">return</span> sb.toString();<br>    &#125;<span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>隐藏出生日期，用*代替</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> String <span class="hljs-title function_">getBrithdayByxx</span><span class="hljs-params">(String idCard)</span>&#123;<br>    <span class="hljs-type">Srting</span> <span class="hljs-variable">newCard</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span>;<br>    <span class="hljs-keyword">if</span>(idCard != <span class="hljs-literal">null</span>)&#123;<br>        <span class="hljs-keyword">if</span>(idCard.length == <span class="hljs-number">18</span>)&#123;<br>            newCard = idCard.substring(<span class="hljs-number">0</span>, <span class="hljs-number">6</span>)+ <span class="hljs-string">&quot;********&quot;</span>+idCard.substring(<span class="hljs-number">14</span>, <span class="hljs-number">18</span>);<br>        &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>()&#123;<br>            newCard = idCard.substring(<span class="hljs-number">0</span>, <span class="hljs-number">6</span>)+ <span class="hljs-string">&quot;******&quot;</span>+idCard.substring(<span class="hljs-number">12</span>, <span class="hljs-number">15</span>);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> newCard;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Layer单选框 radio问题总结</title>
    <link href="/post/241f1fef.html"/>
    <url>/post/241f1fef.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>放官方文档：<a href="https://www.layuiweb.com/doc/element/form.html#radio">https://www.layuiweb.com/doc/element/form.html#radio</a></p><p>位置 页面元素-表单；内置模块-表单<br>属性title可自定义文本<br>属性disabled开启禁用<br>设置value=&quot;xxx&quot;可自定义值，否则选中时返回的就是默认的on<br>radio单选框被点击时触发，回调函数返回一个object参数，并携带两个成员：<br>data.elem radio原始DOM对象<br>data.value 被点击的radio的value值</p><p>官网文档太简洁了，以至于在实际碰到问题时，明明可以一个小时解决，最后却要花费两三个小时，其实说到底还是菜如狗罢了。</p><p>在layer渲染过type为radio的input后，会在原始input元素的后面追加一个div，div的内容如下：</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs applescript">&lt;<span class="hljs-keyword">div</span> <span class="hljs-built_in">class</span>=<span class="hljs-string">&quot;layui-unselect layui-form-radio layui-form-radioed&quot;</span>&gt;<br>&lt;i <span class="hljs-built_in">class</span>=<span class="hljs-string">&quot;layui-anim layui-icon&quot;</span>&gt;&lt;/i&gt;<br>&lt;<span class="hljs-keyword">div</span>&gt;input的title值&lt;/<span class="hljs-keyword">div</span>&gt;<br>&lt;/<span class="hljs-keyword">div</span>&gt;<br></code></pre></td></tr></table></figure><ol><li>获取所选中的单选框的对象和value值<br>一般情况下，input框有一个id，然后直接找到下一个元素就是当前展示出来的那个div对象了。<br>即：$(“#inputId”).next();</li></ol><p>input框中添加lay-filter=“xxx”,即带有lay-filter的input都在渲染范围之内，根据filter的值来区分不同的单选框<br>var val = $(“input[name=‘xxx’]:checked”).val()<br>val即是所选中的框的value值。可在页面初始化时获取，并在获取后进行下一步操作。</p><ol start="2"><li>控制多选框的点击事件(事件监听)</li></ol><p>语法：</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript">form.<span class="hljs-literal">on</span>(<span class="hljs-string">&#x27;event(过滤器值)&#x27;</span>, callback);<br></code></pre></td></tr></table></figure><p>form模块在layui事件机制中注册了专属事件，所以当你使用layui.onevent(自定义模块事件时，请勿占用form名。</p><p>form支持的事件有：select; checkbox; switch; radio; submit</p><p>默认监听的是所有form模块元素，但一般都不会这么干，所以这里需要用到filter过滤</p><p>其实这个事件监听就相当于我们的点击事件</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs arcade">form.on(<span class="hljs-string">&#x27;select(test)&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>)&#123;<br>  <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(data);<br>&#125;);<br></code></pre></td></tr></table></figure><p><strong>更新渲染</strong>：<br>页面加载时，layer将该渲染的元素全部渲染一遍。但有时候数据是动态操作的，需要执行更新渲染才可以</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-tag">form</span><span class="hljs-selector-class">.render</span>(type, <span class="hljs-attribute">filter</span>)<br></code></pre></td></tr></table></figure><p>type :可选。表单的type，如果不选择，则对全部类型的表单刷新一次<br>可选择的type值：</p><p>select 下拉选；</p><p>checkbox 多选框(含开关)；</p><p>radio 单选框。例：</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-selector-tag">form</span><span class="hljs-selector-class">.render</span>(<span class="hljs-string">&#x27;select&#x27;</span>);<br></code></pre></td></tr></table></figure><p>filter :即class=“layui-form” 所在元素的lay-filter=“”的值，说白了这个值就是相同的一个或多个input的lay-filter的值，由这个filter值来控制元素的渲染范围<br>例：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-tag">form</span><span class="hljs-selector-class">.render</span>(null, <span class="hljs-string">&#x27;test&#x27;</span>)或<span class="hljs-selector-tag">form</span><span class="hljs-selector-class">.render</span>(<span class="hljs-string">&#x27;test&#x27;</span>)  <span class="hljs-comment">//重新渲染lay-filter值为test的所有元素的全部状态（包含select、checkbox和radio）</span><br><span class="hljs-selector-tag">form</span><span class="hljs-selector-class">.render</span>(<span class="hljs-string">&#x27;select&#x27;</span>, <span class="hljs-string">&#x27;test1&#x27;</span>) <span class="hljs-comment">//重新渲染lay-filter值为test1的所有元素的select状态</span><br></code></pre></td></tr></table></figure><p>**注：**一般在同一个元素上放置多种状态的挺少的，起码我还没碰到过，所以一般一个元素只放一个状态（即一种框）。等碰到了再回来补</p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java生成指定数量的假数据</title>
    <link href="/post/c4b392bb.html"/>
    <url>/post/c4b392bb.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>实际上也不是什么正经需求，只是在画页面的时候需要放一些随机的假数据，且最好不要重复。我这里只放了十套假数据就懒得再放了，写成了一个方法先放在这里</p><p>随机生成一些假数据：</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-keyword">private</span> String get<span class="hljs-constructor">RandomInfo(String <span class="hljs-params">flag</span>, <span class="hljs-params">int</span> <span class="hljs-params">num</span>)</span>&#123;<br>    List&lt;String&gt; <span class="hljs-built_in">list</span> = null;<br>    <span class="hljs-built_in">int</span> sex = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">int</span> xb = <span class="hljs-number">0</span>;<br>    switch(flag) &#123;<br>    case <span class="hljs-string">&quot;1&quot;</span>:<br>        <span class="hljs-comment">//姓名数组</span><br>        String<span class="hljs-literal">[]</span> nameArr = &#123;<span class="hljs-string">&quot;哈里旦&quot;</span>, <span class="hljs-string">&quot;加德拉&quot;</span>, <span class="hljs-string">&quot;米娜尔&quot;</span>, <span class="hljs-string">&quot;比比努尔&quot;</span>, <span class="hljs-string">&quot;森田提&quot;</span>&#125;;<br>        <span class="hljs-built_in">list</span> = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Arrays</span>.</span></span><span class="hljs-keyword">as</span><span class="hljs-constructor">List(<span class="hljs-params">nameArr</span>)</span>;<br>        break;<br>    case <span class="hljs-string">&quot;2&quot;</span>:<br>        <span class="hljs-comment">//证件号码数组</span><br>        String<span class="hljs-literal">[]</span> zjhmArr = &#123;<span class="hljs-string">&quot;370205621219253&quot;</span>, <span class="hljs-string">&quot;370206501122483&quot;</span>, <span class="hljs-string">&quot;370203640507092&quot;</span>, <span class="hljs-string">&quot;370206390709161&quot;</span>, <span class="hljs-string">&quot;370206340306481&quot;</span>&#125;;<br>        <span class="hljs-built_in">list</span> = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Arrays</span>.</span></span><span class="hljs-keyword">as</span><span class="hljs-constructor">List(<span class="hljs-params">zjhmArr</span>)</span>;<br>        break;<br>    case <span class="hljs-string">&quot;3&quot;</span>:<br>        <span class="hljs-comment">//户籍详址数组</span><br>        String<span class="hljs-literal">[]</span> hjxzArr = &#123;<span class="hljs-string">&quot;新疆伊犁市xxx街1号&quot;</span>, <span class="hljs-string">&quot;新疆伊犁市xxx街2号&quot;</span>, <span class="hljs-string">&quot;新疆伊犁市xxx街3号&quot;</span>, <span class="hljs-string">&quot;新疆伊犁市xxx街4号&quot;</span>, <span class="hljs-string">&quot;新疆伊犁市xxx街5号&quot;</span>&#125;;<br>        <span class="hljs-built_in">list</span> = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Arrays</span>.</span></span><span class="hljs-keyword">as</span><span class="hljs-constructor">List(<span class="hljs-params">hjxzArr</span>)</span>;<br>        break;<br>    case <span class="hljs-string">&quot;4&quot;</span>:<br>        <span class="hljs-comment">//现住详址数组</span><br>        String<span class="hljs-literal">[]</span> xzxzArr = &#123;<span class="hljs-string">&quot;西湖区xx路111号&quot;</span>, <span class="hljs-string">&quot;西湖区xx路222号&quot;</span>, <span class="hljs-string">&quot;西湖区xx路333号&quot;</span>, <span class="hljs-string">&quot;西湖区xx路444号&quot;</span>, <span class="hljs-string">&quot;西湖区xx路555号&quot;</span>&#125;;<br>        <span class="hljs-built_in">list</span> = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Arrays</span>.</span></span><span class="hljs-keyword">as</span><span class="hljs-constructor">List(<span class="hljs-params">xzxzArr</span>)</span>;<br>        break;<br>    case <span class="hljs-string">&quot;5&quot;</span>:<br>        xb = (<span class="hljs-built_in">int</span>)(<span class="hljs-number">1</span>+<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Math</span>.</span></span>random<span class="hljs-literal">()</span>*<span class="hljs-number">2</span>);<br>        sex = <span class="hljs-number">1</span>;<br>        break;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(sex<span class="hljs-operator"> == </span><span class="hljs-number">0</span>)&#123;<br>        return <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Object</span>.</span></span><span class="hljs-keyword">to</span><span class="hljs-constructor">String(<span class="hljs-params">list</span>.<span class="hljs-params">get</span>(<span class="hljs-params">num</span>)</span>);<br>    &#125;<span class="hljs-keyword">else</span> &#123;<br>        return xb<span class="hljs-operator"> == </span><span class="hljs-number">1</span>?<span class="hljs-string">&quot;男&quot;</span>:<span class="hljs-string">&quot;女&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>以上是放在for循环内调用的方法，所以必须填入一个num来控制具体哪一组数据，flag用于区分数组的类别。<br>根据需要生成的数据条数，作为for循环的次数，就可以将指定次数的数据生成出来。</p><p><strong>注意</strong>：在页面分页时需要特别调试。目前我只放到10次以内。</p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>树莓派设置音频输出音量</title>
    <link href="/post/d4a9d35c.html"/>
    <url>/post/d4a9d35c.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>首先查看声卡</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">amixer scontrols</span><br></code></pre></td></tr></table></figure><p>我是在手机上用JuiceSSH敲的命令，这里就不展示截图了</p><p>上述命令显示如下：</p><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mel">Simple mixer <span class="hljs-keyword">control</span> <span class="hljs-string">&#x27;PCM&#x27;</span>, <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p>然后在输入：</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gams">amixer <span class="hljs-keyword">set</span> PCM <span class="hljs-comment">80%</span><br></code></pre></td></tr></table></figure><p>即可设置音量</p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>树莓派</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux下查询jdk安装路径</title>
    <link href="/post/f437e7c5.html"/>
    <url>/post/f437e7c5.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>首先这个问题困扰了我很久，由于是新装的系统还不熟悉，配置java环境变量时很头疼，找不到JDK位置，还好google一波，发现了这个方法。</p><p>首先确保安装了JDK</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">java </span>-version<br><br><span class="hljs-keyword">java </span>version <span class="hljs-string">&quot;1.8.0_65&quot;</span><br><span class="hljs-keyword">Java(TM) </span>SE Runtime Environment (<span class="hljs-keyword">build </span><span class="hljs-number">1</span>.<span class="hljs-number">8</span>.<span class="hljs-number">0</span>_65-<span class="hljs-keyword">b17)</span><br><span class="hljs-keyword"></span><span class="hljs-keyword">Java </span>HotSpot(TM) Client VM (<span class="hljs-keyword">build </span><span class="hljs-number">25</span>.<span class="hljs-number">65</span>-<span class="hljs-keyword">b01, </span>mixed mode)<br></code></pre></td></tr></table></figure><p>查找java命令位置，注意图形界面可看到这是个软链</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk">which java<br><br><span class="hljs-regexp">/usr/</span>bin/java<br></code></pre></td></tr></table></figure><p>然后再查找java位置</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk">ls -l <span class="hljs-regexp">/usr/</span>bin/java<br><br>lrwxrwxrwx <span class="hljs-number">1</span> root root <span class="hljs-number">22</span> <span class="hljs-number">6</span>月  <span class="hljs-number">27</span>  <span class="hljs-number">2018</span> <span class="hljs-regexp">/usr/</span>bin<span class="hljs-regexp">/java -&gt; /</span>etc<span class="hljs-regexp">/alternatives/</span>java<br></code></pre></td></tr></table></figure><p>根据指向的目录，查找jdk目录</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk">ls -l <span class="hljs-regexp">/etc/</span>alternatives/java<br><br>lrwxrwxrwx <span class="hljs-number">1</span> root root <span class="hljs-number">53</span> <span class="hljs-number">8</span>月  <span class="hljs-number">24</span> <span class="hljs-number">19</span>:<span class="hljs-number">16</span> <span class="hljs-regexp">/etc/</span>alternatives<span class="hljs-regexp">/java -&gt; /u</span>sr<span class="hljs-regexp">/lib/</span>jvm<span class="hljs-regexp">/jdk-8-oracle-arm32-vfp-hflt/</span>jre<span class="hljs-regexp">/bin/</span>java<br></code></pre></td></tr></table></figure><p>最后拿到jdk的目录</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/usr/</span>lib<span class="hljs-regexp">/jvm/</span>jdk-<span class="hljs-number">8</span>-oracle-arm32-vfp-hflt<span class="hljs-regexp">/jre/</span>bin/java<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Ops</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>树莓派更新源流程</title>
    <link href="/post/8f5d5cd5.html"/>
    <url>/post/8f5d5cd5.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>直接切换至root用户下执行操作</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">su - root</span><br></code></pre></td></tr></table></figure><p>输入密码进入root用户，然后修改软件更新源</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">sudo nano <span class="hljs-regexp">/etc/</span>apt/sources.list <br></code></pre></td></tr></table></figure><p>将原来的源用 # 注掉，添加这个阿里源</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">deb http:<span class="hljs-regexp">//mi</span>rrors.aliyun.com<span class="hljs-regexp">/raspbian/</span>raspbian/ stretch main contrib non-free rpi<br></code></pre></td></tr></table></figure><p>接下来修改系统更新源</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">sudo nano <span class="hljs-regexp">/etc/</span>apt<span class="hljs-regexp">/sources.list.d/</span>raspi.list<br></code></pre></td></tr></table></figure><p>将原有注释掉，添加这个科大源</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">deb http:<span class="hljs-regexp">//mi</span>rrors.ustc.edu.cn<span class="hljs-regexp">/archive.raspberrypi.org/</span>debian/ stretch main ui<br></code></pre></td></tr></table></figure><p>最后更新一下即可</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">sudo apt-<span class="hljs-built_in">get</span> update &amp;&amp; apt-<span class="hljs-built_in">get</span> upgrade<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>树莓派</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>树莓派wifi环境下初始化及环境配置</title>
    <link href="/post/57cf4104.html"/>
    <url>/post/57cf4104.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>在此放一下我的系统</p><p>链接：<a href="https://pan.baidu.com/s/192cL6qSsMd-wqxHeDWfIug">https://pan.baidu.com/s/192cL6qSsMd-wqxHeDWfIug</a><br>提取码：0lrq</p><p>1.准备一张内存卡，最好是32G class10 16G的话也够用。然后用SDFormatter格式化一下</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806182544.png" alt></p><p>2.用Win32DiskImager读取img包，并选择需要写入的SD卡，然后点击下方Write写入，根据img包的大小和内存卡写入速度不同，等待时间也不一样</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806182559.png" alt></p><p>3.打开内存卡的根目录，创建一个名为ssh的文件，（没有后缀）。如若看不到后缀自行打开文件夹选项-查看显示后缀。然后再创建一个名为wpa_supplicant.conf，注意后缀就是.conf，用文本编辑器打开即可，填入以下内容：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">country=CN <br>ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev<br>update_config=1<br>network=&#123;  <br>ssid=<span class="hljs-string">&quot;WiFi-SSID&quot;</span>   <br>psk=<span class="hljs-string">&quot;pwd&quot;</span>   <br>key_mgmt=WPA-PSK   <br>priority=1<br>&#125;<br></code></pre></td></tr></table></figure><p>ssid和psk自己填入wifi名和密码，key_mgmt是加密方式，按照不同的加密方式填写，一般都是WPA-PSK加密，其他的应该不需要改动。</p><p>4.将内存卡插入树莓派，等待1~2分钟。第一次连接wifi时，IP是跟随当前地址往后排的。但这样的的地址是动态的，不方便后期调试，所以应该设置为静态IP。</p><p>打开netscan（官网安装，自带中文试用） ，查找当前局域网内的ip范围，如果不清楚就先看看自己电脑上的，根据网关选择一个0~192的范围。根据扫描结果：</p><p>我这里已经配置好了静态IP，这个系统也自带的已经写好的主机名，所以第一次连接时还是很好找的。但我们设置静态IP应该将IP固定在不常用的一些地址，比如我常用的是192.168.0.0 ~ 192.168.0.100，我就把110这个不常用的ip给树莓派，一般操作就是这样。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806182616.png" alt></p><p>5.想好一个将要分配给树莓派的IP后，根据扫描到的树莓派IP,SSH上去，输入用户名密码，这个系统的用户名是pi 密码 yahboom</p><p>然后用自带的nano编辑DHCP配置文件：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">sudo nano <span class="hljs-regexp">/etc/</span>dhcpcd.conf<br></code></pre></td></tr></table></figure><p>然后在末尾添加一段代码</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">interface wlan0<br> <br>static ip_address=内网静态ip地址/24<br>static routers=内网网关ip地址<br>static domain_name_servers=114.114.114.114<br><span class="hljs-comment"># 使用CTRL+O保存修改（字母o），然后回车确认，再CTRL+X退出编辑</span><br><span class="hljs-comment"># 设置静态IP完成，重启树莓派即可，重新SSH连接时记得更换为刚刚替换的静态IP</span><br></code></pre></td></tr></table></figure><p>将系统自带的python2.7卸载：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo apt-get autoremove python2.7<br></code></pre></td></tr></table></figure><p>然后将另外一个3.5版本的python设置为默认（否则无法检测到）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo <span class="hljs-built_in">ln</span> -s /usr/bin/python3.5 /usr/bin/python<br></code></pre></td></tr></table></figure><p>进入python命令后，退出则输入quit()或按CTRL+D回到树莓派命令下。</p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>树莓派</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java-JVM内存区域划分</title>
    <link href="/post/57fcad35.html"/>
    <url>/post/57fcad35.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>发现网上有两个版本的JVM内存划分，一个是按照《深入理解JVM虚拟机》上的版本，包含程序计数器等，按照是否线程共享划分。</p><p>另一个我觉得更好记一些，也更适合我自己，在这里记录一下。</p><p>首先上思维导图：<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806182340.png" alt></p><p>一个个来说道吧。</p><p><strong>堆内存 heap</strong></p><p>堆内存主要被划分为新生代和老年代（叫法不一，差不多的意思）。JVM默认Yong和Old分配比例为1:2，即新生代的内存大小为堆内存的1/3。</p><p>（调整参数：–XX:NewRatio）</p><p>基本上所有对象实例都在堆中创建，因此堆内存经常发生GC回收操作。新的对象首先分配在Eden区，两个Surviior区仅作为Eden区的缓冲使用。每次GC回收一次，对象的age值就+1，当Survivor区对象age值大于15时，就被转移到老年代。</p><p>（age值调整参数：-XX:MaxTenuringThreshold）</p><p>新生代下又划分为三个区，即Eden Space，To Survivor ，From Survivor。新生代占用堆内存的1/3，而三个区的内存占用情况如下图:<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806182358.png" alt></p><p>新生代中，Eden、from、to的默认比例为8：1：1，一般来说，当Eden区内存将要被占满时，才会进入其中一个Survivor区。JVM每次只会使用一块Survivor区来为对象服务。所以，不论何时，都存在一个空闲的Survivor区域</p><p>（调整参数：–XX:SurvivorRatio ）</p><p>老年代存放JVM认为生命周期较长的对象，内存大小也比较大，GC回收相对来说不太频繁，所以分配给老年区的内存大小为堆内存的2/3</p><p>堆内存回收规则：</p><p>当一个对象小于Eden区内存时，直接放入Eden区，若大于Eden并小于老年代，则直接放入老年代。若大于老年代，则直接内存溢出</p><p>如此分区的目的：</p><p>新生代由于对象产生的比较多并且大都是朝生夕灭的，所以直接采用标记-清理算法。而老年代生命力强，采用复制算法，针对不同情况使用不同算法</p>]]></content>
    
    
    <categories>
      
      <category>Study</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>JVM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java 将Clob类型转换为String</title>
    <link href="/post/83c6036c.html"/>
    <url>/post/83c6036c.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>SQL CLOB 是内置类型，它将字符大对象存储为数据库表某一行中的一个列值，使用CHAR来存储数据，如XML文档。</p><p>如下是一个Clob转换为String的静态方法，可将其放在自己常用的工具类中，想直接用的话，自己稍作修改即可</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">clobToStr</span><span class="hljs-params">(Clob clob)</span> &#123;<br>  <span class="hljs-keyword">if</span>(clob == <span class="hljs-literal">null</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&quot;</span>;<br>&#125;  <br><span class="hljs-type">StringBuffer</span> <span class="hljs-variable">strClob</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>();<br><span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-type">Reader</span> <span class="hljs-variable">read</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br><span class="hljs-keyword">try</span>&#123;<br>    reader = clob.getCharacterStream();<br>    <span class="hljs-type">char</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">char</span>[<span class="hljs-number">1024</span>];<br>    <span class="hljs-type">int</span> <span class="hljs-variable">length</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span> (length = reader.read(buffer, <span class="hljs-number">0</span>, <span class="hljs-number">1024</span>)) != -<span class="hljs-number">1</span>) &#123;<br>        strClob.append(buffer, <span class="hljs-number">0</span>, length);<br>&#125;<br>&#125; <span class="hljs-keyword">catch</span> (SQLException e) &#123;<br>    e.printStackTrace();<br>&#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>    e.printStackTrace();<br>&#125; <span class="hljs-keyword">finally</span> &#123;<br>    <span class="hljs-keyword">try</span>&#123;<br>        <span class="hljs-keyword">if</span> (reader != <span class="hljs-literal">null</span>)<br>            reader.close();<br>    &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>        e.printStackTrace();<br>    &#125;<br>&#125;<br>str = strClob.toString();<br><span class="hljs-keyword">return</span> str;<br>&#125;<br></code></pre></td></tr></table></figure><p>我在将数据导出成Excel时碰到的问题，需要导出的数据中有Clob格式只需将其Clob对象（若直接导出则显示的是地址）</p><p>这个工具挺好用的，放在这里，以后方便自己使用。<br>另：博客园的代码排版实在太丑了，以后还是在外面编辑好再粘贴进来比较好</p><p>2022.08.06迁移吐槽:太好笑了,现在你已经到github了,再也不用担心博客园的排版了!</p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MySQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JavaScript实现&lt;li&gt;元素向上轮播</title>
    <link href="/post/78f84231.html"/>
    <url>/post/78f84231.html</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>在网上找了很久，没有找到合适的模板，其实我这个也是公司用的，希望以后也能复用，节省时间</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-keyword">function</span> scroll<span class="hljs-constructor">Auto(<span class="hljs-params">scrollBox</span>, <span class="hljs-params">list</span>)</span>&#123;<span class="hljs-comment">//两个参数分别填列表的ul的class属性和li的class属性</span><br>        var listHeight = <span class="hljs-constructor">$(<span class="hljs-params">list</span>)</span>.outer<span class="hljs-constructor">Height(<span class="hljs-params">true</span>)</span>;<br>        var mTop = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">function</span> <span class="hljs-built_in">list</span><span class="hljs-constructor">Go()</span> &#123;<br>            <span class="hljs-keyword">if</span>(mTop &gt; -listHeight) &#123;<br>                <span class="hljs-constructor">$(<span class="hljs-params">scrollBox</span>)</span>.css(&#123;&#x27;margin-top&#x27;: mTop&#125;);<br>                mTop = mTop - <span class="hljs-number">0.5</span>;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                   mTop = <span class="hljs-number">0</span>;<br>                    <span class="hljs-constructor">$(<span class="hljs-params">scrollBox</span>)</span>.css(&#123;&#x27;margin-top&#x27;: <span class="hljs-character">&#x27;0&#x27;</span>&#125;);<br>                    <span class="hljs-constructor">$(<span class="hljs-params">scrollBox</span>)</span>.find(&#x27;.a-<span class="hljs-built_in">list</span>:first-child&#x27;).append<span class="hljs-constructor">To(<span class="hljs-params">scrollBox</span>)</span>; <span class="hljs-comment">//此处的a-list为li的class属性名</span><br>            &#125;<br>        &#125;<br>        var listTime = set<span class="hljs-constructor">Interval(<span class="hljs-params">listGo</span>, 20)</span>;<br>        <span class="hljs-constructor">$(<span class="hljs-params">scrollBox</span>)</span>.mouseenter(<span class="hljs-keyword">function</span><span class="hljs-literal">()</span>&#123;<br>            clear<span class="hljs-constructor">Interval(<span class="hljs-params">listTime</span>)</span>;<br>        &#125;)<br>        <span class="hljs-constructor">$(<span class="hljs-params">scrollBox</span>)</span>.mouseleave(<span class="hljs-keyword">function</span><span class="hljs-literal">()</span>&#123;<br>            listTime = set<span class="hljs-constructor">Interval(<span class="hljs-params">listGo</span>, 20)</span>;<br>        &#125;)<br></code></pre></td></tr></table></figure><p>由于我是先写好静态页面再实现滚动的，所以没有特别设置CSS样式</p><p>在$(function(){})中调用，直接调用，即可实现打开页面向上轮播li列表</p><p>注：这个方法可能造成轮播时图片、文字抖动，暂时还没想到解决办法</p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Ajax返回error可能出现的问题</title>
    <link href="/post/474a0c40.html"/>
    <url>/post/474a0c40.html</url>
    
    <content type="html"><![CDATA[<p>AJAX常用于浏览器与Web服务器之间的异步通信,使得网页无需从服务端获取过量的数据</p><span id="more"></span><ol><li>dataType错误</li></ol><p>我遇到的就是这个dataType错误，即后台返回的dataType类型与前台写的不一致，一般前台写json没问题，大部分是后台返回的类型对不上</p><ol start="2"><li>async请求同步异步问题</li></ol><p>这个没有遇见过很少碰到类似的问题</p><p>async默认是true(异步请求),如果想一个Ajax执行完后再执行另一个Ajax, 需要把async=false</p><p>这是别人的总结，可以参考一下：</p><p>如，你用post请求传值到另一个页面后台，但是页面一加载你的ajax就已经执行过了，传值接收是在后台才完成的，这时候就请求不到数据，所以可以考虑把ajax请求改为同步试试。</p><ol start="3"><li>data不能为空</li></ol><p>即便为空也一定要传&quot; { } &quot;，不然返回的是xml格式</p><ol start="4"><li><p>传递的参数必须是ajax支持的编码格式</p></li><li><p>URL路径不可为中文</p></li></ol><p>在error函数中填入 ： XMLHttpRequest, textStatus, errorThrown这几个参数，可输出调试信息</p><p><strong>status</strong> ：<strong>输出为HTTP状态码</strong>，可直接理解</p><p><strong>readyState: 状态码</strong><br>0 － （未初始化）还没有调用send()方法<br>1 － （载入）已调用send()方法，正在发送请求<br>2 － （载入完成）send()方法执行完成，已经接收到全部响应内容<br>3 － （交互）正在解析响应内容<br>4 － （完成）响应内容解析完成，可以在客户端调用了</p><p><strong>textStatus</strong>输出为parsererror，则问题就是返回类型不一致了</p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Web</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java ArrayList源码详解</title>
    <link href="/post/d09355de.html"/>
    <url>/post/d09355de.html</url>
    
    <content type="html"><![CDATA[<p>ArrayList是Java集合常用的数据结构之一，继承自AbstractList，实现了List，RandomAccess、Cloneable、Serializable等一系列接口…………</p><span id="more"></span><p><strong>简介</strong></p><p>ArrayList是Java集合常用的数据结构之一，继承自AbstractList，实现了List，RandomAccess、Cloneable、Serializable等一系列接口，支持快速访问，复制和序列化。底层是基于数组实现容量大小动态变化，允许null值存在。</p><p><strong>部分源码分析</strong></p><p>ArrayList的底层是由数组实现</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806180401.png" alt></p><p>默认size的初始大小为10：<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806180551.png" alt></p><p>ArrayList定义了两个类常量数组：EMPTY_ELEMENTDATA（EE）和DEFAULTCAPACITY_EMPTY_ELEMENTDATA（DEE）</p><p>注释：EE，用于ArrayList空实例的共享空数组实例</p><p>DEE，用于默认大小空实例的共享空数组实例，将EE和DEE区分开，以便在添加第一个元素时知道要增加多少<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806180614.png" alt></p><p>三个构造函数，包括一个无参构造和两个有参构造：<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806180648.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806180701.png" alt></p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806180711.png" alt></p><p>注：无参构造创建的实例是DEFAULTCAPACITY_EMPTY_ELEMENTDATA，有参构造创建的实例是EMPTY_ELEMENTDATA</p><p>然后是add( )方法：<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806180744.png" alt></p><p>当第一次调用add(E e)方法时，判断是不是无参构造方法创建的对象，如果是，则将DEFAULT_CAPACITY作为ArrayLiat的容量，此时minCapacity = 1<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806180802.png" alt></p><p>还有其他add方法例如：</p><p>addAll( Collection&lt;? extends E&gt; c )<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806180818.png" alt><br>add( int index, E element )<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806180851.png" alt></p><p>等等…这些方法中都包含ensureCapacitylnternal( int Capacity )方法，确保无参构造在创建实例并添加第一个元素时，最小的容量是默认大小10。</p><p>而有参构造创建空实例后，在add( E e )方法添加元素扩容情况是这样的：</p><p><strong>新容量为旧容量的1.5倍</strong><br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806180911.png" alt></p><p>在Java7中，ArrayList的构造方法只有EMPTY_ELEMENTDATA即EE, 而Java8中DEE代替了EE，但是原来的EE还存在，只是作用改变了：<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806180926.png" alt></p><p>当容量为0时，会创建一个空数组，赋值给elementData，当一个应用中有很多这样的ArrayList空实例时，就会有很多空数组，这样使用EMPTY_ELEMENTDATA就是为了优化性能，所有的ArrayList空实例都指向同一个数组。而DEE（DEFAULTCAPACITY_EMPTY_ELEMENTDATA）就是为了保证无参构造方法常见的实例在添加第一个元素时，最小的容量是默认的10.</p><p><strong>ArrayList的扩容</strong></p><p>以无参构造为例：</p><p>首先无参构造初以默认大小来始化内部数组<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806180949.png" alt></p><p>然后是扩容，使用add( )方法<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806181005.png" alt></p><p>ensureCapacityInternal方法中的size代表执行添加前的元素个数，通过现有的元素个数数组的容量进行对比，若需要扩容则扩容。</p><p>ensureCapacityInternal(size + 1)就是将要添加的额元素放入数组中</p><p>扩容条件：若数组的长度eleentData的长度小于做小需要的容量minCapacity，就需要扩容<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806181021.png" alt></p><p>扩容逻辑：<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806181021.png" alt></p><p>注：</p><p>\1. &gt;&gt;位运算，右移一位代表oldCapacity / 2，位运算效率更高</p><p>\2. JDK7后增加对元素个数的最大个数判断，MAX_ARRAY_SIZE为int最大值减去8</p><p>\3. 复制元素方法扩容。使用延迟分配对象数组空间，当数组加满数组容量后才会按照1.5倍扩容。</p><p><strong>ArrayList的remove( int index )方法</strong><br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806181055.png" alt></p><p>当我们调用remove( int index )时，首先调用rangrCheck( ) 方法检查index是否合法，再判断要删除的元素是否位于数组的最后一个位置。</p><p>当index是最后一个，则直接将数组的最后一个位置置空，即size-1即可；</p><p>当index不是最后一个，调用System.arraycopy( )方法复制数组，将从index+1开始，所有元素都往前挪一个位置，再将数组最后一个位置置空。</p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>数据结构</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java中的==和equals( )方法比较</title>
    <link href="/post/6c898a14.html"/>
    <url>/post/6c898a14.html</url>
    
    <content type="html"><![CDATA[<p>在Java中，equals和==都是用于检测两个字符串是否相等，返回类型也都是boolean值，但是二者内部处理却不一样…………</p><span id="more"></span><p>在Java中，equals和==都是用于检测两个字符串是否相等，返回类型也都是boolean值，但是二者内部处理却不一样。</p><h3 id="与equals"><a class="markdownIt-Anchor" href="#与equals"></a> ==与equals( )</h3><p><mark>在Java中是一个二元操作符，用于比较原生类型和对象。当比较基本类型时，较为好理解；当比较对象时，比较规则是：两个对象基于内存引用，若两个对象的引用完全相同，则</mark>返回的结果为true。</p><p>equals( )方法是Object( )类中，根据具体的业务逻辑来定义该方法，用于检查两个对象的相等性。默认是equals方法实现与==操作是一样的，所以在业务中一般都会重写equals( )。</p><h3 id="和equals比较时"><a class="markdownIt-Anchor" href="#和equals比较时"></a> ==和equals比较时</h3><p>1.如果比较基本数据类型（或者说是值变量）</p><p>当时Java的基本类型做比较时，应使用 == 比较的是他们的值，而equals是不存在的。因为int float等是基本数据类型，没有equals( )方法，不存在int.equals( )</p><p>2.如果比较的是复合数据类型（或者说是引用型变量）</p><p>当比较引用型变量时：</p><p>==比较的是两个引用是否指向同一个对象实例</p><p>equals( )比较看是否被重写，如果有被重写则按照重写的规则比较，没有重写则与==比较规则一样。</p><p>（下图为String中重写的equals( )方法）<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806175443.png" alt></p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>树莓派3b+ 32位arm架构安装JDK</title>
    <link href="/post/a42b8c9e.html"/>
    <url>/post/a42b8c9e.html</url>
    
    <content type="html"><![CDATA[<p>树莓派虽然体积很小,但功能相当齐全.有幸3年前接触到树莓派,并使其成为我的Linux入门老师,感谢…………</p><!-- moew --><p>如图我的Raspbian系统如下图版本信息：<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806174245.png" alt></p><p>可以看到是armv7l，我查了一下是32位的arm架构，即下载第一个就好了<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806174313.png" alt></p><p>通过SSH Secure Shell远程上去把压缩包或者解压后的文件传过去<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806174410.png" alt></p><p>这样拖过去有个问题，需要改文件JDK文件夹的权限<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806174453.png" alt></p><p>然后配上环境变量，就可以啦，最好重启下树莓派，重启之后java -version 验证一下<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806174513.png" alt><br>java c 试一下,OK了<br><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806174602.png" alt></p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>树莓派</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Windows dos下Mysql中文乱码</title>
    <link href="/post/e82ca67.html"/>
    <url>/post/e82ca67.html</url>
    
    <content type="html"><![CDATA[<p>在dos客户端输出窗口中查询表中的数据,还有项目部署到服务器上时前台的页面，中文数据都显示成乱码…………</p><span id="more"></span><p>在dos客户端输出窗口中查询表中的数据,还有项目部署到服务器上时前台的页面，中文数据都显示成乱码，如下图所示：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806173201.png" alt></p><p>这个问题困扰了我一天，后来解决了才发现原来我的方向错了，一直我以为是SpringBoot项目的原因，因为之前我已经检查过数据库这边的字符集问题，把所有字符集更改成utf8,包括这个character-set-result=utf8,如下图：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806173640.png" alt></p><p>结果后来仔细一查才发现，原来我的win7默认使用字符集是GB2312，所以在输出窗口使用的字符集不是UTF8而是GB2312，更改后如下图：</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806173708.png" alt></p><p>注：网上有人问再次打开又回到原来的编码，这个我重启项目还没有碰到，依旧是可以显示中文。实在不行可以把设置字符集的那段命令写入my.ini文件中去（重启生效）</p><p>说到底还是个菜鸡，欢迎交流</p><p>知识补充：</p><p>GB2312是GBK的子集，是简体中文的码。GBK是包含中日韩大字符集合，支持简体和繁体</p><p>UTF-8包含大部分文字的编码，支持几乎所有字符</p>]]></content>
    
    
    <categories>
      
      <category>Dev</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MySQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>建站所想</title>
    <link href="/post/e3a66d5c.html"/>
    <url>/post/e3a66d5c.html</url>
    
    <content type="html"><![CDATA[<p>关于建站的一些思考以及后续的想法</p><span id="more"></span><p>终于把站点弄好啦！！！经过一整天（抽空摸鱼）翻查资料终于搞定了。实际操作完觉得部署这个还算不难，细心一些基本没什么问题。</p><p>目前的实现是：在腾讯云服务器上基于的Hexo框架搭建本地博客，并发布到Github Pages上。</p><p>应该有不少人是跟我一样的配置，云服务器最大的优点就在于跨平台，只要有一台能上外网的设备，就可以随时随地无缝衔接工作。当然，本地PC用户也不在少数，大家都比较养老。</p><p>这篇文章对我建站很有帮助，写的很全面，有详有略。前面简单的操作带过了。比较适合半生不熟的盆友（例如我）。我也是在部署到github上的时候才发现这篇文章，老后悔了，前面踩了很多坑。在发布的时候配置文件中不小心把分支配置成mian，默认的主支是main，所以我每次发布都会新建一个分支，就很离谱……还有部署的时候因为网络原因卡住，网上都会有对应的解决办法。其实只要仔细认真一点就不太会出现问题，整套流程下来还是蛮简单的。</p><p>这里介绍了从基本的环境搭建，到Github建库、安装Hexo、发布到github，还包括一些其他有意思的功能，想要在Github上建站的朋友，一定不能错过。</p><p>注意这里的本地环境是windows</p><p><a href="https://blog.csdn.net/yaorongke/article/details/119089190">https://blog.csdn.net/yaorongke/article/details/119089190</a></p><p>实际上白天的时候就已经把页面整出来了，晚上回家后花了很多时间思考用哪个主题，最后决定使用fluid。这是看起来比较舒服、流畅度高，且没有什么bug的主题了。</p><p>这是fluid主题的官网</p><p><a href="https://hexo.fluid-dev.com/docs/">https://hexo.fluid-dev.com/docs/</a></p><p>这是目前最开始的状态，只要一个例子和一个Demo。我打算有空的时候先把自己博客园上一些“自我感觉不错的文章”拷过来，当然文章来源不仅是博客园，还有我的公众号&amp;个人随笔&amp;互联网上所有我认为值得记录的东西。</p><p><img src="https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806095113.png" alt></p><p>当然这个平台也有一定的缺点，那就是文章只适合阅读，不适合修改。无法像博客园那样拥有后台管理系统，能够随时修改博客。如果需要修改文章就会重新发布，发布时间也会修改。</p><p>残余问题：</p><ol><li>备份。由于Hexo框架中的文档全都在云服务器内，一旦云服务器有问题就有可能会影响我的博客，因此后期在备份上需要花店时间研究一下。</li><li>使用。在Hexo框架中，并不能直接将md文件上传至服务器，Hexo有一定的规则，需要使用自带的命令来创建文章，这个也有点麻烦，需要适应一个新的写作环境。</li><li>图床。图片直接放在md中是没办法显示到网页上的，因为位置仍旧是本地电脑的，因此需要找一个平台上传图片，或者将图片一起打包传至服务器。<ul><li>0806已解决，仍然利用github仓库，通过PicGo上传。PicGo使用教程如下：</li><li><a href="https://blog.dgut.top/2020/07/10/hexo-pic/">https://blog.dgut.top/2020/07/10/hexo-pic/</a></li><li><a href="https://picgo.github.io/PicGo-Doc/zh/guide/">https://picgo.github.io/PicGo-Doc/zh/guide/</a></li></ul></li><li>广告。在打开主题案例网站的时候发现居然有Google的广告，这是我不能忍受的。但后来发现出现的频率并不是很高，就罢了。</li><li>美化。现在的框架只是一个非常简单、官方的状态，需要后续长期维护，在官方的基础上小修小改，最后变成真正自己的网站，加油！奥利给！现在是8.06凌晨12点01分，该睡觉了。</li></ol><hr><p><strong>8.15补充</strong><br>优秀友链(不分先后)：</p><ul><li><a href="https://aigisss.com/blog/links/">https://aigisss.com/blog/links/</a></li><li><a href="https://blog.garryde.com/">https://blog.garryde.com/</a></li><li><a href="https://www.hansion.win/">https://www.hansion.win/</a></li><li><a href="https://moechun.fun/">https://moechun.fun/</a></li><li><a href="https://lcjoffrey.top/">https://lcjoffrey.top/</a></li><li><a href="https://aigisss.com/">https://aigisss.com/</a></li><li><a href="https://kkfw.vercel.app/">https://kkfw.vercel.app/</a></li></ul><p>官网文档</p><ul><li>Hexo：<a href="https://hexo.io/zh-cn/docs/index.html">https://hexo.io/zh-cn/docs/index.html</a></li><li>Fluid：<a href="https://fluid-dev.github.io/hexo-fluid-docs/">https://fluid-dev.github.io/hexo-fluid-docs/</a></li><li>Waline：<a href="https://waline.js.org/">https://waline.js.org/</a></li><li>Vercel（部署Waline）：<a href="https://vercel.com/dashboard">https://vercel.com/dashboard</a></li><li>leancloud国际版：<a href="https://console.leancloud.app/apps/DOFm5rBfeIBUxN13vhiXlS4S-MdYXbMMI/">https://console.leancloud.app/apps/DOFm5rBfeIBUxN13vhiXlS4S-MdYXbMMI/</a></li><li>音乐歌词获取：<a href="http://music.xf1433.com/">http://music.xf1433.com/</a></li><li>网易云歌词页面：<a href="https://music.163.com/#/song?id=139764">https://music.163.com/#/song?id=139764</a></li><li>Google站长：<a href="https://search.google.com/search-console?resource_id=https%3A%2F%2Fzhouyinglin.cn%2F&amp;hl=zh-CN">https://search.google.com/search-console?resource_id=https%3A%2F%2Fzhouyinglin.cn%2F&amp;hl=zh-CN</a></li><li>百度站长：<a href="https://ziyuan.baidu.com/dashboard/index?site=https://www.zhouyinglin.cn/">https://ziyuan.baidu.com/dashboard/index?site=https://www.zhouyinglin.cn/</a></li><li>腾讯云对象存储控制台：<a href="https://console.cloud.tencent.com/cos">https://console.cloud.tencent.com/cos</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Sth</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Life</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
